var CM=Object.create;var Fc=Object.defineProperty,EM=Object.defineProperties,IM=Object.getOwnPropertyDescriptor,DM=Object.getOwnPropertyDescriptors,SM=Object.getOwnPropertyNames,Nc=Object.getOwnPropertySymbols,TM=Object.getPrototypeOf,qh=Object.prototype.hasOwnProperty,q_=Object.prototype.propertyIsEnumerable;var Zo=(n,e)=>(e=Symbol[n])?e:Symbol.for("Symbol."+n),xM=n=>{throw TypeError(n)};var G_=(n,e,t)=>e in n?Fc(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,S=(n,e)=>{for(var t in e||={})qh.call(e,t)&&G_(n,t,e[t]);if(Nc)for(var t of Nc(e))q_.call(e,t)&&G_(n,t,e[t]);return n},X=(n,e)=>EM(n,DM(e));var Wh=(n,e)=>{var t={};for(var r in n)qh.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&Nc)for(var r of Nc(n))e.indexOf(r)<0&&q_.call(n,r)&&(t[r]=n[r]);return t};var ie=(n,e)=>()=>(e||n((e={exports:{}}).exports,e),e.exports),MM=(n,e)=>{for(var t in e)Fc(n,t,{get:e[t],enumerable:!0})},AM=(n,e,t,r)=>{if(e&&typeof e=="object"||typeof e=="function")for(let i of SM(e))!qh.call(n,i)&&i!==t&&Fc(n,i,{get:()=>e[i],enumerable:!(r=IM(e,i))||r.enumerable});return n};var RM=(n,e,t)=>(t=n!=null?CM(TM(n)):{},AM(e||!n||!n.__esModule?Fc(t,"default",{value:n,enumerable:!0}):t,n));var ye=(n,e,t)=>new Promise((r,i)=>{var o=l=>{try{a(t.next(l))}catch(c){i(c)}},s=l=>{try{a(t.throw(l))}catch(c){i(c)}},a=l=>l.done?r(l.value):Promise.resolve(l.value).then(o,s);a((t=t.apply(n,e)).next())}),Gi=function(n,e){this[0]=n,this[1]=e},Zh=(n,e,t)=>{var r=(s,a,l,c)=>{try{var u=t[s](a),d=(a=u.value)instanceof Gi,p=u.done;Promise.resolve(d?a[0]:a).then(f=>d?r(s==="return"?s:"next",a[1]?{done:f.done,value:f.value}:f,l,c):l({value:f,done:p})).catch(f=>r("throw",f,l,c))}catch(f){c(f)}},i=s=>o[s]=a=>new Promise((l,c)=>r(s,a,l,c)),o={};return t=t.apply(n,e),o[Zo("asyncIterator")]=()=>o,i("next"),i("throw"),i("return"),o},Jh=n=>{var e=n[Zo("asyncIterator")],t=!1,r,i={};return e==null?(e=n[Zo("iterator")](),r=o=>i[o]=s=>e[o](s)):(e=e.call(n),r=o=>i[o]=s=>{if(t){if(t=!1,o==="throw")throw s;return s}return t=!0,{done:!1,value:new Gi(new Promise(a=>{var l=e[o](s);l instanceof Object||xM("Object expected"),a(l)}),1)}}),i[Zo("iterator")]=()=>i,r("next"),"throw"in e?r("throw"):i.throw=o=>{throw o},"return"in e&&r("return"),i},W_=(n,e,t)=>(e=n[Zo("asyncIterator")])?e.call(n):(n=n[Zo("iterator")](),e={},t=(r,i)=>(i=n[r])&&(e[r]=o=>new Promise((s,a,l)=>(o=i.call(n,o),l=o.done,Promise.resolve(o.value).then(c=>s({value:c,done:l}),a)))),t("next"),t("return"),e);var zy=ie((Pee,nT)=>{"use strict";nT.exports=Kj;function Kj(n,e){for(var t=new Array(arguments.length-1),r=0,i=2,o=!0;i<arguments.length;)t[r++]=arguments[i++];return new Promise(function(a,l){t[r]=function(u){if(o)if(o=!1,u)l(u);else{for(var d=new Array(arguments.length-1),p=0;p<d.length;)d[p++]=arguments[p];a.apply(null,d)}};try{n.apply(e||null,t)}catch(c){o&&(o=!1,l(c))}})}});var sT=ie(oT=>{"use strict";var Qf=oT;Qf.length=function(e){var t=e.length;if(!t)return 0;for(var r=0;--t%4>1&&e.charAt(t)==="=";)++r;return Math.ceil(e.length*3)/4-r};var pa=new Array(64),iT=new Array(123);for(tr=0;tr<64;)iT[pa[tr]=tr<26?tr+65:tr<52?tr+71:tr<62?tr-4:tr-59|43]=tr++;var tr;Qf.encode=function(e,t,r){for(var i=null,o=[],s=0,a=0,l;t<r;){var c=e[t++];switch(a){case 0:o[s++]=pa[c>>2],l=(c&3)<<4,a=1;break;case 1:o[s++]=pa[l|c>>4],l=(c&15)<<2,a=2;break;case 2:o[s++]=pa[l|c>>6],o[s++]=pa[c&63],a=0;break}s>8191&&((i||(i=[])).push(String.fromCharCode.apply(String,o)),s=0)}return a&&(o[s++]=pa[l],o[s++]=61,a===1&&(o[s++]=61)),i?(s&&i.push(String.fromCharCode.apply(String,o.slice(0,s))),i.join("")):String.fromCharCode.apply(String,o.slice(0,s))};var rT="invalid encoding";Qf.decode=function(e,t,r){for(var i=r,o=0,s,a=0;a<e.length;){var l=e.charCodeAt(a++);if(l===61&&o>1)break;if((l=iT[l])===void 0)throw Error(rT);switch(o){case 0:s=l,o=1;break;case 1:t[r++]=s<<2|(l&48)>>4,s=l,o=2;break;case 2:t[r++]=(s&15)<<4|(l&60)>>2,s=l,o=3;break;case 3:t[r++]=(s&3)<<6|l,o=0;break}}if(o===1)throw Error(rT);return r-i};Qf.test=function(e){return/^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/.test(e)}});var lT=ie((Vee,aT)=>{"use strict";aT.exports=Kf;function Kf(){this._listeners={}}Kf.prototype.on=function(e,t,r){return(this._listeners[e]||(this._listeners[e]=[])).push({fn:t,ctx:r||this}),this};Kf.prototype.off=function(e,t){if(e===void 0)this._listeners={};else if(t===void 0)this._listeners[e]=[];else for(var r=this._listeners[e],i=0;i<r.length;)r[i].fn===t?r.splice(i,1):++i;return this};Kf.prototype.emit=function(e){var t=this._listeners[e];if(t){for(var r=[],i=1;i<arguments.length;)r.push(arguments[i++]);for(i=0;i<t.length;)t[i].fn.apply(t[i++].ctx,r)}return this}});var mT=ie((jee,pT)=>{"use strict";pT.exports=cT(cT);function cT(n){return typeof Float32Array<"u"?function(){var e=new Float32Array([-0]),t=new Uint8Array(e.buffer),r=t[3]===128;function i(l,c,u){e[0]=l,c[u]=t[0],c[u+1]=t[1],c[u+2]=t[2],c[u+3]=t[3]}function o(l,c,u){e[0]=l,c[u]=t[3],c[u+1]=t[2],c[u+2]=t[1],c[u+3]=t[0]}n.writeFloatLE=r?i:o,n.writeFloatBE=r?o:i;function s(l,c){return t[0]=l[c],t[1]=l[c+1],t[2]=l[c+2],t[3]=l[c+3],e[0]}function a(l,c){return t[3]=l[c],t[2]=l[c+1],t[1]=l[c+2],t[0]=l[c+3],e[0]}n.readFloatLE=r?s:a,n.readFloatBE=r?a:s}():function(){function e(r,i,o,s){var a=i<0?1:0;if(a&&(i=-i),i===0)r(1/i>0?0:2147483648,o,s);else if(isNaN(i))r(2143289344,o,s);else if(i>34028234663852886e22)r((a<<31|2139095040)>>>0,o,s);else if(i<11754943508222875e-54)r((a<<31|Math.round(i/1401298464324817e-60))>>>0,o,s);else{var l=Math.floor(Math.log(i)/Math.LN2),c=Math.round(i*Math.pow(2,-l)*8388608)&8388607;r((a<<31|l+127<<23|c)>>>0,o,s)}}n.writeFloatLE=e.bind(null,uT),n.writeFloatBE=e.bind(null,dT);function t(r,i,o){var s=r(i,o),a=(s>>31)*2+1,l=s>>>23&255,c=s&8388607;return l===255?c?NaN:a*(1/0):l===0?a*1401298464324817e-60*c:a*Math.pow(2,l-150)*(c+8388608)}n.readFloatLE=t.bind(null,fT),n.readFloatBE=t.bind(null,hT)}(),typeof Float64Array<"u"?function(){var e=new Float64Array([-0]),t=new Uint8Array(e.buffer),r=t[7]===128;function i(l,c,u){e[0]=l,c[u]=t[0],c[u+1]=t[1],c[u+2]=t[2],c[u+3]=t[3],c[u+4]=t[4],c[u+5]=t[5],c[u+6]=t[6],c[u+7]=t[7]}function o(l,c,u){e[0]=l,c[u]=t[7],c[u+1]=t[6],c[u+2]=t[5],c[u+3]=t[4],c[u+4]=t[3],c[u+5]=t[2],c[u+6]=t[1],c[u+7]=t[0]}n.writeDoubleLE=r?i:o,n.writeDoubleBE=r?o:i;function s(l,c){return t[0]=l[c],t[1]=l[c+1],t[2]=l[c+2],t[3]=l[c+3],t[4]=l[c+4],t[5]=l[c+5],t[6]=l[c+6],t[7]=l[c+7],e[0]}function a(l,c){return t[7]=l[c],t[6]=l[c+1],t[5]=l[c+2],t[4]=l[c+3],t[3]=l[c+4],t[2]=l[c+5],t[1]=l[c+6],t[0]=l[c+7],e[0]}n.readDoubleLE=r?s:a,n.readDoubleBE=r?a:s}():function(){function e(r,i,o,s,a,l){var c=s<0?1:0;if(c&&(s=-s),s===0)r(0,a,l+i),r(1/s>0?0:2147483648,a,l+o);else if(isNaN(s))r(0,a,l+i),r(2146959360,a,l+o);else if(s>17976931348623157e292)r(0,a,l+i),r((c<<31|2146435072)>>>0,a,l+o);else{var u;if(s<22250738585072014e-324)u=s/5e-324,r(u>>>0,a,l+i),r((c<<31|u/4294967296)>>>0,a,l+o);else{var d=Math.floor(Math.log(s)/Math.LN2);d===1024&&(d=1023),u=s*Math.pow(2,-d),r(u*4503599627370496>>>0,a,l+i),r((c<<31|d+1023<<20|u*1048576&1048575)>>>0,a,l+o)}}}n.writeDoubleLE=e.bind(null,uT,0,4),n.writeDoubleBE=e.bind(null,dT,4,0);function t(r,i,o,s,a){var l=r(s,a+i),c=r(s,a+o),u=(c>>31)*2+1,d=c>>>20&2047,p=4294967296*(c&1048575)+l;return d===2047?p?NaN:u*(1/0):d===0?u*5e-324*p:u*Math.pow(2,d-1075)*(p+4503599627370496)}n.readDoubleLE=t.bind(null,fT,0,4),n.readDoubleBE=t.bind(null,hT,4,0)}(),n}function uT(n,e,t){e[t]=n&255,e[t+1]=n>>>8&255,e[t+2]=n>>>16&255,e[t+3]=n>>>24}function dT(n,e,t){e[t]=n>>>24,e[t+1]=n>>>16&255,e[t+2]=n>>>8&255,e[t+3]=n&255}function fT(n,e){return(n[e]|n[e+1]<<8|n[e+2]<<16|n[e+3]<<24)>>>0}function hT(n,e){return(n[e]<<24|n[e+1]<<16|n[e+2]<<8|n[e+3])>>>0}});var Gy=ie((exports,module)=>{"use strict";module.exports=inquire;function inquire(moduleName){try{var mod=eval("quire".replace(/^/,"re"))(moduleName);if(mod&&(mod.length||Object.keys(mod).length))return mod}catch(n){}return null}});var vT=ie(gT=>{"use strict";var qy=gT;qy.length=function(e){for(var t=0,r=0,i=0;i<e.length;++i)r=e.charCodeAt(i),r<128?t+=1:r<2048?t+=2:(r&64512)===55296&&(e.charCodeAt(i+1)&64512)===56320?(++i,t+=4):t+=3;return t};qy.read=function(e,t,r){var i=r-t;if(i<1)return"";for(var o=null,s=[],a=0,l;t<r;)l=e[t++],l<128?s[a++]=l:l>191&&l<224?s[a++]=(l&31)<<6|e[t++]&63:l>239&&l<365?(l=((l&7)<<18|(e[t++]&63)<<12|(e[t++]&63)<<6|e[t++]&63)-65536,s[a++]=55296+(l>>10),s[a++]=56320+(l&1023)):s[a++]=(l&15)<<12|(e[t++]&63)<<6|e[t++]&63,a>8191&&((o||(o=[])).push(String.fromCharCode.apply(String,s)),a=0);return o?(a&&o.push(String.fromCharCode.apply(String,s.slice(0,a))),o.join("")):String.fromCharCode.apply(String,s.slice(0,a))};qy.write=function(e,t,r){for(var i=r,o,s,a=0;a<e.length;++a)o=e.charCodeAt(a),o<128?t[r++]=o:o<2048?(t[r++]=o>>6|192,t[r++]=o&63|128):(o&64512)===55296&&((s=e.charCodeAt(a+1))&64512)===56320?(o=65536+((o&1023)<<10)+(s&1023),++a,t[r++]=o>>18|240,t[r++]=o>>12&63|128,t[r++]=o>>6&63|128,t[r++]=o&63|128):(t[r++]=o>>12|224,t[r++]=o>>6&63|128,t[r++]=o&63|128);return r-i}});var _T=ie((Uee,yT)=>{"use strict";yT.exports=Xj;function Xj(n,e,t){var r=t||8192,i=r>>>1,o=null,s=r;return function(l){if(l<1||l>i)return n(l);s+l>r&&(o=n(r),s=0);var c=e.call(o,s,s+=l);return s&7&&(s=(s|7)+1),c}}});var wT=ie(($ee,bT)=>{"use strict";bT.exports=Et;var fc=Dr();function Et(n,e){this.lo=n>>>0,this.hi=e>>>0}var Lo=Et.zero=new Et(0,0);Lo.toNumber=function(){return 0};Lo.zzEncode=Lo.zzDecode=function(){return this};Lo.length=function(){return 1};var eB=Et.zeroHash="\0\0\0\0\0\0\0\0";Et.fromNumber=function(e){if(e===0)return Lo;var t=e<0;t&&(e=-e);var r=e>>>0,i=(e-r)/4294967296>>>0;return t&&(i=~i>>>0,r=~r>>>0,++r>4294967295&&(r=0,++i>4294967295&&(i=0))),new Et(r,i)};Et.from=function(e){if(typeof e=="number")return Et.fromNumber(e);if(fc.isString(e))if(fc.Long)e=fc.Long.fromString(e);else return Et.fromNumber(parseInt(e,10));return e.low||e.high?new Et(e.low>>>0,e.high>>>0):Lo};Et.prototype.toNumber=function(e){if(!e&&this.hi>>>31){var t=~this.lo+1>>>0,r=~this.hi>>>0;return t||(r=r+1>>>0),-(t+r*4294967296)}return this.lo+this.hi*4294967296};Et.prototype.toLong=function(e){return fc.Long?new fc.Long(this.lo|0,this.hi|0,!!e):{low:this.lo|0,high:this.hi|0,unsigned:!!e}};var Li=String.prototype.charCodeAt;Et.fromHash=function(e){return e===eB?Lo:new Et((Li.call(e,0)|Li.call(e,1)<<8|Li.call(e,2)<<16|Li.call(e,3)<<24)>>>0,(Li.call(e,4)|Li.call(e,5)<<8|Li.call(e,6)<<16|Li.call(e,7)<<24)>>>0)};Et.prototype.toHash=function(){return String.fromCharCode(this.lo&255,this.lo>>>8&255,this.lo>>>16&255,this.lo>>>24,this.hi&255,this.hi>>>8&255,this.hi>>>16&255,this.hi>>>24)};Et.prototype.zzEncode=function(){var e=this.hi>>31;return this.hi=((this.hi<<1|this.lo>>>31)^e)>>>0,this.lo=(this.lo<<1^e)>>>0,this};Et.prototype.zzDecode=function(){var e=-(this.lo&1);return this.lo=((this.lo>>>1|this.hi<<31)^e)>>>0,this.hi=(this.hi>>>1^e)>>>0,this};Et.prototype.length=function(){var e=this.lo,t=(this.lo>>>28|this.hi<<4)>>>0,r=this.hi>>>24;return r===0?t===0?e<16384?e<128?1:2:e<2097152?3:4:t<16384?t<128?5:6:t<2097152?7:8:r<128?9:10}});var Dr=ie(Wy=>{"use strict";var J=Wy;J.asPromise=zy();J.base64=sT();J.EventEmitter=lT();J.float=mT();J.inquire=Gy();J.utf8=vT();J.pool=_T();J.LongBits=wT();J.isNode=!!(typeof global<"u"&&global&&global.process&&global.process.versions&&global.process.versions.node);J.global=J.isNode&&global||typeof window<"u"&&window||typeof self<"u"&&self||Wy;J.emptyArray=Object.freeze?Object.freeze([]):[];J.emptyObject=Object.freeze?Object.freeze({}):{};J.isInteger=Number.isInteger||function(e){return typeof e=="number"&&isFinite(e)&&Math.floor(e)===e};J.isString=function(e){return typeof e=="string"||e instanceof String};J.isObject=function(e){return e&&typeof e=="object"};J.isset=J.isSet=function(e,t){var r=e[t];return r!=null&&e.hasOwnProperty(t)?typeof r!="object"||(Array.isArray(r)?r.length:Object.keys(r).length)>0:!1};J.Buffer=function(){try{var n=J.inquire("buffer").Buffer;return n.prototype.utf8Write?n:null}catch{return null}}();J._Buffer_from=null;J._Buffer_allocUnsafe=null;J.newBuffer=function(e){return typeof e=="number"?J.Buffer?J._Buffer_allocUnsafe(e):new J.Array(e):J.Buffer?J._Buffer_from(e):typeof Uint8Array>"u"?e:new Uint8Array(e)};J.Array=typeof Uint8Array<"u"?Uint8Array:Array;J.Long=J.global.dcodeIO&&J.global.dcodeIO.Long||J.global.Long||J.inquire("long");J.key2Re=/^true|false|0|1$/;J.key32Re=/^-?(?:0|[1-9][0-9]*)$/;J.key64Re=/^(?:[\\x00-\\xff]{8}|-?(?:0|[1-9][0-9]*))$/;J.longToHash=function(e){return e?J.LongBits.from(e).toHash():J.LongBits.zeroHash};J.longFromHash=function(e,t){var r=J.LongBits.fromHash(e);return J.Long?J.Long.fromBits(r.lo,r.hi,t):r.toNumber(!!t)};function CT(n,e,t){for(var r=Object.keys(e),i=0;i<r.length;++i)(n[r[i]]===void 0||!t)&&(n[r[i]]=e[r[i]]);return n}J.merge=CT;J.lcFirst=function(e){return e.charAt(0).toLowerCase()+e.substring(1)};function ET(n){function e(t,r){if(!(this instanceof e))return new e(t,r);Object.defineProperty(this,"message",{get:function(){return t}}),Error.captureStackTrace?Error.captureStackTrace(this,e):Object.defineProperty(this,"stack",{value:new Error().stack||""}),r&&CT(this,r)}return e.prototype=Object.create(Error.prototype,{constructor:{value:e,writable:!0,enumerable:!1,configurable:!0},name:{get:function(){return n},set:void 0,enumerable:!1,configurable:!0},toString:{value:function(){return this.name+": "+this.message},writable:!0,enumerable:!1,configurable:!0}}),e}J.newError=ET;J.ProtocolError=ET("ProtocolError");J.oneOfGetter=function(e){for(var t={},r=0;r<e.length;++r)t[e[r]]=1;return function(){for(var i=Object.keys(this),o=i.length-1;o>-1;--o)if(t[i[o]]===1&&this[i[o]]!==void 0&&this[i[o]]!==null)return i[o]}};J.oneOfSetter=function(e){return function(t){for(var r=0;r<e.length;++r)e[r]!==t&&delete this[e[r]]}};J.toJSONOptions={longs:String,enums:String,bytes:String,json:!0};J._configure=function(){var n=J.Buffer;if(!n){J._Buffer_from=J._Buffer_allocUnsafe=null;return}J._Buffer_from=n.from!==Uint8Array.from&&n.from||function(t,r){return new n(t,r)},J._Buffer_allocUnsafe=n.allocUnsafe||function(t){return new n(t)}}});var eh=ie((zee,TT)=>{"use strict";TT.exports=Se;var Rn=Dr(),Zy,Xf=Rn.LongBits,IT=Rn.base64,DT=Rn.utf8;function hc(n,e,t){this.fn=n,this.len=e,this.next=void 0,this.val=t}function Yy(){}function tB(n){this.head=n.head,this.tail=n.tail,this.len=n.len,this.next=n.states}function Se(){this.len=0,this.head=new hc(Yy,0,0),this.tail=this.head,this.states=null}var ST=function(){return Rn.Buffer?function(){return(Se.create=function(){return new Zy})()}:function(){return new Se}};Se.create=ST();Se.alloc=function(e){return new Rn.Array(e)};Rn.Array!==Array&&(Se.alloc=Rn.pool(Se.alloc,Rn.Array.prototype.subarray));Se.prototype._push=function(e,t,r){return this.tail=this.tail.next=new hc(e,t,r),this.len+=t,this};function Qy(n,e,t){e[t]=n&255}function nB(n,e,t){for(;n>127;)e[t++]=n&127|128,n>>>=7;e[t]=n}function Ky(n,e){this.len=n,this.next=void 0,this.val=e}Ky.prototype=Object.create(hc.prototype);Ky.prototype.fn=nB;Se.prototype.uint32=function(e){return this.len+=(this.tail=this.tail.next=new Ky((e=e>>>0)<128?1:e<16384?2:e<2097152?3:e<268435456?4:5,e)).len,this};Se.prototype.int32=function(e){return e<0?this._push(Xy,10,Xf.fromNumber(e)):this.uint32(e)};Se.prototype.sint32=function(e){return this.uint32((e<<1^e>>31)>>>0)};function Xy(n,e,t){for(;n.hi;)e[t++]=n.lo&127|128,n.lo=(n.lo>>>7|n.hi<<25)>>>0,n.hi>>>=7;for(;n.lo>127;)e[t++]=n.lo&127|128,n.lo=n.lo>>>7;e[t++]=n.lo}Se.prototype.uint64=function(e){var t=Xf.from(e);return this._push(Xy,t.length(),t)};Se.prototype.int64=Se.prototype.uint64;Se.prototype.sint64=function(e){var t=Xf.from(e).zzEncode();return this._push(Xy,t.length(),t)};Se.prototype.bool=function(e){return this._push(Qy,1,e?1:0)};function Jy(n,e,t){e[t]=n&255,e[t+1]=n>>>8&255,e[t+2]=n>>>16&255,e[t+3]=n>>>24}Se.prototype.fixed32=function(e){return this._push(Jy,4,e>>>0)};Se.prototype.sfixed32=Se.prototype.fixed32;Se.prototype.fixed64=function(e){var t=Xf.from(e);return this._push(Jy,4,t.lo)._push(Jy,4,t.hi)};Se.prototype.sfixed64=Se.prototype.fixed64;Se.prototype.float=function(e){return this._push(Rn.float.writeFloatLE,4,e)};Se.prototype.double=function(e){return this._push(Rn.float.writeDoubleLE,8,e)};var rB=Rn.Array.prototype.set?function(e,t,r){t.set(e,r)}:function(e,t,r){for(var i=0;i<e.length;++i)t[r+i]=e[i]};Se.prototype.bytes=function(e){var t=e.length>>>0;if(!t)return this._push(Qy,1,0);if(Rn.isString(e)){var r=Se.alloc(t=IT.length(e));IT.decode(e,r,0),e=r}return this.uint32(t)._push(rB,t,e)};Se.prototype.string=function(e){var t=DT.length(e);return t?this.uint32(t)._push(DT.write,t,e):this._push(Qy,1,0)};Se.prototype.fork=function(){return this.states=new tB(this),this.head=this.tail=new hc(Yy,0,0),this.len=0,this};Se.prototype.reset=function(){return this.states?(this.head=this.states.head,this.tail=this.states.tail,this.len=this.states.len,this.states=this.states.next):(this.head=this.tail=new hc(Yy,0,0),this.len=0),this};Se.prototype.ldelim=function(){var e=this.head,t=this.tail,r=this.len;return this.reset().uint32(r),r&&(this.tail.next=e.next,this.tail=t,this.len+=r),this};Se.prototype.finish=function(){for(var e=this.head.next,t=this.constructor.alloc(this.len),r=0;e;)e.fn(e.val,t,r),r+=e.len,e=e.next;return t};Se._configure=function(n){Zy=n,Se.create=ST(),Zy._configure()}});var AT=ie((Gee,MT)=>{"use strict";MT.exports=Sr;var xT=eh();(Sr.prototype=Object.create(xT.prototype)).constructor=Sr;var Vi=Dr();function Sr(){xT.call(this)}Sr._configure=function(){Sr.alloc=Vi._Buffer_allocUnsafe,Sr.writeBytesBuffer=Vi.Buffer&&Vi.Buffer.prototype instanceof Uint8Array&&Vi.Buffer.prototype.set.name==="set"?function(e,t,r){t.set(e,r)}:function(e,t,r){if(e.copy)e.copy(t,r,0,e.length);else for(var i=0;i<e.length;)t[r++]=e[i++]}};Sr.prototype.bytes=function(e){Vi.isString(e)&&(e=Vi._Buffer_from(e,"base64"));var t=e.length>>>0;return this.uint32(t),t&&this._push(Sr.writeBytesBuffer,t,e),this};function iB(n,e,t){n.length<40?Vi.utf8.write(n,e,t):e.utf8Write?e.utf8Write(n,t):e.write(n,t)}Sr.prototype.string=function(e){var t=Vi.Buffer.byteLength(e);return this.uint32(t),t&&this._push(iB,t,e),this};Sr._configure()});var nh=ie((qee,FT)=>{"use strict";FT.exports=lt;var nr=Dr(),t_,kT=nr.LongBits,oB=nr.utf8;function rr(n,e){return RangeError("index out of range: "+n.pos+" + "+(e||1)+" > "+n.len)}function lt(n){this.buf=n,this.pos=0,this.len=n.length}var RT=typeof Uint8Array<"u"?function(e){if(e instanceof Uint8Array||Array.isArray(e))return new lt(e);throw Error("illegal buffer")}:function(e){if(Array.isArray(e))return new lt(e);throw Error("illegal buffer")},NT=function(){return nr.Buffer?function(t){return(lt.create=function(i){return nr.Buffer.isBuffer(i)?new t_(i):RT(i)})(t)}:RT};lt.create=NT();lt.prototype._slice=nr.Array.prototype.subarray||nr.Array.prototype.slice;lt.prototype.uint32=function(){var e=4294967295;return function(){if(e=(this.buf[this.pos]&127)>>>0,this.buf[this.pos++]<128||(e=(e|(this.buf[this.pos]&127)<<7)>>>0,this.buf[this.pos++]<128)||(e=(e|(this.buf[this.pos]&127)<<14)>>>0,this.buf[this.pos++]<128)||(e=(e|(this.buf[this.pos]&127)<<21)>>>0,this.buf[this.pos++]<128)||(e=(e|(this.buf[this.pos]&15)<<28)>>>0,this.buf[this.pos++]<128))return e;if((this.pos+=5)>this.len)throw this.pos=this.len,rr(this,10);return e}}();lt.prototype.int32=function(){return this.uint32()|0};lt.prototype.sint32=function(){var e=this.uint32();return e>>>1^-(e&1)|0};function e_(){var n=new kT(0,0),e=0;if(this.len-this.pos>4){for(;e<4;++e)if(n.lo=(n.lo|(this.buf[this.pos]&127)<<e*7)>>>0,this.buf[this.pos++]<128)return n;if(n.lo=(n.lo|(this.buf[this.pos]&127)<<28)>>>0,n.hi=(n.hi|(this.buf[this.pos]&127)>>4)>>>0,this.buf[this.pos++]<128)return n;e=0}else{for(;e<3;++e){if(this.pos>=this.len)throw rr(this);if(n.lo=(n.lo|(this.buf[this.pos]&127)<<e*7)>>>0,this.buf[this.pos++]<128)return n}return n.lo=(n.lo|(this.buf[this.pos++]&127)<<e*7)>>>0,n}if(this.len-this.pos>4){for(;e<5;++e)if(n.hi=(n.hi|(this.buf[this.pos]&127)<<e*7+3)>>>0,this.buf[this.pos++]<128)return n}else for(;e<5;++e){if(this.pos>=this.len)throw rr(this);if(n.hi=(n.hi|(this.buf[this.pos]&127)<<e*7+3)>>>0,this.buf[this.pos++]<128)return n}throw Error("invalid varint encoding")}lt.prototype.bool=function(){return this.uint32()!==0};function th(n,e){return(n[e-4]|n[e-3]<<8|n[e-2]<<16|n[e-1]<<24)>>>0}lt.prototype.fixed32=function(){if(this.pos+4>this.len)throw rr(this,4);return th(this.buf,this.pos+=4)};lt.prototype.sfixed32=function(){if(this.pos+4>this.len)throw rr(this,4);return th(this.buf,this.pos+=4)|0};function OT(){if(this.pos+8>this.len)throw rr(this,8);return new kT(th(this.buf,this.pos+=4),th(this.buf,this.pos+=4))}lt.prototype.float=function(){if(this.pos+4>this.len)throw rr(this,4);var e=nr.float.readFloatLE(this.buf,this.pos);return this.pos+=4,e};lt.prototype.double=function(){if(this.pos+8>this.len)throw rr(this,4);var e=nr.float.readDoubleLE(this.buf,this.pos);return this.pos+=8,e};lt.prototype.bytes=function(){var e=this.uint32(),t=this.pos,r=this.pos+e;if(r>this.len)throw rr(this,e);if(this.pos+=e,Array.isArray(this.buf))return this.buf.slice(t,r);if(t===r){var i=nr.Buffer;return i?i.alloc(0):new this.buf.constructor(0)}return this._slice.call(this.buf,t,r)};lt.prototype.string=function(){var e=this.bytes();return oB.read(e,0,e.length)};lt.prototype.skip=function(e){if(typeof e=="number"){if(this.pos+e>this.len)throw rr(this,e);this.pos+=e}else do if(this.pos>=this.len)throw rr(this);while(this.buf[this.pos++]&128);return this};lt.prototype.skipType=function(n){switch(n){case 0:this.skip();break;case 1:this.skip(8);break;case 2:this.skip(this.uint32());break;case 3:for(;(n=this.uint32()&7)!==4;)this.skipType(n);break;case 5:this.skip(4);break;default:throw Error("invalid wire type "+n+" at offset "+this.pos)}return this};lt._configure=function(n){t_=n,lt.create=NT(),t_._configure();var e=nr.Long?"toLong":"toNumber";nr.merge(lt.prototype,{int64:function(){return e_.call(this)[e](!1)},uint64:function(){return e_.call(this)[e](!0)},sint64:function(){return e_.call(this).zzDecode()[e](!1)},fixed64:function(){return OT.call(this)[e](!0)},sfixed64:function(){return OT.call(this)[e](!1)}})}});var jT=ie((Wee,VT)=>{"use strict";VT.exports=Vo;var LT=nh();(Vo.prototype=Object.create(LT.prototype)).constructor=Vo;var PT=Dr();function Vo(n){LT.call(this,n)}Vo._configure=function(){PT.Buffer&&(Vo.prototype._slice=PT.Buffer.prototype.slice)};Vo.prototype.string=function(){var e=this.uint32();return this.buf.utf8Slice?this.buf.utf8Slice(this.pos,this.pos=Math.min(this.pos+e,this.len)):this.buf.toString("utf-8",this.pos,this.pos=Math.min(this.pos+e,this.len))};Vo._configure()});var UT=ie((Zee,BT)=>{"use strict";BT.exports=pc;var n_=Dr();(pc.prototype=Object.create(n_.EventEmitter.prototype)).constructor=pc;function pc(n,e,t){if(typeof n!="function")throw TypeError("rpcImpl must be a function");n_.EventEmitter.call(this),this.rpcImpl=n,this.requestDelimited=!!e,this.responseDelimited=!!t}pc.prototype.rpcCall=function n(e,t,r,i,o){if(!i)throw TypeError("request must be specified");var s=this;if(!o)return n_.asPromise(n,s,e,t,r,i);if(!s.rpcImpl){setTimeout(function(){o(Error("already ended"))},0);return}try{return s.rpcImpl(e,t[s.requestDelimited?"encodeDelimited":"encode"](i).finish(),function(l,c){if(l)return s.emit("error",l,e),o(l);if(c===null){s.end(!0);return}if(!(c instanceof r))try{c=r[s.responseDelimited?"decodeDelimited":"decode"](c)}catch(u){return s.emit("error",u,e),o(u)}return s.emit("data",c,e),o(null,c)})}catch(a){s.emit("error",a,e),setTimeout(function(){o(a)},0);return}};pc.prototype.end=function(e){return this.rpcImpl&&(e||this.rpcImpl(null,null,null),this.rpcImpl=null,this.emit("end").off()),this}});var r_=ie($T=>{"use strict";var sB=$T;sB.Service=UT()});var i_=ie((Yee,HT)=>{"use strict";HT.exports={}});var qT=ie(GT=>{"use strict";var dn=GT;dn.build="minimal";dn.Writer=eh();dn.BufferWriter=AT();dn.Reader=nh();dn.BufferReader=jT();dn.util=Dr();dn.rpc=r_();dn.roots=i_();dn.configure=zT;function zT(){dn.util._configure(),dn.Writer._configure(dn.BufferWriter),dn.Reader._configure(dn.BufferReader)}zT()});var ZT=ie((Kee,WT)=>{"use strict";WT.exports=o_;function o_(n,e){typeof n=="string"&&(e=n,n=void 0);var t=[];function r(o){if(typeof o!="string"){var s=i();if(o_.verbose&&console.log("codegen: "+s),s="return "+s,o){for(var a=Object.keys(o),l=new Array(a.length+1),c=new Array(a.length),u=0;u<a.length;)l[u]=a[u],c[u]=o[a[u++]];return l[u]=s,Function.apply(null,l).apply(null,c)}return Function(s)()}for(var d=new Array(arguments.length-1),p=0;p<d.length;)d[p]=arguments[++p];if(p=0,o=o.replace(/%([%dfijs])/g,function(h,v){var y=d[p++];switch(v){case"d":case"f":return String(Number(y));case"i":return String(Math.floor(y));case"j":return JSON.stringify(y);case"s":return String(y)}return"%"}),p!==d.length)throw Error("parameter count mismatch");return t.push(o),r}function i(o){return"function "+(o||e||"")+"("+(n&&n.join(",")||"")+`){
  `+t.join(`
  `)+`
}`}return r.toString=i,r}o_.verbose=!1});var YT=ie((Xee,JT)=>{"use strict";JT.exports=mc;var aB=zy(),lB=Gy(),s_=lB("fs");function mc(n,e,t){return typeof e=="function"?(t=e,e={}):e||(e={}),t?!e.xhr&&s_&&s_.readFile?s_.readFile(n,function(i,o){return i&&typeof XMLHttpRequest<"u"?mc.xhr(n,e,t):i?t(i):t(null,e.binary?o:o.toString("utf8"))}):mc.xhr(n,e,t):aB(mc,this,n,e)}mc.xhr=function(e,t,r){var i=new XMLHttpRequest;i.onreadystatechange=function(){if(i.readyState===4){if(i.status!==0&&i.status!==200)return r(Error("status "+i.status));if(t.binary){var s=i.response;if(!s){s=[];for(var a=0;a<i.responseText.length;++a)s.push(i.responseText.charCodeAt(a)&255)}return r(null,typeof Uint8Array<"u"?new Uint8Array(s):s)}return r(null,i.responseText)}},t.binary&&("overrideMimeType"in i&&i.overrideMimeType("text/plain; charset=x-user-defined"),i.responseType="arraybuffer"),i.open("GET",e),i.send()}});var XT=ie(KT=>{"use strict";var l_=KT,QT=l_.isAbsolute=function(e){return/^(?:\/|\w+:)/.test(e)},a_=l_.normalize=function(e){e=e.replace(/\\/g,"/").replace(/\/{2,}/g,"/");var t=e.split("/"),r=QT(e),i="";r&&(i=t.shift()+"/");for(var o=0;o<t.length;)t[o]===".."?o>0&&t[o-1]!==".."?t.splice(--o,2):r?t.splice(o,1):++o:t[o]==="."?t.splice(o,1):++o;return i+t.join("/")};l_.resolve=function(e,t,r){return r||(t=a_(t)),QT(t)?t:(r||(e=a_(e)),(e=e.replace(/(?:\/|^)[^/]+$/,"")).length?a_(e+"/"+t):t)}});var ga=ie((tte,nx)=>{"use strict";nx.exports=Ee;var rh=Bi();((Ee.prototype=Object.create(rh.prototype)).constructor=Ee).className="Namespace";var c_=ji(),ih=It(),cB=Uo(),jo,ma,Bo;Ee.fromJSON=function(e,t){return new Ee(e,t.options).addJSON(t.nested)};function ex(n,e){if(n&&n.length){for(var t={},r=0;r<n.length;++r)t[n[r].name]=n[r].toJSON(e);return t}}Ee.arrayToJSON=ex;Ee.isReservedId=function(e,t){if(e){for(var r=0;r<e.length;++r)if(typeof e[r]!="string"&&e[r][0]<=t&&e[r][1]>t)return!0}return!1};Ee.isReservedName=function(e,t){if(e){for(var r=0;r<e.length;++r)if(e[r]===t)return!0}return!1};function Ee(n,e){rh.call(this,n,e),this.nested=void 0,this._nestedArray=null,this._lookupCache={},this._needsRecursiveFeatureResolution=!0,this._needsRecursiveResolve=!0}function tx(n){n._nestedArray=null,n._lookupCache={};for(var e=n;e=e.parent;)e._lookupCache={};return n}Object.defineProperty(Ee.prototype,"nestedArray",{get:function(){return this._nestedArray||(this._nestedArray=ih.toArray(this.nested))}});Ee.prototype.toJSON=function(e){return ih.toObject(["options",this.options,"nested",ex(this.nestedArray,e)])};Ee.prototype.addJSON=function(e){var t=this;if(e)for(var r=Object.keys(e),i=0,o;i<r.length;++i)o=e[r[i]],t.add((o.fields!==void 0?jo.fromJSON:o.values!==void 0?Bo.fromJSON:o.methods!==void 0?ma.fromJSON:o.id!==void 0?c_.fromJSON:Ee.fromJSON)(r[i],o));return this};Ee.prototype.get=function(e){return this.nested&&this.nested[e]||null};Ee.prototype.getEnum=function(e){if(this.nested&&this.nested[e]instanceof Bo)return this.nested[e].values;throw Error("no such enum: "+e)};Ee.prototype.add=function(e){if(!(e instanceof c_&&e.extend!==void 0||e instanceof jo||e instanceof cB||e instanceof Bo||e instanceof ma||e instanceof Ee))throw TypeError("object must be a valid nested object");if(!this.nested)this.nested={};else{var t=this.get(e.name);if(t)if(t instanceof Ee&&e instanceof Ee&&!(t instanceof jo||t instanceof ma)){for(var r=t.nestedArray,i=0;i<r.length;++i)e.add(r[i]);this.remove(t),this.nested||(this.nested={}),e.setOptions(t.options,!0)}else throw Error("duplicate name '"+e.name+"' in "+this)}this.nested[e.name]=e,this instanceof jo||this instanceof ma||this instanceof Bo||this instanceof c_||e._edition||(e._edition=e._defaultEdition),this._needsRecursiveFeatureResolution=!0,this._needsRecursiveResolve=!0;for(var o=this;o=o.parent;)o._needsRecursiveFeatureResolution=!0,o._needsRecursiveResolve=!0;return e.onAdd(this),tx(this)};Ee.prototype.remove=function(e){if(!(e instanceof rh))throw TypeError("object must be a ReflectionObject");if(e.parent!==this)throw Error(e+" is not a member of "+this);return delete this.nested[e.name],Object.keys(this.nested).length||(this.nested=void 0),e.onRemove(this),tx(this)};Ee.prototype.define=function(e,t){if(ih.isString(e))e=e.split(".");else if(!Array.isArray(e))throw TypeError("illegal path");if(e&&e.length&&e[0]==="")throw Error("path must be relative");for(var r=this;e.length>0;){var i=e.shift();if(r.nested&&r.nested[i]){if(r=r.nested[i],!(r instanceof Ee))throw Error("path conflicts with non-namespace objects")}else r.add(r=new Ee(i))}return t&&r.addJSON(t),r};Ee.prototype.resolveAll=function(){if(!this._needsRecursiveResolve)return this;this._resolveFeaturesRecursive(this._edition);var e=this.nestedArray,t=0;for(this.resolve();t<e.length;)e[t]instanceof Ee?e[t++].resolveAll():e[t++].resolve();return this._needsRecursiveResolve=!1,this};Ee.prototype._resolveFeaturesRecursive=function(e){return this._needsRecursiveFeatureResolution?(this._needsRecursiveFeatureResolution=!1,e=this._edition||e,rh.prototype._resolveFeaturesRecursive.call(this,e),this.nestedArray.forEach(t=>{t._resolveFeaturesRecursive(e)}),this):this};Ee.prototype.lookup=function(e,t,r){if(typeof t=="boolean"?(r=t,t=void 0):t&&!Array.isArray(t)&&(t=[t]),ih.isString(e)&&e.length){if(e===".")return this.root;e=e.split(".")}else if(!e.length)return this;var i=e.join(".");if(e[0]==="")return this.root.lookup(e.slice(1),t);var o=this.root._fullyQualifiedObjects&&this.root._fullyQualifiedObjects["."+i];if(o&&(!t||t.indexOf(o.constructor)>-1)||(o=this._lookupImpl(e,i),o&&(!t||t.indexOf(o.constructor)>-1)))return o;if(r)return null;for(var s=this;s.parent;){if(o=s.parent._lookupImpl(e,i),o&&(!t||t.indexOf(o.constructor)>-1))return o;s=s.parent}return null};Ee.prototype._lookupImpl=function(e,t){if(Object.prototype.hasOwnProperty.call(this._lookupCache,t))return this._lookupCache[t];var r=this.get(e[0]),i=null;if(r)e.length===1?i=r:r instanceof Ee&&(e=e.slice(1),i=r._lookupImpl(e,e.join(".")));else for(var o=0;o<this.nestedArray.length;++o)this._nestedArray[o]instanceof Ee&&(r=this._nestedArray[o]._lookupImpl(e,t))&&(i=r);return this._lookupCache[t]=i,i};Ee.prototype.lookupType=function(e){var t=this.lookup(e,[jo]);if(!t)throw Error("no such type: "+e);return t};Ee.prototype.lookupEnum=function(e){var t=this.lookup(e,[Bo]);if(!t)throw Error("no such Enum '"+e+"' in "+this);return t};Ee.prototype.lookupTypeOrEnum=function(e){var t=this.lookup(e,[jo,Bo]);if(!t)throw Error("no such Type or Enum '"+e+"' in "+this);return t};Ee.prototype.lookupService=function(e){var t=this.lookup(e,[ma]);if(!t)throw Error("no such Service '"+e+"' in "+this);return t};Ee._configure=function(n,e,t){jo=n,ma=e,Bo=t}});var oh=ie((nte,rx)=>{"use strict";rx.exports=ri;var u_=ji();((ri.prototype=Object.create(u_.prototype)).constructor=ri).className="MapField";var uB=$o(),gc=It();function ri(n,e,t,r,i,o){if(u_.call(this,n,e,r,void 0,void 0,i,o),!gc.isString(t))throw TypeError("keyType must be a string");this.keyType=t,this.resolvedKeyType=null,this.map=!0}ri.fromJSON=function(e,t){return new ri(e,t.id,t.keyType,t.type,t.options,t.comment)};ri.prototype.toJSON=function(e){var t=e?!!e.keepComments:!1;return gc.toObject(["keyType",this.keyType,"type",this.type,"id",this.id,"extend",this.extend,"options",this.options,"comment",t?this.comment:void 0])};ri.prototype.resolve=function(){if(this.resolved)return this;if(uB.mapKey[this.keyType]===void 0)throw Error("invalid key type: "+this.keyType);return u_.prototype.resolve.call(this)};ri.d=function(e,t,r){return typeof r=="function"?r=gc.decorateType(r).name:r&&typeof r=="object"&&(r=gc.decorateEnum(r).name),function(o,s){gc.decorateType(o.constructor).add(new ri(s,e,t,r))}}});var sh=ie((rte,ix)=>{"use strict";ix.exports=Ho;var d_=Bi();((Ho.prototype=Object.create(d_.prototype)).constructor=Ho).className="Method";var va=It();function Ho(n,e,t,r,i,o,s,a,l){if(va.isObject(i)?(s=i,i=o=void 0):va.isObject(o)&&(s=o,o=void 0),!(e===void 0||va.isString(e)))throw TypeError("type must be a string");if(!va.isString(t))throw TypeError("requestType must be a string");if(!va.isString(r))throw TypeError("responseType must be a string");d_.call(this,n,s),this.type=e||"rpc",this.requestType=t,this.requestStream=i?!0:void 0,this.responseType=r,this.responseStream=o?!0:void 0,this.resolvedRequestType=null,this.resolvedResponseType=null,this.comment=a,this.parsedOptions=l}Ho.fromJSON=function(e,t){return new Ho(e,t.type,t.requestType,t.responseType,t.requestStream,t.responseStream,t.options,t.comment,t.parsedOptions)};Ho.prototype.toJSON=function(e){var t=e?!!e.keepComments:!1;return va.toObject(["type",this.type!=="rpc"&&this.type||void 0,"requestType",this.requestType,"requestStream",this.requestStream,"responseType",this.responseType,"responseStream",this.responseStream,"options",this.options,"comment",t?this.comment:void 0,"parsedOptions",this.parsedOptions])};Ho.prototype.resolve=function(){return this.resolved?this:(this.resolvedRequestType=this.parent.lookupType(this.requestType),this.resolvedResponseType=this.parent.lookupType(this.responseType),d_.prototype.resolve.call(this))}});var ah=ie((ite,sx)=>{"use strict";sx.exports=wn;var ii=ga();((wn.prototype=Object.create(ii.prototype)).constructor=wn).className="Service";var f_=sh(),vc=It(),dB=r_();function wn(n,e){ii.call(this,n,e),this.methods={},this._methodsArray=null}wn.fromJSON=function(e,t){var r=new wn(e,t.options);if(t.methods)for(var i=Object.keys(t.methods),o=0;o<i.length;++o)r.add(f_.fromJSON(i[o],t.methods[i[o]]));return t.nested&&r.addJSON(t.nested),t.edition&&(r._edition=t.edition),r.comment=t.comment,r._defaultEdition="proto3",r};wn.prototype.toJSON=function(e){var t=ii.prototype.toJSON.call(this,e),r=e?!!e.keepComments:!1;return vc.toObject(["edition",this._editionToJSON(),"options",t&&t.options||void 0,"methods",ii.arrayToJSON(this.methodsArray,e)||{},"nested",t&&t.nested||void 0,"comment",r?this.comment:void 0])};Object.defineProperty(wn.prototype,"methodsArray",{get:function(){return this._methodsArray||(this._methodsArray=vc.toArray(this.methods))}});function ox(n){return n._methodsArray=null,n}wn.prototype.get=function(e){return this.methods[e]||ii.prototype.get.call(this,e)};wn.prototype.resolveAll=function(){if(!this._needsRecursiveResolve)return this;ii.prototype.resolve.call(this);for(var e=this.methodsArray,t=0;t<e.length;++t)e[t].resolve();return this};wn.prototype._resolveFeaturesRecursive=function(e){return this._needsRecursiveFeatureResolution?(e=this._edition||e,ii.prototype._resolveFeaturesRecursive.call(this,e),this.methodsArray.forEach(t=>{t._resolveFeaturesRecursive(e)}),this):this};wn.prototype.add=function(e){if(this.get(e.name))throw Error("duplicate name '"+e.name+"' in "+this);return e instanceof f_?(this.methods[e.name]=e,e.parent=this,ox(this)):ii.prototype.add.call(this,e)};wn.prototype.remove=function(e){if(e instanceof f_){if(this.methods[e.name]!==e)throw Error(e+" is not a member of "+this);return delete this.methods[e.name],e.parent=null,ox(this)}return ii.prototype.remove.call(this,e)};wn.prototype.create=function(e,t,r){for(var i=new dB.Service(e,t,r),o=0,s;o<this.methodsArray.length;++o){var a=vc.lcFirst((s=this._methodsArray[o]).resolve().name).replace(/[^$\w_]/g,"");i[a]=vc.codegen(["r","c"],vc.isReserved(a)?a+"_":a)("return this.rpcCall(m,q,s,r,c)")({m:s,q:s.resolvedRequestType.ctor,s:s.resolvedResponseType.ctor})}return i}});var lh=ie((ote,ax)=>{"use strict";ax.exports=Tr;var fB=Dr();function Tr(n){if(n)for(var e=Object.keys(n),t=0;t<e.length;++t)this[e[t]]=n[e[t]]}Tr.create=function(e){return this.$type.create(e)};Tr.encode=function(e,t){return this.$type.encode(e,t)};Tr.encodeDelimited=function(e,t){return this.$type.encodeDelimited(e,t)};Tr.decode=function(e){return this.$type.decode(e)};Tr.decodeDelimited=function(e){return this.$type.decodeDelimited(e)};Tr.verify=function(e){return this.$type.verify(e)};Tr.fromObject=function(e){return this.$type.fromObject(e)};Tr.toObject=function(e,t){return this.$type.toObject(e,t)};Tr.prototype.toJSON=function(){return this.$type.toObject(this,fB.toJSONOptions)}});var h_=ie((ste,cx)=>{"use strict";cx.exports=mB;var hB=ir(),oi=$o(),lx=It();function pB(n){return"missing required '"+n.name+"'"}function mB(n){for(var e=lx.codegen(["r","l","e"],n.name+"$decode")("if(!(r instanceof Reader))")("r=Reader.create(r)")("var c=l===undefined?r.len:r.pos+l,m=new this.ctor"+(n.fieldsArray.filter(function(a){return a.map}).length?",k,value":""))("while(r.pos<c){")("var t=r.uint32()")("if(t===e)")("break")("switch(t>>>3){"),t=0;t<n.fieldsArray.length;++t){var r=n._fieldsArray[t].resolve(),i=r.resolvedType instanceof hB?"int32":r.type,o="m"+lx.safeProp(r.name);e("case %i: {",r.id),r.map?(e("if(%s===util.emptyObject)",o)("%s={}",o)("var c2 = r.uint32()+r.pos"),oi.defaults[r.keyType]!==void 0?e("k=%j",oi.defaults[r.keyType]):e("k=null"),oi.defaults[i]!==void 0?e("value=%j",oi.defaults[i]):e("value=null"),e("while(r.pos<c2){")("var tag2=r.uint32()")("switch(tag2>>>3){")("case 1: k=r.%s(); break",r.keyType)("case 2:"),oi.basic[i]===void 0?e("value=types[%i].decode(r,r.uint32())",t):e("value=r.%s()",i),e("break")("default:")("r.skipType(tag2&7)")("break")("}")("}"),oi.long[r.keyType]!==void 0?e('%s[typeof k==="object"?util.longToHash(k):k]=value',o):e("%s[k]=value",o)):r.repeated?(e("if(!(%s&&%s.length))",o,o)("%s=[]",o),oi.packed[i]!==void 0&&e("if((t&7)===2){")("var c2=r.uint32()+r.pos")("while(r.pos<c2)")("%s.push(r.%s())",o,i)("}else"),oi.basic[i]===void 0?e(r.delimited?"%s.push(types[%i].decode(r,undefined,((t&~7)|4)))":"%s.push(types[%i].decode(r,r.uint32()))",o,t):e("%s.push(r.%s())",o,i)):oi.basic[i]===void 0?e(r.delimited?"%s=types[%i].decode(r,undefined,((t&~7)|4))":"%s=types[%i].decode(r,r.uint32())",o,t):e("%s=r.%s()",o,i),e("break")("}")}for(e("default:")("r.skipType(t&7)")("break")("}")("}"),t=0;t<n._fieldsArray.length;++t){var s=n._fieldsArray[t];s.required&&e("if(!m.hasOwnProperty(%j))",s.name)("throw util.ProtocolError(%j,{instance:m})",pB(s))}return e("return m")}});var g_=ie((ate,ux)=>{"use strict";ux.exports=yB;var gB=ir(),p_=It();function On(n,e){return n.name+": "+e+(n.repeated&&e!=="array"?"[]":n.map&&e!=="object"?"{k:"+n.keyType+"}":"")+" expected"}function m_(n,e,t,r){if(e.resolvedType)if(e.resolvedType instanceof gB){n("switch(%s){",r)("default:")("return%j",On(e,"enum value"));for(var i=Object.keys(e.resolvedType.values),o=0;o<i.length;++o)n("case %i:",e.resolvedType.values[i[o]]);n("break")("}")}else n("{")("var e=types[%i].verify(%s);",t,r)("if(e)")("return%j+e",e.name+".")("}");else switch(e.type){case"int32":case"uint32":case"sint32":case"fixed32":case"sfixed32":n("if(!util.isInteger(%s))",r)("return%j",On(e,"integer"));break;case"int64":case"uint64":case"sint64":case"fixed64":case"sfixed64":n("if(!util.isInteger(%s)&&!(%s&&util.isInteger(%s.low)&&util.isInteger(%s.high)))",r,r,r,r)("return%j",On(e,"integer|Long"));break;case"float":case"double":n('if(typeof %s!=="number")',r)("return%j",On(e,"number"));break;case"bool":n('if(typeof %s!=="boolean")',r)("return%j",On(e,"boolean"));break;case"string":n("if(!util.isString(%s))",r)("return%j",On(e,"string"));break;case"bytes":n('if(!(%s&&typeof %s.length==="number"||util.isString(%s)))',r,r,r)("return%j",On(e,"buffer"));break}return n}function vB(n,e,t){switch(e.keyType){case"int32":case"uint32":case"sint32":case"fixed32":case"sfixed32":n("if(!util.key32Re.test(%s))",t)("return%j",On(e,"integer key"));break;case"int64":case"uint64":case"sint64":case"fixed64":case"sfixed64":n("if(!util.key64Re.test(%s))",t)("return%j",On(e,"integer|Long key"));break;case"bool":n("if(!util.key2Re.test(%s))",t)("return%j",On(e,"boolean key"));break}return n}function yB(n){var e=p_.codegen(["m"],n.name+"$verify")('if(typeof m!=="object"||m===null)')("return%j","object expected"),t=n.oneofsArray,r={};t.length&&e("var p={}");for(var i=0;i<n.fieldsArray.length;++i){var o=n._fieldsArray[i].resolve(),s="m"+p_.safeProp(o.name);if(o.optional&&e("if(%s!=null&&m.hasOwnProperty(%j)){",s,o.name),o.map)e("if(!util.isObject(%s))",s)("return%j",On(o,"object"))("var k=Object.keys(%s)",s)("for(var i=0;i<k.length;++i){"),vB(e,o,"k[i]"),m_(e,o,i,s+"[k[i]]")("}");else if(o.repeated)e("if(!Array.isArray(%s))",s)("return%j",On(o,"array"))("for(var i=0;i<%s.length;++i){",s),m_(e,o,i,s+"[i]")("}");else{if(o.partOf){var a=p_.safeProp(o.partOf.name);r[o.partOf.name]===1&&e("if(p%s===1)",a)("return%j",o.partOf.name+": multiple values"),r[o.partOf.name]=1,e("p%s=1",a)}m_(e,o,i,s)}o.optional&&e("}")}return e("return null")}});var __=ie(fx=>{"use strict";var dx=fx,yc=ir(),xr=It();function v_(n,e,t,r){var i=!1;if(e.resolvedType)if(e.resolvedType instanceof yc){n("switch(d%s){",r);for(var o=e.resolvedType.values,s=Object.keys(o),a=0;a<s.length;++a)o[s[a]]===e.typeDefault&&!i&&(n("default:")('if(typeof(d%s)==="number"){m%s=d%s;break}',r,r,r),e.repeated||n("break"),i=!0),n("case%j:",s[a])("case %i:",o[s[a]])("m%s=%j",r,o[s[a]])("break");n("}")}else n('if(typeof d%s!=="object")',r)("throw TypeError(%j)",e.fullName+": object expected")("m%s=types[%i].fromObject(d%s)",r,t,r);else{var l=!1;switch(e.type){case"double":case"float":n("m%s=Number(d%s)",r,r);break;case"uint32":case"fixed32":n("m%s=d%s>>>0",r,r);break;case"int32":case"sint32":case"sfixed32":n("m%s=d%s|0",r,r);break;case"uint64":l=!0;case"int64":case"sint64":case"fixed64":case"sfixed64":n("if(util.Long)")("(m%s=util.Long.fromValue(d%s)).unsigned=%j",r,r,l)('else if(typeof d%s==="string")',r)("m%s=parseInt(d%s,10)",r,r)('else if(typeof d%s==="number")',r)("m%s=d%s",r,r)('else if(typeof d%s==="object")',r)("m%s=new util.LongBits(d%s.low>>>0,d%s.high>>>0).toNumber(%s)",r,r,r,l?"true":"");break;case"bytes":n('if(typeof d%s==="string")',r)("util.base64.decode(d%s,m%s=util.newBuffer(util.base64.length(d%s)),0)",r,r,r)("else if(d%s.length >= 0)",r)("m%s=d%s",r,r);break;case"string":n("m%s=String(d%s)",r,r);break;case"bool":n("m%s=Boolean(d%s)",r,r);break}}return n}dx.fromObject=function(e){var t=e.fieldsArray,r=xr.codegen(["d"],e.name+"$fromObject")("if(d instanceof this.ctor)")("return d");if(!t.length)return r("return new this.ctor");r("var m=new this.ctor");for(var i=0;i<t.length;++i){var o=t[i].resolve(),s=xr.safeProp(o.name);o.map?(r("if(d%s){",s)('if(typeof d%s!=="object")',s)("throw TypeError(%j)",o.fullName+": object expected")("m%s={}",s)("for(var ks=Object.keys(d%s),i=0;i<ks.length;++i){",s),v_(r,o,i,s+"[ks[i]]")("}")("}")):o.repeated?(r("if(d%s){",s)("if(!Array.isArray(d%s))",s)("throw TypeError(%j)",o.fullName+": array expected")("m%s=[]",s)("for(var i=0;i<d%s.length;++i){",s),v_(r,o,i,s+"[i]")("}")("}")):(o.resolvedType instanceof yc||r("if(d%s!=null){",s),v_(r,o,i,s),o.resolvedType instanceof yc||r("}"))}return r("return m")};function y_(n,e,t,r){if(e.resolvedType)e.resolvedType instanceof yc?n("d%s=o.enums===String?(types[%i].values[m%s]===undefined?m%s:types[%i].values[m%s]):m%s",r,t,r,r,t,r,r):n("d%s=types[%i].toObject(m%s,o)",r,t,r);else{var i=!1;switch(e.type){case"double":case"float":n("d%s=o.json&&!isFinite(m%s)?String(m%s):m%s",r,r,r,r);break;case"uint64":i=!0;case"int64":case"sint64":case"fixed64":case"sfixed64":n('if(typeof m%s==="number")',r)("d%s=o.longs===String?String(m%s):m%s",r,r,r)("else")("d%s=o.longs===String?util.Long.prototype.toString.call(m%s):o.longs===Number?new util.LongBits(m%s.low>>>0,m%s.high>>>0).toNumber(%s):m%s",r,r,r,r,i?"true":"",r);break;case"bytes":n("d%s=o.bytes===String?util.base64.encode(m%s,0,m%s.length):o.bytes===Array?Array.prototype.slice.call(m%s):m%s",r,r,r,r,r);break;default:n("d%s=m%s",r,r);break}}return n}dx.toObject=function(e){var t=e.fieldsArray.slice().sort(xr.compareFieldsById);if(!t.length)return xr.codegen()("return {}");for(var r=xr.codegen(["m","o"],e.name+"$toObject")("if(!o)")("o={}")("var d={}"),i=[],o=[],s=[],a=0;a<t.length;++a)t[a].partOf||(t[a].resolve().repeated?i:t[a].map?o:s).push(t[a]);if(i.length){for(r("if(o.arrays||o.defaults){"),a=0;a<i.length;++a)r("d%s=[]",xr.safeProp(i[a].name));r("}")}if(o.length){for(r("if(o.objects||o.defaults){"),a=0;a<o.length;++a)r("d%s={}",xr.safeProp(o[a].name));r("}")}if(s.length){for(r("if(o.defaults){"),a=0;a<s.length;++a){var l=s[a],c=xr.safeProp(l.name);if(l.resolvedType instanceof yc)r("d%s=o.enums===String?%j:%j",c,l.resolvedType.valuesById[l.typeDefault],l.typeDefault);else if(l.long)r("if(util.Long){")("var n=new util.Long(%i,%i,%j)",l.typeDefault.low,l.typeDefault.high,l.typeDefault.unsigned)("d%s=o.longs===String?n.toString():o.longs===Number?n.toNumber():n",c)("}else")("d%s=o.longs===String?%j:%i",c,l.typeDefault.toString(),l.typeDefault.toNumber());else if(l.bytes){var u="["+Array.prototype.slice.call(l.typeDefault).join(",")+"]";r("if(o.bytes===String)d%s=%j",c,String.fromCharCode.apply(String,l.typeDefault))("else{")("d%s=%s",c,u)("if(o.bytes!==Array)d%s=util.newBuffer(d%s)",c,c)("}")}else r("d%s=%j",c,l.typeDefault)}r("}")}var d=!1;for(a=0;a<t.length;++a){var l=t[a],p=e._fieldsArray.indexOf(l),c=xr.safeProp(l.name);l.map?(d||(d=!0,r("var ks2")),r("if(m%s&&(ks2=Object.keys(m%s)).length){",c,c)("d%s={}",c)("for(var j=0;j<ks2.length;++j){"),y_(r,l,p,c+"[ks2[j]]")("}")):l.repeated?(r("if(m%s&&m%s.length){",c,c)("d%s=[]",c)("for(var j=0;j<m%s.length;++j){",c),y_(r,l,p,c+"[j]")("}")):(r("if(m%s!=null&&m.hasOwnProperty(%j)){",c,l.name),y_(r,l,p,c),l.partOf&&r("if(o.oneofs)")("d%s=%j",xr.safeProp(l.partOf.name),l.name)),r("}")}return r("return d")}});var b_=ie(hx=>{"use strict";var _B=hx,bB=lh();_B[".google.protobuf.Any"]={fromObject:function(n){if(n&&n["@type"]){var e=n["@type"].substring(n["@type"].lastIndexOf("/")+1),t=this.lookup(e);if(t){var r=n["@type"].charAt(0)==="."?n["@type"].slice(1):n["@type"];return r.indexOf("/")===-1&&(r="/"+r),this.create({type_url:r,value:t.encode(t.fromObject(n)).finish()})}}return this.fromObject(n)},toObject:function(n,e){var t="type.googleapis.com/",r="",i="";if(e&&e.json&&n.type_url&&n.value){i=n.type_url.substring(n.type_url.lastIndexOf("/")+1),r=n.type_url.substring(0,n.type_url.lastIndexOf("/")+1);var o=this.lookup(i);o&&(n=o.decode(n.value))}if(!(n instanceof this.ctor)&&n instanceof bB){var s=n.$type.toObject(n,e),a=n.$type.fullName[0]==="."?n.$type.fullName.slice(1):n.$type.fullName;return r===""&&(r=t),i=r+a,s["@type"]=i,s}return this.toObject(n,e)}}});var dh=ie((ute,mx)=>{"use strict";mx.exports=Ge;var kn=ga();((Ge.prototype=Object.create(kn.prototype)).constructor=Ge).className="Type";var wB=ir(),E_=Uo(),ch=ji(),CB=oh(),EB=ah(),w_=lh(),C_=nh(),IB=eh(),Bt=It(),DB=I_(),SB=h_(),TB=g_(),px=__(),xB=b_();function Ge(n,e){kn.call(this,n,e),this.fields={},this.oneofs=void 0,this.extensions=void 0,this.reserved=void 0,this.group=void 0,this._fieldsById=null,this._fieldsArray=null,this._oneofsArray=null,this._ctor=null}Object.defineProperties(Ge.prototype,{fieldsById:{get:function(){if(this._fieldsById)return this._fieldsById;this._fieldsById={};for(var n=Object.keys(this.fields),e=0;e<n.length;++e){var t=this.fields[n[e]],r=t.id;if(this._fieldsById[r])throw Error("duplicate id "+r+" in "+this);this._fieldsById[r]=t}return this._fieldsById}},fieldsArray:{get:function(){return this._fieldsArray||(this._fieldsArray=Bt.toArray(this.fields))}},oneofsArray:{get:function(){return this._oneofsArray||(this._oneofsArray=Bt.toArray(this.oneofs))}},ctor:{get:function(){return this._ctor||(this.ctor=Ge.generateConstructor(this)())},set:function(n){var e=n.prototype;e instanceof w_||((n.prototype=new w_).constructor=n,Bt.merge(n.prototype,e)),n.$type=n.prototype.$type=this,Bt.merge(n,w_,!0),this._ctor=n;for(var t=0;t<this.fieldsArray.length;++t)this._fieldsArray[t].resolve();var r={};for(t=0;t<this.oneofsArray.length;++t)r[this._oneofsArray[t].resolve().name]={get:Bt.oneOfGetter(this._oneofsArray[t].oneof),set:Bt.oneOfSetter(this._oneofsArray[t].oneof)};t&&Object.defineProperties(n.prototype,r)}}});Ge.generateConstructor=function(e){for(var t=Bt.codegen(["p"],e.name),r=0,i;r<e.fieldsArray.length;++r)(i=e._fieldsArray[r]).map?t("this%s={}",Bt.safeProp(i.name)):i.repeated&&t("this%s=[]",Bt.safeProp(i.name));return t("if(p)for(var ks=Object.keys(p),i=0;i<ks.length;++i)if(p[ks[i]]!=null)")("this[ks[i]]=p[ks[i]]")};function uh(n){return n._fieldsById=n._fieldsArray=n._oneofsArray=null,delete n.encode,delete n.decode,delete n.verify,n}Ge.fromJSON=function(e,t){var r=new Ge(e,t.options);r.extensions=t.extensions,r.reserved=t.reserved;for(var i=Object.keys(t.fields),o=0;o<i.length;++o)r.add((typeof t.fields[i[o]].keyType<"u"?CB.fromJSON:ch.fromJSON)(i[o],t.fields[i[o]]));if(t.oneofs)for(i=Object.keys(t.oneofs),o=0;o<i.length;++o)r.add(E_.fromJSON(i[o],t.oneofs[i[o]]));if(t.nested)for(i=Object.keys(t.nested),o=0;o<i.length;++o){var s=t.nested[i[o]];r.add((s.id!==void 0?ch.fromJSON:s.fields!==void 0?Ge.fromJSON:s.values!==void 0?wB.fromJSON:s.methods!==void 0?EB.fromJSON:kn.fromJSON)(i[o],s))}return t.extensions&&t.extensions.length&&(r.extensions=t.extensions),t.reserved&&t.reserved.length&&(r.reserved=t.reserved),t.group&&(r.group=!0),t.comment&&(r.comment=t.comment),t.edition&&(r._edition=t.edition),r._defaultEdition="proto3",r};Ge.prototype.toJSON=function(e){var t=kn.prototype.toJSON.call(this,e),r=e?!!e.keepComments:!1;return Bt.toObject(["edition",this._editionToJSON(),"options",t&&t.options||void 0,"oneofs",kn.arrayToJSON(this.oneofsArray,e),"fields",kn.arrayToJSON(this.fieldsArray.filter(function(i){return!i.declaringField}),e)||{},"extensions",this.extensions&&this.extensions.length?this.extensions:void 0,"reserved",this.reserved&&this.reserved.length?this.reserved:void 0,"group",this.group||void 0,"nested",t&&t.nested||void 0,"comment",r?this.comment:void 0])};Ge.prototype.resolveAll=function(){if(!this._needsRecursiveResolve)return this;kn.prototype.resolveAll.call(this);var e=this.oneofsArray;for(r=0;r<e.length;)e[r++].resolve();for(var t=this.fieldsArray,r=0;r<t.length;)t[r++].resolve();return this};Ge.prototype._resolveFeaturesRecursive=function(e){return this._needsRecursiveFeatureResolution?(e=this._edition||e,kn.prototype._resolveFeaturesRecursive.call(this,e),this.oneofsArray.forEach(t=>{t._resolveFeatures(e)}),this.fieldsArray.forEach(t=>{t._resolveFeatures(e)}),this):this};Ge.prototype.get=function(e){return this.fields[e]||this.oneofs&&this.oneofs[e]||this.nested&&this.nested[e]||null};Ge.prototype.add=function(e){if(this.get(e.name))throw Error("duplicate name '"+e.name+"' in "+this);if(e instanceof ch&&e.extend===void 0){if(this._fieldsById?this._fieldsById[e.id]:this.fieldsById[e.id])throw Error("duplicate id "+e.id+" in "+this);if(this.isReservedId(e.id))throw Error("id "+e.id+" is reserved in "+this);if(this.isReservedName(e.name))throw Error("name '"+e.name+"' is reserved in "+this);return e.parent&&e.parent.remove(e),this.fields[e.name]=e,e.message=this,e.onAdd(this),uh(this)}return e instanceof E_?(this.oneofs||(this.oneofs={}),this.oneofs[e.name]=e,e.onAdd(this),uh(this)):kn.prototype.add.call(this,e)};Ge.prototype.remove=function(e){if(e instanceof ch&&e.extend===void 0){if(!this.fields||this.fields[e.name]!==e)throw Error(e+" is not a member of "+this);return delete this.fields[e.name],e.parent=null,e.onRemove(this),uh(this)}if(e instanceof E_){if(!this.oneofs||this.oneofs[e.name]!==e)throw Error(e+" is not a member of "+this);return delete this.oneofs[e.name],e.parent=null,e.onRemove(this),uh(this)}return kn.prototype.remove.call(this,e)};Ge.prototype.isReservedId=function(e){return kn.isReservedId(this.reserved,e)};Ge.prototype.isReservedName=function(e){return kn.isReservedName(this.reserved,e)};Ge.prototype.create=function(e){return new this.ctor(e)};Ge.prototype.setup=function(){for(var e=this.fullName,t=[],r=0;r<this.fieldsArray.length;++r)t.push(this._fieldsArray[r].resolve().resolvedType);this.encode=DB(this)({Writer:IB,types:t,util:Bt}),this.decode=SB(this)({Reader:C_,types:t,util:Bt}),this.verify=TB(this)({types:t,util:Bt}),this.fromObject=px.fromObject(this)({types:t,util:Bt}),this.toObject=px.toObject(this)({types:t,util:Bt});var i=xB[e];if(i){var o=Object.create(this);o.fromObject=this.fromObject,this.fromObject=i.fromObject.bind(o),o.toObject=this.toObject,this.toObject=i.toObject.bind(o)}return this};Ge.prototype.encode=function(e,t){return this.setup().encode(e,t)};Ge.prototype.encodeDelimited=function(e,t){return this.encode(e,t&&t.len?t.fork():t).ldelim()};Ge.prototype.decode=function(e,t){return this.setup().decode(e,t)};Ge.prototype.decodeDelimited=function(e){return e instanceof C_||(e=C_.create(e)),this.decode(e,e.uint32())};Ge.prototype.verify=function(e){return this.setup().verify(e)};Ge.prototype.fromObject=function(e){return this.setup().fromObject(e)};Ge.prototype.toObject=function(e,t){return this.setup().toObject(e,t)};Ge.d=function(e){return function(r){Bt.decorateType(r,e)}}});var mh=ie((dte,yx)=>{"use strict";yx.exports=Cn;var ph=ga();((Cn.prototype=Object.create(ph.prototype)).constructor=Cn).className="Root";var fh=ji(),D_=ir(),MB=Uo(),Ui=It(),S_,T_,_c;function Cn(n){ph.call(this,"",n),this.deferred=[],this.files=[],this._edition="proto2",this._fullyQualifiedObjects={}}Cn.fromJSON=function(e,t){return t||(t=new Cn),e.options&&t.setOptions(e.options),t.addJSON(e.nested).resolveAll()};Cn.prototype.resolvePath=Ui.path.resolve;Cn.prototype.fetch=Ui.fetch;function vx(){}Cn.prototype.load=function n(e,t,r){typeof t=="function"&&(r=t,t=void 0);var i=this;if(!r)return Ui.asPromise(n,i,e,t);var o=r===vx;function s(f,h){if(r){if(o)throw f;h&&h.resolveAll();var v=r;r=null,v(f,h)}}function a(f){var h=f.lastIndexOf("google/protobuf/");if(h>-1){var v=f.substring(h);if(v in _c)return v}return null}function l(f,h){try{if(Ui.isString(h)&&h.charAt(0)==="{"&&(h=JSON.parse(h)),!Ui.isString(h))i.setOptions(h.options).addJSON(h.nested);else{T_.filename=f;var v=T_(h,i,t),y,x=0;if(v.imports)for(;x<v.imports.length;++x)(y=a(v.imports[x])||i.resolvePath(f,v.imports[x]))&&c(y);if(v.weakImports)for(x=0;x<v.weakImports.length;++x)(y=a(v.weakImports[x])||i.resolvePath(f,v.weakImports[x]))&&c(y,!0)}}catch(U){s(U)}!o&&!u&&s(null,i)}function c(f,h){if(f=a(f)||f,!(i.files.indexOf(f)>-1)){if(i.files.push(f),f in _c){o?l(f,_c[f]):(++u,setTimeout(function(){--u,l(f,_c[f])}));return}if(o){var v;try{v=Ui.fs.readFileSync(f).toString("utf8")}catch(y){h||s(y);return}l(f,v)}else++u,i.fetch(f,function(y,x){if(--u,!!r){if(y){h?u||s(null,i):s(y);return}l(f,x)}})}}var u=0;Ui.isString(e)&&(e=[e]);for(var d=0,p;d<e.length;++d)(p=i.resolvePath("",e[d]))&&c(p);return o?(i.resolveAll(),i):(u||s(null,i),i)};Cn.prototype.loadSync=function(e,t){if(!Ui.isNode)throw Error("not supported");return this.load(e,t,vx)};Cn.prototype.resolveAll=function(){if(!this._needsRecursiveResolve)return this;if(this.deferred.length)throw Error("unresolvable extensions: "+this.deferred.map(function(e){return"'extend "+e.extend+"' in "+e.parent.fullName}).join(", "));return ph.prototype.resolveAll.call(this)};var hh=/^[A-Z]/;function gx(n,e){var t=e.parent.lookup(e.extend);if(t){var r=new fh(e.fullName,e.id,e.type,e.rule,void 0,e.options);return t.get(r.name)||(r.declaringField=e,e.extensionField=r,t.add(r)),!0}return!1}Cn.prototype._handleAdd=function(e){if(e instanceof fh)e.extend!==void 0&&!e.extensionField&&(gx(this,e)||this.deferred.push(e));else if(e instanceof D_)hh.test(e.name)&&(e.parent[e.name]=e.values);else if(!(e instanceof MB)){if(e instanceof S_)for(var t=0;t<this.deferred.length;)gx(this,this.deferred[t])?this.deferred.splice(t,1):++t;for(var r=0;r<e.nestedArray.length;++r)this._handleAdd(e._nestedArray[r]);hh.test(e.name)&&(e.parent[e.name]=e)}(e instanceof S_||e instanceof D_||e instanceof fh)&&(this._fullyQualifiedObjects[e.fullName]=e)};Cn.prototype._handleRemove=function(e){if(e instanceof fh){if(e.extend!==void 0)if(e.extensionField)e.extensionField.parent.remove(e.extensionField),e.extensionField=null;else{var t=this.deferred.indexOf(e);t>-1&&this.deferred.splice(t,1)}}else if(e instanceof D_)hh.test(e.name)&&delete e.parent[e.name];else if(e instanceof ph){for(var r=0;r<e.nestedArray.length;++r)this._handleRemove(e._nestedArray[r]);hh.test(e.name)&&delete e.parent[e.name]}delete this._fullyQualifiedObjects[e.fullName]};Cn._configure=function(n,e,t){S_=n,T_=e,_c=t}});var It=ie((fte,bx)=>{"use strict";var ct=bx.exports=Dr(),_x=i_(),x_,M_;ct.codegen=ZT();ct.fetch=YT();ct.path=XT();ct.fs=ct.inquire("fs");ct.toArray=function(e){if(e){for(var t=Object.keys(e),r=new Array(t.length),i=0;i<t.length;)r[i]=e[t[i++]];return r}return[]};ct.toObject=function(e){for(var t={},r=0;r<e.length;){var i=e[r++],o=e[r++];o!==void 0&&(t[i]=o)}return t};var AB=/\\/g,RB=/"/g;ct.isReserved=function(e){return/^(?:do|if|in|for|let|new|try|var|case|else|enum|eval|false|null|this|true|void|with|break|catch|class|const|super|throw|while|yield|delete|export|import|public|return|static|switch|typeof|default|extends|finally|package|private|continue|debugger|function|arguments|interface|protected|implements|instanceof)$/.test(e)};ct.safeProp=function(e){return!/^[$\w_]+$/.test(e)||ct.isReserved(e)?'["'+e.replace(AB,"\\\\").replace(RB,'\\"')+'"]':"."+e};ct.ucFirst=function(e){return e.charAt(0).toUpperCase()+e.substring(1)};var OB=/_([a-z])/g;ct.camelCase=function(e){return e.substring(0,1)+e.substring(1).replace(OB,function(t,r){return r.toUpperCase()})};ct.compareFieldsById=function(e,t){return e.id-t.id};ct.decorateType=function(e,t){if(e.$type)return t&&e.$type.name!==t&&(ct.decorateRoot.remove(e.$type),e.$type.name=t,ct.decorateRoot.add(e.$type)),e.$type;x_||(x_=dh());var r=new x_(t||e.name);return ct.decorateRoot.add(r),r.ctor=e,Object.defineProperty(e,"$type",{value:r,enumerable:!1}),Object.defineProperty(e.prototype,"$type",{value:r,enumerable:!1}),r};var kB=0;ct.decorateEnum=function(e){if(e.$type)return e.$type;M_||(M_=ir());var t=new M_("Enum"+kB++,e);return ct.decorateRoot.add(t),Object.defineProperty(e,"$type",{value:t,enumerable:!1}),t};ct.setProperty=function(e,t,r,i){function o(s,a,l){var c=a.shift();if(c==="__proto__"||c==="prototype")return s;if(a.length>0)s[c]=o(s[c]||{},a,l);else{var u=s[c];if(u&&i)return s;u&&(l=[].concat(u).concat(l)),s[c]=l}return s}if(typeof e!="object")throw TypeError("dst must be an object");if(!t)throw TypeError("path must be specified");return t=t.split("."),o(e,t,r)};Object.defineProperty(ct,"decorateRoot",{get:function(){return _x.decorated||(_x.decorated=new(mh()))}})});var $o=ie(wx=>{"use strict";var bc=wx,NB=It(),FB=["double","float","int32","uint32","sint32","fixed32","sfixed32","int64","uint64","sint64","fixed64","sfixed64","bool","string","bytes"];function wc(n,e){var t=0,r={};for(e|=0;t<n.length;)r[FB[t+e]]=n[t++];return r}bc.basic=wc([1,5,0,0,0,5,5,0,0,0,1,1,0,2,2]);bc.defaults=wc([0,0,0,0,0,0,0,0,0,0,0,0,!1,"",NB.emptyArray,null]);bc.long=wc([0,0,0,1,1],7);bc.mapKey=wc([0,0,0,5,5,0,0,0,1,1,0,2],2);bc.packed=wc([1,5,0,0,0,5,5,0,0,0,1,1,0])});var ji=ie((pte,Ex)=>{"use strict";Ex.exports=Dt;var Ec=Bi();((Dt.prototype=Object.create(Ec.prototype)).constructor=Dt).className="Field";var Cx=ir(),A_=$o(),ht=It(),Cc,PB=/^required|optional|repeated$/;Dt.fromJSON=function(e,t){var r=new Dt(e,t.id,t.type,t.rule,t.extend,t.options,t.comment);return t.edition&&(r._edition=t.edition),r._defaultEdition="proto3",r};function Dt(n,e,t,r,i,o,s){if(ht.isObject(r)?(s=i,o=r,r=i=void 0):ht.isObject(i)&&(s=o,o=i,i=void 0),Ec.call(this,n,o),!ht.isInteger(e)||e<0)throw TypeError("id must be a non-negative integer");if(!ht.isString(t))throw TypeError("type must be a string");if(r!==void 0&&!PB.test(r=r.toString().toLowerCase()))throw TypeError("rule must be a string rule");if(i!==void 0&&!ht.isString(i))throw TypeError("extend must be a string");r==="proto3_optional"&&(r="optional"),this.rule=r&&r!=="optional"?r:void 0,this.type=t,this.id=e,this.extend=i||void 0,this.repeated=r==="repeated",this.map=!1,this.message=null,this.partOf=null,this.typeDefault=null,this.defaultValue=null,this.long=ht.Long?A_.long[t]!==void 0:!1,this.bytes=t==="bytes",this.resolvedType=null,this.extensionField=null,this.declaringField=null,this.comment=s}Object.defineProperty(Dt.prototype,"required",{get:function(){return this._features.field_presence==="LEGACY_REQUIRED"}});Object.defineProperty(Dt.prototype,"optional",{get:function(){return!this.required}});Object.defineProperty(Dt.prototype,"delimited",{get:function(){return this.resolvedType instanceof Cc&&this._features.message_encoding==="DELIMITED"}});Object.defineProperty(Dt.prototype,"packed",{get:function(){return this._features.repeated_field_encoding==="PACKED"}});Object.defineProperty(Dt.prototype,"hasPresence",{get:function(){return this.repeated||this.map?!1:this.partOf||this.declaringField||this.extensionField||this._features.field_presence!=="IMPLICIT"}});Dt.prototype.setOption=function(e,t,r){return Ec.prototype.setOption.call(this,e,t,r)};Dt.prototype.toJSON=function(e){var t=e?!!e.keepComments:!1;return ht.toObject(["edition",this._editionToJSON(),"rule",this.rule!=="optional"&&this.rule||void 0,"type",this.type,"id",this.id,"extend",this.extend,"options",this.options,"comment",t?this.comment:void 0])};Dt.prototype.resolve=function(){if(this.resolved)return this;if((this.typeDefault=A_.defaults[this.type])===void 0?(this.resolvedType=(this.declaringField?this.declaringField.parent:this.parent).lookupTypeOrEnum(this.type),this.resolvedType instanceof Cc?this.typeDefault=null:this.typeDefault=this.resolvedType.values[Object.keys(this.resolvedType.values)[0]]):this.options&&this.options.proto3_optional&&(this.typeDefault=null),this.options&&this.options.default!=null&&(this.typeDefault=this.options.default,this.resolvedType instanceof Cx&&typeof this.typeDefault=="string"&&(this.typeDefault=this.resolvedType.values[this.typeDefault])),this.options&&(this.options.packed!==void 0&&this.resolvedType&&!(this.resolvedType instanceof Cx)&&delete this.options.packed,Object.keys(this.options).length||(this.options=void 0)),this.long)this.typeDefault=ht.Long.fromNumber(this.typeDefault,this.type.charAt(0)==="u"),Object.freeze&&Object.freeze(this.typeDefault);else if(this.bytes&&typeof this.typeDefault=="string"){var e;ht.base64.test(this.typeDefault)?ht.base64.decode(this.typeDefault,e=ht.newBuffer(ht.base64.length(this.typeDefault)),0):ht.utf8.write(this.typeDefault,e=ht.newBuffer(ht.utf8.length(this.typeDefault)),0),this.typeDefault=e}return this.map?this.defaultValue=ht.emptyObject:this.repeated?this.defaultValue=ht.emptyArray:this.defaultValue=this.typeDefault,this.parent instanceof Cc&&(this.parent.ctor.prototype[this.name]=this.defaultValue),Ec.prototype.resolve.call(this)};Dt.prototype._inferLegacyProtoFeatures=function(e){if(e!=="proto2"&&e!=="proto3")return{};var t={};if(this.rule==="required"&&(t.field_presence="LEGACY_REQUIRED"),this.parent&&A_.defaults[this.type]===void 0){var r=this.parent.get(this.type.split(".").pop());r&&r instanceof Cc&&r.group&&(t.message_encoding="DELIMITED")}return this.getOption("packed")===!0?t.repeated_field_encoding="PACKED":this.getOption("packed")===!1&&(t.repeated_field_encoding="EXPANDED"),t};Dt.prototype._resolveFeatures=function(e){return Ec.prototype._resolveFeatures.call(this,this._edition||e)};Dt.d=function(e,t,r,i){return typeof t=="function"?t=ht.decorateType(t).name:t&&typeof t=="object"&&(t=ht.decorateEnum(t).name),function(s,a){ht.decorateType(s.constructor).add(new Dt(a,e,t,r,{default:i}))}};Dt._configure=function(e){Cc=e}});var Uo=ie((mte,Sx)=>{"use strict";Sx.exports=En;var vh=Bi();((En.prototype=Object.create(vh.prototype)).constructor=En).className="OneOf";var Ix=ji(),gh=It();function En(n,e,t,r){if(Array.isArray(e)||(t=e,e=void 0),vh.call(this,n,t),!(e===void 0||Array.isArray(e)))throw TypeError("fieldNames must be an Array");this.oneof=e||[],this.fieldsArray=[],this.comment=r}En.fromJSON=function(e,t){return new En(e,t.oneof,t.options,t.comment)};En.prototype.toJSON=function(e){var t=e?!!e.keepComments:!1;return gh.toObject(["options",this.options,"oneof",this.oneof,"comment",t?this.comment:void 0])};function Dx(n){if(n.parent)for(var e=0;e<n.fieldsArray.length;++e)n.fieldsArray[e].parent||n.parent.add(n.fieldsArray[e])}En.prototype.add=function(e){if(!(e instanceof Ix))throw TypeError("field must be a Field");return e.parent&&e.parent!==this.parent&&e.parent.remove(e),this.oneof.push(e.name),this.fieldsArray.push(e),e.partOf=this,Dx(this),this};En.prototype.remove=function(e){if(!(e instanceof Ix))throw TypeError("field must be a Field");var t=this.fieldsArray.indexOf(e);if(t<0)throw Error(e+" is not a member of "+this);return this.fieldsArray.splice(t,1),t=this.oneof.indexOf(e.name),t>-1&&this.oneof.splice(t,1),e.partOf=null,this};En.prototype.onAdd=function(e){vh.prototype.onAdd.call(this,e);for(var t=this,r=0;r<this.oneof.length;++r){var i=e.get(this.oneof[r]);i&&!i.partOf&&(i.partOf=t,t.fieldsArray.push(i))}Dx(this)};En.prototype.onRemove=function(e){for(var t=0,r;t<this.fieldsArray.length;++t)(r=this.fieldsArray[t]).parent&&r.parent.remove(r);vh.prototype.onRemove.call(this,e)};Object.defineProperty(En.prototype,"isProto3Optional",{get:function(){if(this.fieldsArray==null||this.fieldsArray.length!==1)return!1;var n=this.fieldsArray[0];return n.options!=null&&n.options.proto3_optional===!0}});En.d=function(){for(var e=new Array(arguments.length),t=0;t<arguments.length;)e[t]=arguments[t++];return function(i,o){gh.decorateType(i.constructor).add(new En(o,e)),Object.defineProperty(i,o,{get:gh.oneOfGetter(e),set:gh.oneOfSetter(e)})}}});var Bi=ie((gte,Tx)=>{"use strict";Tx.exports=Ot;Ot.className="ReflectionObject";var LB=Uo(),Ic=It(),yh,VB={enum_type:"OPEN",field_presence:"EXPLICIT",json_format:"ALLOW",message_encoding:"LENGTH_PREFIXED",repeated_field_encoding:"PACKED",utf8_validation:"VERIFY"},jB={enum_type:"CLOSED",field_presence:"EXPLICIT",json_format:"LEGACY_BEST_EFFORT",message_encoding:"LENGTH_PREFIXED",repeated_field_encoding:"EXPANDED",utf8_validation:"NONE"},BB={enum_type:"OPEN",field_presence:"IMPLICIT",json_format:"ALLOW",message_encoding:"LENGTH_PREFIXED",repeated_field_encoding:"PACKED",utf8_validation:"VERIFY"};function Ot(n,e){if(!Ic.isString(n))throw TypeError("name must be a string");if(e&&!Ic.isObject(e))throw TypeError("options must be an object");this.options=e,this.parsedOptions=null,this.name=n,this._edition=null,this._defaultEdition="proto2",this._features={},this._featuresResolved=!1,this.parent=null,this.resolved=!1,this.comment=null,this.filename=null}Object.defineProperties(Ot.prototype,{root:{get:function(){for(var n=this;n.parent!==null;)n=n.parent;return n}},fullName:{get:function(){for(var n=[this.name],e=this.parent;e;)n.unshift(e.name),e=e.parent;return n.join(".")}}});Ot.prototype.toJSON=function(){throw Error()};Ot.prototype.onAdd=function(e){this.parent&&this.parent!==e&&this.parent.remove(this),this.parent=e,this.resolved=!1;var t=e.root;t instanceof yh&&t._handleAdd(this)};Ot.prototype.onRemove=function(e){var t=e.root;t instanceof yh&&t._handleRemove(this),this.parent=null,this.resolved=!1};Ot.prototype.resolve=function(){return this.resolved?this:(this.root instanceof yh&&(this.resolved=!0),this)};Ot.prototype._resolveFeaturesRecursive=function(e){return this._resolveFeatures(this._edition||e)};Ot.prototype._resolveFeatures=function(e){if(!this._featuresResolved){var t={};if(!e)throw new Error("Unknown edition for "+this.fullName);var r=Object.assign(this.options?Object.assign({},this.options.features):{},this._inferLegacyProtoFeatures(e));if(this._edition){if(e==="proto2")t=Object.assign({},jB);else if(e==="proto3")t=Object.assign({},BB);else if(e==="2023")t=Object.assign({},VB);else throw new Error("Unknown edition: "+e);this._features=Object.assign(t,r||{}),this._featuresResolved=!0;return}if(this.partOf instanceof LB){var i=Object.assign({},this.partOf._features);this._features=Object.assign(i,r||{})}else if(!this.declaringField)if(this.parent){var o=Object.assign({},this.parent._features);this._features=Object.assign(o,r||{})}else throw new Error("Unable to find a parent for "+this.fullName);this.extensionField&&(this.extensionField._features=this._features),this._featuresResolved=!0}};Ot.prototype._inferLegacyProtoFeatures=function(){return{}};Ot.prototype.getOption=function(e){if(this.options)return this.options[e]};Ot.prototype.setOption=function(e,t,r){return this.options||(this.options={}),/^features\./.test(e)?Ic.setProperty(this.options,e,t,r):(!r||this.options[e]===void 0)&&(this.getOption(e)!==t&&(this.resolved=!1),this.options[e]=t),this};Ot.prototype.setParsedOption=function(e,t,r){this.parsedOptions||(this.parsedOptions=[]);var i=this.parsedOptions;if(r){var o=i.find(function(l){return Object.prototype.hasOwnProperty.call(l,e)});if(o){var s=o[e];Ic.setProperty(s,r,t)}else o={},o[e]=Ic.setProperty({},r,t),i.push(o)}else{var a={};a[e]=t,i.push(a)}return this};Ot.prototype.setOptions=function(e,t){if(e)for(var r=Object.keys(e),i=0;i<r.length;++i)this.setOption(r[i],e[r[i]],t);return this};Ot.prototype.toString=function(){var e=this.constructor.className,t=this.fullName;return t.length?e+" "+t:e};Ot.prototype._editionToJSON=function(){if(!(!this._edition||this._edition==="proto3"))return this._edition};Ot._configure=function(n){yh=n}});var ir=ie((vte,Mx)=>{"use strict";Mx.exports=or;var R_=Bi();((or.prototype=Object.create(R_.prototype)).constructor=or).className="Enum";var xx=ga(),_h=It();function or(n,e,t,r,i,o){if(R_.call(this,n,t),e&&typeof e!="object")throw TypeError("values must be an object");if(this.valuesById={},this.values=Object.create(this.valuesById),this.comment=r,this.comments=i||{},this.valuesOptions=o,this._valuesFeatures={},this.reserved=void 0,e)for(var s=Object.keys(e),a=0;a<s.length;++a)typeof e[s[a]]=="number"&&(this.valuesById[this.values[s[a]]=e[s[a]]]=s[a])}or.prototype._resolveFeatures=function(e){return e=this._edition||e,R_.prototype._resolveFeatures.call(this,e),Object.keys(this.values).forEach(t=>{var r=Object.assign({},this._features);this._valuesFeatures[t]=Object.assign(r,this.valuesOptions&&this.valuesOptions[t]&&this.valuesOptions[t].features)}),this};or.fromJSON=function(e,t){var r=new or(e,t.values,t.options,t.comment,t.comments);return r.reserved=t.reserved,t.edition&&(r._edition=t.edition),r._defaultEdition="proto3",r};or.prototype.toJSON=function(e){var t=e?!!e.keepComments:!1;return _h.toObject(["edition",this._editionToJSON(),"options",this.options,"valuesOptions",this.valuesOptions,"values",this.values,"reserved",this.reserved&&this.reserved.length?this.reserved:void 0,"comment",t?this.comment:void 0,"comments",t?this.comments:void 0])};or.prototype.add=function(e,t,r,i){if(!_h.isString(e))throw TypeError("name must be a string");if(!_h.isInteger(t))throw TypeError("id must be an integer");if(this.values[e]!==void 0)throw Error("duplicate name '"+e+"' in "+this);if(this.isReservedId(t))throw Error("id "+t+" is reserved in "+this);if(this.isReservedName(e))throw Error("name '"+e+"' is reserved in "+this);if(this.valuesById[t]!==void 0){if(!(this.options&&this.options.allow_alias))throw Error("duplicate id "+t+" in "+this);this.values[e]=t}else this.valuesById[this.values[e]=t]=e;return i&&(this.valuesOptions===void 0&&(this.valuesOptions={}),this.valuesOptions[e]=i||null),this.comments[e]=r||null,this};or.prototype.remove=function(e){if(!_h.isString(e))throw TypeError("name must be a string");var t=this.values[e];if(t==null)throw Error("name '"+e+"' does not exist in "+this);return delete this.valuesById[t],delete this.values[e],delete this.comments[e],this.valuesOptions&&delete this.valuesOptions[e],this};or.prototype.isReservedId=function(e){return xx.isReservedId(this.reserved,e)};or.prototype.isReservedName=function(e){return xx.isReservedName(this.reserved,e)}});var I_=ie((yte,Rx)=>{"use strict";Rx.exports=$B;var UB=ir(),O_=$o(),k_=It();function Ax(n,e,t,r){return e.delimited?n("types[%i].encode(%s,w.uint32(%i)).uint32(%i)",t,r,(e.id<<3|3)>>>0,(e.id<<3|4)>>>0):n("types[%i].encode(%s,w.uint32(%i).fork()).ldelim()",t,r,(e.id<<3|2)>>>0)}function $B(n){for(var e=k_.codegen(["m","w"],n.name+"$encode")("if(!w)")("w=Writer.create()"),t,r,i=n.fieldsArray.slice().sort(k_.compareFieldsById),t=0;t<i.length;++t){var o=i[t].resolve(),s=n._fieldsArray.indexOf(o),a=o.resolvedType instanceof UB?"int32":o.type,l=O_.basic[a];r="m"+k_.safeProp(o.name),o.map?(e("if(%s!=null&&Object.hasOwnProperty.call(m,%j)){",r,o.name)("for(var ks=Object.keys(%s),i=0;i<ks.length;++i){",r)("w.uint32(%i).fork().uint32(%i).%s(ks[i])",(o.id<<3|2)>>>0,8|O_.mapKey[o.keyType],o.keyType),l===void 0?e("types[%i].encode(%s[ks[i]],w.uint32(18).fork()).ldelim().ldelim()",s,r):e(".uint32(%i).%s(%s[ks[i]]).ldelim()",16|l,a,r),e("}")("}")):o.repeated?(e("if(%s!=null&&%s.length){",r,r),o.packed&&O_.packed[a]!==void 0?e("w.uint32(%i).fork()",(o.id<<3|2)>>>0)("for(var i=0;i<%s.length;++i)",r)("w.%s(%s[i])",a,r)("w.ldelim()"):(e("for(var i=0;i<%s.length;++i)",r),l===void 0?Ax(e,o,s,r+"[i]"):e("w.uint32(%i).%s(%s[i])",(o.id<<3|l)>>>0,a,r)),e("}")):(o.optional&&e("if(%s!=null&&Object.hasOwnProperty.call(m,%j))",r,o.name),l===void 0?Ax(e,o,s,r):e("w.uint32(%i).%s(%s)",(o.id<<3|l)>>>0,a,r))}return e("return w")}});var kx=ie((_te,Ox)=>{"use strict";var Ie=Ox.exports=qT();Ie.build="light";function HB(n,e,t){return typeof e=="function"?(t=e,e=new Ie.Root):e||(e=new Ie.Root),e.load(n,t)}Ie.load=HB;function zB(n,e){return e||(e=new Ie.Root),e.loadSync(n)}Ie.loadSync=zB;Ie.encoder=I_();Ie.decoder=h_();Ie.verifier=g_();Ie.converter=__();Ie.ReflectionObject=Bi();Ie.Namespace=ga();Ie.Root=mh();Ie.Enum=ir();Ie.Type=dh();Ie.Field=ji();Ie.OneOf=Uo();Ie.MapField=oh();Ie.Service=ah();Ie.Method=sh();Ie.Message=lh();Ie.wrappers=b_();Ie.types=$o();Ie.util=It();Ie.ReflectionObject._configure(Ie.Root);Ie.Namespace._configure(Ie.Type,Ie.Service,Ie.Enum);Ie.Root._configure(Ie.Type);Ie.Field._configure(Ie.Type)});var F_=ie((bte,Px)=>{"use strict";Px.exports=Fx;var N_=/[\s{}=;:[\],'"()<>]/g,GB=/(?:"([^"\\]*(?:\\.[^"\\]*)*)")/g,qB=/(?:'([^'\\]*(?:\\.[^'\\]*)*)')/g,WB=/^ *[*/]+ */,ZB=/^\s*\*?\/*/,JB=/\n/g,YB=/\s/,QB=/\\(.?)/g,KB={0:"\0",r:"\r",n:`
`,t:"	"};function Nx(n){return n.replace(QB,function(e,t){switch(t){case"\\":case"":return t;default:return KB[t]||""}})}Fx.unescape=Nx;function Fx(n,e){n=n.toString();var t=0,r=n.length,i=1,o=0,s={},a=[],l=null;function c(D){return Error("illegal "+D+" (line "+i+")")}function u(){var D=l==="'"?qB:GB;D.lastIndex=t-1;var $=D.exec(n);if(!$)throw c("string");return t=D.lastIndex,y(l),l=null,Nx($[1])}function d(D){return n.charAt(D)}function p(D,$,q){var Q={type:n.charAt(D++),lineEmpty:!1,leading:q},De;e?De=2:De=3;var me=D-De,Ue;do if(--me<0||(Ue=n.charAt(me))===`
`){Q.lineEmpty=!0;break}while(Ue===" "||Ue==="	");for(var Ze=n.substring(D,$).split(JB),$e=0;$e<Ze.length;++$e)Ze[$e]=Ze[$e].replace(e?ZB:WB,"").trim();Q.text=Ze.join(`
`).trim(),s[i]=Q,o=i}function f(D){var $=h(D),q=n.substring(D,$),Q=/^\s*\/\//.test(q);return Q}function h(D){for(var $=D;$<r&&d($)!==`
`;)$++;return $}function v(){if(a.length>0)return a.shift();if(l)return u();var D,$,q,Q,De,me=t===0;do{if(t===r)return null;for(D=!1;YB.test(q=d(t));)if(q===`
`&&(me=!0,++i),++t===r)return null;if(d(t)==="/"){if(++t===r)throw c("comment");if(d(t)==="/")if(e){if(Q=t,De=!1,f(t-1)){De=!0;do if(t=h(t),t===r||(t++,!me))break;while(f(t))}else t=Math.min(r,h(t)+1);De&&(p(Q,t,me),me=!0),i++,D=!0}else{for(De=d(Q=t+1)==="/";d(++t)!==`
`;)if(t===r)return null;++t,De&&(p(Q,t-1,me),me=!0),++i,D=!0}else if((q=d(t))==="*"){Q=t+1,De=e||d(Q)==="*";do{if(q===`
`&&++i,++t===r)throw c("comment");$=q,q=d(t)}while($!=="*"||q!=="/");++t,De&&(p(Q,t-2,me),me=!0),D=!0}else return"/"}}while(D);var Ue=t;N_.lastIndex=0;var Ze=N_.test(d(Ue++));if(!Ze)for(;Ue<r&&!N_.test(d(Ue));)++Ue;var $e=n.substring(t,t=Ue);return($e==='"'||$e==="'")&&(l=$e),$e}function y(D){a.push(D)}function x(){if(!a.length){var D=v();if(D===null)return null;y(D)}return a[0]}function U(D,$){var q=x(),Q=q===D;if(Q)return v(),!0;if(!$)throw c("token '"+q+"', '"+D+"' expected");return!1}function B(D){var $=null,q;return D===void 0?(q=s[i-1],delete s[i-1],q&&(e||q.type==="*"||q.lineEmpty)&&($=q.leading?q.text:null)):(o<D&&x(),q=s[D],delete s[D],q&&!q.lineEmpty&&(e||q.type==="/")&&($=q.leading?null:q.text)),$}return Object.defineProperty({next:v,peek:x,push:y,skip:U,cmnt:B},"line",{get:function(){return i}})}});var $x=ie((wte,Ux)=>{"use strict";Ux.exports=si;si.filename=null;si.defaults={keepCase:!1};var XB=F_(),Lx=mh(),Vx=dh(),jx=ji(),e3=oh(),Bx=Uo(),t3=ir(),n3=ah(),r3=sh(),i3=Bi(),o3=$o(),P_=It(),s3=/^[1-9][0-9]*$/,a3=/^-?[1-9][0-9]*$/,l3=/^0[x][0-9a-fA-F]+$/,c3=/^-?0[x][0-9a-fA-F]+$/,u3=/^0[0-7]+$/,d3=/^-?0[0-7]+$/,f3=/^(?![eE])[0-9]*(?:\.[0-9]*)?(?:[eE][+-]?[0-9]+)?$/,Mr=/^[a-zA-Z_][a-zA-Z_0-9]*$/,Ar=/^(?:\.?[a-zA-Z_][a-zA-Z_0-9]*)(?:\.[a-zA-Z_][a-zA-Z_0-9]*)*$/;function si(n,e,t){e instanceof Lx||(t=e,e=new Lx),t||(t=si.defaults);var r=t.preferTrailingComment||!1,i=XB(n,t.alternateCommentMode||!1),o=i.next,s=i.push,a=i.peek,l=i.skip,c=i.cmnt,u=!0,d,p,f,h="proto2",v=e,y=[],x={},U=t.keepCase?function(R){return R}:P_.camelCase;function B(){y.forEach(R=>{R._edition=h,Object.keys(x).forEach(M=>{R.getOption(M)===void 0&&R.setOption(M,x[M],!0)})})}function D(R,M,k){var W=si.filename;return k||(si.filename=null),Error("illegal "+(M||"token")+" '"+R+"' ("+(W?W+", ":"")+"line "+i.line+")")}function $(){var R=[],M;do{if((M=o())!=='"'&&M!=="'")throw D(M);R.push(o()),l(M),M=a()}while(M==='"'||M==="'");return R.join("")}function q(R){var M=o();switch(M){case"'":case'"':return s(M),$();case"true":case"TRUE":return!0;case"false":case"FALSE":return!1}try{return De(M,!0)}catch{if(R&&Ar.test(M))return M;throw D(M,"value")}}function Q(R,M){var k,W;do if(M&&((k=a())==='"'||k==="'")){var G=$();if(R.push(G),h>=2023)throw D(G,"id")}else try{R.push([W=me(o()),l("to",!0)?me(o()):W])}catch(Xe){if(M&&Ar.test(k)&&h>=2023)R.push(k);else throw Xe}while(l(",",!0));var le={options:void 0};le.setOption=function(Xe,Nt){this.options===void 0&&(this.options={}),this.options[Xe]=Nt},rt(le,function(Nt){if(Nt==="option")kt(le,Nt),l(";");else throw D(Nt)},function(){Oc(le)})}function De(R,M){var k=1;switch(R.charAt(0)==="-"&&(k=-1,R=R.substring(1)),R){case"inf":case"INF":case"Inf":return k*(1/0);case"nan":case"NAN":case"Nan":case"NaN":return NaN;case"0":return 0}if(s3.test(R))return k*parseInt(R,10);if(l3.test(R))return k*parseInt(R,16);if(u3.test(R))return k*parseInt(R,8);if(f3.test(R))return k*parseFloat(R);throw D(R,"number",M)}function me(R,M){switch(R){case"max":case"MAX":case"Max":return 536870911;case"0":return 0}if(!M&&R.charAt(0)==="-")throw D(R,"id");if(a3.test(R))return parseInt(R,10);if(c3.test(R))return parseInt(R,16);if(d3.test(R))return parseInt(R,8);throw D(R,"id")}function Ue(){if(d!==void 0)throw D("package");if(d=o(),!Ar.test(d))throw D(d,"name");v=v.define(d),l(";")}function Ze(){var R=a(),M;switch(R){case"weak":M=f||(f=[]),o();break;case"public":o();default:M=p||(p=[]);break}R=$(),l(";"),M.push(R)}function $e(){if(l("="),h=$(),h<2023)throw D(h,"syntax");l(";")}function Fn(){if(l("="),h=$(),!["2023"].includes(h))throw D(h,"edition");l(";")}function Wo(R,M){switch(M){case"option":return kt(R,M),l(";"),!0;case"message":return _a(R,M),!0;case"enum":return Rr(R,M),!0;case"service":return _M(R,M),!0;case"extend":return wM(R,M),!0}return!1}function rt(R,M,k){var W=i.line;if(R&&(typeof R.comment!="string"&&(R.comment=c()),R.filename=si.filename),l("{",!0)){for(var G;(G=o())!=="}";)M(G);l(";",!0)}else k&&k(),l(";"),R&&(typeof R.comment!="string"||r)&&(R.comment=c(W)||R.comment)}function _a(R,M){if(!Mr.test(M=o()))throw D(M,"type name");var k=new Vx(M);rt(k,function(G){if(!Wo(k,G))switch(G){case"map":Hh(k,G);break;case"required":if(h!=="proto2")throw D(G);case"repeated":ot(k,G);break;case"optional":if(h==="proto3")ot(k,"proto3_optional");else{if(h!=="proto2")throw D(G);ot(k,"optional")}break;case"oneof":ar(k,G);break;case"extensions":Q(k.extensions||(k.extensions=[]));break;case"reserved":Q(k.reserved||(k.reserved=[]),!0);break;default:if(h==="proto2"||!Ar.test(G))throw D(G);s(G),ot(k,"optional");break}}),R.add(k),R===v&&y.push(k)}function ot(R,M,k){var W=o();if(W==="group"){Rc(R,M);return}for(;W.endsWith(".")||a().startsWith(".");)W+=o();if(!Ar.test(W))throw D(W,"type");var G=o();if(!Mr.test(G))throw D(G,"name");G=U(G),l("=");var le=new jx(G,me(o()),W,M,k);if(rt(le,function(Ht){if(Ht==="option")kt(le,Ht),l(";");else throw D(Ht)},function(){Oc(le)}),M==="proto3_optional"){var Xe=new Bx("_"+G);le.setOption("proto3_optional",!0),Xe.add(le),R.add(Xe)}else R.add(le);R===v&&y.push(le)}function Rc(R,M){if(h>=2023)throw D("group");var k=o();if(!Mr.test(k))throw D(k,"name");var W=P_.lcFirst(k);k===W&&(k=P_.ucFirst(k)),l("=");var G=me(o()),le=new Vx(k);le.group=!0;var Xe=new jx(W,G,k,M);Xe.filename=si.filename,rt(le,function(Ht){switch(Ht){case"option":kt(le,Ht),l(";");break;case"required":case"repeated":ot(le,Ht);break;case"optional":h==="proto3"?ot(le,"proto3_optional"):ot(le,"optional");break;case"message":_a(le,Ht);break;case"enum":Rr(le,Ht);break;case"reserved":Q(le.reserved||(le.reserved=[]),!0);break;default:throw D(Ht)}}),R.add(le).add(Xe)}function Hh(R){l("<");var M=o();if(o3.mapKey[M]===void 0)throw D(M,"type");l(",");var k=o();if(!Ar.test(k))throw D(k,"type");l(">");var W=o();if(!Mr.test(W))throw D(W,"name");l("=");var G=new e3(U(W),me(o()),M,k);rt(G,function(Xe){if(Xe==="option")kt(G,Xe),l(";");else throw D(Xe)},function(){Oc(G)}),R.add(G)}function ar(R,M){if(!Mr.test(M=o()))throw D(M,"name");var k=new Bx(U(M));rt(k,function(G){G==="option"?(kt(k,G),l(";")):(s(G),ot(k,"optional"))}),R.add(k)}function Rr(R,M){if(!Mr.test(M=o()))throw D(M,"name");var k=new t3(M);rt(k,function(G){switch(G){case"option":kt(k,G),l(";");break;case"reserved":Q(k.reserved||(k.reserved=[]),!0),k.reserved===void 0&&(k.reserved=[]);break;default:ba(k,G)}}),R.add(k),R===v&&y.push(k)}function ba(R,M){if(!Mr.test(M))throw D(M,"name");l("=");var k=me(o(),!0),W={options:void 0};W.getOption=function(G){return this.options[G]},W.setOption=function(G,le){i3.prototype.setOption.call(W,G,le)},W.setParsedOption=function(){},rt(W,function(le){if(le==="option")kt(W,le),l(";");else throw D(le)},function(){Oc(W)}),R.add(M,k,W.comment,W.parsedOptions||W.options)}function kt(R,M){var k,W,G=!0;for(M==="option"&&(M=o());M!=="=";){if(M==="("){var le=o();l(")"),M="("+le+")"}if(G){if(G=!1,M.includes(".")&&!M.includes("(")){var Xe=M.split(".");k=Xe[0]+".",M=Xe[1];continue}k=M}else W=W?W+=M:M;M=o()}var Nt=W?k.concat(W):k,Ht=wa(R,Nt);W=W&&W[0]==="."?W.slice(1):W,k=k&&k[k.length-1]==="."?k.slice(0,-1):k,yM(R,k,Ht,W)}function wa(R,M){if(l("{",!0)){for(var k={};!l("}",!0);){if(!Mr.test(St=o()))throw D(St,"name");if(St===null)throw D(St,"end of input");var W,G=St;if(l(":",!0),a()==="{")W=wa(R,M+"."+St);else if(a()==="["){W=[];var le;if(l("[",!0)){do le=q(!0),W.push(le);while(l(",",!0));l("]"),typeof le<"u"&&zh(R,M+"."+St,le)}}else W=q(!0),zh(R,M+"."+St,W);var Xe=k[G];Xe&&(W=[].concat(Xe).concat(W)),k[G]=W,l(",",!0),l(";",!0)}return k}var Nt=q(!0);return zh(R,M,Nt),Nt}function zh(R,M,k){if(v===R&&/^features\./.test(M)){x[M]=k;return}R.setOption&&R.setOption(M,k)}function yM(R,M,k,W){R.setParsedOption&&R.setParsedOption(M,k,W)}function Oc(R){if(l("[",!0)){do kt(R,"option");while(l(",",!0));l("]")}return R}function _M(R,M){if(!Mr.test(M=o()))throw D(M,"service name");var k=new n3(M);rt(k,function(G){if(!Wo(k,G))if(G==="rpc")bM(k,G);else throw D(G)}),R.add(k),R===v&&y.push(k)}function bM(R,M){var k=c(),W=M;if(!Mr.test(M=o()))throw D(M,"name");var G=M,le,Xe,Nt,Ht;if(l("("),l("stream",!0)&&(Xe=!0),!Ar.test(M=o())||(le=M,l(")"),l("returns"),l("("),l("stream",!0)&&(Ht=!0),!Ar.test(M=o())))throw D(M);Nt=M,l(")");var kc=new r3(G,W,le,Nt,Xe,Ht);kc.comment=k,rt(kc,function(Gh){if(Gh==="option")kt(kc,Gh),l(";");else throw D(Gh)}),R.add(kc)}function wM(R,M){if(!Ar.test(M=o()))throw D(M,"reference");var k=M;rt(null,function(G){switch(G){case"required":case"repeated":ot(R,G,k);break;case"optional":h==="proto3"?ot(R,"proto3_optional",k):ot(R,"optional",k);break;default:if(h==="proto2"||!Ar.test(G))throw D(G);s(G),ot(R,"optional",k);break}})}for(var St;(St=o())!==null;)switch(St){case"package":if(!u)throw D(St);Ue();break;case"import":if(!u)throw D(St);Ze();break;case"syntax":if(!u)throw D(St);$e();break;case"edition":if(!u)throw D(St);Fn();break;case"option":kt(v,St),l(";",!0);break;default:if(Wo(v,St)){u=!1;continue}throw D(St)}return B(),si.filename=null,{package:d,imports:p,weakImports:f,root:e}}});var Gx=ie((Cte,zx)=>{"use strict";zx.exports=sr;var h3=/\/|\./;function sr(n,e){h3.test(n)||(n="google/protobuf/"+n+".proto",e={nested:{google:{nested:{protobuf:{nested:e}}}}}),sr[n]=e}sr("any",{Any:{fields:{type_url:{type:"string",id:1},value:{type:"bytes",id:2}}}});var Hx;sr("duration",{Duration:Hx={fields:{seconds:{type:"int64",id:1},nanos:{type:"int32",id:2}}}});sr("timestamp",{Timestamp:Hx});sr("empty",{Empty:{fields:{}}});sr("struct",{Struct:{fields:{fields:{keyType:"string",type:"Value",id:1}}},Value:{oneofs:{kind:{oneof:["nullValue","numberValue","stringValue","boolValue","structValue","listValue"]}},fields:{nullValue:{type:"NullValue",id:1},numberValue:{type:"double",id:2},stringValue:{type:"string",id:3},boolValue:{type:"bool",id:4},structValue:{type:"Struct",id:5},listValue:{type:"ListValue",id:6}}},NullValue:{values:{NULL_VALUE:0}},ListValue:{fields:{values:{rule:"repeated",type:"Value",id:1}}}});sr("wrappers",{DoubleValue:{fields:{value:{type:"double",id:1}}},FloatValue:{fields:{value:{type:"float",id:1}}},Int64Value:{fields:{value:{type:"int64",id:1}}},UInt64Value:{fields:{value:{type:"uint64",id:1}}},Int32Value:{fields:{value:{type:"int32",id:1}}},UInt32Value:{fields:{value:{type:"uint32",id:1}}},BoolValue:{fields:{value:{type:"bool",id:1}}},StringValue:{fields:{value:{type:"string",id:1}}},BytesValue:{fields:{value:{type:"bytes",id:1}}}});sr("field_mask",{FieldMask:{fields:{paths:{rule:"repeated",type:"string",id:1}}}});sr.get=function(e){return sr[e]||null}});var Wx=ie((Ete,qx)=>{"use strict";var $i=qx.exports=kx();$i.build="full";$i.tokenize=F_();$i.parse=$x();$i.common=Gx();$i.Root._configure($i.Type,$i.parse,$i.common)});var Jx=ie((Ite,Zx)=>{"use strict";Zx.exports=Wx()});function Xh(n,e){return Object.is(n,e)}var pt=null,Pc=!1,ep=1,In=Symbol("SIGNAL");function ve(n){let e=pt;return pt=n,e}function tp(){return pt}var Ea={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,kind:"unknown",producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function Ia(n){if(Pc)throw new Error("");if(pt===null)return;pt.consumerOnSignalRead(n);let e=pt.nextProducerIndex++;if(Bc(pt),e<pt.producerNode.length&&pt.producerNode[e]!==n&&Ca(pt)){let t=pt.producerNode[e];jc(t,pt.producerIndexOfThis[e])}pt.producerNode[e]!==n&&(pt.producerNode[e]=n,pt.producerIndexOfThis[e]=Ca(pt)?J_(n,pt,e):0),pt.producerLastReadVersion[e]=n.version}function Z_(){ep++}function np(n){if(!(Ca(n)&&!n.dirty)&&!(!n.dirty&&n.lastCleanEpoch===ep)){if(!n.producerMustRecompute(n)&&!sp(n)){Kh(n);return}n.producerRecomputeValue(n),Kh(n)}}function rp(n){if(n.liveConsumerNode===void 0)return;let e=Pc;Pc=!0;try{for(let t of n.liveConsumerNode)t.dirty||OM(t)}finally{Pc=e}}function ip(){return pt?.consumerAllowSignalWrites!==!1}function OM(n){n.dirty=!0,rp(n),n.consumerMarkedDirty?.(n)}function Kh(n){n.dirty=!1,n.lastCleanEpoch=ep}function Vc(n){return n&&(n.nextProducerIndex=0),ve(n)}function op(n,e){if(ve(e),!(!n||n.producerNode===void 0||n.producerIndexOfThis===void 0||n.producerLastReadVersion===void 0)){if(Ca(n))for(let t=n.nextProducerIndex;t<n.producerNode.length;t++)jc(n.producerNode[t],n.producerIndexOfThis[t]);for(;n.producerNode.length>n.nextProducerIndex;)n.producerNode.pop(),n.producerLastReadVersion.pop(),n.producerIndexOfThis.pop()}}function sp(n){Bc(n);for(let e=0;e<n.producerNode.length;e++){let t=n.producerNode[e],r=n.producerLastReadVersion[e];if(r!==t.version||(np(t),r!==t.version))return!0}return!1}function ap(n){if(Bc(n),Ca(n))for(let e=0;e<n.producerNode.length;e++)jc(n.producerNode[e],n.producerIndexOfThis[e]);n.producerNode.length=n.producerLastReadVersion.length=n.producerIndexOfThis.length=0,n.liveConsumerNode&&(n.liveConsumerNode.length=n.liveConsumerIndexOfThis.length=0)}function J_(n,e,t){if(Y_(n),n.liveConsumerNode.length===0&&Q_(n))for(let r=0;r<n.producerNode.length;r++)n.producerIndexOfThis[r]=J_(n.producerNode[r],n,r);return n.liveConsumerIndexOfThis.push(t),n.liveConsumerNode.push(e)-1}function jc(n,e){if(Y_(n),n.liveConsumerNode.length===1&&Q_(n))for(let r=0;r<n.producerNode.length;r++)jc(n.producerNode[r],n.producerIndexOfThis[r]);let t=n.liveConsumerNode.length-1;if(n.liveConsumerNode[e]=n.liveConsumerNode[t],n.liveConsumerIndexOfThis[e]=n.liveConsumerIndexOfThis[t],n.liveConsumerNode.length--,n.liveConsumerIndexOfThis.length--,e<n.liveConsumerNode.length){let r=n.liveConsumerIndexOfThis[e],i=n.liveConsumerNode[e];Bc(i),i.producerIndexOfThis[r]=e}}function Ca(n){return n.consumerIsAlwaysLive||(n?.liveConsumerNode?.length??0)>0}function Bc(n){n.producerNode??=[],n.producerIndexOfThis??=[],n.producerLastReadVersion??=[]}function Y_(n){n.liveConsumerNode??=[],n.liveConsumerIndexOfThis??=[]}function Q_(n){return n.producerNode!==void 0}function lp(n,e){let t=Object.create(kM);t.computation=n,e!==void 0&&(t.equal=e);let r=()=>{if(np(t),Ia(t),t.value===Lc)throw t.error;return t.value};return r[In]=t,r}var Yh=Symbol("UNSET"),Qh=Symbol("COMPUTING"),Lc=Symbol("ERRORED"),kM=X(S({},Ea),{value:Yh,dirty:!0,error:null,equal:Xh,kind:"computed",producerMustRecompute(n){return n.value===Yh||n.value===Qh},producerRecomputeValue(n){if(n.value===Qh)throw new Error("Detected cycle in computations.");let e=n.value;n.value=Qh;let t=Vc(n),r,i=!1;try{r=n.computation(),ve(null),i=e!==Yh&&e!==Lc&&r!==Lc&&n.equal(e,r)}catch(o){r=Lc,n.error=o}finally{op(n,t)}if(i){n.value=e;return}n.value=r,n.version++}});function NM(){throw new Error}var K_=NM;function X_(n){K_(n)}function cp(n){K_=n}var FM=null;function up(n,e){let t=Object.create(Uc);t.value=n,e!==void 0&&(t.equal=e);let r=()=>(Ia(t),t.value);return r[In]=t,r}function Da(n,e){ip()||X_(n),n.equal(n.value,e)||(n.value=e,PM(n))}function dp(n,e){ip()||X_(n),Da(n,e(n.value))}var Uc=X(S({},Ea),{equal:Xh,value:void 0,kind:"signal"});function PM(n){n.version++,Z_(),rp(n),FM?.()}function fp(n){let e=ve(null);try{return n()}finally{ve(e)}}var hp;function Sa(){return hp}function Or(n){let e=hp;return hp=n,e}var $c=Symbol("NotFound");function se(n){return typeof n=="function"}function Jo(n){let t=n(r=>{Error.call(r),r.stack=new Error().stack});return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}var Hc=Jo(n=>function(t){n(this),this.message=t?`${t.length} errors occurred during unsubscription:
${t.map((r,i)=>`${i+1}) ${r.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=t});function qi(n,e){if(n){let t=n.indexOf(e);0<=t&&n.splice(t,1)}}var Le=class n{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;let{_parentage:t}=this;if(t)if(this._parentage=null,Array.isArray(t))for(let o of t)o.remove(this);else t.remove(this);let{initialTeardown:r}=this;if(se(r))try{r()}catch(o){e=o instanceof Hc?o.errors:[o]}let{_finalizers:i}=this;if(i){this._finalizers=null;for(let o of i)try{e0(o)}catch(s){e=e??[],s instanceof Hc?e=[...e,...s.errors]:e.push(s)}}if(e)throw new Hc(e)}}add(e){var t;if(e&&e!==this)if(this.closed)e0(e);else{if(e instanceof n){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(t=this._finalizers)!==null&&t!==void 0?t:[]).push(e)}}_hasParent(e){let{_parentage:t}=this;return t===e||Array.isArray(t)&&t.includes(e)}_addParent(e){let{_parentage:t}=this;this._parentage=Array.isArray(t)?(t.push(e),t):t?[t,e]:e}_removeParent(e){let{_parentage:t}=this;t===e?this._parentage=null:Array.isArray(t)&&qi(t,e)}remove(e){let{_finalizers:t}=this;t&&qi(t,e),e instanceof n&&e._removeParent(this)}};Le.EMPTY=(()=>{let n=new Le;return n.closed=!0,n})();var pp=Le.EMPTY;function zc(n){return n instanceof Le||n&&"closed"in n&&se(n.remove)&&se(n.add)&&se(n.unsubscribe)}function e0(n){se(n)?n():n.unsubscribe()}var Pn={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var Yo={setTimeout(n,e,...t){let{delegate:r}=Yo;return r?.setTimeout?r.setTimeout(n,e,...t):setTimeout(n,e,...t)},clearTimeout(n){let{delegate:e}=Yo;return(e?.clearTimeout||clearTimeout)(n)},delegate:void 0};function Gc(n){Yo.setTimeout(()=>{let{onUnhandledError:e}=Pn;if(e)e(n);else throw n})}function Wi(){}var t0=mp("C",void 0,void 0);function n0(n){return mp("E",void 0,n)}function r0(n){return mp("N",n,void 0)}function mp(n,e,t){return{kind:n,value:e,error:t}}var Zi=null;function Qo(n){if(Pn.useDeprecatedSynchronousErrorHandling){let e=!Zi;if(e&&(Zi={errorThrown:!1,error:null}),n(),e){let{errorThrown:t,error:r}=Zi;if(Zi=null,t)throw r}}else n()}function i0(n){Pn.useDeprecatedSynchronousErrorHandling&&Zi&&(Zi.errorThrown=!0,Zi.error=n)}var Ji=class extends Le{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,zc(e)&&e.add(this)):this.destination=$M}static create(e,t,r){return new kr(e,t,r)}next(e){this.isStopped?vp(r0(e),this):this._next(e)}error(e){this.isStopped?vp(n0(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?vp(t0,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},BM=Function.prototype.bind;function gp(n,e){return BM.call(n,e)}var yp=class{constructor(e){this.partialObserver=e}next(e){let{partialObserver:t}=this;if(t.next)try{t.next(e)}catch(r){qc(r)}}error(e){let{partialObserver:t}=this;if(t.error)try{t.error(e)}catch(r){qc(r)}else qc(e)}complete(){let{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(t){qc(t)}}},kr=class extends Ji{constructor(e,t,r){super();let i;if(se(e)||!e)i={next:e??void 0,error:t??void 0,complete:r??void 0};else{let o;this&&Pn.useDeprecatedNextContext?(o=Object.create(e),o.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&gp(e.next,o),error:e.error&&gp(e.error,o),complete:e.complete&&gp(e.complete,o)}):i=e}this.destination=new yp(i)}};function qc(n){Pn.useDeprecatedSynchronousErrorHandling?i0(n):Gc(n)}function UM(n){throw n}function vp(n,e){let{onStoppedNotification:t}=Pn;t&&Yo.setTimeout(()=>t(n,e))}var $M={closed:!0,next:Wi,error:UM,complete:Wi};var Ko=typeof Symbol=="function"&&Symbol.observable||"@@observable";function zt(n){return n}function _p(...n){return bp(n)}function bp(n){return n.length===0?zt:n.length===1?n[0]:function(t){return n.reduce((r,i)=>i(r),t)}}var Z=(()=>{class n{constructor(t){t&&(this._subscribe=t)}lift(t){let r=new n;return r.source=this,r.operator=t,r}subscribe(t,r,i){let o=zM(t)?t:new kr(t,r,i);return Qo(()=>{let{operator:s,source:a}=this;o.add(s?s.call(o,a):a?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(t){try{return this._subscribe(t)}catch(r){t.error(r)}}forEach(t,r){return r=o0(r),new r((i,o)=>{let s=new kr({next:a=>{try{t(a)}catch(l){o(l),s.unsubscribe()}},error:o,complete:i});this.subscribe(s)})}_subscribe(t){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(t)}[Ko](){return this}pipe(...t){return bp(t)(this)}toPromise(t){return t=o0(t),new t((r,i)=>{let o;this.subscribe(s=>o=s,s=>i(s),()=>r(o))})}}return n.create=e=>new n(e),n})();function o0(n){var e;return(e=n??Pn.Promise)!==null&&e!==void 0?e:Promise}function HM(n){return n&&se(n.next)&&se(n.error)&&se(n.complete)}function zM(n){return n&&n instanceof Ji||HM(n)&&zc(n)}function wp(n){return se(n?.lift)}function K(n){return e=>{if(wp(e))return e.lift(function(t){try{return n(t,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function ne(n,e,t,r,i){return new Cp(n,e,t,r,i)}var Cp=class extends Ji{constructor(e,t,r,i,o,s){super(e),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=t?function(a){try{t(a)}catch(l){e.error(l)}}:super._next,this._error=i?function(a){try{i(a)}catch(l){e.error(l)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:t}=this;super.unsubscribe(),!t&&((e=this.onFinalize)===null||e===void 0||e.call(this))}}};function Xo(){return K((n,e)=>{let t=null;n._refCount++;let r=ne(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount){t=null;return}let i=n._connection,o=t;t=null,i&&(!o||i===o)&&i.unsubscribe(),e.unsubscribe()});n.subscribe(r),r.closed||(t=n.connect())})}var ai=class extends Z{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,wp(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){let e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new Le;let t=this.getSubject();e.add(this.source.subscribe(ne(t,void 0,()=>{this._teardown(),t.complete()},r=>{this._teardown(),t.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=Le.EMPTY)}return e}refCount(){return Xo()(this)}};var es={schedule(n){let e=requestAnimationFrame,t=cancelAnimationFrame,{delegate:r}=es;r&&(e=r.requestAnimationFrame,t=r.cancelAnimationFrame);let i=e(o=>{t=void 0,n(o)});return new Le(()=>t?.(i))},requestAnimationFrame(...n){let{delegate:e}=es;return(e?.requestAnimationFrame||requestAnimationFrame)(...n)},cancelAnimationFrame(...n){let{delegate:e}=es;return(e?.cancelAnimationFrame||cancelAnimationFrame)(...n)},delegate:void 0};var s0=Jo(n=>function(){n(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var re=(()=>{class n extends Z{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(t){let r=new Wc(this,this);return r.operator=t,r}_throwIfClosed(){if(this.closed)throw new s0}next(t){Qo(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let r of this.currentObservers)r.next(t)}})}error(t){Qo(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=t;let{observers:r}=this;for(;r.length;)r.shift().error(t)}})}complete(){Qo(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:t}=this;for(;t.length;)t.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var t;return((t=this.observers)===null||t===void 0?void 0:t.length)>0}_trySubscribe(t){return this._throwIfClosed(),super._trySubscribe(t)}_subscribe(t){return this._throwIfClosed(),this._checkFinalizedStatuses(t),this._innerSubscribe(t)}_innerSubscribe(t){let{hasError:r,isStopped:i,observers:o}=this;return r||i?pp:(this.currentObservers=null,o.push(t),new Le(()=>{this.currentObservers=null,qi(o,t)}))}_checkFinalizedStatuses(t){let{hasError:r,thrownError:i,isStopped:o}=this;r?t.error(i):o&&t.complete()}asObservable(){let t=new Z;return t.source=this,t}}return n.create=(e,t)=>new Wc(e,t),n})(),Wc=class extends re{constructor(e,t){super(),this.destination=e,this.source=t}next(e){var t,r;(r=(t=this.destination)===null||t===void 0?void 0:t.next)===null||r===void 0||r.call(t,e)}error(e){var t,r;(r=(t=this.destination)===null||t===void 0?void 0:t.error)===null||r===void 0||r.call(t,e)}complete(){var e,t;(t=(e=this.destination)===null||e===void 0?void 0:e.complete)===null||t===void 0||t.call(e)}_subscribe(e){var t,r;return(r=(t=this.source)===null||t===void 0?void 0:t.subscribe(e))!==null&&r!==void 0?r:pp}};var _e=class extends re{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){let t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){let{hasError:e,thrownError:t,_value:r}=this;if(e)throw t;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}};var Ta={now(){return(Ta.delegate||Date).now()},delegate:void 0};var Zc=class extends re{constructor(e=1/0,t=1/0,r=Ta){super(),this._bufferSize=e,this._windowTime=t,this._timestampProvider=r,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=t===1/0,this._bufferSize=Math.max(1,e),this._windowTime=Math.max(1,t)}next(e){let{isStopped:t,_buffer:r,_infiniteTimeWindow:i,_timestampProvider:o,_windowTime:s}=this;t||(r.push(e),!i&&r.push(o.now()+s)),this._trimBuffer(),super.next(e)}_subscribe(e){this._throwIfClosed(),this._trimBuffer();let t=this._innerSubscribe(e),{_infiniteTimeWindow:r,_buffer:i}=this,o=i.slice();for(let s=0;s<o.length&&!e.closed;s+=r?1:2)e.next(o[s]);return this._checkFinalizedStatuses(e),t}_trimBuffer(){let{_bufferSize:e,_timestampProvider:t,_buffer:r,_infiniteTimeWindow:i}=this,o=(i?1:2)*e;if(e<1/0&&o<r.length&&r.splice(0,r.length-o),!i){let s=t.now(),a=0;for(let l=1;l<r.length&&r[l]<=s;l+=2)a=l;a&&r.splice(0,a+1)}}};var Jc=class extends Le{constructor(e,t){super()}schedule(e,t=0){return this}};var xa={setInterval(n,e,...t){let{delegate:r}=xa;return r?.setInterval?r.setInterval(n,e,...t):setInterval(n,e,...t)},clearInterval(n){let{delegate:e}=xa;return(e?.clearInterval||clearInterval)(n)},delegate:void 0};var li=class extends Jc{constructor(e,t){super(e,t),this.scheduler=e,this.work=t,this.pending=!1}schedule(e,t=0){var r;if(this.closed)return this;this.state=e;let i=this.id,o=this.scheduler;return i!=null&&(this.id=this.recycleAsyncId(o,i,t)),this.pending=!0,this.delay=t,this.id=(r=this.id)!==null&&r!==void 0?r:this.requestAsyncId(o,this.id,t),this}requestAsyncId(e,t,r=0){return xa.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,t,r=0){if(r!=null&&this.delay===r&&this.pending===!1)return t;t!=null&&xa.clearInterval(t)}execute(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;let r=this._execute(e,t);if(r)return r;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,t){let r=!1,i;try{this.work(e)}catch(o){r=!0,i=o||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){let{id:e,scheduler:t}=this,{actions:r}=t;this.work=this.state=this.scheduler=null,this.pending=!1,qi(r,this),e!=null&&(this.id=this.recycleAsyncId(t,e,null)),this.delay=null,super.unsubscribe()}}};var GM=1,Ep,Ip={};function a0(n){return n in Ip?(delete Ip[n],!0):!1}var l0={setImmediate(n){let e=GM++;return Ip[e]=!0,Ep||(Ep=Promise.resolve()),Ep.then(()=>a0(e)&&n()),e},clearImmediate(n){a0(n)}};var{setImmediate:qM,clearImmediate:WM}=l0,Ma={setImmediate(...n){let{delegate:e}=Ma;return(e?.setImmediate||qM)(...n)},clearImmediate(n){let{delegate:e}=Ma;return(e?.clearImmediate||WM)(n)},delegate:void 0};var Yc=class extends li{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}requestAsyncId(e,t,r=0){return r!==null&&r>0?super.requestAsyncId(e,t,r):(e.actions.push(this),e._scheduled||(e._scheduled=Ma.setImmediate(e.flush.bind(e,void 0))))}recycleAsyncId(e,t,r=0){var i;if(r!=null?r>0:this.delay>0)return super.recycleAsyncId(e,t,r);let{actions:o}=e;t!=null&&((i=o[o.length-1])===null||i===void 0?void 0:i.id)!==t&&(Ma.clearImmediate(t),e._scheduled===t&&(e._scheduled=void 0))}};var ts=class n{constructor(e,t=n.now){this.schedulerActionCtor=e,this.now=t}schedule(e,t=0,r){return new this.schedulerActionCtor(this,e).schedule(r,t)}};ts.now=Ta.now;var ci=class extends ts{constructor(e,t=ts.now){super(e,t),this.actions=[],this._active=!1}flush(e){let{actions:t}=this;if(this._active){t.push(e);return}let r;this._active=!0;do if(r=e.execute(e.state,e.delay))break;while(e=t.shift());if(this._active=!1,r){for(;e=t.shift();)e.unsubscribe();throw r}}};var Qc=class extends ci{flush(e){this._active=!0;let t=this._scheduled;this._scheduled=void 0;let{actions:r}=this,i;e=e||r.shift();do if(i=e.execute(e.state,e.delay))break;while((e=r[0])&&e.id===t&&r.shift());if(this._active=!1,i){for(;(e=r[0])&&e.id===t&&r.shift();)e.unsubscribe();throw i}}};var Dp=new Qc(Yc);var Aa=new ci(li),c0=Aa;var Kc=class extends li{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}requestAsyncId(e,t,r=0){return r!==null&&r>0?super.requestAsyncId(e,t,r):(e.actions.push(this),e._scheduled||(e._scheduled=es.requestAnimationFrame(()=>e.flush(void 0))))}recycleAsyncId(e,t,r=0){var i;if(r!=null?r>0:this.delay>0)return super.recycleAsyncId(e,t,r);let{actions:o}=e;t!=null&&t===e._scheduled&&((i=o[o.length-1])===null||i===void 0?void 0:i.id)!==t&&(es.cancelAnimationFrame(t),e._scheduled=void 0)}};var Xc=class extends ci{flush(e){this._active=!0;let t;e?t=e.id:(t=this._scheduled,this._scheduled=void 0);let{actions:r}=this,i;e=e||r.shift();do if(i=e.execute(e.state,e.delay))break;while((e=r[0])&&e.id===t&&r.shift());if(this._active=!1,i){for(;(e=r[0])&&e.id===t&&r.shift();)e.unsubscribe();throw i}}};var Sp=new Xc(Kc);var Kt=new Z(n=>n.complete());function eu(n){return n&&se(n.schedule)}function u0(n){return n[n.length-1]}function tu(n){return se(u0(n))?n.pop():void 0}function ui(n){return eu(u0(n))?n.pop():void 0}function f0(n,e,t,r){function i(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(u){try{c(r.next(u))}catch(d){s(d)}}function l(u){try{c(r.throw(u))}catch(d){s(d)}}function c(u){u.done?o(u.value):i(u.value).then(a,l)}c((r=r.apply(n,e||[])).next())})}function d0(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Yi(n){return this instanceof Yi?(this.v=n,this):new Yi(n)}function h0(n,e,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=t.apply(n,e||[]),i,o=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",s),i[Symbol.asyncIterator]=function(){return this},i;function s(f){return function(h){return Promise.resolve(h).then(f,d)}}function a(f,h){r[f]&&(i[f]=function(v){return new Promise(function(y,x){o.push([f,v,y,x])>1||l(f,v)})},h&&(i[f]=h(i[f])))}function l(f,h){try{c(r[f](h))}catch(v){p(o[0][3],v)}}function c(f){f.value instanceof Yi?Promise.resolve(f.value.v).then(u,d):p(o[0][2],f)}function u(f){l("next",f)}function d(f){l("throw",f)}function p(f,h){f(h),o.shift(),o.length&&l(o[0][0],o[0][1])}}function p0(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=n[Symbol.asyncIterator],t;return e?e.call(n):(n=typeof d0=="function"?d0(n):n[Symbol.iterator](),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(o){t[o]=n[o]&&function(s){return new Promise(function(a,l){s=n[o](s),i(a,l,s.done,s.value)})}}function i(o,s,a,l){Promise.resolve(l).then(function(c){o({value:c,done:a})},s)}}var nu=n=>n&&typeof n.length=="number"&&typeof n!="function";function ru(n){return se(n?.then)}function iu(n){return se(n[Ko])}function ou(n){return Symbol.asyncIterator&&se(n?.[Symbol.asyncIterator])}function su(n){return new TypeError(`You provided ${n!==null&&typeof n=="object"?"an invalid object":`'${n}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function ZM(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var au=ZM();function lu(n){return se(n?.[au])}function cu(n){return h0(this,arguments,function*(){let t=n.getReader();try{for(;;){let{value:r,done:i}=yield Yi(t.read());if(i)return yield Yi(void 0);yield yield Yi(r)}}finally{t.releaseLock()}})}function uu(n){return se(n?.getReader)}function Je(n){if(n instanceof Z)return n;if(n!=null){if(iu(n))return JM(n);if(nu(n))return YM(n);if(ru(n))return QM(n);if(ou(n))return m0(n);if(lu(n))return KM(n);if(uu(n))return XM(n)}throw su(n)}function JM(n){return new Z(e=>{let t=n[Ko]();if(se(t.subscribe))return t.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function YM(n){return new Z(e=>{for(let t=0;t<n.length&&!e.closed;t++)e.next(n[t]);e.complete()})}function QM(n){return new Z(e=>{n.then(t=>{e.closed||(e.next(t),e.complete())},t=>e.error(t)).then(null,Gc)})}function KM(n){return new Z(e=>{for(let t of n)if(e.next(t),e.closed)return;e.complete()})}function m0(n){return new Z(e=>{eA(n,e).catch(t=>e.error(t))})}function XM(n){return m0(cu(n))}function eA(n,e){var t,r,i,o;return f0(this,void 0,void 0,function*(){try{for(t=p0(n);r=yield t.next(),!r.done;){let s=r.value;if(e.next(s),e.closed)return}}catch(s){i={error:s}}finally{try{r&&!r.done&&(o=t.return)&&(yield o.call(t))}finally{if(i)throw i.error}}e.complete()})}function Xt(n,e,t,r=0,i=!1){let o=e.schedule(function(){t(),i?n.add(this.schedule(null,r)):this.unsubscribe()},r);if(n.add(o),!i)return o}function du(n,e=0){return K((t,r)=>{t.subscribe(ne(r,i=>Xt(r,n,()=>r.next(i),e),()=>Xt(r,n,()=>r.complete(),e),i=>Xt(r,n,()=>r.error(i),e)))})}function fu(n,e=0){return K((t,r)=>{r.add(n.schedule(()=>t.subscribe(r),e))})}function g0(n,e){return Je(n).pipe(fu(e),du(e))}function v0(n,e){return Je(n).pipe(fu(e),du(e))}function y0(n,e){return new Z(t=>{let r=0;return e.schedule(function(){r===n.length?t.complete():(t.next(n[r++]),t.closed||this.schedule())})})}function _0(n,e){return new Z(t=>{let r;return Xt(t,e,()=>{r=n[au](),Xt(t,e,()=>{let i,o;try{({value:i,done:o}=r.next())}catch(s){t.error(s);return}o?t.complete():t.next(i)},0,!0)}),()=>se(r?.return)&&r.return()})}function hu(n,e){if(!n)throw new Error("Iterable cannot be null");return new Z(t=>{Xt(t,e,()=>{let r=n[Symbol.asyncIterator]();Xt(t,e,()=>{r.next().then(i=>{i.done?t.complete():t.next(i.value)})},0,!0)})})}function b0(n,e){return hu(cu(n),e)}function w0(n,e){if(n!=null){if(iu(n))return g0(n,e);if(nu(n))return y0(n,e);if(ru(n))return v0(n,e);if(ou(n))return hu(n,e);if(lu(n))return _0(n,e);if(uu(n))return b0(n,e)}throw su(n)}function He(n,e){return e?w0(n,e):Je(n)}function z(...n){let e=ui(n);return He(n,e)}function di(n,e){let t=se(n)?n:()=>n,r=i=>i.error(t());return new Z(e?i=>e.schedule(r,0,i):r)}function Qi(n){return!!n&&(n instanceof Z||se(n.lift)&&se(n.subscribe))}var Nr=Jo(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});function C0(n){return n instanceof Date&&!isNaN(n)}function Y(n,e){return K((t,r)=>{let i=0;t.subscribe(ne(r,o=>{r.next(n.call(e,o,i++))}))})}var{isArray:tA}=Array;function nA(n,e){return tA(e)?n(...e):n(e)}function pu(n){return Y(e=>nA(n,e))}var{isArray:rA}=Array,{getPrototypeOf:iA,prototype:oA,keys:sA}=Object;function mu(n){if(n.length===1){let e=n[0];if(rA(e))return{args:e,keys:null};if(aA(e)){let t=sA(e);return{args:t.map(r=>e[r]),keys:t}}}return{args:n,keys:null}}function aA(n){return n&&typeof n=="object"&&iA(n)===oA}function gu(n,e){return n.reduce((t,r,i)=>(t[r]=e[i],t),{})}function Ki(...n){let e=ui(n),t=tu(n),{args:r,keys:i}=mu(n);if(r.length===0)return He([],e);let o=new Z(lA(r,e,i?s=>gu(i,s):zt));return t?o.pipe(pu(t)):o}function lA(n,e,t=zt){return r=>{E0(e,()=>{let{length:i}=n,o=new Array(i),s=i,a=i;for(let l=0;l<i;l++)E0(e,()=>{let c=He(n[l],e),u=!1;c.subscribe(ne(r,d=>{o[l]=d,u||(u=!0,a--),a||r.next(t(o.slice()))},()=>{--s||r.complete()}))},r)},r)}}function E0(n,e,t){n?Xt(t,n,e):e()}function I0(n,e,t,r,i,o,s,a){let l=[],c=0,u=0,d=!1,p=()=>{d&&!l.length&&!c&&e.complete()},f=v=>c<r?h(v):l.push(v),h=v=>{o&&e.next(v),c++;let y=!1;Je(t(v,u++)).subscribe(ne(e,x=>{i?.(x),o?f(x):e.next(x)},()=>{y=!0},void 0,()=>{if(y)try{for(c--;l.length&&c<r;){let x=l.shift();s?Xt(e,s,()=>h(x)):h(x)}p()}catch(x){e.error(x)}}))};return n.subscribe(ne(e,f,()=>{d=!0,p()})),()=>{a?.()}}function Ye(n,e,t=1/0){return se(e)?Ye((r,i)=>Y((o,s)=>e(r,o,i,s))(Je(n(r,i))),t):(typeof e=="number"&&(t=e),K((r,i)=>I0(r,i,n,t)))}function ns(n=1/0){return Ye(zt,n)}function D0(){return ns(1)}function fi(...n){return D0()(He(n,ui(n)))}function vu(n){return new Z(e=>{Je(n()).subscribe(e)})}function Ra(...n){let e=tu(n),{args:t,keys:r}=mu(n),i=new Z(o=>{let{length:s}=t;if(!s){o.complete();return}let a=new Array(s),l=s,c=s;for(let u=0;u<s;u++){let d=!1;Je(t[u]).subscribe(ne(o,p=>{d||(d=!0,c--),a[u]=p},()=>l--,void 0,()=>{(!l||!d)&&(c||o.next(r?gu(r,a):a),o.complete())}))}});return e?i.pipe(pu(e)):i}function S0(n=0,e,t=c0){let r=-1;return e!=null&&(eu(e)?t=e:r=e),new Z(i=>{let o=C0(n)?+n-t.now():n;o<0&&(o=0);let s=0;return t.schedule(function(){i.closed||(i.next(s++),0<=r?this.schedule(void 0,r):i.complete())},o)})}var Xi=new Z(Wi);function et(n,e){return K((t,r)=>{let i=0;t.subscribe(ne(r,o=>n.call(e,o,i++)&&r.next(o)))})}function T0(n){return K((e,t)=>{let r=!1,i=null,o=null,s=!1,a=()=>{if(o?.unsubscribe(),o=null,r){r=!1;let c=i;i=null,t.next(c)}s&&t.complete()},l=()=>{o=null,s&&t.complete()};e.subscribe(ne(t,c=>{r=!0,i=c,o||Je(n(c)).subscribe(o=ne(t,a,l))},()=>{s=!0,(!r||!o||o.closed)&&t.complete()}))})}function Oa(n,e=Aa){return T0(()=>S0(n,e))}function Ln(n){return K((e,t)=>{let r=null,i=!1,o;r=e.subscribe(ne(t,void 0,void 0,s=>{o=Je(n(s,Ln(n)(e))),r?(r.unsubscribe(),r=null,o.subscribe(t)):i=!0})),i&&(r.unsubscribe(),r=null,o.subscribe(t))})}function yu(n,e,t,r,i){return(o,s)=>{let a=t,l=e,c=0;o.subscribe(ne(s,u=>{let d=c++;l=a?n(l,u,d):(a=!0,u),r&&s.next(l)},i&&(()=>{a&&s.next(l),s.complete()})))}}function x0(n,e){return K(yu(n,e,arguments.length>=2,!1,!0))}var cA=(n,e)=>(n.push(e),n);function Tp(){return K((n,e)=>{x0(cA,[])(n).subscribe(e)})}function Fr(n,e){return se(e)?Ye(n,e,1):Ye(n,1)}function lr(n,e=Aa){return K((t,r)=>{let i=null,o=null,s=null,a=()=>{if(i){i.unsubscribe(),i=null;let c=o;o=null,r.next(c)}};function l(){let c=s+n,u=e.now();if(u<c){i=this.schedule(void 0,c-u),r.add(i);return}a()}t.subscribe(ne(r,c=>{o=c,s=e.now(),i||(i=e.schedule(l,n),r.add(i))},()=>{a(),r.complete()},void 0,()=>{o=i=null}))})}function hi(n){return K((e,t)=>{let r=!1;e.subscribe(ne(t,i=>{r=!0,t.next(i)},()=>{r||t.next(n),t.complete()}))})}function mt(n){return n<=0?()=>Kt:K((e,t)=>{let r=0;e.subscribe(ne(t,i=>{++r<=n&&(t.next(i),n<=r&&t.complete())}))})}function xp(n,e=zt){return n=n??uA,K((t,r)=>{let i,o=!0;t.subscribe(ne(r,s=>{let a=e(s);(o||!n(i,a))&&(o=!1,i=a,r.next(s))}))})}function uA(n,e){return n===e}function _u(n=dA){return K((e,t)=>{let r=!1;e.subscribe(ne(t,i=>{r=!0,t.next(i)},()=>r?t.complete():t.error(n())))})}function dA(){return new Nr}function Pr(n){return K((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}function Lr(n,e){let t=arguments.length>=2;return r=>r.pipe(n?et((i,o)=>n(i,o,r)):zt,mt(1),t?hi(e):_u(()=>new Nr))}function rs(n){return n<=0?()=>Kt:K((e,t)=>{let r=[];e.subscribe(ne(t,i=>{r.push(i),n<r.length&&r.shift()},()=>{for(let i of r)t.next(i);t.complete()},void 0,()=>{r=null}))})}function Mp(n,e){let t=arguments.length>=2;return r=>r.pipe(n?et((i,o)=>n(i,o,r)):zt,rs(1),t?hi(e):_u(()=>new Nr))}function Ap(){return K((n,e)=>{let t,r=!1;n.subscribe(ne(e,i=>{let o=t;t=i,r&&e.next([o,i]),r=!0}))})}function Rp(n,e){return K(yu(n,e,arguments.length>=2,!0))}function ka(n={}){let{connector:e=()=>new re,resetOnError:t=!0,resetOnComplete:r=!0,resetOnRefCountZero:i=!0}=n;return o=>{let s,a,l,c=0,u=!1,d=!1,p=()=>{a?.unsubscribe(),a=void 0},f=()=>{p(),s=l=void 0,u=d=!1},h=()=>{let v=s;f(),v?.unsubscribe()};return K((v,y)=>{c++,!d&&!u&&p();let x=l=l??e();y.add(()=>{c--,c===0&&!d&&!u&&(a=Op(h,i))}),x.subscribe(y),!s&&c>0&&(s=new kr({next:U=>x.next(U),error:U=>{d=!0,p(),a=Op(f,t,U),x.error(U)},complete:()=>{u=!0,p(),a=Op(f,r),x.complete()}}),Je(v).subscribe(s))})(o)}}function Op(n,e,...t){if(e===!0){n();return}if(e===!1)return;let r=new kr({next:()=>{r.unsubscribe(),n()}});return Je(e(...t)).subscribe(r)}function kp(n,e,t){let r,i=!1;return n&&typeof n=="object"?{bufferSize:r=1/0,windowTime:e=1/0,refCount:i=!1,scheduler:t}=n:r=n??1/0,ka({connector:()=>new Zc(r,e,t),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:i})}function Np(n){return et((e,t)=>n<=t)}function pi(...n){let e=ui(n);return K((t,r)=>{(e?fi(n,t,e):fi(n,t)).subscribe(r)})}function Oe(n,e){return K((t,r)=>{let i=null,o=0,s=!1,a=()=>s&&!i&&r.complete();t.subscribe(ne(r,l=>{i?.unsubscribe();let c=0,u=o++;Je(n(l,u)).subscribe(i=ne(r,d=>r.next(e?e(l,d,u,c++):d),()=>{i=null,a()}))},()=>{s=!0,a()}))})}function Vr(n){return K((e,t)=>{Je(n).subscribe(ne(t,()=>t.complete(),Wi)),!t.closed&&e.subscribe(t)})}function qe(n,e,t){let r=se(n)||e||t?{next:n,error:e,complete:t}:n;return r?K((i,o)=>{var s;(s=r.subscribe)===null||s===void 0||s.call(r);let a=!0;i.subscribe(ne(o,l=>{var c;(c=r.next)===null||c===void 0||c.call(r,l),o.next(l)},()=>{var l;a=!1,(l=r.complete)===null||l===void 0||l.call(r),o.complete()},l=>{var c;a=!1,(c=r.error)===null||c===void 0||c.call(r,l),o.error(l)},()=>{var l,c;a&&((l=r.unsubscribe)===null||l===void 0||l.call(r)),(c=r.finalize)===null||c===void 0||c.call(r)}))}):zt}var yb="https://angular.dev/best-practices/security#preventing-cross-site-scripting-xss",L=class extends Error{code;constructor(e,t){super(rd(e,t)),this.code=e}};function fA(n){return`NG0${Math.abs(n)}`}function rd(n,e){return`${fA(n)}${e?": "+e:""}`}var _b=Symbol("InputSignalNode#UNSET"),hA=X(S({},Uc),{transformFn:void 0,applyValueToInputSignal(n,e){Da(n,e)}});function bb(n,e){let t=Object.create(hA);t.value=n,t.transformFn=e?.transform;function r(){if(Ia(t),t.value===_b){let i=null;throw new L(-950,i)}return t.value}return r[In]=t,r}function Ga(n){return{toString:n}.toString()}var bu="__parameters__";function pA(n){return function(...t){if(n){let r=n(...t);for(let i in r)this[i]=r[i]}}}function Km(n,e,t){return Ga(()=>{let r=pA(e);function i(...o){if(this instanceof i)return r.apply(this,o),this;let s=new i(...o);return a.annotation=s,a;function a(l,c,u){let d=l.hasOwnProperty(bu)?l[bu]:Object.defineProperty(l,bu,{value:[]})[bu];for(;d.length<=u;)d.push(null);return(d[u]=d[u]||[]).push(s),l}}return i.prototype.ngMetadataName=n,i.annotationCls=i,i})}var us=globalThis;function ze(n){for(let e in n)if(n[e]===ze)return e;throw Error("Could not find renamed property on target object.")}function mA(n,e){for(let t in e)e.hasOwnProperty(t)&&!n.hasOwnProperty(t)&&(n[t]=e[t])}function nn(n){if(typeof n=="string")return n;if(Array.isArray(n))return`[${n.map(nn).join(", ")}]`;if(n==null)return""+n;let e=n.overriddenName||n.name;if(e)return`${e}`;let t=n.toString();if(t==null)return""+t;let r=t.indexOf(`
`);return r>=0?t.slice(0,r):t}function Zp(n,e){return n?e?`${n} ${e}`:n:e||""}var gA=ze({__forward_ref__:ze});function Tt(n){return n.__forward_ref__=Tt,n.toString=function(){return nn(this())},n}function Gt(n){return wb(n)?n():n}function wb(n){return typeof n=="function"&&n.hasOwnProperty(gA)&&n.__forward_ref__===Tt}function O(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function Qe(n){return{providers:n.providers||[],imports:n.imports||[]}}function id(n){return M0(n,Eb)||M0(n,Ib)}function Cb(n){return id(n)!==null}function M0(n,e){return n.hasOwnProperty(e)?n[e]:null}function vA(n){let e=n&&(n[Eb]||n[Ib]);return e||null}function A0(n){return n&&(n.hasOwnProperty(R0)||n.hasOwnProperty(yA))?n[R0]:null}var Eb=ze({\u0275prov:ze}),R0=ze({\u0275inj:ze}),Ib=ze({ngInjectableDef:ze}),yA=ze({ngInjectorDef:ze}),j=class{_desc;ngMetadataName="InjectionToken";\u0275prov;constructor(e,t){this._desc=e,this.\u0275prov=void 0,typeof t=="number"?this.__NG_ELEMENT_ID__=t:t!==void 0&&(this.\u0275prov=O({token:this,providedIn:t.providedIn||"root",factory:t.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function Db(n){return n&&!!n.\u0275providers}var _A=ze({\u0275cmp:ze}),bA=ze({\u0275dir:ze}),wA=ze({\u0275pipe:ze}),CA=ze({\u0275mod:ze}),Ru=ze({\u0275fac:ze}),La=ze({__NG_ELEMENT_ID__:ze}),O0=ze({__NG_ENV_ID__:ze});function no(n){return typeof n=="string"?n:n==null?"":String(n)}function EA(n){return typeof n=="function"?n.name||n.toString():typeof n=="object"&&n!=null&&typeof n.type=="function"?n.type.name||n.type.toString():no(n)}function Sb(n,e){throw new L(-200,n)}function Xm(n,e){throw new L(-201,!1)}var de=function(n){return n[n.Default=0]="Default",n[n.Host=1]="Host",n[n.Self=2]="Self",n[n.SkipSelf=4]="SkipSelf",n[n.Optional=8]="Optional",n}(de||{}),Jp;function Tb(){return Jp}function en(n){let e=Jp;return Jp=n,e}function xb(n,e,t){let r=id(n);if(r&&r.providedIn=="root")return r.value===void 0?r.value=r.factory():r.value;if(t&de.Optional)return null;if(e!==void 0)return e;Xm(n,"Injector")}var IA={},eo=IA,Yp="__NG_DI_FLAG__",Ou=class{injector;constructor(e){this.injector=e}retrieve(e,t){let r=t;return this.injector.get(e,r.optional?$c:eo,r)}},ku="ngTempTokenPath",DA="ngTokenPath",SA=/\n/gm,TA="\u0275",k0="__source";function xA(n,e=de.Default){if(Sa()===void 0)throw new L(-203,!1);if(Sa()===null)return xb(n,void 0,e);{let t=Sa(),r;return t instanceof Ou?r=t.injector:r=t,r.get(n,e&de.Optional?null:void 0,e)}}function N(n,e=de.Default){return(Tb()||xA)(Gt(n),e)}function E(n,e=de.Default){return N(n,od(e))}function od(n){return typeof n>"u"||typeof n=="number"?n:0|(n.optional&&8)|(n.host&&1)|(n.self&&2)|(n.skipSelf&&4)}function Qp(n){let e=[];for(let t=0;t<n.length;t++){let r=Gt(n[t]);if(Array.isArray(r)){if(r.length===0)throw new L(900,!1);let i,o=de.Default;for(let s=0;s<r.length;s++){let a=r[s],l=MA(a);typeof l=="number"?l===-1?i=a.token:o|=l:i=a}e.push(N(i,o))}else e.push(N(r))}return e}function eg(n,e){return n[Yp]=e,n.prototype[Yp]=e,n}function MA(n){return n[Yp]}function AA(n,e,t,r){let i=n[ku];throw e[k0]&&i.unshift(e[k0]),n.message=RA(`
`+n.message,i,t,r),n[DA]=i,n[ku]=null,n}function RA(n,e,t,r=null){n=n&&n.charAt(0)===`
`&&n.charAt(1)==TA?n.slice(2):n;let i=nn(e);if(Array.isArray(e))i=e.map(nn).join(" -> ");else if(typeof e=="object"){let o=[];for(let s in e)if(e.hasOwnProperty(s)){let a=e[s];o.push(s+":"+(typeof a=="string"?JSON.stringify(a):nn(a)))}i=`{${o.join(", ")}}`}return`${t}${r?"("+r+")":""}[${i}]: ${n.replace(SA,`
  `)}`}var Mb=eg(Km("Inject",n=>({token:n})),-1),qa=eg(Km("Optional"),8);var Ab=eg(Km("SkipSelf"),4);function ro(n,e){let t=n.hasOwnProperty(Ru);return t?n[Ru]:null}function OA(n,e,t){if(n.length!==e.length)return!1;for(let r=0;r<n.length;r++){let i=n[r],o=e[r];if(t&&(i=t(i),o=t(o)),o!==i)return!1}return!0}function kA(n){return n.flat(Number.POSITIVE_INFINITY)}function tg(n,e){n.forEach(t=>Array.isArray(t)?tg(t,e):e(t))}function Rb(n,e,t){e>=n.length?n.push(t):n.splice(e,0,t)}function Nu(n,e){return e>=n.length-1?n.pop():n.splice(e,1)[0]}function NA(n,e){let t=[];for(let r=0;r<n;r++)t.push(e);return t}function FA(n,e,t,r){let i=n.length;if(i==e)n.push(t,r);else if(i===1)n.push(r,n[0]),n[0]=t;else{for(i--,n.push(n[i-1],n[i]);i>e;){let o=i-2;n[i]=n[o],i--}n[e]=t,n[e+1]=r}}function sd(n,e,t){let r=Wa(n,e);return r>=0?n[r|1]=t:(r=~r,FA(n,r,e,t)),r}function Fp(n,e){let t=Wa(n,e);if(t>=0)return n[t|1]}function Wa(n,e){return PA(n,e,1)}function PA(n,e,t){let r=0,i=n.length>>t;for(;i!==r;){let o=r+(i-r>>1),s=n[o<<t];if(e===s)return o<<t;s>e?i=o:r=o+1}return~(i<<t)}var io={},tn=[],ds=new j(""),Ob=new j("",-1),kb=new j(""),Fu=class{get(e,t=eo){if(t===eo){let r=new Error(`NullInjectorError: No provider for ${nn(e)}!`);throw r.name="NullInjectorError",r}return t}};function Nb(n,e){let t=n[CA]||null;if(!t&&e===!0)throw new Error(`Type ${nn(n)} does not have '\u0275mod' property.`);return t}function oo(n){return n[_A]||null}function LA(n){return n[bA]||null}function VA(n){return n[wA]||null}function zr(n){return{\u0275providers:n}}function jA(...n){return{\u0275providers:Fb(!0,n),\u0275fromNgModule:!0}}function Fb(n,...e){let t=[],r=new Set,i,o=s=>{t.push(s)};return tg(e,s=>{let a=s;Kp(a,o,[],r)&&(i||=[],i.push(a))}),i!==void 0&&Pb(i,o),t}function Pb(n,e){for(let t=0;t<n.length;t++){let{ngModule:r,providers:i}=n[t];ng(i,o=>{e(o,r)})}}function Kp(n,e,t,r){if(n=Gt(n),!n)return!1;let i=null,o=A0(n),s=!o&&oo(n);if(!o&&!s){let l=n.ngModule;if(o=A0(l),o)i=l;else return!1}else{if(s&&!s.standalone)return!1;i=n}let a=r.has(i);if(s){if(a)return!1;if(r.add(i),s.dependencies){let l=typeof s.dependencies=="function"?s.dependencies():s.dependencies;for(let c of l)Kp(c,e,t,r)}}else if(o){if(o.imports!=null&&!a){r.add(i);let c;try{tg(o.imports,u=>{Kp(u,e,t,r)&&(c||=[],c.push(u))})}finally{}c!==void 0&&Pb(c,e)}if(!a){let c=ro(i)||(()=>new i);e({provide:i,useFactory:c,deps:tn},i),e({provide:kb,useValue:i,multi:!0},i),e({provide:ds,useValue:()=>N(i),multi:!0},i)}let l=o.providers;if(l!=null&&!a){let c=n;ng(l,u=>{e(u,c)})}}else return!1;return i!==n&&n.providers!==void 0}function ng(n,e){for(let t of n)Db(t)&&(t=t.\u0275providers),Array.isArray(t)?ng(t,e):e(t)}var BA=ze({provide:String,useValue:ze});function Lb(n){return n!==null&&typeof n=="object"&&BA in n}function UA(n){return!!(n&&n.useExisting)}function $A(n){return!!(n&&n.useFactory)}function fs(n){return typeof n=="function"}function HA(n){return!!n.useClass}var ad=new j(""),Du={},N0={},Pp;function rg(){return Pp===void 0&&(Pp=new Fu),Pp}var qt=class{},Va=class extends qt{parent;source;scopes;records=new Map;_ngOnDestroyHooks=new Set;_onDestroyHooks=[];get destroyed(){return this._destroyed}_destroyed=!1;injectorDefTypes;constructor(e,t,r,i){super(),this.parent=t,this.source=r,this.scopes=i,em(e,s=>this.processProvider(s)),this.records.set(Ob,is(void 0,this)),i.has("environment")&&this.records.set(qt,is(void 0,this));let o=this.records.get(ad);o!=null&&typeof o.value=="string"&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(kb,tn,de.Self))}retrieve(e,t){let r=t;return this.get(e,r.optional?$c:eo,r)}destroy(){Fa(this),this._destroyed=!0;let e=ve(null);try{for(let r of this._ngOnDestroyHooks)r.ngOnDestroy();let t=this._onDestroyHooks;this._onDestroyHooks=[];for(let r of t)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),ve(e)}}onDestroy(e){return Fa(this),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){Fa(this);let t=Or(this),r=en(void 0),i;try{return e()}finally{Or(t),en(r)}}get(e,t=eo,r=de.Default){if(Fa(this),e.hasOwnProperty(O0))return e[O0](this);r=od(r);let i,o=Or(this),s=en(void 0);try{if(!(r&de.SkipSelf)){let l=this.records.get(e);if(l===void 0){let c=ZA(e)&&id(e);c&&this.injectableDefInScope(c)?l=is(Xp(e),Du):l=null,this.records.set(e,l)}if(l!=null)return this.hydrate(e,l,r)}let a=r&de.Self?rg():this.parent;return t=r&de.Optional&&t===eo?null:t,a.get(e,t)}catch(a){if(a.name==="NullInjectorError"){if((a[ku]=a[ku]||[]).unshift(nn(e)),o)throw a;return AA(a,e,"R3InjectorError",this.source)}else throw a}finally{en(s),Or(o)}}resolveInjectorInitializers(){let e=ve(null),t=Or(this),r=en(void 0),i;try{let o=this.get(ds,tn,de.Self);for(let s of o)s()}finally{Or(t),en(r),ve(e)}}toString(){let e=[],t=this.records;for(let r of t.keys())e.push(nn(r));return`R3Injector[${e.join(", ")}]`}processProvider(e){e=Gt(e);let t=fs(e)?e:Gt(e&&e.provide),r=GA(e);if(!fs(e)&&e.multi===!0){let i=this.records.get(t);i||(i=is(void 0,Du,!0),i.factory=()=>Qp(i.multi),this.records.set(t,i)),t=e,i.multi.push(e)}this.records.set(t,r)}hydrate(e,t,r){let i=ve(null);try{return t.value===N0?Sb(nn(e)):t.value===Du&&(t.value=N0,t.value=t.factory(void 0,r)),typeof t.value=="object"&&t.value&&WA(t.value)&&this._ngOnDestroyHooks.add(t.value),t.value}finally{ve(i)}}injectableDefInScope(e){if(!e.providedIn)return!1;let t=Gt(e.providedIn);return typeof t=="string"?t==="any"||this.scopes.has(t):this.injectorDefTypes.has(t)}removeOnDestroy(e){let t=this._onDestroyHooks.indexOf(e);t!==-1&&this._onDestroyHooks.splice(t,1)}};function Xp(n){let e=id(n),t=e!==null?e.factory:ro(n);if(t!==null)return t;if(n instanceof j)throw new L(204,!1);if(n instanceof Function)return zA(n);throw new L(204,!1)}function zA(n){if(n.length>0)throw new L(204,!1);let t=vA(n);return t!==null?()=>t.factory(n):()=>new n}function GA(n){if(Lb(n))return is(void 0,n.useValue);{let e=Vb(n);return is(e,Du)}}function Vb(n,e,t){let r;if(fs(n)){let i=Gt(n);return ro(i)||Xp(i)}else if(Lb(n))r=()=>Gt(n.useValue);else if($A(n))r=()=>n.useFactory(...Qp(n.deps||[]));else if(UA(n))r=(i,o)=>N(Gt(n.useExisting),o!==void 0&&o&de.Optional?de.Optional:void 0);else{let i=Gt(n&&(n.useClass||n.provide));if(qA(n))r=()=>new i(...Qp(n.deps));else return ro(i)||Xp(i)}return r}function Fa(n){if(n.destroyed)throw new L(205,!1)}function is(n,e,t=!1){return{factory:n,value:e,multi:t?[]:void 0}}function qA(n){return!!n.deps}function WA(n){return n!==null&&typeof n=="object"&&typeof n.ngOnDestroy=="function"}function ZA(n){return typeof n=="function"||typeof n=="object"&&n instanceof j}function em(n,e){for(let t of n)Array.isArray(t)?em(t,e):t&&Db(t)?em(t.\u0275providers,e):e(t)}function hn(n,e){let t;n instanceof Va?(Fa(n),t=n):t=new Ou(n);let r,i=Or(t),o=en(void 0);try{return e()}finally{Or(i),en(o)}}function jb(){return Tb()!==void 0||Sa()!=null}function JA(n){if(!jb())throw new L(-203,!1)}function YA(n){return typeof n=="function"}var Gr=0,pe=1,oe=2,Ft=3,Bn=4,an=5,ja=6,Pu=7,rn=8,hs=9,jr=10,st=11,Ba=12,F0=13,_s=14,Sn=15,so=16,os=17,Br=18,ld=19,Bb=20,mi=21,Lp=22,Lu=23,Dn=24,ls=25,on=26,Ub=1;var ao=7,Vu=8,ps=9,fn=10;function gi(n){return Array.isArray(n)&&typeof n[Ub]=="object"}function qr(n){return Array.isArray(n)&&n[Ub]===!0}function $b(n){return(n.flags&4)!==0}function bs(n){return n.componentOffset>-1}function ig(n){return(n.flags&1)===1}function ur(n){return!!n.template}function ju(n){return(n[oe]&512)!==0}function ws(n){return(n[oe]&256)===256}var tm=class{previousValue;currentValue;firstChange;constructor(e,t,r){this.previousValue=e,this.currentValue=t,this.firstChange=r}isFirstChange(){return this.firstChange}};function Hb(n,e,t,r){e!==null?e.applyValueToInputSignal(e,r):n[t]=r}var it=(()=>{let n=()=>zb;return n.ngInherit=!0,n})();function zb(n){return n.type.prototype.ngOnChanges&&(n.setInput=KA),QA}function QA(){let n=qb(this),e=n?.current;if(e){let t=n.previous;if(t===io)n.previous=e;else for(let r in e)t[r]=e[r];n.current=null,this.ngOnChanges(e)}}function KA(n,e,t,r,i){let o=this.declaredInputs[r],s=qb(n)||XA(n,{previous:io,current:null}),a=s.current||(s.current={}),l=s.previous,c=l[o];a[o]=new tm(c&&c.currentValue,t,l===io),Hb(n,e,i,t)}var Gb="__ngSimpleChanges__";function qb(n){return n[Gb]||null}function XA(n,e){return n[Gb]=e}var P0=null;var Ve=function(n,e=null,t){P0?.(n,e,t)},Wb="svg",e1="math";function dr(n){for(;Array.isArray(n);)n=n[Gr];return n}function Zb(n,e){return dr(e[n])}function mr(n,e){return dr(e[n.index])}function Jb(n,e){return n.data[e]}function Yb(n,e){return n[e]}function t1(n,e,t,r){t>=n.data.length&&(n.data[t]=null,n.blueprint[t]=null),e[t]=r}function fr(n,e){let t=e[n];return gi(t)?t:t[Gr]}function n1(n){return(n[oe]&4)===4}function og(n){return(n[oe]&128)===128}function r1(n){return qr(n[Ft])}function Bu(n,e){return e==null?null:n[e]}function Qb(n){n[os]=0}function Kb(n){n[oe]&1024||(n[oe]|=1024,og(n)&&Za(n))}function i1(n,e){for(;n>0;)e=e[_s],n--;return e}function cd(n){return!!(n[oe]&9216||n[Dn]?.dirty)}function nm(n){n[jr].changeDetectionScheduler?.notify(8),n[oe]&64&&(n[oe]|=1024),cd(n)&&Za(n)}function Za(n){n[jr].changeDetectionScheduler?.notify(0);let e=lo(n);for(;e!==null&&!(e[oe]&8192||(e[oe]|=8192,!og(e)));)e=lo(e)}function Xb(n,e){if(ws(n))throw new L(911,!1);n[mi]===null&&(n[mi]=[]),n[mi].push(e)}function o1(n,e){if(n[mi]===null)return;let t=n[mi].indexOf(e);t!==-1&&n[mi].splice(t,1)}function lo(n){let e=n[Ft];return qr(e)?e[Ft]:e}function sg(n){return n[Pu]??=[]}function ag(n){return n.cleanup??=[]}function s1(n,e,t,r){let i=sg(e);i.push(t),n.firstCreatePass&&ag(n).push(r,i.length-1)}var fe={lFrame:uw(null),bindingsEnabled:!0,skipHydrationRootTNode:null};var rm=!1;function a1(){return fe.lFrame.elementDepthCount}function l1(){fe.lFrame.elementDepthCount++}function c1(){fe.lFrame.elementDepthCount--}function ew(){return fe.bindingsEnabled}function tw(){return fe.skipHydrationRootTNode!==null}function u1(n){return fe.skipHydrationRootTNode===n}function d1(){fe.skipHydrationRootTNode=null}function ge(){return fe.lFrame.lView}function gt(){return fe.lFrame.tView}function F(n){return fe.lFrame.contextLView=n,n[rn]}function P(n){return fe.lFrame.contextLView=null,n}function Wt(){let n=nw();for(;n!==null&&n.type===64;)n=n.parent;return n}function nw(){return fe.lFrame.currentTNode}function f1(){let n=fe.lFrame,e=n.currentTNode;return n.isParent?e:e.parent}function Ja(n,e){let t=fe.lFrame;t.currentTNode=n,t.isParent=e}function rw(){return fe.lFrame.isParent}function iw(){fe.lFrame.isParent=!1}function h1(){return fe.lFrame.contextLView}function ow(){return rm}function L0(n){let e=rm;return rm=n,e}function sw(){let n=fe.lFrame,e=n.bindingRootIndex;return e===-1&&(e=n.bindingRootIndex=n.tView.bindingStartIndex),e}function p1(){return fe.lFrame.bindingIndex}function m1(n){return fe.lFrame.bindingIndex=n}function ud(){return fe.lFrame.bindingIndex++}function lg(n){let e=fe.lFrame,t=e.bindingIndex;return e.bindingIndex=e.bindingIndex+n,t}function g1(){return fe.lFrame.inI18n}function v1(n,e){let t=fe.lFrame;t.bindingIndex=t.bindingRootIndex=n,im(e)}function y1(){return fe.lFrame.currentDirectiveIndex}function im(n){fe.lFrame.currentDirectiveIndex=n}function _1(n){let e=fe.lFrame.currentDirectiveIndex;return e===-1?null:n[e]}function aw(){return fe.lFrame.currentQueryIndex}function cg(n){fe.lFrame.currentQueryIndex=n}function b1(n){let e=n[pe];return e.type===2?e.declTNode:e.type===1?n[an]:null}function lw(n,e,t){if(t&de.SkipSelf){let i=e,o=n;for(;i=i.parent,i===null&&!(t&de.Host);)if(i=b1(o),i===null||(o=o[_s],i.type&10))break;if(i===null)return!1;e=i,n=o}let r=fe.lFrame=cw();return r.currentTNode=e,r.lView=n,!0}function ug(n){let e=cw(),t=n[pe];fe.lFrame=e,e.currentTNode=t.firstChild,e.lView=n,e.tView=t,e.contextLView=n,e.bindingIndex=t.bindingStartIndex,e.inI18n=!1}function cw(){let n=fe.lFrame,e=n===null?null:n.child;return e===null?uw(n):e}function uw(n){let e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return n!==null&&(n.child=e),e}function dw(){let n=fe.lFrame;return fe.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}var fw=dw;function dg(){let n=dw();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function w1(n){return(fe.lFrame.contextLView=i1(n,fe.lFrame.contextLView))[rn]}function vi(){return fe.lFrame.selectedIndex}function co(n){fe.lFrame.selectedIndex=n}function fg(){let n=fe.lFrame;return Jb(n.tView,n.selectedIndex)}function Hn(){fe.lFrame.currentNamespace=Wb}function C1(){return fe.lFrame.currentNamespace}var hw=!0;function hg(){return hw}function pg(n){hw=n}function E1(n,e,t){let{ngOnChanges:r,ngOnInit:i,ngDoCheck:o}=e.type.prototype;if(r){let s=zb(e);(t.preOrderHooks??=[]).push(n,s),(t.preOrderCheckHooks??=[]).push(n,s)}i&&(t.preOrderHooks??=[]).push(0-n,i),o&&((t.preOrderHooks??=[]).push(n,o),(t.preOrderCheckHooks??=[]).push(n,o))}function pw(n,e){for(let t=e.directiveStart,r=e.directiveEnd;t<r;t++){let o=n.data[t].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:l,ngAfterViewChecked:c,ngOnDestroy:u}=o;s&&(n.contentHooks??=[]).push(-t,s),a&&((n.contentHooks??=[]).push(t,a),(n.contentCheckHooks??=[]).push(t,a)),l&&(n.viewHooks??=[]).push(-t,l),c&&((n.viewHooks??=[]).push(t,c),(n.viewCheckHooks??=[]).push(t,c)),u!=null&&(n.destroyHooks??=[]).push(t,u)}}function Su(n,e,t){mw(n,e,3,t)}function Tu(n,e,t,r){(n[oe]&3)===t&&mw(n,e,t,r)}function Vp(n,e){let t=n[oe];(t&3)===e&&(t&=16383,t+=1,n[oe]=t)}function mw(n,e,t,r){let i=r!==void 0?n[os]&65535:0,o=r??-1,s=e.length-1,a=0;for(let l=i;l<s;l++)if(typeof e[l+1]=="number"){if(a=e[l],r!=null&&a>=r)break}else e[l]<0&&(n[os]+=65536),(a<o||o==-1)&&(I1(n,t,e,l),n[os]=(n[os]&4294901760)+l+2),l++}function V0(n,e){Ve(4,n,e);let t=ve(null);try{e.call(n)}finally{ve(t),Ve(5,n,e)}}function I1(n,e,t,r){let i=t[r]<0,o=t[r+1],s=i?-t[r]:t[r],a=n[s];i?n[oe]>>14<n[os]>>16&&(n[oe]&3)===e&&(n[oe]+=16384,V0(a,o)):V0(a,o)}var cs=-1,uo=class{factory;injectImpl;resolving=!1;canSeeViewProviders;multi;componentProviders;index;providerFactory;constructor(e,t,r){this.factory=e,this.canSeeViewProviders=t,this.injectImpl=r}};function D1(n){return(n.flags&8)!==0}function S1(n){return(n.flags&16)!==0}function T1(n,e,t){let r=0;for(;r<t.length;){let i=t[r];if(typeof i=="number"){if(i!==0)break;r++;let o=t[r++],s=t[r++],a=t[r++];n.setAttribute(e,s,a,o)}else{let o=i,s=t[++r];x1(o)?n.setProperty(e,o,s):n.setAttribute(e,o,s),r++}}return r}function gw(n){return n===3||n===4||n===6}function x1(n){return n.charCodeAt(0)===64}function Ua(n,e){if(!(e===null||e.length===0))if(n===null||n.length===0)n=e.slice();else{let t=-1;for(let r=0;r<e.length;r++){let i=e[r];typeof i=="number"?t=i:t===0||(t===-1||t===2?j0(n,t,i,null,e[++r]):j0(n,t,i,null,null))}}return n}function j0(n,e,t,r,i){let o=0,s=n.length;if(e===-1)s=-1;else for(;o<n.length;){let a=n[o++];if(typeof a=="number"){if(a===e){s=-1;break}else if(a>e){s=o-1;break}}}for(;o<n.length;){let a=n[o];if(typeof a=="number")break;if(a===t){i!==null&&(n[o+1]=i);return}o++,i!==null&&o++}s!==-1&&(n.splice(s,0,e),o=s+1),n.splice(o++,0,t),i!==null&&n.splice(o++,0,i)}function vw(n){return n!==cs}function Uu(n){return n&32767}function M1(n){return n>>16}function $u(n,e){let t=M1(n),r=e;for(;t>0;)r=r[_s],t--;return r}var om=!0;function Hu(n){let e=om;return om=n,e}var A1=256,yw=A1-1,_w=5,R1=0,cr={};function O1(n,e,t){let r;typeof t=="string"?r=t.charCodeAt(0)||0:t.hasOwnProperty(La)&&(r=t[La]),r==null&&(r=t[La]=R1++);let i=r&yw,o=1<<i;e.data[n+(i>>_w)]|=o}function zu(n,e){let t=bw(n,e);if(t!==-1)return t;let r=e[pe];r.firstCreatePass&&(n.injectorIndex=e.length,jp(r.data,n),jp(e,null),jp(r.blueprint,null));let i=mg(n,e),o=n.injectorIndex;if(vw(i)){let s=Uu(i),a=$u(i,e),l=a[pe].data;for(let c=0;c<8;c++)e[o+c]=a[s+c]|l[s+c]}return e[o+8]=i,o}function jp(n,e){n.push(0,0,0,0,0,0,0,0,e)}function bw(n,e){return n.injectorIndex===-1||n.parent&&n.parent.injectorIndex===n.injectorIndex||e[n.injectorIndex+8]===null?-1:n.injectorIndex}function mg(n,e){if(n.parent&&n.parent.injectorIndex!==-1)return n.parent.injectorIndex;let t=0,r=null,i=e;for(;i!==null;){if(r=Dw(i),r===null)return cs;if(t++,i=i[_s],r.injectorIndex!==-1)return r.injectorIndex|t<<16}return cs}function sm(n,e,t){O1(n,e,t)}function k1(n,e){if(e==="class")return n.classes;if(e==="style")return n.styles;let t=n.attrs;if(t){let r=t.length,i=0;for(;i<r;){let o=t[i];if(gw(o))break;if(o===0)i=i+2;else if(typeof o=="number")for(i++;i<r&&typeof t[i]=="string";)i++;else{if(o===e)return t[i+1];i=i+2}}}return null}function ww(n,e,t){if(t&de.Optional||n!==void 0)return n;Xm(e,"NodeInjector")}function Cw(n,e,t,r){if(t&de.Optional&&r===void 0&&(r=null),(t&(de.Self|de.Host))===0){let i=n[hs],o=en(void 0);try{return i?i.get(e,r,t&de.Optional):xb(e,r,t&de.Optional)}finally{en(o)}}return ww(r,e,t)}function Ew(n,e,t,r=de.Default,i){if(n!==null){if(e[oe]&2048&&!(r&de.Self)){let s=L1(n,e,t,r,cr);if(s!==cr)return s}let o=Iw(n,e,t,r,cr);if(o!==cr)return o}return Cw(e,t,r,i)}function Iw(n,e,t,r,i){let o=F1(t);if(typeof o=="function"){if(!lw(e,n,r))return r&de.Host?ww(i,t,r):Cw(e,t,r,i);try{let s;if(s=o(r),s==null&&!(r&de.Optional))Xm(t);else return s}finally{fw()}}else if(typeof o=="number"){let s=null,a=bw(n,e),l=cs,c=r&de.Host?e[Sn][an]:null;for((a===-1||r&de.SkipSelf)&&(l=a===-1?mg(n,e):e[a+8],l===cs||!U0(r,!1)?a=-1:(s=e[pe],a=Uu(l),e=$u(l,e)));a!==-1;){let u=e[pe];if(B0(o,a,u.data)){let d=N1(a,e,t,s,r,c);if(d!==cr)return d}l=e[a+8],l!==cs&&U0(r,e[pe].data[a+8]===c)&&B0(o,a,e)?(s=u,a=Uu(l),e=$u(l,e)):a=-1}}return i}function N1(n,e,t,r,i,o){let s=e[pe],a=s.data[n+8],l=r==null?bs(a)&&om:r!=s&&(a.type&3)!==0,c=i&de.Host&&o===a,u=xu(a,s,t,l,c);return u!==null?$a(e,s,u,a,i):cr}function xu(n,e,t,r,i){let o=n.providerIndexes,s=e.data,a=o&1048575,l=n.directiveStart,c=n.directiveEnd,u=o>>20,d=r?a:a+u,p=i?a+u:c;for(let f=d;f<p;f++){let h=s[f];if(f<l&&t===h||f>=l&&h.type===t)return f}if(i){let f=s[l];if(f&&ur(f)&&f.type===t)return l}return null}function $a(n,e,t,r,i){let o=n[t],s=e.data;if(o instanceof uo){let a=o;a.resolving&&Sb(EA(s[t]));let l=Hu(a.canSeeViewProviders);a.resolving=!0;let c,u=a.injectImpl?en(a.injectImpl):null,d=lw(n,r,de.Default);try{o=n[t]=a.factory(void 0,i,s,n,r),e.firstCreatePass&&t>=r.directiveStart&&E1(t,s[t],e)}finally{u!==null&&en(u),Hu(l),a.resolving=!1,fw()}}return o}function F1(n){if(typeof n=="string")return n.charCodeAt(0)||0;let e=n.hasOwnProperty(La)?n[La]:void 0;return typeof e=="number"?e>=0?e&yw:P1:e}function B0(n,e,t){let r=1<<n;return!!(t[e+(n>>_w)]&r)}function U0(n,e){return!(n&de.Self)&&!(n&de.Host&&e)}var to=class{_tNode;_lView;constructor(e,t){this._tNode=e,this._lView=t}get(e,t,r){return Ew(this._tNode,this._lView,e,od(r),t)}};function P1(){return new to(Wt(),ge())}function zn(n){return Ga(()=>{let e=n.prototype.constructor,t=e[Ru]||am(e),r=Object.prototype,i=Object.getPrototypeOf(n.prototype).constructor;for(;i&&i!==r;){let o=i[Ru]||am(i);if(o&&o!==t)return o;i=Object.getPrototypeOf(i)}return o=>new o})}function am(n){return wb(n)?()=>{let e=am(Gt(n));return e&&e()}:ro(n)}function L1(n,e,t,r,i){let o=n,s=e;for(;o!==null&&s!==null&&s[oe]&2048&&!ju(s);){let a=Iw(o,s,t,r|de.Self,cr);if(a!==cr)return a;let l=o.parent;if(!l){let c=s[Bb];if(c){let u=c.get(t,cr,r);if(u!==cr)return u}l=Dw(s),s=s[_s]}o=l}return i}function Dw(n){let e=n[pe],t=e.type;return t===2?e.declTNode:t===1?n[an]:null}function dd(n){return k1(Wt(),n)}function $0(n,e=null,t=null,r){let i=Sw(n,e,t,r);return i.resolveInjectorInitializers(),i}function Sw(n,e=null,t=null,r,i=new Set){let o=[t||tn,jA(n)];return r=r||(typeof n=="object"?void 0:nn(n)),new Va(o,e||rg(),r||null,i)}var wt=class n{static THROW_IF_NOT_FOUND=eo;static NULL=new Fu;static create(e,t){if(Array.isArray(e))return $0({name:""},t,e,"");{let r=e.name??"";return $0({name:r},e.parent,e.providers,r)}}static \u0275prov=O({token:n,providedIn:"any",factory:()=>N(Ob)});static __NG_ELEMENT_ID__=-1};var Gu=class{attributeName;constructor(e){this.attributeName=e}__NG_ELEMENT_ID__=()=>dd(this.attributeName);toString(){return`HostAttributeToken ${this.attributeName}`}},V1=new j("");V1.__NG_ELEMENT_ID__=n=>{let e=Wt();if(e===null)throw new L(204,!1);if(e.type&2)return e.value;if(n&de.Optional)return null;throw new L(204,!1)};var Tw=!1,Cs=(()=>{class n{static __NG_ELEMENT_ID__=j1;static __NG_ENV_ID__=t=>t}return n})(),lm=class extends Cs{_lView;constructor(e){super(),this._lView=e}onDestroy(e){let t=this._lView;return ws(t)?(e(),()=>{}):(Xb(t,e),()=>o1(t,e))}};function j1(){return new lm(ge())}var ms=class{},fd=new j("",{providedIn:"root",factory:()=>!1});var xw=new j(""),Mw=new j(""),yi=(()=>{class n{taskId=0;pendingTasks=new Set;get _hasPendingTasks(){return this.hasPendingTasks.value}hasPendingTasks=new _e(!1);add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);let t=this.taskId++;return this.pendingTasks.add(t),t}has(t){return this.pendingTasks.has(t)}remove(t){this.pendingTasks.delete(t),this.pendingTasks.size===0&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}static \u0275prov=O({token:n,providedIn:"root",factory:()=>new n})}return n})();var cm=class extends re{__isAsync;destroyRef=void 0;pendingTasks=void 0;constructor(e=!1){super(),this.__isAsync=e,jb()&&(this.destroyRef=E(Cs,{optional:!0})??void 0,this.pendingTasks=E(yi,{optional:!0})??void 0)}emit(e){let t=ve(null);try{super.next(e)}finally{ve(t)}}subscribe(e,t,r){let i=e,o=t||(()=>null),s=r;if(e&&typeof e=="object"){let l=e;i=l.next?.bind(l),o=l.error?.bind(l),s=l.complete?.bind(l)}this.__isAsync&&(o=this.wrapInTimeout(o),i&&(i=this.wrapInTimeout(i)),s&&(s=this.wrapInTimeout(s)));let a=super.subscribe({next:i,error:o,complete:s});return e instanceof Le&&e.add(a),a}wrapInTimeout(e){return t=>{let r=this.pendingTasks?.add();setTimeout(()=>{try{e(t)}finally{r!==void 0&&this.pendingTasks?.remove(r)}})}}},xe=cm;function qu(...n){}function Aw(n){let e,t;function r(){n=qu;try{t!==void 0&&typeof cancelAnimationFrame=="function"&&cancelAnimationFrame(t),e!==void 0&&clearTimeout(e)}catch{}}return e=setTimeout(()=>{n(),r()}),typeof requestAnimationFrame=="function"&&(t=requestAnimationFrame(()=>{n(),r()})),()=>r()}function H0(n){return queueMicrotask(()=>n()),()=>{n=qu}}var gg="isAngularZone",Wu=gg+"_ID",B1=0,be=class n{hasPendingMacrotasks=!1;hasPendingMicrotasks=!1;isStable=!0;onUnstable=new xe(!1);onMicrotaskEmpty=new xe(!1);onStable=new xe(!1);onError=new xe(!1);constructor(e){let{enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:r=!1,shouldCoalesceRunChangeDetection:i=!1,scheduleInRootZone:o=Tw}=e;if(typeof Zone>"u")throw new L(908,!1);Zone.assertZonePatched();let s=this;s._nesting=0,s._outer=s._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(s._inner=s._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(s._inner=s._inner.fork(Zone.longStackTraceZoneSpec)),s.shouldCoalesceEventChangeDetection=!i&&r,s.shouldCoalesceRunChangeDetection=i,s.callbackScheduled=!1,s.scheduleInRootZone=o,H1(s)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get(gg)===!0}static assertInAngularZone(){if(!n.isInAngularZone())throw new L(909,!1)}static assertNotInAngularZone(){if(n.isInAngularZone())throw new L(909,!1)}run(e,t,r){return this._inner.run(e,t,r)}runTask(e,t,r,i){let o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+i,e,U1,qu,qu);try{return o.runTask(s,t,r)}finally{o.cancelTask(s)}}runGuarded(e,t,r){return this._inner.runGuarded(e,t,r)}runOutsideAngular(e){return this._outer.run(e)}},U1={};function vg(n){if(n._nesting==0&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function $1(n){if(n.isCheckStableRunning||n.callbackScheduled)return;n.callbackScheduled=!0;function e(){Aw(()=>{n.callbackScheduled=!1,um(n),n.isCheckStableRunning=!0,vg(n),n.isCheckStableRunning=!1})}n.scheduleInRootZone?Zone.root.run(()=>{e()}):n._outer.run(()=>{e()}),um(n)}function H1(n){let e=()=>{$1(n)},t=B1++;n._inner=n._inner.fork({name:"angular",properties:{[gg]:!0,[Wu]:t,[Wu+t]:!0},onInvokeTask:(r,i,o,s,a,l)=>{if(z1(l))return r.invokeTask(o,s,a,l);try{return z0(n),r.invokeTask(o,s,a,l)}finally{(n.shouldCoalesceEventChangeDetection&&s.type==="eventTask"||n.shouldCoalesceRunChangeDetection)&&e(),G0(n)}},onInvoke:(r,i,o,s,a,l,c)=>{try{return z0(n),r.invoke(o,s,a,l,c)}finally{n.shouldCoalesceRunChangeDetection&&!n.callbackScheduled&&!G1(l)&&e(),G0(n)}},onHasTask:(r,i,o,s)=>{r.hasTask(o,s),i===o&&(s.change=="microTask"?(n._hasPendingMicrotasks=s.microTask,um(n),vg(n)):s.change=="macroTask"&&(n.hasPendingMacrotasks=s.macroTask))},onHandleError:(r,i,o,s)=>(r.handleError(o,s),n.runOutsideAngular(()=>n.onError.emit(s)),!1)})}function um(n){n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&n.callbackScheduled===!0?n.hasPendingMicrotasks=!0:n.hasPendingMicrotasks=!1}function z0(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function G0(n){n._nesting--,vg(n)}var dm=class{hasPendingMicrotasks=!1;hasPendingMacrotasks=!1;isStable=!0;onUnstable=new xe;onMicrotaskEmpty=new xe;onStable=new xe;onError=new xe;run(e,t,r){return e.apply(t,r)}runGuarded(e,t,r){return e.apply(t,r)}runOutsideAngular(e){return e()}runTask(e,t,r,i){return e.apply(t,r)}};function z1(n){return Rw(n,"__ignore_ng_zone__")}function G1(n){return Rw(n,"__scheduler_tick__")}function Rw(n,e){return!Array.isArray(n)||n.length!==1?!1:n[0]?.data?.[e]===!0}var sn=class{_console=console;handleError(e){this._console.error("ERROR",e)}},q1=new j("",{providedIn:"root",factory:()=>{let n=E(be),e=E(sn);return t=>n.runOutsideAngular(()=>e.handleError(t))}});function q0(n,e){return bb(n,e)}function W1(n){return bb(_b,n)}var Ow=(q0.required=W1,q0);function Z1(){return Es(Wt(),ge())}function Es(n,e){return new tt(mr(n,e))}var tt=(()=>{class n{nativeElement;constructor(t){this.nativeElement=t}static __NG_ELEMENT_ID__=Z1}return n})();function J1(n){return n instanceof tt?n.nativeElement:n}function yg(n){return typeof n=="function"&&n[In]!==void 0}function Tn(n,e){let t=up(n,e?.equal),r=t[In];return t.set=i=>Da(r,i),t.update=i=>dp(r,i),t.asReadonly=Y1.bind(t),t}function Y1(){let n=this[In];if(n.readonlyFn===void 0){let e=()=>this();e[In]=n,n.readonlyFn=e}return n.readonlyFn}function kw(n){return yg(n)&&typeof n.set=="function"}function Q1(){return this._results[Symbol.iterator]()}var Zu=class{_emitDistinctChangesOnly;dirty=!0;_onDirty=void 0;_results=[];_changesDetected=!1;_changes=void 0;length=0;first=void 0;last=void 0;get changes(){return this._changes??=new re}constructor(e=!1){this._emitDistinctChangesOnly=e}get(e){return this._results[e]}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,t){return this._results.reduce(e,t)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e,t){this.dirty=!1;let r=kA(e);(this._changesDetected=!OA(this._results,r,t))&&(this._results=r,this.length=r.length,this.last=r[this.length-1],this.first=r[0])}notifyOnChanges(){this._changes!==void 0&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.next(this)}onDirty(e){this._onDirty=e}setDirty(){this.dirty=!0,this._onDirty?.()}destroy(){this._changes!==void 0&&(this._changes.complete(),this._changes.unsubscribe())}[Symbol.iterator]=Q1};function Nw(n){return(n.flags&128)===128}var Fw=function(n){return n[n.OnPush=0]="OnPush",n[n.Default=1]="Default",n}(Fw||{}),Pw=new Map,K1=0;function X1(){return K1++}function eR(n){Pw.set(n[ld],n)}function fm(n){Pw.delete(n[ld])}var W0="__ngContext__";function Ya(n,e){gi(e)?(n[W0]=e[ld],eR(e)):n[W0]=e}function Lw(n){return jw(n[Ba])}function Vw(n){return jw(n[Bn])}function jw(n){for(;n!==null&&!qr(n);)n=n[Bn];return n}var hm;function Bw(n){hm=n}function Uw(){if(hm!==void 0)return hm;if(typeof document<"u")return document;throw new L(210,!1)}var hd=new j("",{providedIn:"root",factory:()=>tR}),tR="ng",_g=new j(""),ho=new j("",{providedIn:"platform",factory:()=>"unknown"});var Qa=new j("",{providedIn:"root",factory:()=>Uw().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var nR="h",rR="b";var $w=!1,iR=new j("",{providedIn:"root",factory:()=>$w});var bg=function(n){return n[n.CHANGE_DETECTION=0]="CHANGE_DETECTION",n[n.AFTER_NEXT_RENDER=1]="AFTER_NEXT_RENDER",n}(bg||{}),Is=new j(""),Z0=new Set;function pd(n){Z0.has(n)||(Z0.add(n),performance?.mark?.("mark_feature_usage",{detail:{feature:n}}))}var Hw=(()=>{class n{view;node;constructor(t,r){this.view=t,this.node=r}static __NG_ELEMENT_ID__=oR}return n})();function oR(){return new Hw(ge(),Wt())}var ss=function(n){return n[n.EarlyRead=0]="EarlyRead",n[n.Write=1]="Write",n[n.MixedReadWrite=2]="MixedReadWrite",n[n.Read=3]="Read",n}(ss||{}),zw=(()=>{class n{impl=null;execute(){this.impl?.execute()}static \u0275prov=O({token:n,providedIn:"root",factory:()=>new n})}return n})(),sR=[ss.EarlyRead,ss.Write,ss.MixedReadWrite,ss.Read],aR=(()=>{class n{ngZone=E(be);scheduler=E(ms);errorHandler=E(sn,{optional:!0});sequences=new Set;deferredRegistrations=new Set;executing=!1;constructor(){E(Is,{optional:!0})}execute(){let t=this.sequences.size>0;t&&Ve(16),this.executing=!0;for(let r of sR)for(let i of this.sequences)if(!(i.erroredOrDestroyed||!i.hooks[r]))try{i.pipelinedValue=this.ngZone.runOutsideAngular(()=>this.maybeTrace(()=>{let o=i.hooks[r];return o(i.pipelinedValue)},i.snapshot))}catch(o){i.erroredOrDestroyed=!0,this.errorHandler?.handleError(o)}this.executing=!1;for(let r of this.sequences)r.afterRun(),r.once&&(this.sequences.delete(r),r.destroy());for(let r of this.deferredRegistrations)this.sequences.add(r);this.deferredRegistrations.size>0&&this.scheduler.notify(7),this.deferredRegistrations.clear(),t&&Ve(17)}register(t){let{view:r}=t;r!==void 0?((r[ls]??=[]).push(t),Za(r),r[oe]|=8192):this.executing?this.deferredRegistrations.add(t):this.addSequence(t)}addSequence(t){this.sequences.add(t),this.scheduler.notify(7)}unregister(t){this.executing&&this.sequences.has(t)?(t.erroredOrDestroyed=!0,t.pipelinedValue=void 0,t.once=!0):(this.sequences.delete(t),this.deferredRegistrations.delete(t))}maybeTrace(t,r){return r?r.run(bg.AFTER_NEXT_RENDER,t):t()}static \u0275prov=O({token:n,providedIn:"root",factory:()=>new n})}return n})(),pm=class{impl;hooks;view;once;snapshot;erroredOrDestroyed=!1;pipelinedValue=void 0;unregisterOnDestroy;constructor(e,t,r,i,o,s=null){this.impl=e,this.hooks=t,this.view=r,this.once=i,this.snapshot=s,this.unregisterOnDestroy=o?.onDestroy(()=>this.destroy())}afterRun(){this.erroredOrDestroyed=!1,this.pipelinedValue=void 0,this.snapshot?.dispose(),this.snapshot=null}destroy(){this.impl.unregister(this),this.unregisterOnDestroy?.();let e=this.view?.[ls];e&&(this.view[ls]=e.filter(t=>t!==this))}};function Ka(n,e){!e?.injector&&JA(Ka);let t=e?.injector??E(wt);return pd("NgAfterNextRender"),cR(n,t,e,!0)}function lR(n,e){if(n instanceof Function){let t=[void 0,void 0,void 0,void 0];return t[e]=n,t}else return[n.earlyRead,n.write,n.mixedReadWrite,n.read]}function cR(n,e,t,r){let i=e.get(zw);i.impl??=e.get(aR);let o=e.get(Is,null,{optional:!0}),s=t?.phase??ss.MixedReadWrite,a=t?.manualCleanup!==!0?e.get(Cs):null,l=e.get(Hw,null,{optional:!0}),c=new pm(i.impl,lR(n,s),l?.view,r,a,o?.snapshot(null));return i.impl.register(c),c}var uR=(n,e,t,r)=>{};function dR(n,e,t,r){uR(n,e,t,r)}var fR=()=>null;function Gw(n,e,t=!1){return fR(n,e,t)}function qw(n,e){let t=n.contentQueries;if(t!==null){let r=ve(null);try{for(let i=0;i<t.length;i+=2){let o=t[i],s=t[i+1];if(s!==-1){let a=n.data[s];cg(o),a.contentQueries(2,e[s],s)}}}finally{ve(r)}}}function mm(n,e,t){cg(0);let r=ve(null);try{e(n,t)}finally{ve(r)}}function Ww(n,e,t){if($b(e)){let r=ve(null);try{let i=e.directiveStart,o=e.directiveEnd;for(let s=i;s<o;s++){let a=n.data[s];if(a.contentQueries){let l=t[s];a.contentQueries(1,l,s)}}}finally{ve(r)}}}var hr=function(n){return n[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",n}(hr||{}),wu;function hR(){if(wu===void 0&&(wu=null,us.trustedTypes))try{wu=us.trustedTypes.createPolicy("angular",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return wu}function md(n){return hR()?.createHTML(n)||n}var Cu;function Zw(){if(Cu===void 0&&(Cu=null,us.trustedTypes))try{Cu=us.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return Cu}function J0(n){return Zw()?.createHTML(n)||n}function Y0(n){return Zw()?.createScriptURL(n)||n}var Ur=class{changingThisBreaksApplicationSecurity;constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${yb})`}},gm=class extends Ur{getTypeName(){return"HTML"}},vm=class extends Ur{getTypeName(){return"Style"}},ym=class extends Ur{getTypeName(){return"Script"}},_m=class extends Ur{getTypeName(){return"URL"}},bm=class extends Ur{getTypeName(){return"ResourceURL"}};function Gn(n){return n instanceof Ur?n.changingThisBreaksApplicationSecurity:n}function Wr(n,e){let t=pR(n);if(t!=null&&t!==e){if(t==="ResourceURL"&&e==="URL")return!0;throw new Error(`Required a safe ${e}, got a ${t} (see ${yb})`)}return t===e}function pR(n){return n instanceof Ur&&n.getTypeName()||null}function Jw(n){return new gm(n)}function Yw(n){return new vm(n)}function Qw(n){return new ym(n)}function Kw(n){return new _m(n)}function Xw(n){return new bm(n)}function mR(n){let e=new Cm(n);return gR()?new wm(e):e}var wm=class{inertDocumentHelper;constructor(e){this.inertDocumentHelper=e}getInertBodyElement(e){e="<body><remove></remove>"+e;try{let t=new window.DOMParser().parseFromString(md(e),"text/html").body;return t===null?this.inertDocumentHelper.getInertBodyElement(e):(t.firstChild?.remove(),t)}catch{return null}}},Cm=class{defaultDoc;inertDocument;constructor(e){this.defaultDoc=e,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(e){let t=this.inertDocument.createElement("template");return t.innerHTML=md(e),t}};function gR(){try{return!!new window.DOMParser().parseFromString(md(""),"text/html")}catch{return!1}}var vR=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function gd(n){return n=String(n),n.match(vR)?n:"unsafe:"+n}function Zr(n){let e={};for(let t of n.split(","))e[t]=!0;return e}function Xa(...n){let e={};for(let t of n)for(let r in t)t.hasOwnProperty(r)&&(e[r]=!0);return e}var eC=Zr("area,br,col,hr,img,wbr"),tC=Zr("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),nC=Zr("rp,rt"),yR=Xa(nC,tC),_R=Xa(tC,Zr("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),bR=Xa(nC,Zr("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Q0=Xa(eC,_R,bR,yR),rC=Zr("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),wR=Zr("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),CR=Zr("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext"),ER=Xa(rC,wR,CR),IR=Zr("script,style,template"),Em=class{sanitizedSomething=!1;buf=[];sanitizeChildren(e){let t=e.firstChild,r=!0,i=[];for(;t;){if(t.nodeType===Node.ELEMENT_NODE?r=this.startElement(t):t.nodeType===Node.TEXT_NODE?this.chars(t.nodeValue):this.sanitizedSomething=!0,r&&t.firstChild){i.push(t),t=TR(t);continue}for(;t;){t.nodeType===Node.ELEMENT_NODE&&this.endElement(t);let o=SR(t);if(o){t=o;break}t=i.pop()}}return this.buf.join("")}startElement(e){let t=K0(e).toLowerCase();if(!Q0.hasOwnProperty(t))return this.sanitizedSomething=!0,!IR.hasOwnProperty(t);this.buf.push("<"),this.buf.push(t);let r=e.attributes;for(let i=0;i<r.length;i++){let o=r.item(i),s=o.name,a=s.toLowerCase();if(!ER.hasOwnProperty(a)){this.sanitizedSomething=!0;continue}let l=o.value;rC[a]&&(l=gd(l)),this.buf.push(" ",s,'="',X0(l),'"')}return this.buf.push(">"),!0}endElement(e){let t=K0(e).toLowerCase();Q0.hasOwnProperty(t)&&!eC.hasOwnProperty(t)&&(this.buf.push("</"),this.buf.push(t),this.buf.push(">"))}chars(e){this.buf.push(X0(e))}};function DR(n,e){return(n.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_CONTAINED_BY)!==Node.DOCUMENT_POSITION_CONTAINED_BY}function SR(n){let e=n.nextSibling;if(e&&n!==e.previousSibling)throw iC(e);return e}function TR(n){let e=n.firstChild;if(e&&DR(n,e))throw iC(e);return e}function K0(n){let e=n.nodeName;return typeof e=="string"?e:"FORM"}function iC(n){return new Error(`Failed to sanitize html because the element is clobbered: ${n.outerHTML}`)}var xR=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,MR=/([^\#-~ |!])/g;function X0(n){return n.replace(/&/g,"&amp;").replace(xR,function(e){let t=e.charCodeAt(0),r=e.charCodeAt(1);return"&#"+((t-55296)*1024+(r-56320)+65536)+";"}).replace(MR,function(e){return"&#"+e.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}var Eu;function wg(n,e){let t=null;try{Eu=Eu||mR(n);let r=e?String(e):"";t=Eu.getInertBodyElement(r);let i=5,o=r;do{if(i===0)throw new Error("Failed to sanitize html because the input is unstable");i--,r=o,o=t.innerHTML,t=Eu.getInertBodyElement(r)}while(r!==o);let a=new Em().sanitizeChildren(eb(t)||t);return md(a)}finally{if(t){let r=eb(t)||t;for(;r.firstChild;)r.firstChild.remove()}}}function eb(n){return"content"in n&&AR(n)?n.content:null}function AR(n){return n.nodeType===Node.ELEMENT_NODE&&n.nodeName==="TEMPLATE"}var xt=function(n){return n[n.NONE=0]="NONE",n[n.HTML=1]="HTML",n[n.STYLE=2]="STYLE",n[n.SCRIPT=3]="SCRIPT",n[n.URL=4]="URL",n[n.RESOURCE_URL=5]="RESOURCE_URL",n}(xt||{});function Ds(n){let e=Eg();return e?J0(e.sanitize(xt.HTML,n)||""):Wr(n,"HTML")?J0(Gn(n)):wg(Uw(),no(n))}function Mt(n){let e=Eg();return e?e.sanitize(xt.URL,n)||"":Wr(n,"URL")?Gn(n):gd(no(n))}function Cg(n){let e=Eg();if(e)return Y0(e.sanitize(xt.RESOURCE_URL,n)||"");if(Wr(n,"ResourceURL"))return Y0(Gn(n));throw new L(904,!1)}function RR(n,e){return e==="src"&&(n==="embed"||n==="frame"||n==="iframe"||n==="media"||n==="script")||e==="href"&&(n==="base"||n==="link")?Cg:Mt}function oC(n,e,t){return RR(e,t)(n)}function Eg(){let n=ge();return n&&n[jr].sanitizer}function sC(n){return n.ownerDocument}function aC(n){return n instanceof Function?n():n}function OR(n,e,t){let r=n.length;for(;;){let i=n.indexOf(e,t);if(i===-1)return i;if(i===0||n.charCodeAt(i-1)<=32){let o=e.length;if(i+o===r||n.charCodeAt(i+o)<=32)return i}t=i+1}}var lC="ng-template";function kR(n,e,t,r){let i=0;if(r){for(;i<e.length&&typeof e[i]=="string";i+=2)if(e[i]==="class"&&OR(e[i+1].toLowerCase(),t,0)!==-1)return!0}else if(Ig(n))return!1;if(i=e.indexOf(1,i),i>-1){let o;for(;++i<e.length&&typeof(o=e[i])=="string";)if(o.toLowerCase()===t)return!0}return!1}function Ig(n){return n.type===4&&n.value!==lC}function NR(n,e,t){let r=n.type===4&&!t?lC:n.value;return e===r}function FR(n,e,t){let r=4,i=n.attrs,o=i!==null?VR(i):0,s=!1;for(let a=0;a<e.length;a++){let l=e[a];if(typeof l=="number"){if(!s&&!Vn(r)&&!Vn(l))return!1;if(s&&Vn(l))continue;s=!1,r=l|r&1;continue}if(!s)if(r&4){if(r=2|r&1,l!==""&&!NR(n,l,t)||l===""&&e.length===1){if(Vn(r))return!1;s=!0}}else if(r&8){if(i===null||!kR(n,i,l,t)){if(Vn(r))return!1;s=!0}}else{let c=e[++a],u=PR(l,i,Ig(n),t);if(u===-1){if(Vn(r))return!1;s=!0;continue}if(c!==""){let d;if(u>o?d="":d=i[u+1].toLowerCase(),r&2&&c!==d){if(Vn(r))return!1;s=!0}}}}return Vn(r)||s}function Vn(n){return(n&1)===0}function PR(n,e,t,r){if(e===null)return-1;let i=0;if(r||!t){let o=!1;for(;i<e.length;){let s=e[i];if(s===n)return i;if(s===3||s===6)o=!0;else if(s===1||s===2){let a=e[++i];for(;typeof a=="string";)a=e[++i];continue}else{if(s===4)break;if(s===0){i+=4;continue}}i+=o?1:2}return-1}else return jR(e,n)}function cC(n,e,t=!1){for(let r=0;r<e.length;r++)if(FR(n,e[r],t))return!0;return!1}function LR(n){let e=n.attrs;if(e!=null){let t=e.indexOf(5);if((t&1)===0)return e[t+1]}return null}function VR(n){for(let e=0;e<n.length;e++){let t=n[e];if(gw(t))return e}return n.length}function jR(n,e){let t=n.indexOf(4);if(t>-1)for(t++;t<n.length;){let r=n[t];if(typeof r=="number")return-1;if(r===e)return t;t++}return-1}function BR(n,e){e:for(let t=0;t<e.length;t++){let r=e[t];if(n.length===r.length){for(let i=0;i<n.length;i++)if(n[i]!==r[i])continue e;return!0}}return!1}function tb(n,e){return n?":not("+e.trim()+")":e}function UR(n){let e=n[0],t=1,r=2,i="",o=!1;for(;t<n.length;){let s=n[t];if(typeof s=="string")if(r&2){let a=n[++t];i+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else r&8?i+="."+s:r&4&&(i+=" "+s);else i!==""&&!Vn(s)&&(e+=tb(o,i),i=""),r=s,o=o||!Vn(r);t++}return i!==""&&(e+=tb(o,i)),e}function $R(n){return n.map(UR).join(",")}function HR(n){let e=[],t=[],r=1,i=2;for(;r<n.length;){let o=n[r];if(typeof o=="string")i===2?o!==""&&e.push(o,n[++r]):i===8&&t.push(o);else{if(!Vn(i))break;i=o}r++}return t.length&&e.push(1,...t),e}var xn={};function zR(n,e){return n.createText(e)}function GR(n,e,t){n.setValue(e,t)}function uC(n,e,t){return n.createElement(e,t)}function Ju(n,e,t,r,i){n.insertBefore(e,t,r,i)}function dC(n,e,t){n.appendChild(e,t)}function nb(n,e,t,r,i){r!==null?Ju(n,e,t,r,i):dC(n,e,t)}function qR(n,e,t){n.removeChild(null,e,t)}function WR(n,e,t){n.setAttribute(e,"style",t)}function ZR(n,e,t){t===""?n.removeAttribute(e,"class"):n.setAttribute(e,"class",t)}function fC(n,e,t){let{mergedAttrs:r,classes:i,styles:o}=t;r!==null&&T1(n,e,r),i!==null&&ZR(n,e,i),o!==null&&WR(n,e,o)}function Dg(n,e,t,r,i,o,s,a,l,c,u){let d=on+r,p=d+i,f=JR(d,p),h=typeof c=="function"?c():c;return f[pe]={type:n,blueprint:f,template:t,queries:null,viewQuery:a,declTNode:e,data:f.slice().fill(null,d),bindingStartIndex:d,expandoStartIndex:p,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof o=="function"?o():o,pipeRegistry:typeof s=="function"?s():s,firstChild:null,schemas:l,consts:h,incompleteFirstPass:!1,ssrId:u}}function JR(n,e){let t=[];for(let r=0;r<e;r++)t.push(r<n?null:xn);return t}function YR(n){let e=n.tView;return e===null||e.incompleteFirstPass?n.tView=Dg(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts,n.id):e}function Sg(n,e,t,r,i,o,s,a,l,c,u){let d=e.blueprint.slice();return d[Gr]=i,d[oe]=r|4|128|8|64|1024,(c!==null||n&&n[oe]&2048)&&(d[oe]|=2048),Qb(d),d[Ft]=d[_s]=n,d[rn]=t,d[jr]=s||n&&n[jr],d[st]=a||n&&n[st],d[hs]=l||n&&n[hs]||null,d[an]=o,d[ld]=X1(),d[ja]=u,d[Bb]=c,d[Sn]=e.type==2?n[Sn]:d,d}function QR(n,e,t){let r=mr(e,n),i=YR(t),o=n[jr].rendererFactory,s=Tg(n,Sg(n,i,null,hC(t),r,e,null,o.createRenderer(r,t),null,null,null));return n[e.index]=s}function hC(n){let e=16;return n.signals?e=4096:n.onPush&&(e=64),e}function pC(n,e,t,r){if(t===0)return-1;let i=e.length;for(let o=0;o<t;o++)e.push(r),n.blueprint.push(r),n.data.push(null);return i}function Tg(n,e){return n[Ba]?n[F0][Bn]=e:n[Ba]=e,n[F0]=e,e}function _(n=1){mC(gt(),ge(),vi()+n,!1)}function mC(n,e,t,r){if(!r)if((e[oe]&3)===3){let o=n.preOrderCheckHooks;o!==null&&Su(e,o,t)}else{let o=n.preOrderHooks;o!==null&&Tu(e,o,0,t)}co(t)}var vd=function(n){return n[n.None=0]="None",n[n.SignalBased=1]="SignalBased",n[n.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",n}(vd||{});function Im(n,e,t,r){let i=ve(null);try{let[o,s,a]=n.inputs[t],l=null;(s&vd.SignalBased)!==0&&(l=e[o][In]),l!==null&&l.transformFn!==void 0?r=l.transformFn(r):a!==null&&(r=a.call(e,r)),n.setInput!==null?n.setInput(e,l,r,t,o):Hb(e,l,o,r)}finally{ve(i)}}function gC(n,e,t,r,i){let o=vi(),s=r&2;try{co(-1),s&&e.length>on&&mC(n,e,on,!1),Ve(s?2:0,i),t(r,i)}finally{co(o),Ve(s?3:1,i)}}function xg(n,e,t){rO(n,e,t),(t.flags&64)===64&&iO(n,e,t)}function vC(n,e,t=mr){let r=e.localNames;if(r!==null){let i=e.index+1;for(let o=0;o<r.length;o+=2){let s=r[o+1],a=s===-1?t(e,n):n[s];n[i++]=a}}}function KR(n,e,t,r){let o=r.get(iR,$w)||t===hr.ShadowDom,s=n.selectRootElement(e,o);return XR(s),s}function XR(n){eO(n)}var eO=()=>null;function tO(n){return n==="class"?"className":n==="for"?"htmlFor":n==="formaction"?"formAction":n==="innerHtml"?"innerHTML":n==="readonly"?"readOnly":n==="tabindex"?"tabIndex":n}function yC(n,e,t,r,i,o,s,a){if(!a&&Mg(e,n,t,r,i)){bs(e)&&nO(t,e.index);return}if(e.type&3){let l=mr(e,t);r=tO(r),i=s!=null?s(i,e.value||"",r):i,o.setProperty(l,r,i)}else e.type&12}function nO(n,e){let t=fr(e,n);t[oe]&16||(t[oe]|=64)}function rO(n,e,t){let r=t.directiveStart,i=t.directiveEnd;bs(t)&&QR(e,t,n.data[r+t.componentOffset]),n.firstCreatePass||zu(t,e);let o=t.initialInputs;for(let s=r;s<i;s++){let a=n.data[s],l=$a(e,n,s,t);if(Ya(l,e),o!==null&&lO(e,s-r,l,a,t,o),ur(a)){let c=fr(t.index,e);c[rn]=$a(e,n,s,t)}}}function iO(n,e,t){let r=t.directiveStart,i=t.directiveEnd,o=t.index,s=y1();try{co(o);for(let a=r;a<i;a++){let l=n.data[a],c=e[a];im(a),(l.hostBindings!==null||l.hostVars!==0||l.hostAttrs!==null)&&oO(l,c)}}finally{co(-1),im(s)}}function oO(n,e){n.hostBindings!==null&&n.hostBindings(1,e)}function _C(n,e){let t=n.directiveRegistry,r=null;if(t)for(let i=0;i<t.length;i++){let o=t[i];cC(e,o.selectors,!1)&&(r??=[],ur(o)?r.unshift(o):r.push(o))}return r}function sO(n,e,t,r,i,o){let s=mr(n,e);aO(e[st],s,o,n.value,t,r,i)}function aO(n,e,t,r,i,o,s){if(o==null)n.removeAttribute(e,i,t);else{let a=s==null?no(o):s(o,r||"",i);n.setAttribute(e,i,a,t)}}function lO(n,e,t,r,i,o){let s=o[e];if(s!==null)for(let a=0;a<s.length;a+=2){let l=s[a],c=s[a+1];Im(r,t,l,c)}}function cO(n,e){let t=n[hs],r=t?t.get(sn,null):null;r&&r.handleError(e)}function Mg(n,e,t,r,i){let o=n.inputs?.[r],s=n.hostDirectiveInputs?.[r],a=!1;if(s)for(let l=0;l<s.length;l+=2){let c=s[l],u=s[l+1],d=e.data[c];Im(d,t[c],u,i),a=!0}if(o)for(let l of o){let c=t[l],u=e.data[l];Im(u,c,r,i),a=!0}return a}function uO(n,e){let t=fr(e,n),r=t[pe];dO(r,t);let i=t[Gr];i!==null&&t[ja]===null&&(t[ja]=Gw(i,t[hs])),Ve(18),Ag(r,t,t[rn]),Ve(19,t[rn])}function dO(n,e){for(let t=e.length;t<n.blueprint.length;t++)e.push(n.blueprint[t])}function Ag(n,e,t){ug(e);try{let r=n.viewQuery;r!==null&&mm(1,r,t);let i=n.template;i!==null&&gC(n,e,i,1,t),n.firstCreatePass&&(n.firstCreatePass=!1),e[Br]?.finishViewCreation(n),n.staticContentQueries&&qw(n,e),n.staticViewQueries&&mm(2,n.viewQuery,t);let o=n.components;o!==null&&fO(e,o)}catch(r){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),r}finally{e[oe]&=-5,dg()}}function fO(n,e){for(let t=0;t<e.length;t++)uO(n,e[t])}function bC(n,e,t,r){let i=ve(null);try{let o=e.tView,a=n[oe]&4096?4096:16,l=Sg(n,o,t,a,null,e,null,null,r?.injector??null,r?.embeddedViewInjector??null,r?.dehydratedView??null),c=n[e.index];l[so]=c;let u=n[Br];return u!==null&&(l[Br]=u.createEmbeddedView(o)),Ag(o,l,t),l}finally{ve(i)}}function Dm(n,e){return!e||e.firstChild===null||Nw(n)}var hO;function Rg(n,e){return hO(n,e)}var $r=function(n){return n[n.Important=1]="Important",n[n.DashCase=2]="DashCase",n}($r||{});function Og(n){return(n.flags&32)===32}function as(n,e,t,r,i){if(r!=null){let o,s=!1;qr(r)?o=r:gi(r)&&(s=!0,r=r[Gr]);let a=dr(r);n===0&&t!==null?i==null?dC(e,t,a):Ju(e,t,a,i||null,!0):n===1&&t!==null?Ju(e,t,a,i||null,!0):n===2?qR(e,a,s):n===3&&e.destroyNode(a),o!=null&&EO(e,n,o,t,i)}}function pO(n,e){wC(n,e),e[Gr]=null,e[an]=null}function mO(n,e,t,r,i,o){r[Gr]=i,r[an]=e,yd(n,r,t,1,i,o)}function wC(n,e){e[jr].changeDetectionScheduler?.notify(9),yd(n,e,e[st],2,null,null)}function gO(n){let e=n[Ba];if(!e)return Bp(n[pe],n);for(;e;){let t=null;if(gi(e))t=e[Ba];else{let r=e[fn];r&&(t=r)}if(!t){for(;e&&!e[Bn]&&e!==n;)gi(e)&&Bp(e[pe],e),e=e[Ft];e===null&&(e=n),gi(e)&&Bp(e[pe],e),t=e&&e[Bn]}e=t}}function kg(n,e){let t=n[ps],r=t.indexOf(e);t.splice(r,1)}function CC(n,e){if(ws(e))return;let t=e[st];t.destroyNode&&yd(n,e,t,3,null,null),gO(e)}function Bp(n,e){if(ws(e))return;let t=ve(null);try{e[oe]&=-129,e[oe]|=256,e[Dn]&&ap(e[Dn]),yO(n,e),vO(n,e),e[pe].type===1&&e[st].destroy();let r=e[so];if(r!==null&&qr(e[Ft])){r!==e[Ft]&&kg(r,e);let i=e[Br];i!==null&&i.detachView(n)}fm(e)}finally{ve(t)}}function vO(n,e){let t=n.cleanup,r=e[Pu];if(t!==null)for(let s=0;s<t.length-1;s+=2)if(typeof t[s]=="string"){let a=t[s+3];a>=0?r[a]():r[-a].unsubscribe(),s+=2}else{let a=r[t[s+1]];t[s].call(a)}r!==null&&(e[Pu]=null);let i=e[mi];if(i!==null){e[mi]=null;for(let s=0;s<i.length;s++){let a=i[s];a()}}let o=e[Lu];if(o!==null){e[Lu]=null;for(let s of o)s.destroy()}}function yO(n,e){let t;if(n!=null&&(t=n.destroyHooks)!=null)for(let r=0;r<t.length;r+=2){let i=e[t[r]];if(!(i instanceof uo)){let o=t[r+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){let a=i[o[s]],l=o[s+1];Ve(4,a,l);try{l.call(a)}finally{Ve(5,a,l)}}else{Ve(4,i,o);try{o.call(i)}finally{Ve(5,i,o)}}}}}function EC(n,e,t){return _O(n,e.parent,t)}function _O(n,e,t){let r=e;for(;r!==null&&r.type&168;)e=r,r=e.parent;if(r===null)return t[Gr];if(bs(r)){let{encapsulation:i}=n.data[r.directiveStart+r.componentOffset];if(i===hr.None||i===hr.Emulated)return null}return mr(r,t)}function IC(n,e,t){return wO(n,e,t)}function bO(n,e,t){return n.type&40?mr(n,t):null}var wO=bO,rb;function Ng(n,e,t,r){let i=EC(n,r,e),o=e[st],s=r.parent||e[an],a=IC(s,r,e);if(i!=null)if(Array.isArray(t))for(let l=0;l<t.length;l++)nb(o,i,t[l],a,!1);else nb(o,i,t,a,!1);rb!==void 0&&rb(o,r,e,t,i)}function Pa(n,e){if(e!==null){let t=e.type;if(t&3)return mr(e,n);if(t&4)return Sm(-1,n[e.index]);if(t&8){let r=e.child;if(r!==null)return Pa(n,r);{let i=n[e.index];return qr(i)?Sm(-1,i):dr(i)}}else{if(t&128)return Pa(n,e.next);if(t&32)return Rg(e,n)()||dr(n[e.index]);{let r=DC(n,e);if(r!==null){if(Array.isArray(r))return r[0];let i=lo(n[Sn]);return Pa(i,r)}else return Pa(n,e.next)}}}return null}function DC(n,e){if(e!==null){let r=n[Sn][an],i=e.projection;return r.projection[i]}return null}function Sm(n,e){let t=fn+n+1;if(t<e.length){let r=e[t],i=r[pe].firstChild;if(i!==null)return Pa(r,i)}return e[ao]}function Fg(n,e,t,r,i,o,s){for(;t!=null;){if(t.type===128){t=t.next;continue}let a=r[t.index],l=t.type;if(s&&e===0&&(a&&Ya(dr(a),r),t.flags|=2),!Og(t))if(l&8)Fg(n,e,t.child,r,i,o,!1),as(e,n,i,a,o);else if(l&32){let c=Rg(t,r),u;for(;u=c();)as(e,n,i,u,o);as(e,n,i,a,o)}else l&16?SC(n,e,r,t,i,o):as(e,n,i,a,o);t=s?t.projectionNext:t.next}}function yd(n,e,t,r,i,o){Fg(t,r,n.firstChild,e,i,o,!1)}function CO(n,e,t){let r=e[st],i=EC(n,t,e),o=t.parent||e[an],s=IC(o,t,e);SC(r,0,e,t,i,s)}function SC(n,e,t,r,i,o){let s=t[Sn],l=s[an].projection[r.projection];if(Array.isArray(l))for(let c=0;c<l.length;c++){let u=l[c];as(e,n,i,u,o)}else{let c=l,u=s[Ft];Nw(r)&&(c.flags|=128),Fg(n,e,c,u,i,o,!0)}}function EO(n,e,t,r,i){let o=t[ao],s=dr(t);o!==s&&as(e,n,r,o,i);for(let a=fn;a<t.length;a++){let l=t[a];yd(l[pe],l,n,e,r,o)}}function IO(n,e,t,r,i){if(e)i?n.addClass(t,r):n.removeClass(t,r);else{let o=r.indexOf("-")===-1?void 0:$r.DashCase;i==null?n.removeStyle(t,r,o):(typeof i=="string"&&i.endsWith("!important")&&(i=i.slice(0,-10),o|=$r.Important),n.setStyle(t,r,i,o))}}function Yu(n,e,t,r,i=!1){for(;t!==null;){if(t.type===128){t=i?t.projectionNext:t.next;continue}let o=e[t.index];o!==null&&r.push(dr(o)),qr(o)&&DO(o,r);let s=t.type;if(s&8)Yu(n,e,t.child,r);else if(s&32){let a=Rg(t,e),l;for(;l=a();)r.push(l)}else if(s&16){let a=DC(e,t);if(Array.isArray(a))r.push(...a);else{let l=lo(e[Sn]);Yu(l[pe],l,a,r,!0)}}t=i?t.projectionNext:t.next}return r}function DO(n,e){for(let t=fn;t<n.length;t++){let r=n[t],i=r[pe].firstChild;i!==null&&Yu(r[pe],r,i,e)}n[ao]!==n[Gr]&&e.push(n[ao])}function TC(n){if(n[ls]!==null){for(let e of n[ls])e.impl.addSequence(e);n[ls].length=0}}var xC=[];function SO(n){return n[Dn]??TO(n)}function TO(n){let e=xC.pop()??Object.create(MO);return e.lView=n,e}function xO(n){n.lView[Dn]!==n&&(n.lView=null,xC.push(n))}var MO=X(S({},Ea),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:n=>{Za(n.lView)},consumerOnSignalRead(){this.lView[Dn]=this}});function AO(n){let e=n[Dn]??Object.create(RO);return e.lView=n,e}var RO=X(S({},Ea),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:n=>{let e=lo(n.lView);for(;e&&!MC(e[pe]);)e=lo(e);e&&Kb(e)},consumerOnSignalRead(){this.lView[Dn]=this}});function MC(n){return n.type!==2}function AC(n){if(n[Lu]===null)return;let e=!0;for(;e;){let t=!1;for(let r of n[Lu])r.dirty&&(t=!0,r.zone===null||Zone.current===r.zone?r.run():r.zone.run(()=>r.run()));e=t&&!!(n[oe]&8192)}}var OO=100;function RC(n,e=!0,t=0){let i=n[jr].rendererFactory,o=!1;o||i.begin?.();try{kO(n,t)}catch(s){throw e&&cO(n,s),s}finally{o||i.end?.()}}function kO(n,e){let t=ow();try{L0(!0),Tm(n,e);let r=0;for(;cd(n);){if(r===OO)throw new L(103,!1);r++,Tm(n,1)}}finally{L0(t)}}function NO(n,e,t,r){if(ws(e))return;let i=e[oe],o=!1,s=!1;ug(e);let a=!0,l=null,c=null;o||(MC(n)?(c=SO(e),l=Vc(c)):tp()===null?(a=!1,c=AO(e),l=Vc(c)):e[Dn]&&(ap(e[Dn]),e[Dn]=null));try{Qb(e),m1(n.bindingStartIndex),t!==null&&gC(n,e,t,2,r);let u=(i&3)===3;if(!o)if(u){let f=n.preOrderCheckHooks;f!==null&&Su(e,f,null)}else{let f=n.preOrderHooks;f!==null&&Tu(e,f,0,null),Vp(e,0)}if(s||FO(e),AC(e),OC(e,0),n.contentQueries!==null&&qw(n,e),!o)if(u){let f=n.contentCheckHooks;f!==null&&Su(e,f)}else{let f=n.contentHooks;f!==null&&Tu(e,f,1),Vp(e,1)}LO(n,e);let d=n.components;d!==null&&NC(e,d,0);let p=n.viewQuery;if(p!==null&&mm(2,p,r),!o)if(u){let f=n.viewCheckHooks;f!==null&&Su(e,f)}else{let f=n.viewHooks;f!==null&&Tu(e,f,2),Vp(e,2)}if(n.firstUpdatePass===!0&&(n.firstUpdatePass=!1),e[Lp]){for(let f of e[Lp])f();e[Lp]=null}o||(TC(e),e[oe]&=-73)}catch(u){throw o||Za(e),u}finally{c!==null&&(op(c,l),a&&xO(c)),dg()}}function OC(n,e){for(let t=Lw(n);t!==null;t=Vw(t))for(let r=fn;r<t.length;r++){let i=t[r];kC(i,e)}}function FO(n){for(let e=Lw(n);e!==null;e=Vw(e)){if(!(e[oe]&2))continue;let t=e[ps];for(let r=0;r<t.length;r++){let i=t[r];Kb(i)}}}function PO(n,e,t){Ve(18);let r=fr(e,n);kC(r,t),Ve(19,r[rn])}function kC(n,e){og(n)&&Tm(n,e)}function Tm(n,e){let r=n[pe],i=n[oe],o=n[Dn],s=!!(e===0&&i&16);if(s||=!!(i&64&&e===0),s||=!!(i&1024),s||=!!(o?.dirty&&sp(o)),s||=!1,o&&(o.dirty=!1),n[oe]&=-9217,s)NO(r,n,r.template,n[rn]);else if(i&8192){AC(n),OC(n,1);let a=r.components;a!==null&&NC(n,a,1),TC(n)}}function NC(n,e,t){for(let r=0;r<e.length;r++)PO(n,e[r],t)}function LO(n,e){let t=n.hostBindingOpCodes;if(t!==null)try{for(let r=0;r<t.length;r++){let i=t[r];if(i<0)co(~i);else{let o=i,s=t[++r],a=t[++r];v1(s,o);let l=e[o];Ve(24,l),a(2,l),Ve(25,l)}}}finally{co(-1)}}function Pg(n,e){let t=ow()?64:1088;for(n[jr].changeDetectionScheduler?.notify(e);n;){n[oe]|=t;let r=lo(n);if(ju(n)&&!r)return n;n=r}return null}function FC(n,e,t,r){return[n,!0,0,e,null,r,null,t,null,null]}function PC(n,e,t,r=!0){let i=e[pe];if(VO(i,e,n,t),r){let s=Sm(t,n),a=e[st],l=a.parentNode(n[ao]);l!==null&&mO(i,n[an],a,e,l,s)}let o=e[ja];o!==null&&o.firstChild!==null&&(o.firstChild=null)}function xm(n,e){if(n.length<=fn)return;let t=fn+e,r=n[t];if(r){let i=r[so];i!==null&&i!==n&&kg(i,r),e>0&&(n[t-1][Bn]=r[Bn]);let o=Nu(n,fn+e);pO(r[pe],r);let s=o[Br];s!==null&&s.detachView(o[pe]),r[Ft]=null,r[Bn]=null,r[oe]&=-129}return r}function VO(n,e,t,r){let i=fn+r,o=t.length;r>0&&(t[i-1][Bn]=e),r<o-fn?(e[Bn]=t[i],Rb(t,fn+r,e)):(t.push(e),e[Bn]=null),e[Ft]=t;let s=e[so];s!==null&&t!==s&&LC(s,e);let a=e[Br];a!==null&&a.insertView(n),nm(e),e[oe]|=128}function LC(n,e){let t=n[ps],r=e[Ft];if(gi(r))n[oe]|=2;else{let i=r[Ft][Sn];e[Sn]!==i&&(n[oe]|=2)}t===null?n[ps]=[e]:t.push(e)}var Ha=class{_lView;_cdRefInjectingView;notifyErrorHandler;_appRef=null;_attachedToViewContainer=!1;get rootNodes(){let e=this._lView,t=e[pe];return Yu(t,e,t.firstChild,[])}constructor(e,t,r=!0){this._lView=e,this._cdRefInjectingView=t,this.notifyErrorHandler=r}get context(){return this._lView[rn]}set context(e){this._lView[rn]=e}get destroyed(){return ws(this._lView)}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let e=this._lView[Ft];if(qr(e)){let t=e[Vu],r=t?t.indexOf(this):-1;r>-1&&(xm(e,r),Nu(t,r))}this._attachedToViewContainer=!1}CC(this._lView[pe],this._lView)}onDestroy(e){Xb(this._lView,e)}markForCheck(){Pg(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[oe]&=-129}reattach(){nm(this._lView),this._lView[oe]|=128}detectChanges(){this._lView[oe]|=1024,RC(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new L(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;let e=ju(this._lView),t=this._lView[so];t!==null&&!e&&kg(t,this._lView),wC(this._lView[pe],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new L(902,!1);this._appRef=e;let t=ju(this._lView),r=this._lView[so];r!==null&&!t&&LC(r,this._lView),nm(this._lView)}};var pr=(()=>{class n{static __NG_ELEMENT_ID__=UO}return n})(),jO=pr,BO=class extends jO{_declarationLView;_declarationTContainer;elementRef;constructor(e,t,r){super(),this._declarationLView=e,this._declarationTContainer=t,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(e,t){return this.createEmbeddedViewImpl(e,t)}createEmbeddedViewImpl(e,t,r){let i=bC(this._declarationLView,this._declarationTContainer,e,{embeddedViewInjector:t,dehydratedView:r});return new Ha(i)}};function UO(){return Lg(Wt(),ge())}function Lg(n,e){return n.type&4?new BO(e,n,Es(n,e)):null}function _d(n,e,t,r,i){let o=n.data[e];if(o===null)o=$O(n,e,t,r,i),g1()&&(o.flags|=32);else if(o.type&64){o.type=t,o.value=r,o.attrs=i;let s=f1();o.injectorIndex=s===null?-1:s.injectorIndex}return Ja(o,!0),o}function $O(n,e,t,r,i){let o=nw(),s=rw(),a=s?o:o&&o.parent,l=n.data[e]=zO(n,a,t,e,r,i);return HO(n,l,o,s),l}function HO(n,e,t,r){n.firstChild===null&&(n.firstChild=e),t!==null&&(r?t.child==null&&e.parent!==null&&(t.child=e):t.next===null&&(t.next=e,e.prev=t))}function zO(n,e,t,r,i,o){let s=e?e.injectorIndex:-1,a=0;return tw()&&(a|=128),{type:t,index:r,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:null,inputs:null,hostDirectiveInputs:null,outputs:null,hostDirectiveOutputs:null,directiveToIndex:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}var s6=new RegExp(`^(\\d+)*(${rR}|${nR})*(.*)`);var GO=()=>null;function Mm(n,e){return GO(n,e)}var qO=class{},VC=class{},Am=class{resolveComponentFactory(e){throw Error(`No component factory found for ${nn(e)}.`)}},bd=class{static NULL=new Am},Un=class{},pn=(()=>{class n{destroyNode=null;static __NG_ELEMENT_ID__=()=>WO()}return n})();function WO(){let n=ge(),e=Wt(),t=fr(e.index,n);return(gi(t)?t:n)[st]}var ZO=(()=>{class n{static \u0275prov=O({token:n,providedIn:"root",factory:()=>null})}return n})();var Up={},Rm=class{injector;parentInjector;constructor(e,t){this.injector=e,this.parentInjector=t}get(e,t,r){r=od(r);let i=this.injector.get(e,Up,r);return i!==Up||t===Up?i:this.parentInjector.get(e,t,r)}};function ib(n,e,t){let r=t?n.styles:null,i=t?n.classes:null,o=0;if(e!==null)for(let s=0;s<e.length;s++){let a=e[s];if(typeof a=="number")o=a;else if(o==1)i=Zp(i,a);else if(o==2){let l=a,c=e[++s];r=Zp(r,l+": "+c+";")}}t?n.styles=r:n.stylesWithoutHost=r,t?n.classes=i:n.classesWithoutHost=i}function I(n,e=de.Default){let t=ge();if(t===null)return N(n,e);let r=Wt();return Ew(r,t,Gt(n),e)}function jC(n,e,t,r,i){let o=r===null?null:{"":-1},s=i(n,t);if(s!==null){let a,l=null,c=null,u=YO(s);u===null?a=s:[a,l,c]=u,XO(n,e,t,a,o,l,c)}o!==null&&r!==null&&JO(t,r,o)}function JO(n,e,t){let r=n.localNames=[];for(let i=0;i<e.length;i+=2){let o=t[e[i+1]];if(o==null)throw new L(-301,!1);r.push(e[i],o)}}function YO(n){let e=null,t=!1;for(let s=0;s<n.length;s++){let a=n[s];if(s===0&&ur(a)&&(e=a),a.findHostDirectiveDefs!==null){t=!0;break}}if(!t)return null;let r=null,i=null,o=null;for(let s of n)s.findHostDirectiveDefs!==null&&(r??=[],i??=new Map,o??=new Map,QO(s,r,o,i)),s===e&&(r??=[],r.push(s));return r!==null?(r.push(...e===null?n:n.slice(1)),[r,i,o]):null}function QO(n,e,t,r){let i=e.length;n.findHostDirectiveDefs(n,e,r),t.set(n,[i,e.length-1])}function KO(n,e,t){e.componentOffset=t,(n.components??=[]).push(e.index)}function XO(n,e,t,r,i,o,s){let a=r.length,l=!1;for(let p=0;p<a;p++){let f=r[p];!l&&ur(f)&&(l=!0,KO(n,t,p)),sm(zu(t,e),n,f.type)}ok(t,n.data.length,a);for(let p=0;p<a;p++){let f=r[p];f.providersResolver&&f.providersResolver(f)}let c=!1,u=!1,d=pC(n,e,a,null);a>0&&(t.directiveToIndex=new Map);for(let p=0;p<a;p++){let f=r[p];if(t.mergedAttrs=Ua(t.mergedAttrs,f.hostAttrs),tk(n,t,e,d,f),ik(d,f,i),s!==null&&s.has(f)){let[v,y]=s.get(f);t.directiveToIndex.set(f.type,[d,v+t.directiveStart,y+t.directiveStart])}else(o===null||!o.has(f))&&t.directiveToIndex.set(f.type,d);f.contentQueries!==null&&(t.flags|=4),(f.hostBindings!==null||f.hostAttrs!==null||f.hostVars!==0)&&(t.flags|=64);let h=f.type.prototype;!c&&(h.ngOnChanges||h.ngOnInit||h.ngDoCheck)&&((n.preOrderHooks??=[]).push(t.index),c=!0),!u&&(h.ngOnChanges||h.ngDoCheck)&&((n.preOrderCheckHooks??=[]).push(t.index),u=!0),d++}ek(n,t,o)}function ek(n,e,t){for(let r=e.directiveStart;r<e.directiveEnd;r++){let i=n.data[r];if(t===null||!t.has(i))ob(0,e,i,r),ob(1,e,i,r),ab(e,r,!1);else{let o=t.get(i);sb(0,e,o,r),sb(1,e,o,r),ab(e,r,!0)}}}function ob(n,e,t,r){let i=n===0?t.inputs:t.outputs;for(let o in i)if(i.hasOwnProperty(o)){let s;n===0?s=e.inputs??={}:s=e.outputs??={},s[o]??=[],s[o].push(r),BC(e,o)}}function sb(n,e,t,r){let i=n===0?t.inputs:t.outputs;for(let o in i)if(i.hasOwnProperty(o)){let s=i[o],a;n===0?a=e.hostDirectiveInputs??={}:a=e.hostDirectiveOutputs??={},a[s]??=[],a[s].push(r,o),BC(e,s)}}function BC(n,e){e==="class"?n.flags|=8:e==="style"&&(n.flags|=16)}function ab(n,e,t){let{attrs:r,inputs:i,hostDirectiveInputs:o}=n;if(r===null||!t&&i===null||t&&o===null||Ig(n)){n.initialInputs??=[],n.initialInputs.push(null);return}let s=null,a=0;for(;a<r.length;){let l=r[a];if(l===0){a+=4;continue}else if(l===5){a+=2;continue}else if(typeof l=="number")break;if(!t&&i.hasOwnProperty(l)){let c=i[l];for(let u of c)if(u===e){s??=[],s.push(l,r[a+1]);break}}else if(t&&o.hasOwnProperty(l)){let c=o[l];for(let u=0;u<c.length;u+=2)if(c[u]===e){s??=[],s.push(c[u+1],r[a+1]);break}}a+=2}n.initialInputs??=[],n.initialInputs.push(s)}function tk(n,e,t,r,i){n.data[r]=i;let o=i.factory||(i.factory=ro(i.type,!0)),s=new uo(o,ur(i),I);n.blueprint[r]=s,t[r]=s,nk(n,e,r,pC(n,t,i.hostVars,xn),i)}function nk(n,e,t,r,i){let o=i.hostBindings;if(o){let s=n.hostBindingOpCodes;s===null&&(s=n.hostBindingOpCodes=[]);let a=~e.index;rk(s)!=a&&s.push(a),s.push(t,r,o)}}function rk(n){let e=n.length;for(;e>0;){let t=n[--e];if(typeof t=="number"&&t<0)return t}return 0}function ik(n,e,t){if(t){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)t[e.exportAs[r]]=n;ur(e)&&(t[""]=n)}}function ok(n,e,t){n.flags|=1,n.directiveStart=e,n.directiveEnd=e+t,n.providerIndexes=e}function UC(n,e,t,r,i,o,s,a){let l=e.consts,c=Bu(l,s),u=_d(e,n,2,r,c);return o&&jC(e,t,u,Bu(l,a),i),u.mergedAttrs=Ua(u.mergedAttrs,u.attrs),u.attrs!==null&&ib(u,u.attrs,!1),u.mergedAttrs!==null&&ib(u,u.mergedAttrs,!0),e.queries!==null&&e.queries.elementStart(e,u),u}function $C(n,e){pw(n,e),$b(e)&&n.queries.elementEnd(e)}var Qu=class extends bd{ngModule;constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){let t=oo(e);return new gs(t,this.ngModule)}};function sk(n){return Object.keys(n).map(e=>{let[t,r,i]=n[e],o={propName:t,templateName:e,isSignal:(r&vd.SignalBased)!==0};return i&&(o.transform=i),o})}function ak(n){return Object.keys(n).map(e=>({propName:n[e],templateName:e}))}function lk(n,e,t){let r=e instanceof qt?e:e?.injector;return r&&n.getStandaloneInjector!==null&&(r=n.getStandaloneInjector(r)||r),r?new Rm(t,r):t}function ck(n){let e=n.get(Un,null);if(e===null)throw new L(407,!1);let t=n.get(ZO,null),r=n.get(ms,null);return{rendererFactory:e,sanitizer:t,changeDetectionScheduler:r}}function uk(n,e){let t=(n.selectors[0][0]||"div").toLowerCase();return uC(e,t,t==="svg"?Wb:t==="math"?e1:null)}var gs=class extends VC{componentDef;ngModule;selector;componentType;ngContentSelectors;isBoundToModule;cachedInputs=null;cachedOutputs=null;get inputs(){return this.cachedInputs??=sk(this.componentDef.inputs),this.cachedInputs}get outputs(){return this.cachedOutputs??=ak(this.componentDef.outputs),this.cachedOutputs}constructor(e,t){super(),this.componentDef=e,this.ngModule=t,this.componentType=e.type,this.selector=$R(e.selectors),this.ngContentSelectors=e.ngContentSelectors??[],this.isBoundToModule=!!t}create(e,t,r,i){Ve(22);let o=ve(null);try{let s=this.componentDef,a=r?["ng-version","19.2.15"]:HR(this.componentDef.selectors[0]),l=Dg(0,null,null,1,0,null,null,null,null,[a],null),c=lk(s,i||this.ngModule,e),u=ck(c),d=u.rendererFactory.createRenderer(null,s),p=r?KR(d,r,s.encapsulation,c):uk(s,d),f=Sg(null,l,null,512|hC(s),null,null,u,d,c,null,Gw(p,c,!0));f[on]=p,ug(f);let h=null;try{let v=UC(on,l,f,"#host",()=>[this.componentDef],!0,0);p&&(fC(d,p,v),Ya(p,f)),xg(l,f,v),Ww(l,v,f),$C(l,v),t!==void 0&&dk(v,this.ngContentSelectors,t),h=fr(v.index,f),f[rn]=h[rn],Ag(l,f,null)}catch(v){throw h!==null&&fm(h),fm(f),v}finally{Ve(23),dg()}return new Om(this.componentType,f)}finally{ve(o)}}},Om=class extends qO{_rootLView;instance;hostView;changeDetectorRef;componentType;location;previousInputValues=null;_tNode;constructor(e,t){super(),this._rootLView=t,this._tNode=Jb(t[pe],on),this.location=Es(this._tNode,t),this.instance=fr(this._tNode.index,t)[rn],this.hostView=this.changeDetectorRef=new Ha(t,void 0,!1),this.componentType=e}setInput(e,t){let r=this._tNode;if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),t))return;let i=this._rootLView,o=Mg(r,i[pe],i,e,t);this.previousInputValues.set(e,t);let s=fr(r.index,i);Pg(s,1)}get injector(){return new to(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}};function dk(n,e,t){let r=n.projection=[];for(let i=0;i<e.length;i++){let o=t[i];r.push(o!=null&&o.length?Array.from(o):null)}}var qn=(()=>{class n{static __NG_ELEMENT_ID__=fk}return n})();function fk(){let n=Wt();return zC(n,ge())}var hk=qn,HC=class extends hk{_lContainer;_hostTNode;_hostLView;constructor(e,t,r){super(),this._lContainer=e,this._hostTNode=t,this._hostLView=r}get element(){return Es(this._hostTNode,this._hostLView)}get injector(){return new to(this._hostTNode,this._hostLView)}get parentInjector(){let e=mg(this._hostTNode,this._hostLView);if(vw(e)){let t=$u(e,this._hostLView),r=Uu(e),i=t[pe].data[r+8];return new to(i,t)}else return new to(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){let t=lb(this._lContainer);return t!==null&&t[e]||null}get length(){return this._lContainer.length-fn}createEmbeddedView(e,t,r){let i,o;typeof r=="number"?i=r:r!=null&&(i=r.index,o=r.injector);let s=Mm(this._lContainer,e.ssrId),a=e.createEmbeddedViewImpl(t||{},o,s);return this.insertImpl(a,i,Dm(this._hostTNode,s)),a}createComponent(e,t,r,i,o){let s=e&&!YA(e),a;if(s)a=t;else{let h=t||{};a=h.index,r=h.injector,i=h.projectableNodes,o=h.environmentInjector||h.ngModuleRef}let l=s?e:new gs(oo(e)),c=r||this.parentInjector;if(!o&&l.ngModule==null){let v=(s?c:this.parentInjector).get(qt,null);v&&(o=v)}let u=oo(l.componentType??{}),d=Mm(this._lContainer,u?.id??null),p=d?.firstChild??null,f=l.create(c,i,p,o);return this.insertImpl(f.hostView,a,Dm(this._hostTNode,d)),f}insert(e,t){return this.insertImpl(e,t,!0)}insertImpl(e,t,r){let i=e._lView;if(r1(i)){let a=this.indexOf(e);if(a!==-1)this.detach(a);else{let l=i[Ft],c=new HC(l,l[an],l[Ft]);c.detach(c.indexOf(e))}}let o=this._adjustIndex(t),s=this._lContainer;return PC(s,i,o,r),e.attachToViewContainerRef(),Rb($p(s),o,e),e}move(e,t){return this.insert(e,t)}indexOf(e){let t=lb(this._lContainer);return t!==null?t.indexOf(e):-1}remove(e){let t=this._adjustIndex(e,-1),r=xm(this._lContainer,t);r&&(Nu($p(this._lContainer),t),CC(r[pe],r))}detach(e){let t=this._adjustIndex(e,-1),r=xm(this._lContainer,t);return r&&Nu($p(this._lContainer),t)!=null?new Ha(r):null}_adjustIndex(e,t=0){return e??this.length+t}};function lb(n){return n[Vu]}function $p(n){return n[Vu]||(n[Vu]=[])}function zC(n,e){let t,r=e[n.index];return qr(r)?t=r:(t=FC(r,e,null,n),e[n.index]=t,Tg(e,t)),mk(t,e,n,r),new HC(t,n,e)}function pk(n,e){let t=n[st],r=t.createComment(""),i=mr(e,n),o=t.parentNode(i);return Ju(t,o,r,t.nextSibling(i),!1),r}var mk=yk,gk=()=>!1;function vk(n,e,t){return gk(n,e,t)}function yk(n,e,t,r){if(n[ao])return;let i;t.type&8?i=dr(r):i=pk(e,t),n[ao]=i}var km=class n{queryList;matches=null;constructor(e){this.queryList=e}clone(){return new n(this.queryList)}setDirty(){this.queryList.setDirty()}},Nm=class n{queries;constructor(e=[]){this.queries=e}createEmbeddedView(e){let t=e.queries;if(t!==null){let r=e.contentQueries!==null?e.contentQueries[0]:t.length,i=[];for(let o=0;o<r;o++){let s=t.getByIndex(o),a=this.queries[s.indexInDeclarationView];i.push(a.clone())}return new n(i)}return null}insertView(e){this.dirtyQueriesWithMatches(e)}detachView(e){this.dirtyQueriesWithMatches(e)}finishViewCreation(e){this.dirtyQueriesWithMatches(e)}dirtyQueriesWithMatches(e){for(let t=0;t<this.queries.length;t++)Vg(e,t).matches!==null&&this.queries[t].setDirty()}},Ku=class{flags;read;predicate;constructor(e,t,r=null){this.flags=t,this.read=r,typeof e=="string"?this.predicate=Sk(e):this.predicate=e}},Fm=class n{queries;constructor(e=[]){this.queries=e}elementStart(e,t){for(let r=0;r<this.queries.length;r++)this.queries[r].elementStart(e,t)}elementEnd(e){for(let t=0;t<this.queries.length;t++)this.queries[t].elementEnd(e)}embeddedTView(e){let t=null;for(let r=0;r<this.length;r++){let i=t!==null?t.length:0,o=this.getByIndex(r).embeddedTView(e,i);o&&(o.indexInDeclarationView=r,t!==null?t.push(o):t=[o])}return t!==null?new n(t):null}template(e,t){for(let r=0;r<this.queries.length;r++)this.queries[r].template(e,t)}getByIndex(e){return this.queries[e]}get length(){return this.queries.length}track(e){this.queries.push(e)}},Pm=class n{metadata;matches=null;indexInDeclarationView=-1;crossesNgTemplate=!1;_declarationNodeIndex;_appliesToNextNode=!0;constructor(e,t=-1){this.metadata=e,this._declarationNodeIndex=t}elementStart(e,t){this.isApplyingToNode(t)&&this.matchTNode(e,t)}elementEnd(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}template(e,t){this.elementStart(e,t)}embeddedTView(e,t){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,t),new n(this.metadata)):null}isApplyingToNode(e){if(this._appliesToNextNode&&(this.metadata.flags&1)!==1){let t=this._declarationNodeIndex,r=e.parent;for(;r!==null&&r.type&8&&r.index!==t;)r=r.parent;return t===(r!==null?r.index:-1)}return this._appliesToNextNode}matchTNode(e,t){let r=this.metadata.predicate;if(Array.isArray(r))for(let i=0;i<r.length;i++){let o=r[i];this.matchTNodeWithReadOption(e,t,_k(t,o)),this.matchTNodeWithReadOption(e,t,xu(t,e,o,!1,!1))}else r===pr?t.type&4&&this.matchTNodeWithReadOption(e,t,-1):this.matchTNodeWithReadOption(e,t,xu(t,e,r,!1,!1))}matchTNodeWithReadOption(e,t,r){if(r!==null){let i=this.metadata.read;if(i!==null)if(i===tt||i===qn||i===pr&&t.type&4)this.addMatch(t.index,-2);else{let o=xu(t,e,i,!1,!1);o!==null&&this.addMatch(t.index,o)}else this.addMatch(t.index,r)}}addMatch(e,t){this.matches===null?this.matches=[e,t]:this.matches.push(e,t)}};function _k(n,e){let t=n.localNames;if(t!==null){for(let r=0;r<t.length;r+=2)if(t[r]===e)return t[r+1]}return null}function bk(n,e){return n.type&11?Es(n,e):n.type&4?Lg(n,e):null}function wk(n,e,t,r){return t===-1?bk(e,n):t===-2?Ck(n,e,r):$a(n,n[pe],t,e)}function Ck(n,e,t){if(t===tt)return Es(e,n);if(t===pr)return Lg(e,n);if(t===qn)return zC(e,n)}function GC(n,e,t,r){let i=e[Br].queries[r];if(i.matches===null){let o=n.data,s=t.matches,a=[];for(let l=0;s!==null&&l<s.length;l+=2){let c=s[l];if(c<0)a.push(null);else{let u=o[c];a.push(wk(e,u,s[l+1],t.metadata.read))}}i.matches=a}return i.matches}function Lm(n,e,t,r){let i=n.queries.getByIndex(t),o=i.matches;if(o!==null){let s=GC(n,e,i,t);for(let a=0;a<o.length;a+=2){let l=o[a];if(l>0)r.push(s[a/2]);else{let c=o[a+1],u=e[-l];for(let d=fn;d<u.length;d++){let p=u[d];p[so]===p[Ft]&&Lm(p[pe],p,c,r)}if(u[ps]!==null){let d=u[ps];for(let p=0;p<d.length;p++){let f=d[p];Lm(f[pe],f,c,r)}}}}}return r}function Ek(n,e){return n[Br].queries[e].queryList}function qC(n,e,t){let r=new Zu((t&4)===4);return s1(n,e,r,r.destroy),(e[Br]??=new Nm).queries.push(new km(r))-1}function Ik(n,e,t){let r=gt();return r.firstCreatePass&&(WC(r,new Ku(n,e,t),-1),(e&2)===2&&(r.staticViewQueries=!0)),qC(r,ge(),e)}function Dk(n,e,t,r){let i=gt();if(i.firstCreatePass){let o=Wt();WC(i,new Ku(e,t,r),o.index),Tk(i,n),(t&2)===2&&(i.staticContentQueries=!0)}return qC(i,ge(),t)}function Sk(n){return n.split(",").map(e=>e.trim())}function WC(n,e,t){n.queries===null&&(n.queries=new Fm),n.queries.track(new Pm(e,t))}function Tk(n,e){let t=n.contentQueries||(n.contentQueries=[]),r=t.length?t[t.length-1]:-1;e!==r&&t.push(n.queries.length-1,e)}function Vg(n,e){return n.queries.getByIndex(e)}function xk(n,e){let t=n[pe],r=Vg(t,e);return r.crossesNgTemplate?Lm(t,n,e,[]):GC(t,n,r,e)}var vs=class{},jg=class{};var Vm=class extends vs{ngModuleType;_parent;_bootstrapComponents=[];_r3Injector;instance;destroyCbs=[];componentFactoryResolver=new Qu(this);constructor(e,t,r,i=!0){super(),this.ngModuleType=e,this._parent=t;let o=Nb(e);this._bootstrapComponents=aC(o.bootstrap),this._r3Injector=Sw(e,t,[{provide:vs,useValue:this},{provide:bd,useValue:this.componentFactoryResolver},...r],nn(e),new Set(["environment"])),i&&this.resolveInjectorInitializers()}resolveInjectorInitializers(){this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(this.ngModuleType)}get injector(){return this._r3Injector}destroy(){let e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}},jm=class extends jg{moduleType;constructor(e){super(),this.moduleType=e}create(e){return new Vm(this.moduleType,e,[])}};var Xu=class extends vs{injector;componentFactoryResolver=new Qu(this);instance=null;constructor(e){super();let t=new Va([...e.providers,{provide:vs,useValue:this},{provide:bd,useValue:this.componentFactoryResolver}],e.parent||rg(),e.debugName,new Set(["environment"]));this.injector=t,e.runEnvironmentInitializers&&t.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}};function wd(n,e,t=null){return new Xu({providers:n,parent:e,debugName:t,runEnvironmentInitializers:!0}).injector}var Mk=(()=>{class n{_injector;cachedInjectors=new Map;constructor(t){this._injector=t}getOrCreateStandaloneInjector(t){if(!t.standalone)return null;if(!this.cachedInjectors.has(t)){let r=Fb(!1,t.type),i=r.length>0?wd([r],this._injector,`Standalone[${t.type.name}]`):null;this.cachedInjectors.set(t,i)}return this.cachedInjectors.get(t)}ngOnDestroy(){try{for(let t of this.cachedInjectors.values())t!==null&&t.destroy()}finally{this.cachedInjectors.clear()}}static \u0275prov=O({token:n,providedIn:"environment",factory:()=>new n(N(qt))})}return n})();function ce(n){return Ga(()=>{let e=JC(n),t=X(S({},e),{decls:n.decls,vars:n.vars,template:n.template,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,onPush:n.changeDetection===Fw.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&n.dependencies||null,getStandaloneInjector:e.standalone?i=>i.get(Mk).getOrCreateStandaloneInjector(t):null,getExternalStyles:null,signals:n.signals??!1,data:n.data||{},encapsulation:n.encapsulation||hr.Emulated,styles:n.styles||tn,_:null,schemas:n.schemas||null,tView:null,id:""});e.standalone&&pd("NgStandalone"),YC(t);let r=n.dependencies;return t.directiveDefs=cb(r,!1),t.pipeDefs=cb(r,!0),t.id=Nk(t),t})}function Ak(n){return oo(n)||LA(n)}function Rk(n){return n!==null}function Ke(n){return Ga(()=>({type:n.type,bootstrap:n.bootstrap||tn,declarations:n.declarations||tn,imports:n.imports||tn,exports:n.exports||tn,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null}))}function Ok(n,e){if(n==null)return io;let t={};for(let r in n)if(n.hasOwnProperty(r)){let i=n[r],o,s,a,l;Array.isArray(i)?(a=i[0],o=i[1],s=i[2]??o,l=i[3]||null):(o=i,s=i,a=vd.None,l=null),t[o]=[r,a,l],e[o]=s}return t}function kk(n){if(n==null)return io;let e={};for(let t in n)n.hasOwnProperty(t)&&(e[n[t]]=t);return e}function he(n){return Ga(()=>{let e=JC(n);return YC(e),e})}function ZC(n){return{type:n.type,name:n.name,factory:null,pure:n.pure!==!1,standalone:n.standalone??!0,onDestroy:n.type.prototype.ngOnDestroy||null}}function JC(n){let e={};return{type:n.type,providersResolver:null,factory:null,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:e,inputConfig:n.inputs||io,exportAs:n.exportAs||null,standalone:n.standalone??!0,signals:n.signals===!0,selectors:n.selectors||tn,viewQuery:n.viewQuery||null,features:n.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:Ok(n.inputs,e),outputs:kk(n.outputs),debugInfo:null}}function YC(n){n.features?.forEach(e=>e(n))}function cb(n,e){if(!n)return null;let t=e?VA:Ak;return()=>(typeof n=="function"?n():n).map(r=>t(r)).filter(Rk)}function Nk(n){let e=0,t=typeof n.consts=="function"?"":n.consts,r=[n.selectors,n.ngContentSelectors,n.hostVars,n.hostAttrs,t,n.vars,n.decls,n.encapsulation,n.standalone,n.signals,n.exportAs,JSON.stringify(n.inputs),JSON.stringify(n.outputs),Object.getOwnPropertyNames(n.type.prototype),!!n.contentQueries,!!n.viewQuery];for(let o of r.join("|"))e=Math.imul(31,e)+o.charCodeAt(0)<<0;return e+=2147483648,"c"+e}function Fk(n){return Object.getPrototypeOf(n.prototype).constructor}function at(n){let e=Fk(n.type),t=!0,r=[n];for(;e;){let i;if(ur(n))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new L(903,!1);i=e.\u0275dir}if(i){if(t){r.push(i);let s=n;s.inputs=Hp(n.inputs),s.declaredInputs=Hp(n.declaredInputs),s.outputs=Hp(n.outputs);let a=i.hostBindings;a&&Bk(n,a);let l=i.viewQuery,c=i.contentQueries;if(l&&Vk(n,l),c&&jk(n,c),Pk(n,i),mA(n.outputs,i.outputs),ur(i)&&i.data.animation){let u=n.data;u.animation=(u.animation||[]).concat(i.data.animation)}}let o=i.features;if(o)for(let s=0;s<o.length;s++){let a=o[s];a&&a.ngInherit&&a(n),a===at&&(t=!1)}}e=Object.getPrototypeOf(e)}Lk(r)}function Pk(n,e){for(let t in e.inputs){if(!e.inputs.hasOwnProperty(t)||n.inputs.hasOwnProperty(t))continue;let r=e.inputs[t];r!==void 0&&(n.inputs[t]=r,n.declaredInputs[t]=e.declaredInputs[t])}}function Lk(n){let e=0,t=null;for(let r=n.length-1;r>=0;r--){let i=n[r];i.hostVars=e+=i.hostVars,i.hostAttrs=Ua(i.hostAttrs,t=Ua(t,i.hostAttrs))}}function Hp(n){return n===io?{}:n===tn?[]:n}function Vk(n,e){let t=n.viewQuery;t?n.viewQuery=(r,i)=>{e(r,i),t(r,i)}:n.viewQuery=e}function jk(n,e){let t=n.contentQueries;t?n.contentQueries=(r,i,o)=>{e(r,i,o),t(r,i,o)}:n.contentQueries=e}function Bk(n,e){let t=n.hostBindings;t?n.hostBindings=(r,i)=>{e(r,i),t(r,i)}:n.hostBindings=e}function QC(n){return $k(n)?Array.isArray(n)||!(n instanceof Map)&&Symbol.iterator in n:!1}function Uk(n,e){if(Array.isArray(n))for(let t=0;t<n.length;t++)e(n[t]);else{let t=n[Symbol.iterator](),r;for(;!(r=t.next()).done;)e(r.value)}}function $k(n){return n!==null&&(typeof n=="function"||typeof n=="object")}function KC(n,e,t){return n[e]=t}function Hk(n,e){return n[e]}function Hr(n,e,t){let r=n[e];return Object.is(r,t)?!1:(n[e]=t,!0)}function zk(n,e,t,r){let i=Hr(n,e,t);return Hr(n,e+1,r)||i}function Gk(n,e,t,r,i,o,s,a,l){let c=e.consts,u=_d(e,n,4,s||null,a||null);ew()&&jC(e,t,u,Bu(c,l),_C),u.mergedAttrs=Ua(u.mergedAttrs,u.attrs),pw(e,u);let d=u.tView=Dg(2,u,r,i,o,e.directiveRegistry,e.pipeRegistry,null,e.schemas,c,null);return e.queries!==null&&(e.queries.template(e,u),d.queries=e.queries.embeddedTView(u)),u}function XC(n,e,t,r,i,o,s,a,l,c){let u=t+on,d=e.firstCreatePass?Gk(u,e,n,r,i,o,s,a,l):e.data[u];Ja(d,!1);let p=qk(e,n,d,t);hg()&&Ng(e,n,p,d),Ya(p,n);let f=FC(p,n,p,d);return n[u]=f,Tg(n,f),vk(f,d,n),ig(d)&&xg(e,n,d),l!=null&&vC(n,d,c),d}function H(n,e,t,r,i,o,s,a){let l=ge(),c=gt(),u=Bu(c.consts,o);return XC(l,c,n,e,t,r,i,u,s,a),H}var qk=Wk;function Wk(n,e,t,r){return pg(!0),e[st].createComment("")}var Bg=(()=>{class n{log(t){console.log(t)}warn(t){console.warn(t)}static \u0275fac=function(r){return new(r||n)};static \u0275prov=O({token:n,factory:n.\u0275fac,providedIn:"platform"})}return n})();var eE=new j("");var Zk=(()=>{class n{static \u0275prov=O({token:n,providedIn:"root",factory:()=>new Bm})}return n})(),Bm=class{queuedEffectCount=0;queues=new Map;schedule(e){this.enqueue(e)}remove(e){let t=e.zone,r=this.queues.get(t);r.has(e)&&(r.delete(e),this.queuedEffectCount--)}enqueue(e){let t=e.zone;this.queues.has(t)||this.queues.set(t,new Set);let r=this.queues.get(t);r.has(e)||(this.queuedEffectCount++,r.add(e))}flush(){for(;this.queuedEffectCount>0;)for(let[e,t]of this.queues)e===null?this.flushQueue(t):e.run(()=>this.flushQueue(t))}flushQueue(e){for(let t of e)e.delete(t),this.queuedEffectCount--,t.run()}};function _i(n){return!!n&&typeof n.then=="function"}function Ug(n){return!!n&&typeof n.subscribe=="function"}var tE=new j("");function $g(n){return zr([{provide:tE,multi:!0,useValue:n}])}var nE=(()=>{class n{resolve;reject;initialized=!1;done=!1;donePromise=new Promise((t,r)=>{this.resolve=t,this.reject=r});appInits=E(tE,{optional:!0})??[];injector=E(wt);constructor(){}runInitializers(){if(this.initialized)return;let t=[];for(let i of this.appInits){let o=hn(this.injector,i);if(_i(o))t.push(o);else if(Ug(o)){let s=new Promise((a,l)=>{o.subscribe({complete:a,error:l})});t.push(s)}}let r=()=>{this.done=!0,this.resolve()};Promise.all(t).then(()=>{r()}).catch(i=>{this.reject(i)}),t.length===0&&r(),this.initialized=!0}static \u0275fac=function(r){return new(r||n)};static \u0275prov=O({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Hg=new j("");function Jk(){cp(()=>{throw new L(600,!1)})}function Yk(n){return n.isBoundToModule}var Qk=10;var $n=(()=>{class n{_runningTick=!1;_destroyed=!1;_destroyListeners=[];_views=[];internalErrorHandler=E(q1);afterRenderManager=E(zw);zonelessEnabled=E(fd);rootEffectScheduler=E(Zk);dirtyFlags=0;tracingSnapshot=null;externalTestViews=new Set;afterTick=new re;get allViews(){return[...this.externalTestViews.keys(),...this._views]}get destroyed(){return this._destroyed}componentTypes=[];components=[];isStable=E(yi).hasPendingTasks.pipe(Y(t=>!t));constructor(){E(Is,{optional:!0})}whenStable(){let t;return new Promise(r=>{t=this.isStable.subscribe({next:i=>{i&&r()}})}).finally(()=>{t.unsubscribe()})}_injector=E(qt);_rendererFactory=null;get injector(){return this._injector}bootstrap(t,r){return this.bootstrapImpl(t,r)}bootstrapImpl(t,r,i=wt.NULL){Ve(10);let o=t instanceof VC;if(!this._injector.get(nE).done){let f="";throw new L(405,f)}let a;o?a=t:a=this._injector.get(bd).resolveComponentFactory(t),this.componentTypes.push(a.componentType);let l=Yk(a)?void 0:this._injector.get(vs),c=r||a.selector,u=a.create(i,[],c,l),d=u.location.nativeElement,p=u.injector.get(eE,null);return p?.registerApplication(d),u.onDestroy(()=>{this.detachView(u.hostView),Mu(this.components,u),p?.unregisterApplication(d)}),this._loadComponent(u),Ve(11,u),u}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick(){Ve(12),this.tracingSnapshot!==null?this.tracingSnapshot.run(bg.CHANGE_DETECTION,this.tickImpl):this.tickImpl()}tickImpl=()=>{if(this._runningTick)throw new L(101,!1);let t=ve(null);try{this._runningTick=!0,this.synchronize()}catch(r){this.internalErrorHandler(r)}finally{this._runningTick=!1,this.tracingSnapshot?.dispose(),this.tracingSnapshot=null,ve(t),this.afterTick.next(),Ve(13)}};synchronize(){this._rendererFactory===null&&!this._injector.destroyed&&(this._rendererFactory=this._injector.get(Un,null,{optional:!0}));let t=0;for(;this.dirtyFlags!==0&&t++<Qk;)Ve(14),this.synchronizeOnce(),Ve(15)}synchronizeOnce(){if(this.dirtyFlags&16&&(this.dirtyFlags&=-17,this.rootEffectScheduler.flush()),this.dirtyFlags&7){let t=!!(this.dirtyFlags&1);this.dirtyFlags&=-8,this.dirtyFlags|=8;for(let{_lView:r,notifyErrorHandler:i}of this.allViews)Kk(r,i,t,this.zonelessEnabled);if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),this.dirtyFlags&23)return}else this._rendererFactory?.begin?.(),this._rendererFactory?.end?.();this.dirtyFlags&8&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){if(this.allViews.some(({_lView:t})=>cd(t))){this.dirtyFlags|=2;return}else this.dirtyFlags&=-8}attachView(t){let r=t;this._views.push(r),r.attachToAppRef(this)}detachView(t){let r=t;Mu(this._views,r),r.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView),this.tick(),this.components.push(t),this._injector.get(Hg,[]).forEach(i=>i(t))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(t=>t()),this._views.slice().forEach(t=>t.destroy())}finally{this._destroyed=!0,this._views=[],this._destroyListeners=[]}}onDestroy(t){return this._destroyListeners.push(t),()=>Mu(this._destroyListeners,t)}destroy(){if(this._destroyed)throw new L(406,!1);let t=this._injector;t.destroy&&!t.destroyed&&t.destroy()}get viewCount(){return this._views.length}static \u0275fac=function(r){return new(r||n)};static \u0275prov=O({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function Mu(n,e){let t=n.indexOf(e);t>-1&&n.splice(t,1)}function Kk(n,e,t,r){if(!t&&!cd(n))return;RC(n,e,t&&!r?0:1)}function Jr(n,e,t,r){let i=ge(),o=ud();if(Hr(i,o,e)){let s=gt(),a=fg();sO(a,i,n,e,t,r)}return Jr}function rE(n,e,t,r){return Hr(n,ud(),t)?e+no(t)+r:xn}function Xk(n,e,t,r,i,o){let s=p1(),a=zk(n,s,t,i);return lg(2),a?e+no(t)+r+no(i)+o:xn}function Iu(n,e){return n<<17|e<<2}function fo(n){return n>>17&32767}function eN(n){return(n&2)==2}function tN(n,e){return n&131071|e<<17}function Um(n){return n|2}function ys(n){return(n&131068)>>2}function zp(n,e){return n&-131069|e<<2}function nN(n){return(n&1)===1}function $m(n){return n|1}function rN(n,e,t,r,i,o){let s=o?e.classBindings:e.styleBindings,a=fo(s),l=ys(s);n[r]=t;let c=!1,u;if(Array.isArray(t)){let d=t;u=d[1],(u===null||Wa(d,u)>0)&&(c=!0)}else u=t;if(i)if(l!==0){let p=fo(n[a+1]);n[r+1]=Iu(p,a),p!==0&&(n[p+1]=zp(n[p+1],r)),n[a+1]=tN(n[a+1],r)}else n[r+1]=Iu(a,0),a!==0&&(n[a+1]=zp(n[a+1],r)),a=r;else n[r+1]=Iu(l,0),a===0?a=r:n[l+1]=zp(n[l+1],r),l=r;c&&(n[r+1]=Um(n[r+1])),ub(n,u,r,!0),ub(n,u,r,!1),iN(e,u,n,r,o),s=Iu(a,l),o?e.classBindings=s:e.styleBindings=s}function iN(n,e,t,r,i){let o=i?n.residualClasses:n.residualStyles;o!=null&&typeof e=="string"&&Wa(o,e)>=0&&(t[r+1]=$m(t[r+1]))}function ub(n,e,t,r){let i=n[t+1],o=e===null,s=r?fo(i):ys(i),a=!1;for(;s!==0&&(a===!1||o);){let l=n[s],c=n[s+1];oN(l,e)&&(a=!0,n[s+1]=r?$m(c):Um(c)),s=r?fo(c):ys(c)}a&&(n[t+1]=r?Um(i):$m(i))}function oN(n,e){return n===null||e==null||(Array.isArray(n)?n[1]:n)===e?!0:Array.isArray(n)&&typeof e=="string"?Wa(n,e)>=0:!1}var jn={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function sN(n){return n.substring(jn.key,jn.keyEnd)}function aN(n){return lN(n),iE(n,oE(n,0,jn.textEnd))}function iE(n,e){let t=jn.textEnd;return t===e?-1:(e=jn.keyEnd=cN(n,jn.key=e,t),oE(n,e,t))}function lN(n){jn.key=0,jn.keyEnd=0,jn.value=0,jn.valueEnd=0,jn.textEnd=n.length}function oE(n,e,t){for(;e<t&&n.charCodeAt(e)<=32;)e++;return e}function cN(n,e,t){for(;e<t&&n.charCodeAt(e)>32;)e++;return e}function b(n,e,t){let r=ge(),i=ud();if(Hr(r,i,e)){let o=gt(),s=fg();yC(o,s,r,n,e,r[st],t,!1)}return b}function Hm(n,e,t,r,i){Mg(e,n,t,i?"class":"style",r)}function el(n,e,t){return aE(n,e,t,!1),el}function Yr(n,e){return aE(n,e,null,!0),Yr}function Ss(n){lE(mN,sE,n,!0)}function sE(n,e){for(let t=aN(e);t>=0;t=iE(e,t))sd(n,sN(e),!0)}function aE(n,e,t,r){let i=ge(),o=gt(),s=lg(2);if(o.firstUpdatePass&&uE(o,n,s,r),e!==xn&&Hr(i,s,e)){let a=o.data[vi()];dE(o,a,i,i[st],n,i[s+1]=vN(e,t),r,s)}}function lE(n,e,t,r){let i=gt(),o=lg(2);i.firstUpdatePass&&uE(i,null,o,r);let s=ge();if(t!==xn&&Hr(s,o,t)){let a=i.data[vi()];if(fE(a,r)&&!cE(i,o)){let l=r?a.classesWithoutHost:a.stylesWithoutHost;l!==null&&(t=Zp(l,t||"")),Hm(i,a,s,t,r)}else gN(i,a,s,s[st],s[o+1],s[o+1]=pN(n,e,t),r,o)}}function cE(n,e){return e>=n.expandoStartIndex}function uE(n,e,t,r){let i=n.data;if(i[t+1]===null){let o=i[vi()],s=cE(n,t);fE(o,r)&&e===null&&!s&&(e=!1),e=uN(i,o,e,r),rN(i,o,e,t,s,r)}}function uN(n,e,t,r){let i=_1(n),o=r?e.residualClasses:e.residualStyles;if(i===null)(r?e.classBindings:e.styleBindings)===0&&(t=Gp(null,n,e,t,r),t=za(t,e.attrs,r),o=null);else{let s=e.directiveStylingLast;if(s===-1||n[s]!==i)if(t=Gp(i,n,e,t,r),o===null){let l=dN(n,e,r);l!==void 0&&Array.isArray(l)&&(l=Gp(null,n,e,l[1],r),l=za(l,e.attrs,r),fN(n,e,r,l))}else o=hN(n,e,r)}return o!==void 0&&(r?e.residualClasses=o:e.residualStyles=o),t}function dN(n,e,t){let r=t?e.classBindings:e.styleBindings;if(ys(r)!==0)return n[fo(r)]}function fN(n,e,t,r){let i=t?e.classBindings:e.styleBindings;n[fo(i)]=r}function hN(n,e,t){let r,i=e.directiveEnd;for(let o=1+e.directiveStylingLast;o<i;o++){let s=n[o].hostAttrs;r=za(r,s,t)}return za(r,e.attrs,t)}function Gp(n,e,t,r,i){let o=null,s=t.directiveEnd,a=t.directiveStylingLast;for(a===-1?a=t.directiveStart:a++;a<s&&(o=e[a],r=za(r,o.hostAttrs,i),o!==n);)a++;return n!==null&&(t.directiveStylingLast=a),r}function za(n,e,t){let r=t?1:2,i=-1;if(e!==null)for(let o=0;o<e.length;o++){let s=e[o];typeof s=="number"?i=s:i===r&&(Array.isArray(n)||(n=n===void 0?[]:["",n]),sd(n,s,t?!0:e[++o]))}return n===void 0?null:n}function pN(n,e,t){if(t==null||t==="")return tn;let r=[],i=Gn(t);if(Array.isArray(i))for(let o=0;o<i.length;o++)n(r,i[o],!0);else if(typeof i=="object")for(let o in i)i.hasOwnProperty(o)&&n(r,o,i[o]);else typeof i=="string"&&e(r,i);return r}function mN(n,e,t){let r=String(e);r!==""&&!r.includes(" ")&&sd(n,r,t)}function gN(n,e,t,r,i,o,s,a){i===xn&&(i=tn);let l=0,c=0,u=0<i.length?i[0]:null,d=0<o.length?o[0]:null;for(;u!==null||d!==null;){let p=l<i.length?i[l+1]:void 0,f=c<o.length?o[c+1]:void 0,h=null,v;u===d?(l+=2,c+=2,p!==f&&(h=d,v=f)):d===null||u!==null&&u<d?(l+=2,h=u):(c+=2,h=d,v=f),h!==null&&dE(n,e,t,r,h,v,s,a),u=l<i.length?i[l]:null,d=c<o.length?o[c]:null}}function dE(n,e,t,r,i,o,s,a){if(!(e.type&3))return;let l=n.data,c=l[a+1],u=nN(c)?db(l,e,t,i,ys(c),s):void 0;if(!ed(u)){ed(o)||eN(c)&&(o=db(l,null,t,i,a,s));let d=Zb(vi(),t);IO(r,s,d,i,o)}}function db(n,e,t,r,i,o){let s=e===null,a;for(;i>0;){let l=n[i],c=Array.isArray(l),u=c?l[1]:l,d=u===null,p=t[i+1];p===xn&&(p=d?tn:void 0);let f=d?Fp(p,r):u===r?p:void 0;if(c&&!ed(f)&&(f=Fp(l,r)),ed(f)&&(a=f,s))return a;let h=n[i+1];i=s?fo(h):ys(h)}if(e!==null){let l=o?e.residualClasses:e.residualStyles;l!=null&&(a=Fp(l,r))}return a}function ed(n){return n!==void 0}function vN(n,e){return n==null||n===""||(typeof e=="string"?n=n+e:typeof n=="object"&&(n=nn(Gn(n)))),n}function fE(n,e){return(n.flags&(e?8:16))!==0}function tl(n,e,t){let r=ge(),i=rE(r,n,e,t);lE(sd,sE,i,!0)}function m(n,e,t,r){let i=ge(),o=gt(),s=on+n,a=i[st],l=o.firstCreatePass?UC(s,o,i,e,_C,ew(),t,r):o.data[s],c=yN(o,i,l,a,e,n);i[s]=c;let u=ig(l);return Ja(l,!0),fC(a,c,l),!Og(l)&&hg()&&Ng(o,i,c,l),(a1()===0||u)&&Ya(c,i),l1(),u&&(xg(o,i,l),Ww(o,l,i)),r!==null&&vC(i,l),m}function g(){let n=Wt();rw()?iw():(n=n.parent,Ja(n,!1));let e=n;u1(e)&&d1(),c1();let t=gt();return t.firstCreatePass&&$C(t,e),e.classesWithoutHost!=null&&D1(e)&&Hm(t,e,ge(),e.classesWithoutHost,!0),e.stylesWithoutHost!=null&&S1(e)&&Hm(t,e,ge(),e.stylesWithoutHost,!1),g}function V(n,e,t,r){return m(n,e,t,r),g(),V}var yN=(n,e,t,r,i,o)=>(pg(!0),uC(r,i,C1()));function ae(){return ge()}var td="en-US";var _N=td;function bN(n){typeof n=="string"&&(_N=n.toLowerCase().replace(/_/g,"-"))}function fb(n,e,t){return function r(i){if(i===Function)return t;let o=bs(n)?fr(n.index,e):e;Pg(o,5);let s=e[rn],a=hb(e,s,t,i),l=r.__ngNextListenerFn__;for(;l;)a=hb(e,s,l,i)&&a,l=l.__ngNextListenerFn__;return a}}function hb(n,e,t,r){let i=ve(null);try{return Ve(6,e,t),t(r)!==!1}catch(o){return wN(n,o),!1}finally{Ve(7,e,t),ve(i)}}function wN(n,e){let t=n[hs],r=t?t.get(sn,null):null;r&&r.handleError(e)}function pb(n,e,t,r,i,o){let s=e[t],a=e[pe],c=a.data[t].outputs[r],u=s[c],d=a.firstCreatePass?ag(a):null,p=sg(e),f=u.subscribe(o),h=p.length;p.push(o,f),d&&d.push(i,n.index,h,-(h+1))}function A(n,e,t,r){let i=ge(),o=gt(),s=Wt();return hE(o,i,i[st],s,n,e,r),A}function CN(n,e,t,r){let i=n.cleanup;if(i!=null)for(let o=0;o<i.length-1;o+=2){let s=i[o];if(s===t&&i[o+1]===r){let a=e[Pu],l=i[o+2];return a.length>l?a[l]:null}typeof s=="string"&&(o+=2)}return null}function hE(n,e,t,r,i,o,s){let a=ig(r),c=n.firstCreatePass?ag(n):null,u=sg(e),d=!0;if(r.type&3||s){let p=mr(r,e),f=s?s(p):p,h=u.length,v=s?x=>s(dr(x[r.index])):r.index,y=null;if(!s&&a&&(y=CN(n,e,i,r.index)),y!==null){let x=y.__ngLastListenerFn__||y;x.__ngNextListenerFn__=o,y.__ngLastListenerFn__=o,d=!1}else{o=fb(r,e,o),dR(e,f,i,o);let x=t.listen(f,i,o);u.push(o,x),c&&c.push(i,v,h,h+1)}}else o=fb(r,e,o);if(d){let p=r.outputs?.[i],f=r.hostDirectiveOutputs?.[i];if(f&&f.length)for(let h=0;h<f.length;h+=2){let v=f[h],y=f[h+1];pb(r,e,v,y,i,o)}if(p&&p.length)for(let h of p)pb(r,e,h,i,i,o)}}function T(n=1){return w1(n)}function EN(n,e){let t=null,r=LR(n);for(let i=0;i<e.length;i++){let o=e[i];if(o==="*"){t=i;continue}if(r===null?cC(n,o,!0):BR(r,o))return i}return t}function po(n){let e=ge()[Sn][an];if(!e.projection){let t=n?n.length:1,r=e.projection=NA(t,null),i=r.slice(),o=e.child;for(;o!==null;){if(o.type!==128){let s=n?EN(o,n):0;s!==null&&(i[s]?i[s].projectionNext=o:r[s]=o,i[s]=o)}o=o.next}}}function mo(n,e=0,t,r,i,o){let s=ge(),a=gt(),l=r?n+1:null;l!==null&&XC(s,a,l,r,i,o,null,t);let c=_d(a,on+n,16,null,t||null);c.projection===null&&(c.projection=e),iw();let d=!s[ja]||tw();s[Sn][an].projection[c.projection]===null&&l!==null?IN(s,a,l):d&&!Og(c)&&CO(a,s,c)}function IN(n,e,t){let r=on+t,i=e.data[r],o=n[r],s=Mm(o,i.tView.ssrId),a=bC(n,i,void 0,{dehydratedView:s});PC(o,a,0,Dm(i,s))}function pE(n,e,t,r){Dk(n,e,t,r)}function Te(n,e,t){Ik(n,e,t)}function we(n){let e=ge(),t=gt(),r=aw();cg(r+1);let i=Vg(t,r);if(n.dirty&&n1(e)===((i.metadata.flags&2)===2)){if(i.matches===null)n.reset([]);else{let o=xk(e,r);n.reset(o,J1),n.notifyOnChanges()}return!0}return!1}function Ce(){return Ek(ge(),aw())}function Ts(n){let e=h1();return Yb(e,on+n)}function C(n,e=""){let t=ge(),r=gt(),i=n+on,o=r.firstCreatePass?_d(r,i,1,e,null):r.data[i],s=DN(r,t,o,e,n);t[i]=s,hg()&&Ng(r,t,s,o),Ja(o,!1)}var DN=(n,e,t,r,i)=>(pg(!0),zR(e[st],r));function ke(n){return We("",n,""),ke}function We(n,e,t){let r=ge(),i=rE(r,n,e,t);return i!==xn&&mE(r,vi(),i),We}function nl(n,e,t,r,i){let o=ge(),s=Xk(o,n,e,t,r,i);return s!==xn&&mE(o,vi(),s),nl}function mE(n,e,t){let r=Zb(e,n);GR(n[st],r,t)}function bi(n,e,t){kw(e)&&(e=e());let r=ge(),i=ud();if(Hr(r,i,e)){let o=gt(),s=fg();yC(o,s,r,n,e,r[st],t,!1)}return bi}function go(n,e){let t=kw(n);return t&&n.set(e),t}function wi(n,e){let t=ge(),r=gt(),i=Wt();return hE(r,t,t[st],i,n,e),wi}function SN(n,e,t){let r=gt();if(r.firstCreatePass){let i=ur(n);zm(t,r.data,r.blueprint,i,!0),zm(e,r.data,r.blueprint,i,!1)}}function zm(n,e,t,r,i){if(n=Gt(n),Array.isArray(n))for(let o=0;o<n.length;o++)zm(n[o],e,t,r,i);else{let o=gt(),s=ge(),a=Wt(),l=fs(n)?n:Gt(n.provide),c=Vb(n),u=a.providerIndexes&1048575,d=a.directiveStart,p=a.providerIndexes>>20;if(fs(n)||!n.multi){let f=new uo(c,i,I),h=Wp(l,e,i?u:u+p,d);h===-1?(sm(zu(a,s),o,l),qp(o,n,e.length),e.push(l),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),t.push(f),s.push(f)):(t[h]=f,s[h]=f)}else{let f=Wp(l,e,u+p,d),h=Wp(l,e,u,u+p),v=f>=0&&t[f],y=h>=0&&t[h];if(i&&!y||!i&&!v){sm(zu(a,s),o,l);let x=MN(i?xN:TN,t.length,i,r,c);!i&&y&&(t[h].providerFactory=x),qp(o,n,e.length,0),e.push(l),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),t.push(x),s.push(x)}else{let x=gE(t[i?h:f],c,!i&&r);qp(o,n,f>-1?f:h,x)}!i&&r&&y&&t[h].componentProviders++}}}function qp(n,e,t,r){let i=fs(e),o=HA(e);if(i||o){let l=(o?Gt(e.useClass):e).prototype.ngOnDestroy;if(l){let c=n.destroyHooks||(n.destroyHooks=[]);if(!i&&e.multi){let u=c.indexOf(t);u===-1?c.push(t,[r,l]):c[u+1].push(r,l)}else c.push(t,l)}}}function gE(n,e,t){return t&&n.componentProviders++,n.multi.push(e)-1}function Wp(n,e,t,r){for(let i=t;i<r;i++)if(e[i]===n)return i;return-1}function TN(n,e,t,r,i){return Gm(this.multi,[])}function xN(n,e,t,r,i){let o=this.multi,s;if(this.providerFactory){let a=this.providerFactory.componentProviders,l=$a(r,r[pe],this.providerFactory.index,i);s=l.slice(0,a),Gm(o,s);for(let c=a;c<l.length;c++)s.push(l[c])}else s=[],Gm(o,s);return s}function Gm(n,e){for(let t=0;t<n.length;t++){let r=n[t];e.push(r())}return e}function MN(n,e,t,r,i){let o=new uo(n,t,I);return o.multi=[],o.index=e,o.componentProviders=0,gE(o,i,r&&!t),o}function vt(n,e=[]){return t=>{t.providersResolver=(r,i)=>SN(r,i?i(n):n,e)}}function vE(n,e,t){let r=sw()+n,i=ge();return i[r]===xn?KC(i,r,t?e.call(t):e()):Hk(i,r)}function AN(n,e){let t=n[e];return t===xn?void 0:t}function RN(n,e,t,r,i,o){let s=e+t;return Hr(n,s,i)?KC(n,s+1,o?r.call(o,i):r(i)):AN(n,s+1)}function yE(n,e){let t=gt(),r,i=n+on;t.firstCreatePass?(r=ON(e,t.pipeRegistry),t.data[i]=r,r.onDestroy&&(t.destroyHooks??=[]).push(i,r.onDestroy)):r=t.data[i];let o=r.factory||(r.factory=ro(r.type,!0)),s,a=en(I);try{let l=Hu(!1),c=o();return Hu(l),t1(t,ge(),i,c),c}finally{en(a)}}function ON(n,e){if(e)for(let t=e.length-1;t>=0;t--){let r=e[t];if(n===r.name)return r}}function _E(n,e,t){let r=n+on,i=ge(),o=Yb(i,r);return kN(i,r)?RN(i,sw(),e,o.transform,t,o):o.transform(t)}function kN(n,e){return n[pe].data[e].pure}var qm=class{ngModuleFactory;componentFactories;constructor(e,t){this.ngModuleFactory=e,this.componentFactories=t}},bE=(()=>{class n{compileModuleSync(t){return new jm(t)}compileModuleAsync(t){return Promise.resolve(this.compileModuleSync(t))}compileModuleAndAllComponentsSync(t){let r=this.compileModuleSync(t),i=Nb(t),o=aC(i.declarations).reduce((s,a)=>{let l=oo(a);return l&&s.push(new gs(l)),s},[]);return new qm(r,o)}compileModuleAndAllComponentsAsync(t){return Promise.resolve(this.compileModuleAndAllComponentsSync(t))}clearCache(){}clearCacheFor(t){}getModuleId(t){}static \u0275fac=function(r){return new(r||n)};static \u0275prov=O({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var NN=(()=>{class n{zone=E(be);changeDetectionScheduler=E(ms);applicationRef=E($n);_onMicrotaskEmptySubscription;initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static \u0275fac=function(r){return new(r||n)};static \u0275prov=O({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),FN=new j("",{factory:()=>!1});function wE({ngZoneFactory:n,ignoreChangesOutsideZone:e,scheduleInRootZone:t}){return n??=()=>new be(X(S({},EE()),{scheduleInRootZone:t})),[{provide:be,useFactory:n},{provide:ds,multi:!0,useFactory:()=>{let r=E(NN,{optional:!0});return()=>r.initialize()}},{provide:ds,multi:!0,useFactory:()=>{let r=E(PN);return()=>{r.initialize()}}},e===!0?{provide:xw,useValue:!0}:[],{provide:Mw,useValue:t??Tw}]}function CE(n){let e=n?.ignoreChangesOutsideZone,t=n?.scheduleInRootZone,r=wE({ngZoneFactory:()=>{let i=EE(n);return i.scheduleInRootZone=t,i.shouldCoalesceEventChangeDetection&&pd("NgZone_CoalesceEvent"),new be(i)},ignoreChangesOutsideZone:e,scheduleInRootZone:t});return zr([{provide:FN,useValue:!0},{provide:fd,useValue:!1},r])}function EE(n){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:n?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:n?.runCoalescing??!1}}var PN=(()=>{class n{subscription=new Le;initialized=!1;zone=E(be);pendingTasks=E(yi);initialize(){if(this.initialized)return;this.initialized=!0;let t=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(t=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{be.assertNotInAngularZone(),queueMicrotask(()=>{t!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(t),t=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{be.assertInAngularZone(),t??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static \u0275fac=function(r){return new(r||n)};static \u0275prov=O({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var LN=(()=>{class n{appRef=E($n);taskService=E(yi);ngZone=E(be);zonelessEnabled=E(fd);tracing=E(Is,{optional:!0});disableScheduling=E(xw,{optional:!0})??!1;zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run;schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}];subscriptions=new Le;angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(Wu):null;scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&(E(Mw,{optional:!0})??!1);cancelScheduledCallback=null;useMicrotaskScheduler=!1;runningTick=!1;pendingRenderTaskId=null;constructor(){this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof dm||!this.zoneIsDefined)}notify(t){if(!this.zonelessEnabled&&t===5)return;let r=!1;switch(t){case 0:{this.appRef.dirtyFlags|=2;break}case 3:case 2:case 4:case 5:case 1:{this.appRef.dirtyFlags|=4;break}case 6:{this.appRef.dirtyFlags|=2,r=!0;break}case 12:{this.appRef.dirtyFlags|=16,r=!0;break}case 13:{this.appRef.dirtyFlags|=2,r=!0;break}case 11:{r=!0;break}case 9:case 8:case 7:case 10:default:this.appRef.dirtyFlags|=8}if(this.appRef.tracingSnapshot=this.tracing?.snapshot(this.appRef.tracingSnapshot)??null,!this.shouldScheduleTick(r))return;let i=this.useMicrotaskScheduler?H0:Aw;this.pendingRenderTaskId=this.taskService.add(),this.scheduleInRootZone?this.cancelScheduledCallback=Zone.root.run(()=>i(()=>this.tick())):this.cancelScheduledCallback=this.ngZone.runOutsideAngular(()=>i(()=>this.tick()))}shouldScheduleTick(t){return!(this.disableScheduling&&!t||this.appRef.destroyed||this.pendingRenderTaskId!==null||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(Wu+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;if(this.appRef.dirtyFlags===0){this.cleanup();return}!this.zonelessEnabled&&this.appRef.dirtyFlags&7&&(this.appRef.dirtyFlags|=1);let t=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(r){throw this.taskService.remove(t),r}finally{this.cleanup()}this.useMicrotaskScheduler=!0,H0(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(t)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,this.pendingRenderTaskId!==null){let t=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(t)}}static \u0275fac=function(r){return new(r||n)};static \u0275prov=O({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function VN(){return typeof $localize<"u"&&$localize.locale||td}var Cd=new j("",{providedIn:"root",factory:()=>E(Cd,de.Optional|de.SkipSelf)||VN()});var Wm=new j(""),jN=new j("");function Na(n){return!n.moduleRef}function BN(n){let e=Na(n)?n.r3Injector:n.moduleRef.injector,t=e.get(be);return t.run(()=>{Na(n)?n.r3Injector.resolveInjectorInitializers():n.moduleRef.resolveInjectorInitializers();let r=e.get(sn,null),i;if(t.runOutsideAngular(()=>{i=t.onError.subscribe({next:o=>{r.handleError(o)}})}),Na(n)){let o=()=>e.destroy(),s=n.platformInjector.get(Wm);s.add(o),e.onDestroy(()=>{i.unsubscribe(),s.delete(o)})}else{let o=()=>n.moduleRef.destroy(),s=n.platformInjector.get(Wm);s.add(o),n.moduleRef.onDestroy(()=>{Mu(n.allPlatformModules,n.moduleRef),i.unsubscribe(),s.delete(o)})}return $N(r,t,()=>{let o=e.get(nE);return o.runInitializers(),o.donePromise.then(()=>{let s=e.get(Cd,td);if(bN(s||td),!e.get(jN,!0))return Na(n)?e.get($n):(n.allPlatformModules.push(n.moduleRef),n.moduleRef);if(Na(n)){let l=e.get($n);return n.rootComponent!==void 0&&l.bootstrap(n.rootComponent),l}else return UN(n.moduleRef,n.allPlatformModules),n.moduleRef})})})}function UN(n,e){let t=n.injector.get($n);if(n._bootstrapComponents.length>0)n._bootstrapComponents.forEach(r=>t.bootstrap(r));else if(n.instance.ngDoBootstrap)n.instance.ngDoBootstrap(t);else throw new L(-403,!1);e.push(n)}function $N(n,e,t){try{let r=t();return _i(r)?r.catch(i=>{throw e.runOutsideAngular(()=>n.handleError(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>n.handleError(r)),r}}var Au=null;function HN(n=[],e){return wt.create({name:e,providers:[{provide:ad,useValue:"platform"},{provide:Wm,useValue:new Set([()=>Au=null])},...n]})}function zN(n=[]){if(Au)return Au;let e=HN(n);return Au=e,Jk(),GN(e),e}function GN(n){let e=n.get(_g,null);hn(n,()=>{e?.forEach(t=>t())})}function IE(){return!1}var Pt=(()=>{class n{static __NG_ELEMENT_ID__=qN}return n})();function qN(n){return WN(Wt(),ge(),(n&16)===16)}function WN(n,e,t){if(bs(n)&&!t){let r=fr(n.index,e);return new Ha(r,r)}else if(n.type&175){let r=e[Sn];return new Ha(r,e)}return null}var Zm=class{constructor(){}supports(e){return QC(e)}create(e){return new Jm(e)}},ZN=(n,e)=>e,Jm=class{length=0;collection;_linkedRecords=null;_unlinkedRecords=null;_previousItHead=null;_itHead=null;_itTail=null;_additionsHead=null;_additionsTail=null;_movesHead=null;_movesTail=null;_removalsHead=null;_removalsTail=null;_identityChangesHead=null;_identityChangesTail=null;_trackByFn;constructor(e){this._trackByFn=e||ZN}forEachItem(e){let t;for(t=this._itHead;t!==null;t=t._next)e(t)}forEachOperation(e){let t=this._itHead,r=this._removalsHead,i=0,o=null;for(;t||r;){let s=!r||t&&t.currentIndex<mb(r,i,o)?t:r,a=mb(s,i,o),l=s.currentIndex;if(s===r)i--,r=r._nextRemoved;else if(t=t._next,s.previousIndex==null)i++;else{o||(o=[]);let c=a-i,u=l-i;if(c!=u){for(let p=0;p<c;p++){let f=p<o.length?o[p]:o[p]=0,h=f+p;u<=h&&h<c&&(o[p]=f+1)}let d=s.previousIndex;o[d]=u-c}}a!==l&&e(s,a,l)}}forEachPreviousItem(e){let t;for(t=this._previousItHead;t!==null;t=t._nextPrevious)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;t!==null;t=t._nextAdded)e(t)}forEachMovedItem(e){let t;for(t=this._movesHead;t!==null;t=t._nextMoved)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;t!==null;t=t._nextRemoved)e(t)}forEachIdentityChange(e){let t;for(t=this._identityChangesHead;t!==null;t=t._nextIdentityChange)e(t)}diff(e){if(e==null&&(e=[]),!QC(e))throw new L(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let t=this._itHead,r=!1,i,o,s;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)o=e[a],s=this._trackByFn(a,o),t===null||!Object.is(t.trackById,s)?(t=this._mismatch(t,o,s,a),r=!0):(r&&(t=this._verifyReinsertion(t,o,s,a)),Object.is(t.item,o)||this._addIdentityChange(t,o)),t=t._next}else i=0,Uk(e,a=>{s=this._trackByFn(i,a),t===null||!Object.is(t.trackById,s)?(t=this._mismatch(t,a,s,i),r=!0):(r&&(t=this._verifyReinsertion(t,a,s,i)),Object.is(t.item,a)||this._addIdentityChange(t,a)),t=t._next,i++}),this.length=i;return this._truncate(t),this.collection=e,this.isDirty}get isDirty(){return this._additionsHead!==null||this._movesHead!==null||this._removalsHead!==null||this._identityChangesHead!==null}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;e!==null;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;e!==null;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;e!==null;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,t,r,i){let o;return e===null?o=this._itTail:(o=e._prev,this._remove(e)),e=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null),e!==null?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._reinsertAfter(e,o,i)):(e=this._linkedRecords===null?null:this._linkedRecords.get(r,i),e!==null?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._moveAfter(e,o,i)):e=this._addAfter(new Ym(t,r),o,i)),e}_verifyReinsertion(e,t,r,i){let o=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null);return o!==null?e=this._reinsertAfter(o,e._prev,i):e.currentIndex!=i&&(e.currentIndex=i,this._addToMoves(e,i)),e}_truncate(e){for(;e!==null;){let t=e._next;this._addToRemovals(this._unlink(e)),e=t}this._unlinkedRecords!==null&&this._unlinkedRecords.clear(),this._additionsTail!==null&&(this._additionsTail._nextAdded=null),this._movesTail!==null&&(this._movesTail._nextMoved=null),this._itTail!==null&&(this._itTail._next=null),this._removalsTail!==null&&(this._removalsTail._nextRemoved=null),this._identityChangesTail!==null&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,t,r){this._unlinkedRecords!==null&&this._unlinkedRecords.remove(e);let i=e._prevRemoved,o=e._nextRemoved;return i===null?this._removalsHead=o:i._nextRemoved=o,o===null?this._removalsTail=i:o._prevRemoved=i,this._insertAfter(e,t,r),this._addToMoves(e,r),e}_moveAfter(e,t,r){return this._unlink(e),this._insertAfter(e,t,r),this._addToMoves(e,r),e}_addAfter(e,t,r){return this._insertAfter(e,t,r),this._additionsTail===null?this._additionsTail=this._additionsHead=e:this._additionsTail=this._additionsTail._nextAdded=e,e}_insertAfter(e,t,r){let i=t===null?this._itHead:t._next;return e._next=i,e._prev=t,i===null?this._itTail=e:i._prev=e,t===null?this._itHead=e:t._next=e,this._linkedRecords===null&&(this._linkedRecords=new nd),this._linkedRecords.put(e),e.currentIndex=r,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){this._linkedRecords!==null&&this._linkedRecords.remove(e);let t=e._prev,r=e._next;return t===null?this._itHead=r:t._next=r,r===null?this._itTail=t:r._prev=t,e}_addToMoves(e,t){return e.previousIndex===t||(this._movesTail===null?this._movesTail=this._movesHead=e:this._movesTail=this._movesTail._nextMoved=e),e}_addToRemovals(e){return this._unlinkedRecords===null&&(this._unlinkedRecords=new nd),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,this._removalsTail===null?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,t){return e.item=t,this._identityChangesTail===null?this._identityChangesTail=this._identityChangesHead=e:this._identityChangesTail=this._identityChangesTail._nextIdentityChange=e,e}},Ym=class{item;trackById;currentIndex=null;previousIndex=null;_nextPrevious=null;_prev=null;_next=null;_prevDup=null;_nextDup=null;_prevRemoved=null;_nextRemoved=null;_nextAdded=null;_nextMoved=null;_nextIdentityChange=null;constructor(e,t){this.item=e,this.trackById=t}},Qm=class{_head=null;_tail=null;add(e){this._head===null?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,t){let r;for(r=this._head;r!==null;r=r._nextDup)if((t===null||t<=r.currentIndex)&&Object.is(r.trackById,e))return r;return null}remove(e){let t=e._prevDup,r=e._nextDup;return t===null?this._head=r:t._nextDup=r,r===null?this._tail=t:r._prevDup=t,this._head===null}},nd=class{map=new Map;put(e){let t=e.trackById,r=this.map.get(t);r||(r=new Qm,this.map.set(t,r)),r.add(e)}get(e,t){let r=e,i=this.map.get(r);return i?i.get(e,t):null}remove(e){let t=e.trackById;return this.map.get(t).remove(e)&&this.map.delete(t),e}get isEmpty(){return this.map.size===0}clear(){this.map.clear()}};function mb(n,e,t){let r=n.previousIndex;if(r===null)return r;let i=0;return t&&r<t.length&&(i=t[r]),r+e+i}function gb(){return new rl([new Zm])}var rl=(()=>{class n{factories;static \u0275prov=O({token:n,providedIn:"root",factory:gb});constructor(t){this.factories=t}static create(t,r){if(r!=null){let i=r.factories.slice();t=t.concat(i)}return new n(t)}static extend(t){return{provide:n,useFactory:r=>n.create(t,r||gb()),deps:[[n,new Ab,new qa]]}}find(t){let r=this.factories.find(i=>i.supports(t));if(r!=null)return r;throw new L(901,!1)}}return n})();function DE(n){let{rootComponent:e,appProviders:t,platformProviders:r,platformRef:i}=n;Ve(8);try{let o=i?.injector??zN(r),s=[wE({}),{provide:ms,useExisting:LN},...t||[]],a=new Xu({providers:s,parent:o,debugName:"",runEnvironmentInitializers:!1});return BN({r3Injector:a.injector,platformInjector:o,rootComponent:e})}catch(o){return Promise.reject(o)}finally{Ve(9)}}function mn(n){return typeof n=="boolean"?n:n!=null&&n!=="false"}function Wn(n){return fp(n)}function il(n,e){return lp(n,e?.equal)}var vb=class{[In];constructor(e){this[In]=e}destroy(){this[In].destroy()}};function SE(n){let e=oo(n);if(!e)return null;let t=new gs(e);return{get selector(){return t.selector},get type(){return t.componentType},get inputs(){return t.inputs},get outputs(){return t.outputs},get ngContentSelectors(){return t.ngContentSelectors},get isStandalone(){return e.standalone},get isSignal(){return e.signals}}}var je=new j("");var ME=null;function Mn(){return ME}function zg(n){ME??=n}var ol=class{},Gg=(()=>{class n{historyGo(t){throw new Error("")}static \u0275fac=function(r){return new(r||n)};static \u0275prov=O({token:n,factory:()=>E(AE),providedIn:"platform"})}return n})();var AE=(()=>{class n extends Gg{_location;_history;_doc=E(je);constructor(){super(),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Mn().getBaseHref(this._doc)}onPopState(t){let r=Mn().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",t,!1),()=>r.removeEventListener("popstate",t)}onHashChange(t){let r=Mn().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",t,!1),()=>r.removeEventListener("hashchange",t)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(t){this._location.pathname=t}pushState(t,r,i){this._history.pushState(t,r,i)}replaceState(t,r,i){this._history.replaceState(t,r,i)}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}static \u0275fac=function(r){return new(r||n)};static \u0275prov=O({token:n,factory:()=>new n,providedIn:"platform"})}return n})();function RE(n,e){return n?e?n.endsWith("/")?e.startsWith("/")?n+e.slice(1):n+e:e.startsWith("/")?n+e:`${n}/${e}`:n:e}function TE(n){let e=n.search(/#|\?|$/);return n[e-1]==="/"?n.slice(0,e-1)+n.slice(e):n}function Ci(n){return n&&n[0]!=="?"?`?${n}`:n}var xs=(()=>{class n{historyGo(t){throw new Error("")}static \u0275fac=function(r){return new(r||n)};static \u0275prov=O({token:n,factory:()=>E(OE),providedIn:"root"})}return n})(),Zn=new j(""),OE=(()=>{class n extends xs{_platformLocation;_baseHref;_removeListenerFns=[];constructor(t,r){super(),this._platformLocation=t,this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??E(je).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return RE(this._baseHref,t)}path(t=!1){let r=this._platformLocation.pathname+Ci(this._platformLocation.search),i=this._platformLocation.hash;return i&&t?`${r}${i}`:r}pushState(t,r,i,o){let s=this.prepareExternalUrl(i+Ci(o));this._platformLocation.pushState(t,r,s)}replaceState(t,r,i,o){let s=this.prepareExternalUrl(i+Ci(o));this._platformLocation.replaceState(t,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}static \u0275fac=function(r){return new(r||n)(N(Gg),N(Zn,8))};static \u0275prov=O({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Ms=(()=>{class n{_subject=new re;_basePath;_locationStrategy;_urlChangeListeners=[];_urlChangeSubscription=null;constructor(t){this._locationStrategy=t;let r=this._locationStrategy.getBaseHref();this._basePath=QN(TE(xE(r))),this._locationStrategy.onPopState(i=>{this._subject.next({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(t=!1){return this.normalize(this._locationStrategy.path(t))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(t,r=""){return this.path()==this.normalize(t+Ci(r))}normalize(t){return n.stripTrailingSlash(YN(this._basePath,xE(t)))}prepareExternalUrl(t){return t&&t[0]!=="/"&&(t="/"+t),this._locationStrategy.prepareExternalUrl(t)}go(t,r="",i=null){this._locationStrategy.pushState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Ci(r)),i)}replaceState(t,r="",i=null){this._locationStrategy.replaceState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Ci(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(t=0){this._locationStrategy.historyGo?.(t)}onUrlChange(t){return this._urlChangeListeners.push(t),this._urlChangeSubscription??=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}),()=>{let r=this._urlChangeListeners.indexOf(t);this._urlChangeListeners.splice(r,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(t="",r){this._urlChangeListeners.forEach(i=>i(t,r))}subscribe(t,r,i){return this._subject.subscribe({next:t,error:r??void 0,complete:i??void 0})}static normalizeQueryParams=Ci;static joinWithSlash=RE;static stripTrailingSlash=TE;static \u0275fac=function(r){return new(r||n)(N(xs))};static \u0275prov=O({token:n,factory:()=>JN(),providedIn:"root"})}return n})();function JN(){return new Ms(N(xs))}function YN(n,e){if(!n||!e.startsWith(n))return e;let t=e.substring(n.length);return t===""||["/",";","?","#"].includes(t[0])?t:e}function xE(n){return n.replace(/\/index.html$/,"")}function QN(n){if(new RegExp("^(https?:)?//").test(n)){let[,t]=n.split(/\/\/[^\/]+/);return t}return n}var qg=/\s+/,kE=[],Zt=(()=>{class n{_ngEl;_renderer;initialClasses=kE;rawClass;stateMap=new Map;constructor(t,r){this._ngEl=t,this._renderer=r}set klass(t){this.initialClasses=t!=null?t.trim().split(qg):kE}set ngClass(t){this.rawClass=typeof t=="string"?t.trim().split(qg):t}ngDoCheck(){for(let r of this.initialClasses)this._updateState(r,!0);let t=this.rawClass;if(Array.isArray(t)||t instanceof Set)for(let r of t)this._updateState(r,!0);else if(t!=null)for(let r of Object.keys(t))this._updateState(r,!!t[r]);this._applyStateDiff()}_updateState(t,r){let i=this.stateMap.get(t);i!==void 0?(i.enabled!==r&&(i.changed=!0,i.enabled=r),i.touched=!0):this.stateMap.set(t,{enabled:r,changed:!0,touched:!0})}_applyStateDiff(){for(let t of this.stateMap){let r=t[0],i=t[1];i.changed?(this._toggleClass(r,i.enabled),i.changed=!1):i.touched||(i.enabled&&this._toggleClass(r,!1),this.stateMap.delete(r)),i.touched=!1}}_toggleClass(t,r){t=t.trim(),t.length>0&&t.split(qg).forEach(i=>{r?this._renderer.addClass(this._ngEl.nativeElement,i):this._renderer.removeClass(this._ngEl.nativeElement,i)})}static \u0275fac=function(r){return new(r||n)(I(tt),I(pn))};static \u0275dir=he({type:n,selectors:[["","ngClass",""]],inputs:{klass:[0,"class","klass"],ngClass:"ngClass"}})}return n})();var Ed=class{$implicit;ngForOf;index;count;constructor(e,t,r,i){this.$implicit=e,this.ngForOf=t,this.index=r,this.count=i}get first(){return this.index===0}get last(){return this.index===this.count-1}get even(){return this.index%2===0}get odd(){return!this.even}},ut=(()=>{class n{_viewContainer;_template;_differs;set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}_ngForOf=null;_ngForOfDirty=!0;_differ=null;_trackByFn;constructor(t,r,i){this._viewContainer=t,this._template=r,this._differs=i}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;let t=this._ngForOf;!this._differ&&t&&(this._differ=this._differs.find(t).create(this.ngForTrackBy))}if(this._differ){let t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){let r=this._viewContainer;t.forEachOperation((i,o,s)=>{if(i.previousIndex==null)r.createEmbeddedView(this._template,new Ed(i.item,this._ngForOf,-1,-1),s===null?void 0:s);else if(s==null)r.remove(o===null?void 0:o);else if(o!==null){let a=r.get(o);r.move(a,s),NE(a,i)}});for(let i=0,o=r.length;i<o;i++){let a=r.get(i).context;a.index=i,a.count=o,a.ngForOf=this._ngForOf}t.forEachIdentityChange(i=>{let o=r.get(i.currentIndex);NE(o,i)})}static ngTemplateContextGuard(t,r){return!0}static \u0275fac=function(r){return new(r||n)(I(qn),I(pr),I(rl))};static \u0275dir=he({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}})}return n})();function NE(n,e){n.context.$implicit=e.item}var Ne=(()=>{class n{_viewContainer;_context=new Id;_thenTemplateRef=null;_elseTemplateRef=null;_thenViewRef=null;_elseViewRef=null;constructor(t,r){this._viewContainer=t,this._thenTemplateRef=r}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){FE(t,!1),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){FE(t,!1),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngIfUseIfTypeGuard;static ngTemplateGuard_ngIf;static ngTemplateContextGuard(t,r){return!0}static \u0275fac=function(r){return new(r||n)(I(qn),I(pr))};static \u0275dir=he({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}})}return n})(),Id=class{$implicit=null;ngIf=null};function FE(n,e){if(n&&!n.createEmbeddedView)throw new L(2020,!1)}var Wg=class{_viewContainerRef;_templateRef;_created=!1;constructor(e,t){this._viewContainerRef=e,this._templateRef=t}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(e){e&&!this._created?this.create():!e&&this._created&&this.destroy()}},Dd=(()=>{class n{_defaultViews=[];_defaultUsed=!1;_caseCount=0;_lastCaseCheckIndex=0;_lastCasesMatched=!1;_ngSwitch;set ngSwitch(t){this._ngSwitch=t,this._caseCount===0&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(t){this._defaultViews.push(t)}_matchCase(t){let r=t===this._ngSwitch;return this._lastCasesMatched||=r,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),r}_updateDefaultCases(t){if(this._defaultViews.length>0&&t!==this._defaultUsed){this._defaultUsed=t;for(let r of this._defaultViews)r.enforceState(t)}}static \u0275fac=function(r){return new(r||n)};static \u0275dir=he({type:n,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"}})}return n})(),Yg=(()=>{class n{ngSwitch;_view;ngSwitchCase;constructor(t,r,i){this.ngSwitch=i,i._addCase(),this._view=new Wg(t,r)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}static \u0275fac=function(r){return new(r||n)(I(qn),I(pr),I(Dd,9))};static \u0275dir=he({type:n,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"}})}return n})();function KN(n,e){return new L(2100,!1)}var Zg=class{createSubscription(e,t){return Wn(()=>e.subscribe({next:t,error:r=>{throw r}}))}dispose(e){Wn(()=>e.unsubscribe())}},Jg=class{createSubscription(e,t){return e.then(r=>t?.(r),r=>{throw r}),{unsubscribe:()=>{t=null}}}dispose(e){e.unsubscribe()}},XN=new Jg,eF=new Zg,Qg=(()=>{class n{_ref;_latestValue=null;markForCheckOnValueUpdate=!0;_subscription=null;_obj=null;_strategy=null;constructor(t){this._ref=t}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(t){if(!this._obj){if(t)try{this.markForCheckOnValueUpdate=!1,this._subscribe(t)}finally{this.markForCheckOnValueUpdate=!0}return this._latestValue}return t!==this._obj?(this._dispose(),this.transform(t)):this._latestValue}_subscribe(t){this._obj=t,this._strategy=this._selectStrategy(t),this._subscription=this._strategy.createSubscription(t,r=>this._updateLatestValue(t,r))}_selectStrategy(t){if(_i(t))return XN;if(Ug(t))return eF;throw KN(n,t)}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(t,r){t===this._obj&&(this._latestValue=r,this.markForCheckOnValueUpdate&&this._ref?.markForCheck())}static \u0275fac=function(r){return new(r||n)(I(Pt,16))};static \u0275pipe=ZC({name:"async",type:n,pure:!1})}return n})();var Ae=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275mod=Ke({type:n});static \u0275inj=Qe({})}return n})();function sl(n,e){e=encodeURIComponent(e);for(let t of n.split(";")){let r=t.indexOf("="),[i,o]=r==-1?[t,""]:[t.slice(0,r),t.slice(r+1)];if(i.trim()===e)return decodeURIComponent(o)}return null}var Sd="browser",PE="server";function Kg(n){return n===Sd}function Td(n){return n===PE}var vo=class{};var Ad=new j(""),nv=(()=>{class n{_zone;_plugins;_eventNameToPlugin=new Map;constructor(t,r){this._zone=r,t.forEach(i=>{i.manager=this}),this._plugins=t.slice().reverse()}addEventListener(t,r,i,o){return this._findPluginFor(r).addEventListener(t,r,i,o)}getZone(){return this._zone}_findPluginFor(t){let r=this._eventNameToPlugin.get(t);if(r)return r;if(r=this._plugins.find(o=>o.supports(t)),!r)throw new L(5101,!1);return this._eventNameToPlugin.set(t,r),r}static \u0275fac=function(r){return new(r||n)(N(Ad),N(be))};static \u0275prov=O({token:n,factory:n.\u0275fac})}return n})(),al=class{_doc;constructor(e){this._doc=e}manager},xd="ng-app-id";function LE(n){for(let e of n)e.remove()}function VE(n,e){let t=e.createElement("style");return t.textContent=n,t}function tF(n,e,t,r){let i=n.head?.querySelectorAll(`style[${xd}="${e}"],link[${xd}="${e}"]`);if(i)for(let o of i)o.removeAttribute(xd),o instanceof HTMLLinkElement?r.set(o.href.slice(o.href.lastIndexOf("/")+1),{usage:0,elements:[o]}):o.textContent&&t.set(o.textContent,{usage:0,elements:[o]})}function ev(n,e){let t=e.createElement("link");return t.setAttribute("rel","stylesheet"),t.setAttribute("href",n),t}var rv=(()=>{class n{doc;appId;nonce;inline=new Map;external=new Map;hosts=new Set;isServer;constructor(t,r,i,o={}){this.doc=t,this.appId=r,this.nonce=i,this.isServer=Td(o),tF(t,r,this.inline,this.external),this.hosts.add(t.head)}addStyles(t,r){for(let i of t)this.addUsage(i,this.inline,VE);r?.forEach(i=>this.addUsage(i,this.external,ev))}removeStyles(t,r){for(let i of t)this.removeUsage(i,this.inline);r?.forEach(i=>this.removeUsage(i,this.external))}addUsage(t,r,i){let o=r.get(t);o?o.usage++:r.set(t,{usage:1,elements:[...this.hosts].map(s=>this.addElement(s,i(t,this.doc)))})}removeUsage(t,r){let i=r.get(t);i&&(i.usage--,i.usage<=0&&(LE(i.elements),r.delete(t)))}ngOnDestroy(){for(let[,{elements:t}]of[...this.inline,...this.external])LE(t);this.hosts.clear()}addHost(t){this.hosts.add(t);for(let[r,{elements:i}]of this.inline)i.push(this.addElement(t,VE(r,this.doc)));for(let[r,{elements:i}]of this.external)i.push(this.addElement(t,ev(r,this.doc)))}removeHost(t){this.hosts.delete(t)}addElement(t,r){return this.nonce&&r.setAttribute("nonce",this.nonce),this.isServer&&r.setAttribute(xd,this.appId),t.appendChild(r)}static \u0275fac=function(r){return new(r||n)(N(je),N(hd),N(Qa,8),N(ho))};static \u0275prov=O({token:n,factory:n.\u0275fac})}return n})(),Xg={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},iv=/%COMP%/g;var BE="%COMP%",nF=`_nghost-${BE}`,rF=`_ngcontent-${BE}`,iF=!0,oF=new j("",{providedIn:"root",factory:()=>iF});function sF(n){return rF.replace(iv,n)}function aF(n){return nF.replace(iv,n)}function UE(n,e){return e.map(t=>t.replace(iv,n))}var ov=(()=>{class n{eventManager;sharedStylesHost;appId;removeStylesOnCompDestroy;doc;platformId;ngZone;nonce;tracingService;rendererByCompId=new Map;defaultRenderer;platformIsServer;constructor(t,r,i,o,s,a,l,c=null,u=null){this.eventManager=t,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestroy=o,this.doc=s,this.platformId=a,this.ngZone=l,this.nonce=c,this.tracingService=u,this.platformIsServer=Td(a),this.defaultRenderer=new ll(t,s,l,this.platformIsServer,this.tracingService)}createRenderer(t,r){if(!t||!r)return this.defaultRenderer;this.platformIsServer&&r.encapsulation===hr.ShadowDom&&(r=X(S({},r),{encapsulation:hr.Emulated}));let i=this.getOrCreateRenderer(t,r);return i instanceof Md?i.applyToHost(t):i instanceof cl&&i.applyStyles(),i}getOrCreateRenderer(t,r){let i=this.rendererByCompId,o=i.get(r.id);if(!o){let s=this.doc,a=this.ngZone,l=this.eventManager,c=this.sharedStylesHost,u=this.removeStylesOnCompDestroy,d=this.platformIsServer,p=this.tracingService;switch(r.encapsulation){case hr.Emulated:o=new Md(l,c,r,this.appId,u,s,a,d,p);break;case hr.ShadowDom:return new tv(l,c,t,r,s,a,this.nonce,d,p);default:o=new cl(l,c,r,u,s,a,d,p);break}i.set(r.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}componentReplaced(t){this.rendererByCompId.delete(t)}static \u0275fac=function(r){return new(r||n)(N(nv),N(rv),N(hd),N(oF),N(je),N(ho),N(be),N(Qa),N(Is,8))};static \u0275prov=O({token:n,factory:n.\u0275fac})}return n})(),ll=class{eventManager;doc;ngZone;platformIsServer;tracingService;data=Object.create(null);throwOnSyntheticProps=!0;constructor(e,t,r,i,o){this.eventManager=e,this.doc=t,this.ngZone=r,this.platformIsServer=i,this.tracingService=o}destroy(){}destroyNode=null;createElement(e,t){return t?this.doc.createElementNS(Xg[t]||t,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,t){(jE(e)?e.content:e).appendChild(t)}insertBefore(e,t,r){e&&(jE(e)?e.content:e).insertBefore(t,r)}removeChild(e,t){t.remove()}selectRootElement(e,t){let r=typeof e=="string"?this.doc.querySelector(e):e;if(!r)throw new L(-5104,!1);return t||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,r,i){if(i){t=i+":"+t;let o=Xg[i];o?e.setAttributeNS(o,t,r):e.setAttribute(t,r)}else e.setAttribute(t,r)}removeAttribute(e,t,r){if(r){let i=Xg[r];i?e.removeAttributeNS(i,t):e.removeAttribute(`${r}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,r,i){i&($r.DashCase|$r.Important)?e.style.setProperty(t,r,i&$r.Important?"important":""):e.style[t]=r}removeStyle(e,t,r){r&$r.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,r){e!=null&&(e[t]=r)}setValue(e,t){e.nodeValue=t}listen(e,t,r,i){if(typeof e=="string"&&(e=Mn().getGlobalEventTarget(this.doc,e),!e))throw new L(5102,!1);let o=this.decoratePreventDefault(r);return this.tracingService?.wrapEventListener&&(o=this.tracingService.wrapEventListener(e,t,o)),this.eventManager.addEventListener(e,t,o,i)}decoratePreventDefault(e){return t=>{if(t==="__ngUnwrap__")return e;(this.platformIsServer?this.ngZone.runGuarded(()=>e(t)):e(t))===!1&&t.preventDefault()}}};function jE(n){return n.tagName==="TEMPLATE"&&n.content!==void 0}var tv=class extends ll{sharedStylesHost;hostEl;shadowRoot;constructor(e,t,r,i,o,s,a,l,c){super(e,o,s,l,c),this.sharedStylesHost=t,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let u=i.styles;u=UE(i.id,u);for(let p of u){let f=document.createElement("style");a&&f.setAttribute("nonce",a),f.textContent=p,this.shadowRoot.appendChild(f)}let d=i.getExternalStyles?.();if(d)for(let p of d){let f=ev(p,o);a&&f.setAttribute("nonce",a),this.shadowRoot.appendChild(f)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,r){return super.insertBefore(this.nodeOrShadowRoot(e),t,r)}removeChild(e,t){return super.removeChild(null,t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},cl=class extends ll{sharedStylesHost;removeStylesOnCompDestroy;styles;styleUrls;constructor(e,t,r,i,o,s,a,l,c){super(e,o,s,a,l),this.sharedStylesHost=t,this.removeStylesOnCompDestroy=i;let u=r.styles;this.styles=c?UE(c,u):u,this.styleUrls=r.getExternalStyles?.(c)}applyStyles(){this.sharedStylesHost.addStyles(this.styles,this.styleUrls)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles,this.styleUrls)}},Md=class extends cl{contentAttr;hostAttr;constructor(e,t,r,i,o,s,a,l,c){let u=i+"-"+r.id;super(e,t,r,o,s,a,l,c,u),this.contentAttr=sF(u),this.hostAttr=aF(u)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,t){let r=super.createElement(e,t);return super.setAttribute(r,this.contentAttr,""),r}};var Rd=class n extends ol{supportsDOMEvents=!0;static makeCurrent(){zg(new n)}onAndCancel(e,t,r,i){return e.addEventListener(t,r,i),()=>{e.removeEventListener(t,r,i)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.remove()}createElement(e,t){return t=t||this.getDefaultDocument(),t.createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return t==="window"?window:t==="document"?e:t==="body"?e.body:null}getBaseHref(e){let t=lF();return t==null?null:cF(t)}resetBaseElement(){ul=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return sl(document.cookie,e)}},ul=null;function lF(){return ul=ul||document.head.querySelector("base"),ul?ul.getAttribute("href"):null}function cF(n){return new URL(n,document.baseURI).pathname}var uF=(()=>{class n{build(){return new XMLHttpRequest}static \u0275fac=function(r){return new(r||n)};static \u0275prov=O({token:n,factory:n.\u0275fac})}return n})(),HE=(()=>{class n extends al{constructor(t){super(t)}supports(t){return!0}addEventListener(t,r,i,o){return t.addEventListener(r,i,o),()=>this.removeEventListener(t,r,i,o)}removeEventListener(t,r,i,o){return t.removeEventListener(r,i,o)}static \u0275fac=function(r){return new(r||n)(N(je))};static \u0275prov=O({token:n,factory:n.\u0275fac})}return n})(),$E=["alt","control","meta","shift"],dF={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},fF={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey},zE=(()=>{class n extends al{constructor(t){super(t)}supports(t){return n.parseEventName(t)!=null}addEventListener(t,r,i,o){let s=n.parseEventName(r),a=n.eventCallback(s.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Mn().onAndCancel(t,s.domEventName,a,o))}static parseEventName(t){let r=t.toLowerCase().split("."),i=r.shift();if(r.length===0||!(i==="keydown"||i==="keyup"))return null;let o=n._normalizeKey(r.pop()),s="",a=r.indexOf("code");if(a>-1&&(r.splice(a,1),s="code."),$E.forEach(c=>{let u=r.indexOf(c);u>-1&&(r.splice(u,1),s+=c+".")}),s+=o,r.length!=0||o.length===0)return null;let l={};return l.domEventName=i,l.fullKey=s,l}static matchEventFullKeyCode(t,r){let i=dF[t.key]||t.key,o="";return r.indexOf("code.")>-1&&(i=t.code,o="code."),i==null||!i?!1:(i=i.toLowerCase(),i===" "?i="space":i==="."&&(i="dot"),$E.forEach(s=>{if(s!==i){let a=fF[s];a(t)&&(o+=s+".")}}),o+=i,o===r)}static eventCallback(t,r,i){return o=>{n.matchEventFullKeyCode(o,t)&&i.runGuarded(()=>r(o))}}static _normalizeKey(t){return t==="esc"?"escape":t}static \u0275fac=function(r){return new(r||n)(N(je))};static \u0275prov=O({token:n,factory:n.\u0275fac})}return n})();function sv(n,e,t){return DE(S({rootComponent:n,platformRef:t?.platformRef},hF(e)))}function hF(n){return{appProviders:[...yF,...n?.providers??[]],platformProviders:vF}}function pF(){Rd.makeCurrent()}function mF(){return new sn}function gF(){return Bw(document),document}var vF=[{provide:ho,useValue:Sd},{provide:_g,useValue:pF,multi:!0},{provide:je,useFactory:gF}];var yF=[{provide:ad,useValue:"root"},{provide:sn,useFactory:mF},{provide:Ad,useClass:HE,multi:!0,deps:[je]},{provide:Ad,useClass:zE,multi:!0,deps:[je]},ov,rv,nv,{provide:Un,useExisting:ov},{provide:vo,useClass:uF},[]];var Rs=class{},dl=class{},Ei=class n{headers;normalizedNames=new Map;lazyInit;lazyUpdate=null;constructor(e){e?typeof e=="string"?this.lazyInit=()=>{this.headers=new Map,e.split(`
`).forEach(t=>{let r=t.indexOf(":");if(r>0){let i=t.slice(0,r),o=t.slice(r+1).trim();this.addHeaderEntry(i,o)}})}:typeof Headers<"u"&&e instanceof Headers?(this.headers=new Map,e.forEach((t,r)=>{this.addHeaderEntry(r,t)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(e).forEach(([t,r])=>{this.setHeaderEntries(t,r)})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();let t=this.headers.get(e.toLowerCase());return t&&t.length>0?t[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,t){return this.clone({name:e,value:t,op:"a"})}set(e,t){return this.clone({name:e,value:t,op:"s"})}delete(e,t){return this.clone({name:e,value:t,op:"d"})}maybeSetNormalizedName(e,t){this.normalizedNames.has(t)||this.normalizedNames.set(t,e)}init(){this.lazyInit&&(this.lazyInit instanceof n?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(t=>{this.headers.set(t,e.headers.get(t)),this.normalizedNames.set(t,e.normalizedNames.get(t))})}clone(e){let t=new n;return t.lazyInit=this.lazyInit&&this.lazyInit instanceof n?this.lazyInit:this,t.lazyUpdate=(this.lazyUpdate||[]).concat([e]),t}applyUpdate(e){let t=e.name.toLowerCase();switch(e.op){case"a":case"s":let r=e.value;if(typeof r=="string"&&(r=[r]),r.length===0)return;this.maybeSetNormalizedName(e.name,t);let i=(e.op==="a"?this.headers.get(t):void 0)||[];i.push(...r),this.headers.set(t,i);break;case"d":let o=e.value;if(!o)this.headers.delete(t),this.normalizedNames.delete(t);else{let s=this.headers.get(t);if(!s)return;s=s.filter(a=>o.indexOf(a)===-1),s.length===0?(this.headers.delete(t),this.normalizedNames.delete(t)):this.headers.set(t,s)}break}}addHeaderEntry(e,t){let r=e.toLowerCase();this.maybeSetNormalizedName(e,r),this.headers.has(r)?this.headers.get(r).push(t):this.headers.set(r,[t])}setHeaderEntries(e,t){let r=(Array.isArray(t)?t:[t]).map(o=>o.toString()),i=e.toLowerCase();this.headers.set(i,r),this.maybeSetNormalizedName(e,i)}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(t=>e(this.normalizedNames.get(t),this.headers.get(t)))}};var kd=class{encodeKey(e){return GE(e)}encodeValue(e){return GE(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}};function _F(n,e){let t=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(i=>{let o=i.indexOf("="),[s,a]=o==-1?[e.decodeKey(i),""]:[e.decodeKey(i.slice(0,o)),e.decodeValue(i.slice(o+1))],l=t.get(s)||[];l.push(a),t.set(s,l)}),t}var bF=/%(\d[a-f0-9])/gi,wF={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function GE(n){return encodeURIComponent(n).replace(bF,(e,t)=>wF[t]??e)}function Od(n){return`${n}`}var Qr=class n{map;encoder;updates=null;cloneFrom=null;constructor(e={}){if(this.encoder=e.encoder||new kd,e.fromString){if(e.fromObject)throw new L(2805,!1);this.map=_F(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(t=>{let r=e.fromObject[t],i=Array.isArray(r)?r.map(Od):[Od(r)];this.map.set(t,i)})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();let t=this.map.get(e);return t?t[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,t){return this.clone({param:e,value:t,op:"a"})}appendAll(e){let t=[];return Object.keys(e).forEach(r=>{let i=e[r];Array.isArray(i)?i.forEach(o=>{t.push({param:r,value:o,op:"a"})}):t.push({param:r,value:i,op:"a"})}),this.clone(t)}set(e,t){return this.clone({param:e,value:t,op:"s"})}delete(e,t){return this.clone({param:e,value:t,op:"d"})}toString(){return this.init(),this.keys().map(e=>{let t=this.encoder.encodeKey(e);return this.map.get(e).map(r=>t+"="+this.encoder.encodeValue(r)).join("&")}).filter(e=>e!=="").join("&")}clone(e){let t=new n({encoder:this.encoder});return t.cloneFrom=this.cloneFrom||this,t.updates=(this.updates||[]).concat(e),t}init(){this.map===null&&(this.map=new Map),this.cloneFrom!==null&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":let t=(e.op==="a"?this.map.get(e.param):void 0)||[];t.push(Od(e.value)),this.map.set(e.param,t);break;case"d":if(e.value!==void 0){let r=this.map.get(e.param)||[],i=r.indexOf(Od(e.value));i!==-1&&r.splice(i,1),r.length>0?this.map.set(e.param,r):this.map.delete(e.param)}else{this.map.delete(e.param);break}}}),this.cloneFrom=this.updates=null)}};var Nd=class{map=new Map;set(e,t){return this.map.set(e,t),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}};function CF(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}function qE(n){return typeof ArrayBuffer<"u"&&n instanceof ArrayBuffer}function WE(n){return typeof Blob<"u"&&n instanceof Blob}function ZE(n){return typeof FormData<"u"&&n instanceof FormData}function EF(n){return typeof URLSearchParams<"u"&&n instanceof URLSearchParams}var JE="Content-Type",YE="Accept",QE="X-Request-URL",KE="text/plain",XE="application/json",IF=`${XE}, ${KE}, */*`,As=class n{url;body=null;headers;context;reportProgress=!1;withCredentials=!1;responseType="json";method;params;urlWithParams;transferCache;constructor(e,t,r,i){this.url=t,this.method=e.toUpperCase();let o;if(CF(this.method)||i?(this.body=r!==void 0?r:null,o=i):o=r,o&&(this.reportProgress=!!o.reportProgress,this.withCredentials=!!o.withCredentials,o.responseType&&(this.responseType=o.responseType),o.headers&&(this.headers=o.headers),o.context&&(this.context=o.context),o.params&&(this.params=o.params),this.transferCache=o.transferCache),this.headers??=new Ei,this.context??=new Nd,!this.params)this.params=new Qr,this.urlWithParams=t;else{let s=this.params.toString();if(s.length===0)this.urlWithParams=t;else{let a=t.indexOf("?"),l=a===-1?"?":a<t.length-1?"&":"";this.urlWithParams=t+l+s}}}serializeBody(){return this.body===null?null:typeof this.body=="string"||qE(this.body)||WE(this.body)||ZE(this.body)||EF(this.body)?this.body:this.body instanceof Qr?this.body.toString():typeof this.body=="object"||typeof this.body=="boolean"||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return this.body===null||ZE(this.body)?null:WE(this.body)?this.body.type||null:qE(this.body)?null:typeof this.body=="string"?KE:this.body instanceof Qr?"application/x-www-form-urlencoded;charset=UTF-8":typeof this.body=="object"||typeof this.body=="number"||typeof this.body=="boolean"?XE:null}clone(e={}){let t=e.method||this.method,r=e.url||this.url,i=e.responseType||this.responseType,o=e.transferCache??this.transferCache,s=e.body!==void 0?e.body:this.body,a=e.withCredentials??this.withCredentials,l=e.reportProgress??this.reportProgress,c=e.headers||this.headers,u=e.params||this.params,d=e.context??this.context;return e.setHeaders!==void 0&&(c=Object.keys(e.setHeaders).reduce((p,f)=>p.set(f,e.setHeaders[f]),c)),e.setParams&&(u=Object.keys(e.setParams).reduce((p,f)=>p.set(f,e.setParams[f]),u)),new n(t,r,s,{params:u,headers:c,context:d,reportProgress:l,responseType:i,withCredentials:a,transferCache:o})}},yo=function(n){return n[n.Sent=0]="Sent",n[n.UploadProgress=1]="UploadProgress",n[n.ResponseHeader=2]="ResponseHeader",n[n.DownloadProgress=3]="DownloadProgress",n[n.Response=4]="Response",n[n.User=5]="User",n}(yo||{}),Os=class{headers;status;statusText;url;ok;type;constructor(e,t=200,r="OK"){this.headers=e.headers||new Ei,this.status=e.status!==void 0?e.status:t,this.statusText=e.statusText||r,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}},Fd=class n extends Os{constructor(e={}){super(e)}type=yo.ResponseHeader;clone(e={}){return new n({headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}},fl=class n extends Os{body;constructor(e={}){super(e),this.body=e.body!==void 0?e.body:null}type=yo.Response;clone(e={}){return new n({body:e.body!==void 0?e.body:this.body,headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}},hl=class extends Os{name="HttpErrorResponse";message;error;ok=!1;constructor(e){super(e,0,"Unknown Error"),this.status>=200&&this.status<300?this.message=`Http failure during parsing for ${e.url||"(unknown url)"}`:this.message=`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}},DF=200,SF=204;function av(n,e){return{body:e,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials,transferCache:n.transferCache}}var Ld=(()=>{class n{handler;constructor(t){this.handler=t}request(t,r,i={}){let o;if(t instanceof As)o=t;else{let l;i.headers instanceof Ei?l=i.headers:l=new Ei(i.headers);let c;i.params&&(i.params instanceof Qr?c=i.params:c=new Qr({fromObject:i.params})),o=new As(t,r,i.body!==void 0?i.body:null,{headers:l,context:i.context,params:c,reportProgress:i.reportProgress,responseType:i.responseType||"json",withCredentials:i.withCredentials,transferCache:i.transferCache})}let s=z(o).pipe(Fr(l=>this.handler.handle(l)));if(t instanceof As||i.observe==="events")return s;let a=s.pipe(et(l=>l instanceof fl));switch(i.observe||"body"){case"body":switch(o.responseType){case"arraybuffer":return a.pipe(Y(l=>{if(l.body!==null&&!(l.body instanceof ArrayBuffer))throw new L(2806,!1);return l.body}));case"blob":return a.pipe(Y(l=>{if(l.body!==null&&!(l.body instanceof Blob))throw new L(2807,!1);return l.body}));case"text":return a.pipe(Y(l=>{if(l.body!==null&&typeof l.body!="string")throw new L(2808,!1);return l.body}));case"json":default:return a.pipe(Y(l=>l.body))}case"response":return a;default:throw new L(2809,!1)}}delete(t,r={}){return this.request("DELETE",t,r)}get(t,r={}){return this.request("GET",t,r)}head(t,r={}){return this.request("HEAD",t,r)}jsonp(t,r){return this.request("JSONP",t,{params:new Qr().append(r,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,r={}){return this.request("OPTIONS",t,r)}patch(t,r,i={}){return this.request("PATCH",t,av(i,r))}post(t,r,i={}){return this.request("POST",t,av(i,r))}put(t,r,i={}){return this.request("PUT",t,av(i,r))}static \u0275fac=function(r){return new(r||n)(N(Rs))};static \u0275prov=O({token:n,factory:n.\u0275fac})}return n})();var TF=new j("");function xF(n,e){return e(n)}function MF(n,e,t){return(r,i)=>hn(t,()=>e(r,o=>n(o,i)))}var eI=new j(""),tI=new j(""),nI=new j("",{providedIn:"root",factory:()=>!0});var Pd=(()=>{class n extends Rs{backend;injector;chain=null;pendingTasks=E(yi);contributeToStability=E(nI);constructor(t,r){super(),this.backend=t,this.injector=r}handle(t){if(this.chain===null){let r=Array.from(new Set([...this.injector.get(eI),...this.injector.get(tI,[])]));this.chain=r.reduceRight((i,o)=>MF(i,o,this.injector),xF)}if(this.contributeToStability){let r=this.pendingTasks.add();return this.chain(t,i=>this.backend.handle(i)).pipe(Pr(()=>this.pendingTasks.remove(r)))}else return this.chain(t,r=>this.backend.handle(r))}static \u0275fac=function(r){return new(r||n)(N(dl),N(qt))};static \u0275prov=O({token:n,factory:n.\u0275fac})}return n})();var AF=/^\)\]\}',?\n/,RF=RegExp(`^${QE}:`,"m");function OF(n){return"responseURL"in n&&n.responseURL?n.responseURL:RF.test(n.getAllResponseHeaders())?n.getResponseHeader(QE):null}var lv=(()=>{class n{xhrFactory;constructor(t){this.xhrFactory=t}handle(t){if(t.method==="JSONP")throw new L(-2800,!1);let r=this.xhrFactory;return(r.\u0275loadImpl?He(r.\u0275loadImpl()):z(null)).pipe(Oe(()=>new Z(o=>{let s=r.build();if(s.open(t.method,t.urlWithParams),t.withCredentials&&(s.withCredentials=!0),t.headers.forEach((v,y)=>s.setRequestHeader(v,y.join(","))),t.headers.has(YE)||s.setRequestHeader(YE,IF),!t.headers.has(JE)){let v=t.detectContentTypeHeader();v!==null&&s.setRequestHeader(JE,v)}if(t.responseType){let v=t.responseType.toLowerCase();s.responseType=v!=="json"?v:"text"}let a=t.serializeBody(),l=null,c=()=>{if(l!==null)return l;let v=s.statusText||"OK",y=new Ei(s.getAllResponseHeaders()),x=OF(s)||t.url;return l=new Fd({headers:y,status:s.status,statusText:v,url:x}),l},u=()=>{let{headers:v,status:y,statusText:x,url:U}=c(),B=null;y!==SF&&(B=typeof s.response>"u"?s.responseText:s.response),y===0&&(y=B?DF:0);let D=y>=200&&y<300;if(t.responseType==="json"&&typeof B=="string"){let $=B;B=B.replace(AF,"");try{B=B!==""?JSON.parse(B):null}catch(q){B=$,D&&(D=!1,B={error:q,text:B})}}D?(o.next(new fl({body:B,headers:v,status:y,statusText:x,url:U||void 0})),o.complete()):o.error(new hl({error:B,headers:v,status:y,statusText:x,url:U||void 0}))},d=v=>{let{url:y}=c(),x=new hl({error:v,status:s.status||0,statusText:s.statusText||"Unknown Error",url:y||void 0});o.error(x)},p=!1,f=v=>{p||(o.next(c()),p=!0);let y={type:yo.DownloadProgress,loaded:v.loaded};v.lengthComputable&&(y.total=v.total),t.responseType==="text"&&s.responseText&&(y.partialText=s.responseText),o.next(y)},h=v=>{let y={type:yo.UploadProgress,loaded:v.loaded};v.lengthComputable&&(y.total=v.total),o.next(y)};return s.addEventListener("load",u),s.addEventListener("error",d),s.addEventListener("timeout",d),s.addEventListener("abort",d),t.reportProgress&&(s.addEventListener("progress",f),a!==null&&s.upload&&s.upload.addEventListener("progress",h)),s.send(a),o.next({type:yo.Sent}),()=>{s.removeEventListener("error",d),s.removeEventListener("abort",d),s.removeEventListener("load",u),s.removeEventListener("timeout",d),t.reportProgress&&(s.removeEventListener("progress",f),a!==null&&s.upload&&s.upload.removeEventListener("progress",h)),s.readyState!==s.DONE&&s.abort()}})))}static \u0275fac=function(r){return new(r||n)(N(vo))};static \u0275prov=O({token:n,factory:n.\u0275fac})}return n})(),rI=new j(""),kF="XSRF-TOKEN",NF=new j("",{providedIn:"root",factory:()=>kF}),FF="X-XSRF-TOKEN",PF=new j("",{providedIn:"root",factory:()=>FF}),pl=class{},LF=(()=>{class n{doc;cookieName;lastCookieString="";lastToken=null;parseCount=0;constructor(t,r){this.doc=t,this.cookieName=r}getToken(){let t=this.doc.cookie||"";return t!==this.lastCookieString&&(this.parseCount++,this.lastToken=sl(t,this.cookieName),this.lastCookieString=t),this.lastToken}static \u0275fac=function(r){return new(r||n)(N(je),N(NF))};static \u0275prov=O({token:n,factory:n.\u0275fac})}return n})();function VF(n,e){let t=n.url.toLowerCase();if(!E(rI)||n.method==="GET"||n.method==="HEAD"||t.startsWith("http://")||t.startsWith("https://"))return e(n);let r=E(pl).getToken(),i=E(PF);return r!=null&&!n.headers.has(i)&&(n=n.clone({headers:n.headers.set(i,r)})),e(n)}function cv(...n){let e=[Ld,lv,Pd,{provide:Rs,useExisting:Pd},{provide:dl,useFactory:()=>E(TF,{optional:!0})??E(lv)},{provide:eI,useValue:VF,multi:!0},{provide:rI,useValue:!0},{provide:pl,useClass:LF}];for(let t of n)e.push(...t.\u0275providers);return zr(e)}var oI=(()=>{class n{_doc;constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}static \u0275fac=function(r){return new(r||n)(N(je))};static \u0275prov=O({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var Jn=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275prov=O({token:n,factory:function(r){let i=null;return r?i=new(r||n):i=N(BF),i},providedIn:"root"})}return n})(),BF=(()=>{class n extends Jn{_doc;constructor(t){super(),this._doc=t}sanitize(t,r){if(r==null)return null;switch(t){case xt.NONE:return r;case xt.HTML:return Wr(r,"HTML")?Gn(r):wg(this._doc,String(r)).toString();case xt.STYLE:return Wr(r,"Style")?Gn(r):r;case xt.SCRIPT:if(Wr(r,"Script"))return Gn(r);throw new L(5200,!1);case xt.URL:return Wr(r,"URL")?Gn(r):gd(String(r));case xt.RESOURCE_URL:if(Wr(r,"ResourceURL"))return Gn(r);throw new L(5201,!1);default:throw new L(5202,!1)}}bypassSecurityTrustHtml(t){return Jw(t)}bypassSecurityTrustStyle(t){return Yw(t)}bypassSecurityTrustScript(t){return Qw(t)}bypassSecurityTrustUrl(t){return Kw(t)}bypassSecurityTrustResourceUrl(t){return Xw(t)}static \u0275fac=function(r){return new(r||n)(N(je))};static \u0275prov=O({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var ue="primary",xl=Symbol("RouteTitle"),pv=class{params;constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){let t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){let t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}};function wo(n){return new pv(n)}function hI(n,e,t){let r=t.path.split("/");if(r.length>n.length||t.pathMatch==="full"&&(e.hasChildren()||r.length<n.length))return null;let i={};for(let o=0;o<r.length;o++){let s=r[o],a=n[o];if(s[0]===":")i[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:n.slice(0,r.length),posParams:i}}function UF(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!gr(n[t],e[t]))return!1;return!0}function gr(n,e){let t=n?mv(n):void 0,r=e?mv(e):void 0;if(!t||!r||t.length!=r.length)return!1;let i;for(let o=0;o<t.length;o++)if(i=t[o],!pI(n[i],e[i]))return!1;return!0}function mv(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}function pI(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;let t=[...n].sort(),r=[...e].sort();return t.every((i,o)=>r[o]===i)}else return n===e}function mI(n){return n.length>0?n[n.length-1]:null}function Si(n){return Qi(n)?n:_i(n)?He(Promise.resolve(n)):z(n)}var $F={exact:vI,subset:yI},gI={exact:HF,subset:zF,ignored:()=>!0};function sI(n,e,t){return $F[t.paths](n.root,e.root,t.matrixParams)&&gI[t.queryParams](n.queryParams,e.queryParams)&&!(t.fragment==="exact"&&n.fragment!==e.fragment)}function HF(n,e){return gr(n,e)}function vI(n,e,t){if(!_o(n.segments,e.segments)||!Bd(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(let r in e.children)if(!n.children[r]||!vI(n.children[r],e.children[r],t))return!1;return!0}function zF(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>pI(n[t],e[t]))}function yI(n,e,t){return _I(n,e,e.segments,t)}function _I(n,e,t,r){if(n.segments.length>t.length){let i=n.segments.slice(0,t.length);return!(!_o(i,t)||e.hasChildren()||!Bd(i,t,r))}else if(n.segments.length===t.length){if(!_o(n.segments,t)||!Bd(n.segments,t,r))return!1;for(let i in e.children)if(!n.children[i]||!yI(n.children[i],e.children[i],r))return!1;return!0}else{let i=t.slice(0,n.segments.length),o=t.slice(n.segments.length);return!_o(n.segments,i)||!Bd(n.segments,i,r)||!n.children[ue]?!1:_I(n.children[ue],e,o,r)}}function Bd(n,e,t){return e.every((r,i)=>gI[t](n[i].parameters,r.parameters))}var yr=class{root;queryParams;fragment;_queryParamMap;constructor(e=new Me([],{}),t={},r=null){this.root=e,this.queryParams=t,this.fragment=r}get queryParamMap(){return this._queryParamMap??=wo(this.queryParams),this._queryParamMap}toString(){return WF.serialize(this)}},Me=class{segments;children;parent=null;constructor(e,t){this.segments=e,this.children=t,Object.values(t).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Ud(this)}},Ii=class{path;parameters;_parameterMap;constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap??=wo(this.parameters),this._parameterMap}toString(){return wI(this)}};function GF(n,e){return _o(n,e)&&n.every((t,r)=>gr(t.parameters,e[r].parameters))}function _o(n,e){return n.length!==e.length?!1:n.every((t,r)=>t.path===e[r].path)}function qF(n,e){let t=[];return Object.entries(n.children).forEach(([r,i])=>{r===ue&&(t=t.concat(e(i,r)))}),Object.entries(n.children).forEach(([r,i])=>{r!==ue&&(t=t.concat(e(i,r)))}),t}var Ml=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275prov=O({token:n,factory:()=>new Co,providedIn:"root"})}return n})(),Co=class{parse(e){let t=new vv(e);return new yr(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){let t=`/${ml(e.root,!0)}`,r=YF(e.queryParams),i=typeof e.fragment=="string"?`#${ZF(e.fragment)}`:"";return`${t}${r}${i}`}},WF=new Co;function Ud(n){return n.segments.map(e=>wI(e)).join("/")}function ml(n,e){if(!n.hasChildren())return Ud(n);if(e){let t=n.children[ue]?ml(n.children[ue],!1):"",r=[];return Object.entries(n.children).forEach(([i,o])=>{i!==ue&&r.push(`${i}:${ml(o,!1)}`)}),r.length>0?`${t}(${r.join("//")})`:t}else{let t=qF(n,(r,i)=>i===ue?[ml(n.children[ue],!1)]:[`${i}:${ml(r,!1)}`]);return Object.keys(n.children).length===1&&n.children[ue]!=null?`${Ud(n)}/${t[0]}`:`${Ud(n)}/(${t.join("//")})`}}function bI(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Vd(n){return bI(n).replace(/%3B/gi,";")}function ZF(n){return encodeURI(n)}function gv(n){return bI(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function $d(n){return decodeURIComponent(n)}function aI(n){return $d(n.replace(/\+/g,"%20"))}function wI(n){return`${gv(n.path)}${JF(n.parameters)}`}function JF(n){return Object.entries(n).map(([e,t])=>`;${gv(e)}=${gv(t)}`).join("")}function YF(n){let e=Object.entries(n).map(([t,r])=>Array.isArray(r)?r.map(i=>`${Vd(t)}=${Vd(i)}`).join("&"):`${Vd(t)}=${Vd(r)}`).filter(t=>t);return e.length?`?${e.join("&")}`:""}var QF=/^[^\/()?;#]+/;function uv(n){let e=n.match(QF);return e?e[0]:""}var KF=/^[^\/()?;=#]+/;function XF(n){let e=n.match(KF);return e?e[0]:""}var eP=/^[^=?&#]+/;function tP(n){let e=n.match(eP);return e?e[0]:""}var nP=/^[^&#]+/;function rP(n){let e=n.match(nP);return e?e[0]:""}var vv=class{url;remaining;constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new Me([],{}):new Me([],this.parseChildren())}parseQueryParams(){let e={};if(this.consumeOptional("?"))do this.parseQueryParam(e);while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(r[ue]=new Me(e,t)),r}parseSegment(){let e=uv(this.remaining);if(e===""&&this.peekStartsWith(";"))throw new L(4009,!1);return this.capture(e),new Ii($d(e),this.parseMatrixParams())}parseMatrixParams(){let e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){let t=XF(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){let i=uv(this.remaining);i&&(r=i,this.capture(r))}e[$d(t)]=$d(r)}parseQueryParam(e){let t=tP(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){let s=rP(this.remaining);s&&(r=s,this.capture(r))}let i=aI(t),o=aI(r);if(e.hasOwnProperty(i)){let s=e[i];Array.isArray(s)||(s=[s],e[i]=s),s.push(o)}else e[i]=o}parseParens(e){let t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let r=uv(this.remaining),i=this.remaining[r.length];if(i!=="/"&&i!==")"&&i!==";")throw new L(4010,!1);let o;r.indexOf(":")>-1?(o=r.slice(0,r.indexOf(":")),this.capture(o),this.capture(":")):e&&(o=ue);let s=this.parseChildren();t[o]=Object.keys(s).length===1?s[ue]:new Me([],s),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return this.peekStartsWith(e)?(this.remaining=this.remaining.substring(e.length),!0):!1}capture(e){if(!this.consumeOptional(e))throw new L(4011,!1)}};function CI(n){return n.segments.length>0?new Me([],{[ue]:n}):n}function EI(n){let e={};for(let[r,i]of Object.entries(n.children)){let o=EI(i);if(r===ue&&o.segments.length===0&&o.hasChildren())for(let[s,a]of Object.entries(o.children))e[s]=a;else(o.segments.length>0||o.hasChildren())&&(e[r]=o)}let t=new Me(n.segments,e);return iP(t)}function iP(n){if(n.numberOfChildren===1&&n.children[ue]){let e=n.children[ue];return new Me(n.segments.concat(e.segments),e.children)}return n}function Di(n){return n instanceof yr}function II(n,e,t=null,r=null){let i=DI(n);return SI(i,e,t,r)}function DI(n){let e;function t(o){let s={};for(let l of o.children){let c=t(l);s[l.outlet]=c}let a=new Me(o.url,s);return o===n&&(e=a),a}let r=t(n.root),i=CI(r);return e??i}function SI(n,e,t,r){let i=n;for(;i.parent;)i=i.parent;if(e.length===0)return dv(i,i,i,t,r);let o=oP(e);if(o.toRoot())return dv(i,i,new Me([],{}),t,r);let s=sP(o,i,n),a=s.processChildren?vl(s.segmentGroup,s.index,o.commands):xI(s.segmentGroup,s.index,o.commands);return dv(i,s.segmentGroup,a,t,r)}function zd(n){return typeof n=="object"&&n!=null&&!n.outlets&&!n.segmentPath}function _l(n){return typeof n=="object"&&n!=null&&n.outlets}function dv(n,e,t,r,i){let o={};r&&Object.entries(r).forEach(([l,c])=>{o[l]=Array.isArray(c)?c.map(u=>`${u}`):`${c}`});let s;n===e?s=t:s=TI(n,e,t);let a=CI(EI(s));return new yr(a,o,i)}function TI(n,e,t){let r={};return Object.entries(n.children).forEach(([i,o])=>{o===e?r[i]=t:r[i]=TI(o,e,t)}),new Me(n.segments,r)}var Gd=class{isAbsolute;numberOfDoubleDots;commands;constructor(e,t,r){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=r,e&&r.length>0&&zd(r[0]))throw new L(4003,!1);let i=r.find(_l);if(i&&i!==mI(r))throw new L(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function oP(n){if(typeof n[0]=="string"&&n.length===1&&n[0]==="/")return new Gd(!0,0,n);let e=0,t=!1,r=n.reduce((i,o,s)=>{if(typeof o=="object"&&o!=null){if(o.outlets){let a={};return Object.entries(o.outlets).forEach(([l,c])=>{a[l]=typeof c=="string"?c.split("/"):c}),[...i,{outlets:a}]}if(o.segmentPath)return[...i,o.segmentPath]}return typeof o!="string"?[...i,o]:s===0?(o.split("/").forEach((a,l)=>{l==0&&a==="."||(l==0&&a===""?t=!0:a===".."?e++:a!=""&&i.push(a))}),i):[...i,o]},[]);return new Gd(t,e,r)}var Ps=class{segmentGroup;processChildren;index;constructor(e,t,r){this.segmentGroup=e,this.processChildren=t,this.index=r}};function sP(n,e,t){if(n.isAbsolute)return new Ps(e,!0,0);if(!t)return new Ps(e,!1,NaN);if(t.parent===null)return new Ps(t,!0,0);let r=zd(n.commands[0])?0:1,i=t.segments.length-1+r;return aP(t,i,n.numberOfDoubleDots)}function aP(n,e,t){let r=n,i=e,o=t;for(;o>i;){if(o-=i,r=r.parent,!r)throw new L(4005,!1);i=r.segments.length}return new Ps(r,!1,i-o)}function lP(n){return _l(n[0])?n[0].outlets:{[ue]:n}}function xI(n,e,t){if(n??=new Me([],{}),n.segments.length===0&&n.hasChildren())return vl(n,e,t);let r=cP(n,e,t),i=t.slice(r.commandIndex);if(r.match&&r.pathIndex<n.segments.length){let o=new Me(n.segments.slice(0,r.pathIndex),{});return o.children[ue]=new Me(n.segments.slice(r.pathIndex),n.children),vl(o,0,i)}else return r.match&&i.length===0?new Me(n.segments,{}):r.match&&!n.hasChildren()?yv(n,e,t):r.match?vl(n,0,i):yv(n,e,t)}function vl(n,e,t){if(t.length===0)return new Me(n.segments,{});{let r=lP(t),i={};if(Object.keys(r).some(o=>o!==ue)&&n.children[ue]&&n.numberOfChildren===1&&n.children[ue].segments.length===0){let o=vl(n.children[ue],e,t);return new Me(n.segments,o.children)}return Object.entries(r).forEach(([o,s])=>{typeof s=="string"&&(s=[s]),s!==null&&(i[o]=xI(n.children[o],e,s))}),Object.entries(n.children).forEach(([o,s])=>{r[o]===void 0&&(i[o]=s)}),new Me(n.segments,i)}}function cP(n,e,t){let r=0,i=e,o={match:!1,pathIndex:0,commandIndex:0};for(;i<n.segments.length;){if(r>=t.length)return o;let s=n.segments[i],a=t[r];if(_l(a))break;let l=`${a}`,c=r<t.length-1?t[r+1]:null;if(i>0&&l===void 0)break;if(l&&c&&typeof c=="object"&&c.outlets===void 0){if(!cI(l,c,s))return o;r+=2}else{if(!cI(l,{},s))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}function yv(n,e,t){let r=n.segments.slice(0,e),i=0;for(;i<t.length;){let o=t[i];if(_l(o)){let l=uP(o.outlets);return new Me(r,l)}if(i===0&&zd(t[0])){let l=n.segments[e];r.push(new Ii(l.path,lI(t[0]))),i++;continue}let s=_l(o)?o.outlets[ue]:`${o}`,a=i<t.length-1?t[i+1]:null;s&&a&&zd(a)?(r.push(new Ii(s,lI(a))),i+=2):(r.push(new Ii(s,{})),i++)}return new Me(r,{})}function uP(n){let e={};return Object.entries(n).forEach(([t,r])=>{typeof r=="string"&&(r=[r]),r!==null&&(e[t]=yv(new Me([],{}),0,r))}),e}function lI(n){let e={};return Object.entries(n).forEach(([t,r])=>e[t]=`${r}`),e}function cI(n,e,t){return n==t.path&&gr(e,t.parameters)}var Hd="imperative",Ct=function(n){return n[n.NavigationStart=0]="NavigationStart",n[n.NavigationEnd=1]="NavigationEnd",n[n.NavigationCancel=2]="NavigationCancel",n[n.NavigationError=3]="NavigationError",n[n.RoutesRecognized=4]="RoutesRecognized",n[n.ResolveStart=5]="ResolveStart",n[n.ResolveEnd=6]="ResolveEnd",n[n.GuardsCheckStart=7]="GuardsCheckStart",n[n.GuardsCheckEnd=8]="GuardsCheckEnd",n[n.RouteConfigLoadStart=9]="RouteConfigLoadStart",n[n.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",n[n.ChildActivationStart=11]="ChildActivationStart",n[n.ChildActivationEnd=12]="ChildActivationEnd",n[n.ActivationStart=13]="ActivationStart",n[n.ActivationEnd=14]="ActivationEnd",n[n.Scroll=15]="Scroll",n[n.NavigationSkipped=16]="NavigationSkipped",n}(Ct||{}),vn=class{id;url;constructor(e,t){this.id=e,this.url=t}},Eo=class extends vn{type=Ct.NavigationStart;navigationTrigger;restoredState;constructor(e,t,r="imperative",i=null){super(e,t),this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},yn=class extends vn{urlAfterRedirects;type=Ct.NavigationEnd;constructor(e,t,r){super(e,t),this.urlAfterRedirects=r}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},ln=function(n){return n[n.Redirect=0]="Redirect",n[n.SupersededByNewNavigation=1]="SupersededByNewNavigation",n[n.NoDataFromResolver=2]="NoDataFromResolver",n[n.GuardRejected=3]="GuardRejected",n}(ln||{}),bl=function(n){return n[n.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",n[n.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",n}(bl||{}),vr=class extends vn{reason;code;type=Ct.NavigationCancel;constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},Kr=class extends vn{reason;code;type=Ct.NavigationSkipped;constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i}},Vs=class extends vn{error;target;type=Ct.NavigationError;constructor(e,t,r,i){super(e,t),this.error=r,this.target=i}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},wl=class extends vn{urlAfterRedirects;state;type=Ct.RoutesRecognized;constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},qd=class extends vn{urlAfterRedirects;state;type=Ct.GuardsCheckStart;constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Wd=class extends vn{urlAfterRedirects;state;shouldActivate;type=Ct.GuardsCheckEnd;constructor(e,t,r,i,o){super(e,t),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=o}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},Zd=class extends vn{urlAfterRedirects;state;type=Ct.ResolveStart;constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Jd=class extends vn{urlAfterRedirects;state;type=Ct.ResolveEnd;constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Yd=class{route;type=Ct.RouteConfigLoadStart;constructor(e){this.route=e}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},Qd=class{route;type=Ct.RouteConfigLoadEnd;constructor(e){this.route=e}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},Kd=class{snapshot;type=Ct.ChildActivationStart;constructor(e){this.snapshot=e}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Xd=class{snapshot;type=Ct.ChildActivationEnd;constructor(e){this.snapshot=e}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},ef=class{snapshot;type=Ct.ActivationStart;constructor(e){this.snapshot=e}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},tf=class{snapshot;type=Ct.ActivationEnd;constructor(e){this.snapshot=e}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}};var Cl=class{},js=class{url;navigationBehaviorOptions;constructor(e,t){this.url=e,this.navigationBehaviorOptions=t}};function dP(n,e){return n.providers&&!n._injector&&(n._injector=wd(n.providers,e,`Route: ${n.path}`)),n._injector??e}function Yn(n){return n.outlet||ue}function fP(n,e){let t=n.filter(r=>Yn(r)===e);return t.push(...n.filter(r=>Yn(r)!==e)),t}function Al(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let e=n.parent;e;e=e.parent){let t=e.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}var nf=class{rootInjector;outlet=null;route=null;children;attachRef=null;get injector(){return Al(this.route?.snapshot)??this.rootInjector}constructor(e){this.rootInjector=e,this.children=new $s(this.rootInjector)}},$s=(()=>{class n{rootInjector;contexts=new Map;constructor(t){this.rootInjector=t}onChildOutletCreated(t,r){let i=this.getOrCreateContext(t);i.outlet=r,this.contexts.set(t,i)}onChildOutletDestroyed(t){let r=this.getContext(t);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){let t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let r=this.getContext(t);return r||(r=new nf(this.rootInjector),this.contexts.set(t,r)),r}getContext(t){return this.contexts.get(t)||null}static \u0275fac=function(r){return new(r||n)(N(qt))};static \u0275prov=O({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),rf=class{_root;constructor(e){this._root=e}get root(){return this._root.value}parent(e){let t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){let t=_v(e,this._root);return t?t.children.map(r=>r.value):[]}firstChild(e){let t=_v(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){let t=bv(e,this._root);return t.length<2?[]:t[t.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return bv(e,this._root).map(t=>t.value)}};function _v(n,e){if(n===e.value)return e;for(let t of e.children){let r=_v(n,t);if(r)return r}return null}function bv(n,e){if(n===e.value)return[e];for(let t of e.children){let r=bv(n,t);if(r.length)return r.unshift(e),r}return[]}var gn=class{value;children;constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}};function Fs(n){let e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}var El=class extends rf{snapshot;constructor(e,t){super(e),this.snapshot=t,xv(this,e)}toString(){return this.snapshot.toString()}};function MI(n){let e=hP(n),t=new _e([new Ii("",{})]),r=new _e({}),i=new _e({}),o=new _e({}),s=new _e(""),a=new yt(t,r,o,s,i,ue,n,e.root);return a.snapshot=e.root,new El(new gn(a,[]),e)}function hP(n){let e={},t={},r={},i="",o=new bo([],e,r,i,t,ue,n,null,{});return new Il("",new gn(o,[]))}var yt=class{urlSubject;paramsSubject;queryParamsSubject;fragmentSubject;dataSubject;outlet;component;snapshot;_futureSnapshot;_routerState;_paramMap;_queryParamMap;title;url;params;queryParams;fragment;data;constructor(e,t,r,i,o,s,a,l){this.urlSubject=e,this.paramsSubject=t,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=o,this.outlet=s,this.component=a,this._futureSnapshot=l,this.title=this.dataSubject?.pipe(Y(c=>c[xl]))??z(void 0),this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(Y(e=>wo(e))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(Y(e=>wo(e))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function of(n,e,t="emptyOnly"){let r,{routeConfig:i}=n;return e!==null&&(t==="always"||i?.path===""||!e.component&&!e.routeConfig?.loadComponent)?r={params:S(S({},e.params),n.params),data:S(S({},e.data),n.data),resolve:S(S(S(S({},n.data),e.data),i?.data),n._resolvedData)}:r={params:S({},n.params),data:S({},n.data),resolve:S(S({},n.data),n._resolvedData??{})},i&&RI(i)&&(r.resolve[xl]=i.title),r}var bo=class{url;params;queryParams;fragment;data;outlet;component;routeConfig;_resolve;_resolvedData;_routerState;_paramMap;_queryParamMap;get title(){return this.data?.[xl]}constructor(e,t,r,i,o,s,a,l,c){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=s,this.component=a,this.routeConfig=l,this._resolve=c}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=wo(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=wo(this.queryParams),this._queryParamMap}toString(){let e=this.url.map(r=>r.toString()).join("/"),t=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${e}', path:'${t}')`}},Il=class extends rf{url;constructor(e,t){super(t),this.url=e,xv(this,t)}toString(){return AI(this._root)}};function xv(n,e){e.value._routerState=n,e.children.forEach(t=>xv(n,t))}function AI(n){let e=n.children.length>0?` { ${n.children.map(AI).join(", ")} } `:"";return`${n.value}${e}`}function fv(n){if(n.snapshot){let e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,gr(e.queryParams,t.queryParams)||n.queryParamsSubject.next(t.queryParams),e.fragment!==t.fragment&&n.fragmentSubject.next(t.fragment),gr(e.params,t.params)||n.paramsSubject.next(t.params),UF(e.url,t.url)||n.urlSubject.next(t.url),gr(e.data,t.data)||n.dataSubject.next(t.data)}else n.snapshot=n._futureSnapshot,n.dataSubject.next(n._futureSnapshot.data)}function wv(n,e){let t=gr(n.params,e.params)&&GF(n.url,e.url),r=!n.parent!=!e.parent;return t&&!r&&(!n.parent||wv(n.parent,e.parent))}function RI(n){return typeof n.title=="string"||n.title===null}var OI=new j(""),Rl=(()=>{class n{activated=null;get activatedComponentRef(){return this.activated}_activatedRoute=null;name=ue;activateEvents=new xe;deactivateEvents=new xe;attachEvents=new xe;detachEvents=new xe;routerOutletData=Ow(void 0);parentContexts=E($s);location=E(qn);changeDetector=E(Pt);inputBinder=E(Ol,{optional:!0});supportsBindingToComponentInputs=!0;ngOnChanges(t){if(t.name){let{firstChange:r,previousValue:i}=t.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(t){return this.parentContexts.getContext(t)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let t=this.parentContexts.getContext(this.name);t?.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new L(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new L(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new L(4012,!1);this.location.detach();let t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,r){this.activated=t,this._activatedRoute=r,this.location.insert(t.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){let t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,r){if(this.isActivated)throw new L(4013,!1);this._activatedRoute=t;let i=this.location,s=t.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,l=new Cv(t,a,i.injector,this.routerOutletData);this.activated=i.createComponent(s,{index:i.length,injector:l,environmentInjector:r}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static \u0275fac=function(r){return new(r||n)};static \u0275dir=he({type:n,selectors:[["router-outlet"]],inputs:{name:"name",routerOutletData:[1,"routerOutletData"]},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],features:[it]})}return n})(),Cv=class{route;childContexts;parent;outletData;constructor(e,t,r,i){this.route=e,this.childContexts=t,this.parent=r,this.outletData=i}get(e,t){return e===yt?this.route:e===$s?this.childContexts:e===OI?this.outletData:this.parent.get(e,t)}},Ol=new j(""),Mv=(()=>{class n{outletDataSubscriptions=new Map;bindActivatedRouteToOutletComponent(t){this.unsubscribeFromRouteData(t),this.subscribeToRouteData(t)}unsubscribeFromRouteData(t){this.outletDataSubscriptions.get(t)?.unsubscribe(),this.outletDataSubscriptions.delete(t)}subscribeToRouteData(t){let{activatedRoute:r}=t,i=Ki([r.queryParams,r.params,r.data]).pipe(Oe(([o,s,a],l)=>(a=S(S(S({},o),s),a),l===0?z(a):Promise.resolve(a)))).subscribe(o=>{if(!t.isActivated||!t.activatedComponentRef||t.activatedRoute!==r||r.component===null){this.unsubscribeFromRouteData(t);return}let s=SE(r.component);if(!s){this.unsubscribeFromRouteData(t);return}for(let{templateName:a}of s.inputs)t.activatedComponentRef.setInput(a,o[a])});this.outletDataSubscriptions.set(t,i)}static \u0275fac=function(r){return new(r||n)};static \u0275prov=O({token:n,factory:n.\u0275fac})}return n})(),Av=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275cmp=ce({type:n,selectors:[["ng-component"]],exportAs:["emptyRouterOutlet"],decls:1,vars:0,template:function(r,i){r&1&&V(0,"router-outlet")},dependencies:[Rl],encapsulation:2})}return n})();function Rv(n){let e=n.children&&n.children.map(Rv),t=e?X(S({},n),{children:e}):S({},n);return!t.component&&!t.loadComponent&&(e||t.loadChildren)&&t.outlet&&t.outlet!==ue&&(t.component=Av),t}function pP(n,e,t){let r=Dl(n,e._root,t?t._root:void 0);return new El(r,e)}function Dl(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){let r=t.value;r._futureSnapshot=e.value;let i=mP(n,e,t);return new gn(r,i)}else{if(n.shouldAttach(e.value)){let o=n.retrieve(e.value);if(o!==null){let s=o.route;return s.value._futureSnapshot=e.value,s.children=e.children.map(a=>Dl(n,a)),s}}let r=gP(e.value),i=e.children.map(o=>Dl(n,o));return new gn(r,i)}}function mP(n,e,t){return e.children.map(r=>{for(let i of t.children)if(n.shouldReuseRoute(r.value,i.value.snapshot))return Dl(n,r,i);return Dl(n,r)})}function gP(n){return new yt(new _e(n.url),new _e(n.params),new _e(n.queryParams),new _e(n.fragment),new _e(n.data),n.outlet,n.component,n)}var Bs=class{redirectTo;navigationBehaviorOptions;constructor(e,t){this.redirectTo=e,this.navigationBehaviorOptions=t}},kI="ngNavigationCancelingError";function sf(n,e){let{redirectTo:t,navigationBehaviorOptions:r}=Di(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=NI(!1,ln.Redirect);return i.url=t,i.navigationBehaviorOptions=r,i}function NI(n,e){let t=new Error(`NavigationCancelingError: ${n||""}`);return t[kI]=!0,t.cancellationCode=e,t}function vP(n){return FI(n)&&Di(n.url)}function FI(n){return!!n&&n[kI]}var yP=(n,e,t,r)=>Y(i=>(new Ev(e,i.targetRouterState,i.currentRouterState,t,r).activate(n),i)),Ev=class{routeReuseStrategy;futureState;currState;forwardEvent;inputBindingEnabled;constructor(e,t,r,i,o){this.routeReuseStrategy=e,this.futureState=t,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=o}activate(e){let t=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,r,e),fv(this.futureState.root),this.activateChildRoutes(t,r,e)}deactivateChildRoutes(e,t,r){let i=Fs(t);e.children.forEach(o=>{let s=o.value.outlet;this.deactivateRoutes(o,i[s],r),delete i[s]}),Object.values(i).forEach(o=>{this.deactivateRouteAndItsChildren(o,r)})}deactivateRoutes(e,t,r){let i=e.value,o=t?t.value:null;if(i===o)if(i.component){let s=r.getContext(i.outlet);s&&this.deactivateChildRoutes(e,t,s.children)}else this.deactivateChildRoutes(e,t,r);else o&&this.deactivateRouteAndItsChildren(t,r)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){let r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,o=Fs(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);if(r&&r.outlet){let s=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:s,route:e,contexts:a})}}deactivateRouteAndOutlet(e,t){let r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,o=Fs(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,t,r){let i=Fs(t);e.children.forEach(o=>{this.activateRoutes(o,i[o.value.outlet],r),this.forwardEvent(new tf(o.value.snapshot))}),e.children.length&&this.forwardEvent(new Xd(e.value.snapshot))}activateRoutes(e,t,r){let i=e.value,o=t?t.value:null;if(fv(i),i===o)if(i.component){let s=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,t,s.children)}else this.activateChildRoutes(e,t,r);else if(i.component){let s=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){let a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),fv(a.route.value),this.activateChildRoutes(e,null,s.children)}else s.attachRef=null,s.route=i,s.outlet&&s.outlet.activateWith(i,s.injector),this.activateChildRoutes(e,null,s.children)}else this.activateChildRoutes(e,null,r)}},af=class{path;route;constructor(e){this.path=e,this.route=this.path[this.path.length-1]}},Ls=class{component;route;constructor(e,t){this.component=e,this.route=t}};function _P(n,e,t){let r=n._root,i=e?e._root:null;return gl(r,i,t,[r.value])}function bP(n){let e=n.routeConfig?n.routeConfig.canActivateChild:null;return!e||e.length===0?null:{node:n,guards:e}}function Hs(n,e){let t=Symbol(),r=e.get(n,t);return r===t?typeof n=="function"&&!Cb(n)?n:e.get(n):r}function gl(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=Fs(e);return n.children.forEach(s=>{wP(s,o[s.value.outlet],t,r.concat([s.value]),i),delete o[s.value.outlet]}),Object.entries(o).forEach(([s,a])=>yl(a,t.getContext(s),i)),i}function wP(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=n.value,s=e?e.value:null,a=t?t.getContext(n.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){let l=CP(s,o,o.routeConfig.runGuardsAndResolvers);l?i.canActivateChecks.push(new af(r)):(o.data=s.data,o._resolvedData=s._resolvedData),o.component?gl(n,e,a?a.children:null,r,i):gl(n,e,t,r,i),l&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new Ls(a.outlet.component,s))}else s&&yl(e,a,i),i.canActivateChecks.push(new af(r)),o.component?gl(n,null,a?a.children:null,r,i):gl(n,null,t,r,i);return i}function CP(n,e,t){if(typeof t=="function")return t(n,e);switch(t){case"pathParamsChange":return!_o(n.url,e.url);case"pathParamsOrQueryParamsChange":return!_o(n.url,e.url)||!gr(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!wv(n,e)||!gr(n.queryParams,e.queryParams);case"paramsChange":default:return!wv(n,e)}}function yl(n,e,t){let r=Fs(n),i=n.value;Object.entries(r).forEach(([o,s])=>{i.component?e?yl(s,e.children.getContext(o),t):yl(s,null,t):yl(s,e,t)}),i.component?e&&e.outlet&&e.outlet.isActivated?t.canDeactivateChecks.push(new Ls(e.outlet.component,i)):t.canDeactivateChecks.push(new Ls(null,i)):t.canDeactivateChecks.push(new Ls(null,i))}function kl(n){return typeof n=="function"}function EP(n){return typeof n=="boolean"}function IP(n){return n&&kl(n.canLoad)}function DP(n){return n&&kl(n.canActivate)}function SP(n){return n&&kl(n.canActivateChild)}function TP(n){return n&&kl(n.canDeactivate)}function xP(n){return n&&kl(n.canMatch)}function PI(n){return n instanceof Nr||n?.name==="EmptyError"}var jd=Symbol("INITIAL_VALUE");function Us(){return Oe(n=>Ki(n.map(e=>e.pipe(mt(1),pi(jd)))).pipe(Y(e=>{for(let t of e)if(t!==!0){if(t===jd)return jd;if(t===!1||MP(t))return t}return!0}),et(e=>e!==jd),mt(1)))}function MP(n){return Di(n)||n instanceof Bs}function AP(n,e){return Ye(t=>{let{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:o,canDeactivateChecks:s}}=t;return s.length===0&&o.length===0?z(X(S({},t),{guardsResult:!0})):RP(s,r,i,n).pipe(Ye(a=>a&&EP(a)?OP(r,o,n,e):z(a)),Y(a=>X(S({},t),{guardsResult:a})))})}function RP(n,e,t,r){return He(n).pipe(Ye(i=>LP(i.component,i.route,t,e,r)),Lr(i=>i!==!0,!0))}function OP(n,e,t,r){return He(e).pipe(Fr(i=>fi(NP(i.route.parent,r),kP(i.route,r),PP(n,i.path,t),FP(n,i.route,t))),Lr(i=>i!==!0,!0))}function kP(n,e){return n!==null&&e&&e(new ef(n)),z(!0)}function NP(n,e){return n!==null&&e&&e(new Kd(n)),z(!0)}function FP(n,e,t){let r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||r.length===0)return z(!0);let i=r.map(o=>vu(()=>{let s=Al(e)??t,a=Hs(o,s),l=DP(a)?a.canActivate(e,n):hn(s,()=>a(e,n));return Si(l).pipe(Lr())}));return z(i).pipe(Us())}function PP(n,e,t){let r=e[e.length-1],o=e.slice(0,e.length-1).reverse().map(s=>bP(s)).filter(s=>s!==null).map(s=>vu(()=>{let a=s.guards.map(l=>{let c=Al(s.node)??t,u=Hs(l,c),d=SP(u)?u.canActivateChild(r,n):hn(c,()=>u(r,n));return Si(d).pipe(Lr())});return z(a).pipe(Us())}));return z(o).pipe(Us())}function LP(n,e,t,r,i){let o=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!o||o.length===0)return z(!0);let s=o.map(a=>{let l=Al(e)??i,c=Hs(a,l),u=TP(c)?c.canDeactivate(n,e,t,r):hn(l,()=>c(n,e,t,r));return Si(u).pipe(Lr())});return z(s).pipe(Us())}function VP(n,e,t,r){let i=e.canLoad;if(i===void 0||i.length===0)return z(!0);let o=i.map(s=>{let a=Hs(s,n),l=IP(a)?a.canLoad(e,t):hn(n,()=>a(e,t));return Si(l)});return z(o).pipe(Us(),LI(r))}function LI(n){return _p(qe(e=>{if(typeof e!="boolean")throw sf(n,e)}),Y(e=>e===!0))}function jP(n,e,t,r){let i=e.canMatch;if(!i||i.length===0)return z(!0);let o=i.map(s=>{let a=Hs(s,n),l=xP(a)?a.canMatch(e,t):hn(n,()=>a(e,t));return Si(l)});return z(o).pipe(Us(),LI(r))}var Sl=class{segmentGroup;constructor(e){this.segmentGroup=e||null}},Tl=class extends Error{urlTree;constructor(e){super(),this.urlTree=e}};function Ns(n){return di(new Sl(n))}function BP(n){return di(new L(4e3,!1))}function UP(n){return di(NI(!1,ln.GuardRejected))}var Iv=class{urlSerializer;urlTree;constructor(e,t){this.urlSerializer=e,this.urlTree=t}lineralizeSegments(e,t){let r=[],i=t.root;for(;;){if(r=r.concat(i.segments),i.numberOfChildren===0)return z(r);if(i.numberOfChildren>1||!i.children[ue])return BP(`${e.redirectTo}`);i=i.children[ue]}}applyRedirectCommands(e,t,r,i,o){if(typeof t!="string"){let a=t,{queryParams:l,fragment:c,routeConfig:u,url:d,outlet:p,params:f,data:h,title:v}=i,y=hn(o,()=>a({params:f,data:h,queryParams:l,fragment:c,routeConfig:u,url:d,outlet:p,title:v}));if(y instanceof yr)throw new Tl(y);t=y}let s=this.applyRedirectCreateUrlTree(t,this.urlSerializer.parse(t),e,r);if(t[0]==="/")throw new Tl(s);return s}applyRedirectCreateUrlTree(e,t,r,i){let o=this.createSegmentGroup(e,t.root,r,i);return new yr(o,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){let r={};return Object.entries(e).forEach(([i,o])=>{if(typeof o=="string"&&o[0]===":"){let a=o.substring(1);r[i]=t[a]}else r[i]=o}),r}createSegmentGroup(e,t,r,i){let o=this.createSegments(e,t.segments,r,i),s={};return Object.entries(t.children).forEach(([a,l])=>{s[a]=this.createSegmentGroup(e,l,r,i)}),new Me(o,s)}createSegments(e,t,r,i){return t.map(o=>o.path[0]===":"?this.findPosParam(e,o,i):this.findOrReturn(o,r))}findPosParam(e,t,r){let i=r[t.path.substring(1)];if(!i)throw new L(4001,!1);return i}findOrReturn(e,t){let r=0;for(let i of t){if(i.path===e.path)return t.splice(r),i;r++}return e}},Dv={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function $P(n,e,t,r,i){let o=VI(n,e,t);return o.matched?(r=dP(e,r),jP(r,e,t,i).pipe(Y(s=>s===!0?o:S({},Dv)))):z(o)}function VI(n,e,t){if(e.path==="**")return HP(t);if(e.path==="")return e.pathMatch==="full"&&(n.hasChildren()||t.length>0)?S({},Dv):{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};let i=(e.matcher||hI)(t,n,e);if(!i)return S({},Dv);let o={};Object.entries(i.posParams??{}).forEach(([a,l])=>{o[a]=l.path});let s=i.consumed.length>0?S(S({},o),i.consumed[i.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:i.consumed,remainingSegments:t.slice(i.consumed.length),parameters:s,positionalParamSegments:i.posParams??{}}}function HP(n){return{matched:!0,parameters:n.length>0?mI(n).parameters:{},consumedSegments:n,remainingSegments:[],positionalParamSegments:{}}}function uI(n,e,t,r){return t.length>0&&qP(n,t,r)?{segmentGroup:new Me(e,GP(r,new Me(t,n.children))),slicedSegments:[]}:t.length===0&&WP(n,t,r)?{segmentGroup:new Me(n.segments,zP(n,t,r,n.children)),slicedSegments:t}:{segmentGroup:new Me(n.segments,n.children),slicedSegments:t}}function zP(n,e,t,r){let i={};for(let o of t)if(cf(n,e,o)&&!r[Yn(o)]){let s=new Me([],{});i[Yn(o)]=s}return S(S({},r),i)}function GP(n,e){let t={};t[ue]=e;for(let r of n)if(r.path===""&&Yn(r)!==ue){let i=new Me([],{});t[Yn(r)]=i}return t}function qP(n,e,t){return t.some(r=>cf(n,e,r)&&Yn(r)!==ue)}function WP(n,e,t){return t.some(r=>cf(n,e,r))}function cf(n,e,t){return(n.hasChildren()||e.length>0)&&t.pathMatch==="full"?!1:t.path===""}function ZP(n,e,t){return e.length===0&&!n.children[t]}var Sv=class{};function JP(n,e,t,r,i,o,s="emptyOnly"){return new Tv(n,e,t,r,i,s,o).recognize()}var YP=31,Tv=class{injector;configLoader;rootComponentType;config;urlTree;paramsInheritanceStrategy;urlSerializer;applyRedirects;absoluteRedirectCount=0;allowRedirects=!0;constructor(e,t,r,i,o,s,a){this.injector=e,this.configLoader=t,this.rootComponentType=r,this.config=i,this.urlTree=o,this.paramsInheritanceStrategy=s,this.urlSerializer=a,this.applyRedirects=new Iv(this.urlSerializer,this.urlTree)}noMatchError(e){return new L(4002,`'${e.segmentGroup}'`)}recognize(){let e=uI(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(e).pipe(Y(({children:t,rootSnapshot:r})=>{let i=new gn(r,t),o=new Il("",i),s=II(r,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(s),{state:o,tree:s}}))}match(e){let t=new bo([],Object.freeze({}),Object.freeze(S({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),ue,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,e,ue,t).pipe(Y(r=>({children:r,rootSnapshot:t})),Ln(r=>{if(r instanceof Tl)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof Sl?this.noMatchError(r):r}))}processSegmentGroup(e,t,r,i,o){return r.segments.length===0&&r.hasChildren()?this.processChildren(e,t,r,o):this.processSegment(e,t,r,r.segments,i,!0,o).pipe(Y(s=>s instanceof gn?[s]:[]))}processChildren(e,t,r,i){let o=[];for(let s of Object.keys(r.children))s==="primary"?o.unshift(s):o.push(s);return He(o).pipe(Fr(s=>{let a=r.children[s],l=fP(t,s);return this.processSegmentGroup(e,l,a,s,i)}),Rp((s,a)=>(s.push(...a),s)),hi(null),Mp(),Ye(s=>{if(s===null)return Ns(r);let a=jI(s);return QP(a),z(a)}))}processSegment(e,t,r,i,o,s,a){return He(t).pipe(Fr(l=>this.processSegmentAgainstRoute(l._injector??e,t,l,r,i,o,s,a).pipe(Ln(c=>{if(c instanceof Sl)return z(null);throw c}))),Lr(l=>!!l),Ln(l=>{if(PI(l))return ZP(r,i,o)?z(new Sv):Ns(r);throw l}))}processSegmentAgainstRoute(e,t,r,i,o,s,a,l){return Yn(r)!==s&&(s===ue||!cf(i,o,r))?Ns(i):r.redirectTo===void 0?this.matchSegmentAgainstRoute(e,i,r,o,s,l):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(e,i,t,r,o,s,l):Ns(i)}expandSegmentAgainstRouteUsingRedirect(e,t,r,i,o,s,a){let{matched:l,parameters:c,consumedSegments:u,positionalParamSegments:d,remainingSegments:p}=VI(t,i,o);if(!l)return Ns(t);typeof i.redirectTo=="string"&&i.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>YP&&(this.allowRedirects=!1));let f=new bo(o,c,Object.freeze(S({},this.urlTree.queryParams)),this.urlTree.fragment,dI(i),Yn(i),i.component??i._loadedComponent??null,i,fI(i)),h=of(f,a,this.paramsInheritanceStrategy);f.params=Object.freeze(h.params),f.data=Object.freeze(h.data);let v=this.applyRedirects.applyRedirectCommands(u,i.redirectTo,d,f,e);return this.applyRedirects.lineralizeSegments(i,v).pipe(Ye(y=>this.processSegment(e,r,t,y.concat(p),s,!1,a)))}matchSegmentAgainstRoute(e,t,r,i,o,s){let a=$P(t,r,i,e,this.urlSerializer);return r.path==="**"&&(t.children={}),a.pipe(Oe(l=>l.matched?(e=r._injector??e,this.getChildConfig(e,r,i).pipe(Oe(({routes:c})=>{let u=r._loadedInjector??e,{parameters:d,consumedSegments:p,remainingSegments:f}=l,h=new bo(p,d,Object.freeze(S({},this.urlTree.queryParams)),this.urlTree.fragment,dI(r),Yn(r),r.component??r._loadedComponent??null,r,fI(r)),v=of(h,s,this.paramsInheritanceStrategy);h.params=Object.freeze(v.params),h.data=Object.freeze(v.data);let{segmentGroup:y,slicedSegments:x}=uI(t,p,f,c);if(x.length===0&&y.hasChildren())return this.processChildren(u,c,y,h).pipe(Y(B=>new gn(h,B)));if(c.length===0&&x.length===0)return z(new gn(h,[]));let U=Yn(r)===o;return this.processSegment(u,c,y,x,U?ue:o,!0,h).pipe(Y(B=>new gn(h,B instanceof gn?[B]:[])))}))):Ns(t)))}getChildConfig(e,t,r){return t.children?z({routes:t.children,injector:e}):t.loadChildren?t._loadedRoutes!==void 0?z({routes:t._loadedRoutes,injector:t._loadedInjector}):VP(e,t,r,this.urlSerializer).pipe(Ye(i=>i?this.configLoader.loadChildren(e,t).pipe(qe(o=>{t._loadedRoutes=o.routes,t._loadedInjector=o.injector})):UP(t))):z({routes:[],injector:e})}};function QP(n){n.sort((e,t)=>e.value.outlet===ue?-1:t.value.outlet===ue?1:e.value.outlet.localeCompare(t.value.outlet))}function KP(n){let e=n.value.routeConfig;return e&&e.path===""}function jI(n){let e=[],t=new Set;for(let r of n){if(!KP(r)){e.push(r);continue}let i=e.find(o=>r.value.routeConfig===o.value.routeConfig);i!==void 0?(i.children.push(...r.children),t.add(i)):e.push(r)}for(let r of t){let i=jI(r.children);e.push(new gn(r.value,i))}return e.filter(r=>!t.has(r))}function dI(n){return n.data||{}}function fI(n){return n.resolve||{}}function XP(n,e,t,r,i,o){return Ye(s=>JP(n,e,t,r,s.extractedUrl,i,o).pipe(Y(({state:a,tree:l})=>X(S({},s),{targetSnapshot:a,urlAfterRedirects:l}))))}function eL(n,e){return Ye(t=>{let{targetSnapshot:r,guards:{canActivateChecks:i}}=t;if(!i.length)return z(t);let o=new Set(i.map(l=>l.route)),s=new Set;for(let l of o)if(!s.has(l))for(let c of BI(l))s.add(c);let a=0;return He(s).pipe(Fr(l=>o.has(l)?tL(l,r,n,e):(l.data=of(l,l.parent,n).resolve,z(void 0))),qe(()=>a++),rs(1),Ye(l=>a===s.size?z(t):Kt))})}function BI(n){let e=n.children.map(t=>BI(t)).flat();return[n,...e]}function tL(n,e,t,r){let i=n.routeConfig,o=n._resolve;return i?.title!==void 0&&!RI(i)&&(o[xl]=i.title),nL(o,n,e,r).pipe(Y(s=>(n._resolvedData=s,n.data=of(n,n.parent,t).resolve,null)))}function nL(n,e,t,r){let i=mv(n);if(i.length===0)return z({});let o={};return He(i).pipe(Ye(s=>rL(n[s],e,t,r).pipe(Lr(),qe(a=>{if(a instanceof Bs)throw sf(new Co,a);o[s]=a}))),rs(1),Y(()=>o),Ln(s=>PI(s)?Kt:di(s)))}function rL(n,e,t,r){let i=Al(e)??r,o=Hs(n,i),s=o.resolve?o.resolve(e,t):hn(i,()=>o(e,t));return Si(s)}function hv(n){return Oe(e=>{let t=n(e);return t?He(t).pipe(Y(()=>e)):z(e)})}var Ov=(()=>{class n{buildTitle(t){let r,i=t.root;for(;i!==void 0;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(o=>o.outlet===ue);return r}getResolvedTitleForRoute(t){return t.data[xl]}static \u0275fac=function(r){return new(r||n)};static \u0275prov=O({token:n,factory:()=>E(UI),providedIn:"root"})}return n})(),UI=(()=>{class n extends Ov{title;constructor(t){super(),this.title=t}updateTitle(t){let r=this.buildTitle(t);r!==void 0&&this.title.setTitle(r)}static \u0275fac=function(r){return new(r||n)(N(oI))};static \u0275prov=O({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Nl=new j("",{providedIn:"root",factory:()=>({})}),Fl=new j(""),$I=(()=>{class n{componentLoaders=new WeakMap;childrenLoaders=new WeakMap;onLoadStartListener;onLoadEndListener;compiler=E(bE);loadComponent(t){if(this.componentLoaders.get(t))return this.componentLoaders.get(t);if(t._loadedComponent)return z(t._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(t);let r=Si(t.loadComponent()).pipe(Y(zI),qe(o=>{this.onLoadEndListener&&this.onLoadEndListener(t),t._loadedComponent=o}),Pr(()=>{this.componentLoaders.delete(t)})),i=new ai(r,()=>new re).pipe(Xo());return this.componentLoaders.set(t,i),i}loadChildren(t,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return z({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);let o=HI(r,this.compiler,t,this.onLoadEndListener).pipe(Pr(()=>{this.childrenLoaders.delete(r)})),s=new ai(o,()=>new re).pipe(Xo());return this.childrenLoaders.set(r,s),s}static \u0275fac=function(r){return new(r||n)};static \u0275prov=O({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function HI(n,e,t,r){return Si(n.loadChildren()).pipe(Y(zI),Ye(i=>i instanceof jg||Array.isArray(i)?z(i):He(e.compileModuleAsync(i))),Y(i=>{r&&r(n);let o,s,a=!1;return Array.isArray(i)?(s=i,a=!0):(o=i.create(t).injector,s=o.get(Fl,[],{optional:!0,self:!0}).flat()),{routes:s.map(Rv),injector:o}}))}function iL(n){return n&&typeof n=="object"&&"default"in n}function zI(n){return iL(n)?n.default:n}var uf=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275prov=O({token:n,factory:()=>E(oL),providedIn:"root"})}return n})(),oL=(()=>{class n{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,r){return t}static \u0275fac=function(r){return new(r||n)};static \u0275prov=O({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),GI=new j("");var qI=new j(""),WI=(()=>{class n{currentNavigation=null;currentTransition=null;lastSuccessfulNavigation=null;events=new re;transitionAbortSubject=new re;configLoader=E($I);environmentInjector=E(qt);destroyRef=E(Cs);urlSerializer=E(Ml);rootContexts=E($s);location=E(Ms);inputBindingEnabled=E(Ol,{optional:!0})!==null;titleStrategy=E(Ov);options=E(Nl,{optional:!0})||{};paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly";urlHandlingStrategy=E(uf);createViewTransition=E(GI,{optional:!0});navigationErrorHandler=E(qI,{optional:!0});navigationId=0;get hasRequestedNavigation(){return this.navigationId!==0}transitions;afterPreactivation=()=>z(void 0);rootComponentType=null;destroyed=!1;constructor(){let t=i=>this.events.next(new Yd(i)),r=i=>this.events.next(new Qd(i));this.configLoader.onLoadEndListener=r,this.configLoader.onLoadStartListener=t,this.destroyRef.onDestroy(()=>{this.destroyed=!0})}complete(){this.transitions?.complete()}handleNavigationRequest(t){let r=++this.navigationId;this.transitions?.next(X(S({},t),{extractedUrl:this.urlHandlingStrategy.extract(t.rawUrl),targetSnapshot:null,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null,id:r}))}setupNavigations(t){return this.transitions=new _e(null),this.transitions.pipe(et(r=>r!==null),Oe(r=>{let i=!1,o=!1;return z(r).pipe(Oe(s=>{if(this.navigationId>r.id)return this.cancelNavigationTransition(r,"",ln.SupersededByNewNavigation),Kt;this.currentTransition=r,this.currentNavigation={id:s.id,initialUrl:s.rawUrl,extractedUrl:s.extractedUrl,targetBrowserUrl:typeof s.extras.browserUrl=="string"?this.urlSerializer.parse(s.extras.browserUrl):s.extras.browserUrl,trigger:s.source,extras:s.extras,previousNavigation:this.lastSuccessfulNavigation?X(S({},this.lastSuccessfulNavigation),{previousNavigation:null}):null};let a=!t.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),l=s.extras.onSameUrlNavigation??t.onSameUrlNavigation;if(!a&&l!=="reload"){let c="";return this.events.next(new Kr(s.id,this.urlSerializer.serialize(s.rawUrl),c,bl.IgnoredSameUrlNavigation)),s.resolve(!1),Kt}if(this.urlHandlingStrategy.shouldProcessUrl(s.rawUrl))return z(s).pipe(Oe(c=>(this.events.next(new Eo(c.id,this.urlSerializer.serialize(c.extractedUrl),c.source,c.restoredState)),c.id!==this.navigationId?Kt:Promise.resolve(c))),XP(this.environmentInjector,this.configLoader,this.rootComponentType,t.config,this.urlSerializer,this.paramsInheritanceStrategy),qe(c=>{r.targetSnapshot=c.targetSnapshot,r.urlAfterRedirects=c.urlAfterRedirects,this.currentNavigation=X(S({},this.currentNavigation),{finalUrl:c.urlAfterRedirects});let u=new wl(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(u)}));if(a&&this.urlHandlingStrategy.shouldProcessUrl(s.currentRawUrl)){let{id:c,extractedUrl:u,source:d,restoredState:p,extras:f}=s,h=new Eo(c,this.urlSerializer.serialize(u),d,p);this.events.next(h);let v=MI(this.rootComponentType).snapshot;return this.currentTransition=r=X(S({},s),{targetSnapshot:v,urlAfterRedirects:u,extras:X(S({},f),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=u,z(r)}else{let c="";return this.events.next(new Kr(s.id,this.urlSerializer.serialize(s.extractedUrl),c,bl.IgnoredByUrlHandlingStrategy)),s.resolve(!1),Kt}}),qe(s=>{let a=new qd(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects),s.targetSnapshot);this.events.next(a)}),Y(s=>(this.currentTransition=r=X(S({},s),{guards:_P(s.targetSnapshot,s.currentSnapshot,this.rootContexts)}),r)),AP(this.environmentInjector,s=>this.events.next(s)),qe(s=>{if(r.guardsResult=s.guardsResult,s.guardsResult&&typeof s.guardsResult!="boolean")throw sf(this.urlSerializer,s.guardsResult);let a=new Wd(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects),s.targetSnapshot,!!s.guardsResult);this.events.next(a)}),et(s=>s.guardsResult?!0:(this.cancelNavigationTransition(s,"",ln.GuardRejected),!1)),hv(s=>{if(s.guards.canActivateChecks.length!==0)return z(s).pipe(qe(a=>{let l=new Zd(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot);this.events.next(l)}),Oe(a=>{let l=!1;return z(a).pipe(eL(this.paramsInheritanceStrategy,this.environmentInjector),qe({next:()=>l=!0,complete:()=>{l||this.cancelNavigationTransition(a,"",ln.NoDataFromResolver)}}))}),qe(a=>{let l=new Jd(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot);this.events.next(l)}))}),hv(s=>{let a=l=>{let c=[];l.routeConfig?.loadComponent&&!l.routeConfig._loadedComponent&&c.push(this.configLoader.loadComponent(l.routeConfig).pipe(qe(u=>{l.component=u}),Y(()=>{})));for(let u of l.children)c.push(...a(u));return c};return Ki(a(s.targetSnapshot.root)).pipe(hi(null),mt(1))}),hv(()=>this.afterPreactivation()),Oe(()=>{let{currentSnapshot:s,targetSnapshot:a}=r,l=this.createViewTransition?.(this.environmentInjector,s.root,a.root);return l?He(l).pipe(Y(()=>r)):z(r)}),Y(s=>{let a=pP(t.routeReuseStrategy,s.targetSnapshot,s.currentRouterState);return this.currentTransition=r=X(S({},s),{targetRouterState:a}),this.currentNavigation.targetRouterState=a,r}),qe(()=>{this.events.next(new Cl)}),yP(this.rootContexts,t.routeReuseStrategy,s=>this.events.next(s),this.inputBindingEnabled),mt(1),qe({next:s=>{i=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new yn(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects))),this.titleStrategy?.updateTitle(s.targetRouterState.snapshot),s.resolve(!0)},complete:()=>{i=!0}}),Vr(this.transitionAbortSubject.pipe(qe(s=>{throw s}))),Pr(()=>{!i&&!o&&this.cancelNavigationTransition(r,"",ln.SupersededByNewNavigation),this.currentTransition?.id===r.id&&(this.currentNavigation=null,this.currentTransition=null)}),Ln(s=>{if(this.destroyed)return r.resolve(!1),Kt;if(o=!0,FI(s))this.events.next(new vr(r.id,this.urlSerializer.serialize(r.extractedUrl),s.message,s.cancellationCode)),vP(s)?this.events.next(new js(s.url,s.navigationBehaviorOptions)):r.resolve(!1);else{let a=new Vs(r.id,this.urlSerializer.serialize(r.extractedUrl),s,r.targetSnapshot??void 0);try{let l=hn(this.environmentInjector,()=>this.navigationErrorHandler?.(a));if(l instanceof Bs){let{message:c,cancellationCode:u}=sf(this.urlSerializer,l);this.events.next(new vr(r.id,this.urlSerializer.serialize(r.extractedUrl),c,u)),this.events.next(new js(l.redirectTo,l.navigationBehaviorOptions))}else throw this.events.next(a),s}catch(l){this.options.resolveNavigationPromiseOnError?r.resolve(!1):r.reject(l)}}return Kt}))}))}cancelNavigationTransition(t,r,i){let o=new vr(t.id,this.urlSerializer.serialize(t.extractedUrl),r,i);this.events.next(o),t.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){let t=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),r=this.currentNavigation?.targetBrowserUrl??this.currentNavigation?.extractedUrl;return t.toString()!==r?.toString()&&!this.currentNavigation?.extras.skipLocationChange}static \u0275fac=function(r){return new(r||n)};static \u0275prov=O({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function sL(n){return n!==Hd}var ZI=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275prov=O({token:n,factory:()=>E(aL),providedIn:"root"})}return n})(),lf=class{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}},aL=(()=>{class n extends lf{static \u0275fac=(()=>{let t;return function(i){return(t||(t=zn(n)))(i||n)}})();static \u0275prov=O({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),JI=(()=>{class n{urlSerializer=E(Ml);options=E(Nl,{optional:!0})||{};canceledNavigationResolution=this.options.canceledNavigationResolution||"replace";location=E(Ms);urlHandlingStrategy=E(uf);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";currentUrlTree=new yr;getCurrentUrlTree(){return this.currentUrlTree}rawUrlTree=this.currentUrlTree;getRawUrlTree(){return this.rawUrlTree}createBrowserPath({finalUrl:t,initialUrl:r,targetBrowserUrl:i}){let o=t!==void 0?this.urlHandlingStrategy.merge(t,r):r,s=i??o;return s instanceof yr?this.urlSerializer.serialize(s):s}commitTransition({targetRouterState:t,finalUrl:r,initialUrl:i}){r&&t?(this.currentUrlTree=r,this.rawUrlTree=this.urlHandlingStrategy.merge(r,i),this.routerState=t):this.rawUrlTree=i}routerState=MI(null);getRouterState(){return this.routerState}stateMemento=this.createStateMemento();updateStateMemento(){this.stateMemento=this.createStateMemento()}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}resetInternalState({finalUrl:t}){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t??this.rawUrlTree)}static \u0275fac=function(r){return new(r||n)};static \u0275prov=O({token:n,factory:()=>E(lL),providedIn:"root"})}return n})(),lL=(()=>{class n extends JI{currentPageId=0;lastSuccessfulId=-1;restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}registerNonRouterCurrentEntryChangeListener(t){return this.location.subscribe(r=>{r.type==="popstate"&&setTimeout(()=>{t(r.url,r.state,"popstate")})})}handleRouterEvent(t,r){t instanceof Eo?this.updateStateMemento():t instanceof Kr?this.commitTransition(r):t instanceof wl?this.urlUpdateStrategy==="eager"&&(r.extras.skipLocationChange||this.setBrowserUrl(this.createBrowserPath(r),r)):t instanceof Cl?(this.commitTransition(r),this.urlUpdateStrategy==="deferred"&&!r.extras.skipLocationChange&&this.setBrowserUrl(this.createBrowserPath(r),r)):t instanceof vr&&(t.code===ln.GuardRejected||t.code===ln.NoDataFromResolver)?this.restoreHistory(r):t instanceof Vs?this.restoreHistory(r,!0):t instanceof yn&&(this.lastSuccessfulId=t.id,this.currentPageId=this.browserPageId)}setBrowserUrl(t,{extras:r,id:i}){let{replaceUrl:o,state:s}=r;if(this.location.isCurrentPathEqualTo(t)||o){let a=this.browserPageId,l=S(S({},s),this.generateNgRouterState(i,a));this.location.replaceState(t,"",l)}else{let a=S(S({},s),this.generateNgRouterState(i,this.browserPageId+1));this.location.go(t,"",a)}}restoreHistory(t,r=!1){if(this.canceledNavigationResolution==="computed"){let i=this.browserPageId,o=this.currentPageId-i;o!==0?this.location.historyGo(o):this.getCurrentUrlTree()===t.finalUrl&&o===0&&(this.resetInternalState(t),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(r&&this.resetInternalState(t),this.resetUrlToCurrentUrlTree())}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.getRawUrlTree()),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(t,r){return this.canceledNavigationResolution==="computed"?{navigationId:t,\u0275routerPageId:r}:{navigationId:t}}static \u0275fac=(()=>{let t;return function(i){return(t||(t=zn(n)))(i||n)}})();static \u0275prov=O({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function kv(n,e){n.events.pipe(et(t=>t instanceof yn||t instanceof vr||t instanceof Vs||t instanceof Kr),Y(t=>t instanceof yn||t instanceof Kr?0:(t instanceof vr?t.code===ln.Redirect||t.code===ln.SupersededByNewNavigation:!1)?2:1),et(t=>t!==2),mt(1)).subscribe(()=>{e()})}var cL={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},uL={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},Be=(()=>{class n{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}disposed=!1;nonRouterCurrentEntryChangeSubscription;console=E(Bg);stateManager=E(JI);options=E(Nl,{optional:!0})||{};pendingTasks=E(yi);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";navigationTransitions=E(WI);urlSerializer=E(Ml);location=E(Ms);urlHandlingStrategy=E(uf);_events=new re;get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}navigated=!1;routeReuseStrategy=E(ZI);onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore";config=E(Fl,{optional:!0})?.flat()??[];componentInputBindingEnabled=!!E(Ol,{optional:!0});constructor(){this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this).subscribe({error:t=>{this.console.warn(t)}}),this.subscribeToNavigationEvents()}eventsSubscription=new Le;subscribeToNavigationEvents(){let t=this.navigationTransitions.events.subscribe(r=>{try{let i=this.navigationTransitions.currentTransition,o=this.navigationTransitions.currentNavigation;if(i!==null&&o!==null){if(this.stateManager.handleRouterEvent(r,o),r instanceof vr&&r.code!==ln.Redirect&&r.code!==ln.SupersededByNewNavigation)this.navigated=!0;else if(r instanceof yn)this.navigated=!0;else if(r instanceof js){let s=r.navigationBehaviorOptions,a=this.urlHandlingStrategy.merge(r.url,i.currentRawUrl),l=S({browserUrl:i.extras.browserUrl,info:i.extras.info,skipLocationChange:i.extras.skipLocationChange,replaceUrl:i.extras.replaceUrl||this.urlUpdateStrategy==="eager"||sL(i.source)},s);this.scheduleNavigation(a,Hd,null,l,{resolve:i.resolve,reject:i.reject,promise:i.promise})}}fL(r)&&this._events.next(r)}catch(i){this.navigationTransitions.transitionAbortSubject.next(i)}});this.eventsSubscription.add(t)}resetRootComponentType(t){this.routerState.root.component=t,this.navigationTransitions.rootComponentType=t}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),Hd,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((t,r,i)=>{this.navigateToSyncWithBrowser(t,i,r)})}navigateToSyncWithBrowser(t,r,i){let o={replaceUrl:!0},s=i?.navigationId?i:null;if(i){let l=S({},i);delete l.navigationId,delete l.\u0275routerPageId,Object.keys(l).length!==0&&(o.state=l)}let a=this.parseUrl(t);this.scheduleNavigation(a,r,s,o)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(t){this.config=t.map(Rv),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this._events.unsubscribe(),this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(t,r={}){let{relativeTo:i,queryParams:o,fragment:s,queryParamsHandling:a,preserveFragment:l}=r,c=l?this.currentUrlTree.fragment:s,u=null;switch(a??this.options.defaultQueryParamsHandling){case"merge":u=S(S({},this.currentUrlTree.queryParams),o);break;case"preserve":u=this.currentUrlTree.queryParams;break;default:u=o||null}u!==null&&(u=this.removeEmptyProps(u));let d;try{let p=i?i.snapshot:this.routerState.snapshot.root;d=DI(p)}catch{(typeof t[0]!="string"||t[0][0]!=="/")&&(t=[]),d=this.currentUrlTree.root}return SI(d,t,u,c??null)}navigateByUrl(t,r={skipLocationChange:!1}){let i=Di(t)?t:this.parseUrl(t),o=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(o,Hd,null,r)}navigate(t,r={skipLocationChange:!1}){return dL(t),this.navigateByUrl(this.createUrlTree(t,r),r)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){try{return this.urlSerializer.parse(t)}catch{return this.urlSerializer.parse("/")}}isActive(t,r){let i;if(r===!0?i=S({},cL):r===!1?i=S({},uL):i=r,Di(t))return sI(this.currentUrlTree,t,i);let o=this.parseUrl(t);return sI(this.currentUrlTree,o,i)}removeEmptyProps(t){return Object.entries(t).reduce((r,[i,o])=>(o!=null&&(r[i]=o),r),{})}scheduleNavigation(t,r,i,o,s){if(this.disposed)return Promise.resolve(!1);let a,l,c;s?(a=s.resolve,l=s.reject,c=s.promise):c=new Promise((d,p)=>{a=d,l=p});let u=this.pendingTasks.add();return kv(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(u))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:t,extras:o,resolve:a,reject:l,promise:c,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),c.catch(d=>Promise.reject(d))}static \u0275fac=function(r){return new(r||n)};static \u0275prov=O({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function dL(n){for(let e=0;e<n.length;e++)if(n[e]==null)throw new L(4008,!1)}function fL(n){return!(n instanceof Cl)&&!(n instanceof js)}var _r=(()=>{class n{router;route;tabIndexAttribute;renderer;el;locationStrategy;href=null;target;queryParams;fragment;queryParamsHandling;state;info;relativeTo;isAnchorElement;subscription;onChanges=new re;constructor(t,r,i,o,s,a){this.router=t,this.route=r,this.tabIndexAttribute=i,this.renderer=o,this.el=s,this.locationStrategy=a;let l=s.nativeElement.tagName?.toLowerCase();this.isAnchorElement=l==="a"||l==="area",this.isAnchorElement?this.subscription=t.events.subscribe(c=>{c instanceof yn&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}preserveFragment=!1;skipLocationChange=!1;replaceUrl=!1;setTabIndexIfNotOnNativeEl(t){this.tabIndexAttribute!=null||this.isAnchorElement||this.applyAttributeValue("tabindex",t)}ngOnChanges(t){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}routerLinkInput=null;set routerLink(t){t==null?(this.routerLinkInput=null,this.setTabIndexIfNotOnNativeEl(null)):(Di(t)?this.routerLinkInput=t:this.routerLinkInput=Array.isArray(t)?t:[t],this.setTabIndexIfNotOnNativeEl("0"))}onClick(t,r,i,o,s){let a=this.urlTree;if(a===null||this.isAnchorElement&&(t!==0||r||i||o||s||typeof this.target=="string"&&this.target!="_self"))return!0;let l={skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info};return this.router.navigateByUrl(a,l),!this.isAnchorElement}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){let t=this.urlTree;this.href=t!==null&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(t)):null;let r=this.href===null?null:oC(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",r)}applyAttributeValue(t,r){let i=this.renderer,o=this.el.nativeElement;r!==null?i.setAttribute(o,t,r):i.removeAttribute(o,t)}get urlTree(){return this.routerLinkInput===null?null:Di(this.routerLinkInput)?this.routerLinkInput:this.router.createUrlTree(this.routerLinkInput,{relativeTo:this.relativeTo!==void 0?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static \u0275fac=function(r){return new(r||n)(I(Be),I(yt),dd("tabindex"),I(pn),I(tt),I(xs))};static \u0275dir=he({type:n,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(r,i){r&1&&A("click",function(s){return i.onClick(s.button,s.ctrlKey,s.shiftKey,s.altKey,s.metaKey)}),r&2&&Jr("target",i.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[2,"preserveFragment","preserveFragment",mn],skipLocationChange:[2,"skipLocationChange","skipLocationChange",mn],replaceUrl:[2,"replaceUrl","replaceUrl",mn],routerLink:"routerLink"},features:[it]})}return n})(),Pl=(()=>{class n{router;element;renderer;cdr;link;links;classes=[];routerEventsSubscription;linkInputChangesSubscription;_isActive=!1;get isActive(){return this._isActive}routerLinkActiveOptions={exact:!1};ariaCurrentWhenActive;isActiveChange=new xe;constructor(t,r,i,o,s){this.router=t,this.element=r,this.renderer=i,this.cdr=o,this.link=s,this.routerEventsSubscription=t.events.subscribe(a=>{a instanceof yn&&this.update()})}ngAfterContentInit(){z(this.links.changes,z(null)).pipe(ns()).subscribe(t=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){this.linkInputChangesSubscription?.unsubscribe();let t=[...this.links.toArray(),this.link].filter(r=>!!r).map(r=>r.onChanges);this.linkInputChangesSubscription=He(t).pipe(ns()).subscribe(r=>{this._isActive!==this.isLinkActive(this.router)(r)&&this.update()})}set routerLinkActive(t){let r=Array.isArray(t)?t:t.split(" ");this.classes=r.filter(i=>!!i)}ngOnChanges(t){this.update()}ngOnDestroy(){this.routerEventsSubscription.unsubscribe(),this.linkInputChangesSubscription?.unsubscribe()}update(){!this.links||!this.router.navigated||queueMicrotask(()=>{let t=this.hasActiveLinks();this.classes.forEach(r=>{t?this.renderer.addClass(this.element.nativeElement,r):this.renderer.removeClass(this.element.nativeElement,r)}),t&&this.ariaCurrentWhenActive!==void 0?this.renderer.setAttribute(this.element.nativeElement,"aria-current",this.ariaCurrentWhenActive.toString()):this.renderer.removeAttribute(this.element.nativeElement,"aria-current"),this._isActive!==t&&(this._isActive=t,this.cdr.markForCheck(),this.isActiveChange.emit(t))})}isLinkActive(t){let r=pL(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return i=>{let o=i.urlTree;return o?t.isActive(o,r):!1}}hasActiveLinks(){let t=this.isLinkActive(this.router);return this.link&&t(this.link)||this.links.some(t)}static \u0275fac=function(r){return new(r||n)(I(Be),I(tt),I(pn),I(Pt),I(_r,8))};static \u0275dir=he({type:n,selectors:[["","routerLinkActive",""]],contentQueries:function(r,i,o){if(r&1&&pE(o,_r,5),r&2){let s;we(s=Ce())&&(i.links=s)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",ariaCurrentWhenActive:"ariaCurrentWhenActive",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],features:[it]})}return n})();function pL(n){return!!n.paths}var mL=new j("");function Nv(n,...e){return zr([{provide:Fl,multi:!0,useValue:n},[],{provide:yt,useFactory:gL,deps:[Be]},{provide:Hg,multi:!0,useFactory:yL},e.map(t=>t.\u0275providers)])}function gL(n){return n.routerState.root}function vL(n,e){return{\u0275kind:n,\u0275providers:e}}function yL(){let n=E(wt);return e=>{let t=n.get($n);if(e!==t.components[0])return;let r=n.get(Be),i=n.get(_L);n.get(bL)===1&&r.initialNavigation(),n.get(wL,null,de.Optional)?.setUpPreloading(),n.get(mL,null,de.Optional)?.init(),r.resetRootComponentType(t.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}var _L=new j("",{factory:()=>new re}),bL=new j("",{providedIn:"root",factory:()=>1});var wL=new j("");function Fv(){return vL(8,[Mv,{provide:Ol,useExisting:Mv}])}var Pv;try{Pv=typeof Intl<"u"&&Intl.v8BreakIterator}catch{Pv=!1}var Ti=(()=>{class n{_platformId=E(ho);isBrowser=this._platformId?Kg(this._platformId):typeof document=="object"&&!!document;EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent);TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent);BLINK=this.isBrowser&&!!(window.chrome||Pv)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT;WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT;IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window);FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent);ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT;SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT;constructor(){}static \u0275fac=function(r){return new(r||n)};static \u0275prov=O({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var Kn=function(n){return n[n.NORMAL=0]="NORMAL",n[n.NEGATED=1]="NEGATED",n[n.INVERTED=2]="INVERTED",n}(Kn||{}),df,Io;function YI(){if(Io==null){if(typeof document!="object"||!document||typeof Element!="function"||!Element)return Io=!1,Io;if("scrollBehavior"in document.documentElement.style)Io=!0;else{let n=Element.prototype.scrollTo;n?Io=!/\{\s*\[native code\]\s*\}/.test(n.toString()):Io=!1}}return Io}function zs(){if(typeof document!="object"||!document)return Kn.NORMAL;if(df==null){let n=document.createElement("div"),e=n.style;n.dir="rtl",e.width="1px",e.overflow="auto",e.visibility="hidden",e.pointerEvents="none",e.position="absolute";let t=document.createElement("div"),r=t.style;r.width="2px",r.height="1px",n.appendChild(t),document.body.appendChild(n),df=Kn.NORMAL,n.scrollLeft===0&&(n.scrollLeft=1,df=n.scrollLeft===0?Kn.NEGATED:Kn.INVERTED),n.remove()}return df}function Ll(n,e=0){return CL(n)?Number(n):arguments.length===2?e:0}function CL(n){return!isNaN(parseFloat(n))&&!isNaN(Number(n))}function Lv(n){return Array.isArray(n)?n:[n]}function QI(n){return n instanceof tt?n.nativeElement:n}var KI=new Set,Do,EL=(()=>{class n{_platform=E(Ti);_nonce=E(Qa,{optional:!0});_matchMedia;constructor(){this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):DL}matchMedia(t){return(this._platform.WEBKIT||this._platform.BLINK)&&IL(t,this._nonce),this._matchMedia(t)}static \u0275fac=function(r){return new(r||n)};static \u0275prov=O({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function IL(n,e){if(!KI.has(n))try{Do||(Do=document.createElement("style"),e&&Do.setAttribute("nonce",e),Do.setAttribute("type","text/css"),document.head.appendChild(Do)),Do.sheet&&(Do.sheet.insertRule(`@media ${n} {body{ }}`,0),KI.add(n))}catch(t){console.error(t)}}function DL(n){return{matches:n==="all"||n==="",media:n,addListener:()=>{},removeListener:()=>{}}}var eD=(()=>{class n{_mediaMatcher=E(EL);_zone=E(be);_queries=new Map;_destroySubject=new re;constructor(){}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(t){return XI(Lv(t)).some(i=>this._registerQuery(i).mql.matches)}observe(t){let i=XI(Lv(t)).map(s=>this._registerQuery(s).observable),o=Ki(i);return o=fi(o.pipe(mt(1)),o.pipe(Np(1),lr(0))),o.pipe(Y(s=>{let a={matches:!1,breakpoints:{}};return s.forEach(({matches:l,query:c})=>{a.matches=a.matches||l,a.breakpoints[c]=l}),a}))}_registerQuery(t){if(this._queries.has(t))return this._queries.get(t);let r=this._mediaMatcher.matchMedia(t),o={observable:new Z(s=>{let a=l=>this._zone.run(()=>s.next(l));return r.addListener(a),()=>{r.removeListener(a)}}).pipe(pi(r),Y(({matches:s})=>({query:t,matches:s})),Vr(this._destroySubject)),mql:r};return this._queries.set(t,o),o}static \u0275fac=function(r){return new(r||n)};static \u0275prov=O({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function XI(n){return n.map(e=>e.split(",")).reduce((e,t)=>e.concat(t)).map(e=>e.trim())}var So=function(n){return n[n.NONE=0]="NONE",n[n.BLACK_ON_WHITE=1]="BLACK_ON_WHITE",n[n.WHITE_ON_BLACK=2]="WHITE_ON_BLACK",n}(So||{}),tD="cdk-high-contrast-black-on-white",nD="cdk-high-contrast-white-on-black",Vv="cdk-high-contrast-active",rD=(()=>{class n{_platform=E(Ti);_hasCheckedHighContrastMode;_document=E(je);_breakpointSubscription;constructor(){this._breakpointSubscription=E(eD).observe("(forced-colors: active)").subscribe(()=>{this._hasCheckedHighContrastMode&&(this._hasCheckedHighContrastMode=!1,this._applyBodyHighContrastModeCssClasses())})}getHighContrastMode(){if(!this._platform.isBrowser)return So.NONE;let t=this._document.createElement("div");t.style.backgroundColor="rgb(1,2,3)",t.style.position="absolute",this._document.body.appendChild(t);let r=this._document.defaultView||window,i=r&&r.getComputedStyle?r.getComputedStyle(t):null,o=(i&&i.backgroundColor||"").replace(/ /g,"");switch(t.remove(),o){case"rgb(0,0,0)":case"rgb(45,50,54)":case"rgb(32,32,32)":return So.WHITE_ON_BLACK;case"rgb(255,255,255)":case"rgb(255,250,239)":return So.BLACK_ON_WHITE}return So.NONE}ngOnDestroy(){this._breakpointSubscription.unsubscribe()}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){let t=this._document.body.classList;t.remove(Vv,tD,nD),this._hasCheckedHighContrastMode=!0;let r=this.getHighContrastMode();r===So.BLACK_ON_WHITE?t.add(Vv,tD):r===So.WHITE_ON_BLACK&&t.add(Vv,nD)}}static \u0275fac=function(r){return new(r||n)};static \u0275prov=O({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var SL=new j("cdk-dir-doc",{providedIn:"root",factory:TL});function TL(){return E(je)}var xL=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;function ML(n){let e=n?.toLowerCase()||"";return e==="auto"&&typeof navigator<"u"&&navigator?.language?xL.test(navigator.language)?"rtl":"ltr":e==="rtl"?"rtl":"ltr"}var iD=(()=>{class n{value="ltr";change=new xe;constructor(){let t=E(SL,{optional:!0});if(t){let r=t.body?t.body.dir:null,i=t.documentElement?t.documentElement.dir:null;this.value=ML(r||i||"ltr")}}ngOnDestroy(){this.change.complete()}static \u0275fac=function(r){return new(r||n)};static \u0275prov=O({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var Gs=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275mod=Ke({type:n});static \u0275inj=Qe({})}return n})();var jv=(()=>{class n{constructor(){E(rD)._applyBodyHighContrastModeCssClasses()}static \u0275fac=function(r){return new(r||n)};static \u0275mod=Ke({type:n});static \u0275inj=Qe({imports:[Gs,Gs]})}return n})();var AL=["*"],ff;function RL(){if(ff===void 0&&(ff=null,typeof window<"u")){let n=window;n.trustedTypes!==void 0&&(ff=n.trustedTypes.createPolicy("angular#components",{createHTML:e=>e}))}return ff}function Vl(n){return RL()?.createHTML(n)||n}function oD(n){return Error(`Unable to find icon with the name "${n}"`)}function OL(){return Error("Could not find HttpClient for use with Angular Material icons. Please add provideHttpClient() to your providers.")}function sD(n){return Error(`The URL provided to MatIconRegistry was not trusted as a resource URL via Angular's DomSanitizer. Attempted URL was "${n}".`)}function aD(n){return Error(`The literal provided to MatIconRegistry was not trusted as safe HTML by Angular's DomSanitizer. Attempted literal was "${n}".`)}var Xr=class{url;svgText;options;svgElement;constructor(e,t,r){this.url=e,this.svgText=t,this.options=r}},kL=(()=>{class n{_httpClient;_sanitizer;_errorHandler;_document;_svgIconConfigs=new Map;_iconSetConfigs=new Map;_cachedIconsByUrl=new Map;_inProgressUrlFetches=new Map;_fontCssClassesByAlias=new Map;_resolvers=[];_defaultFontSetClass=["material-icons","mat-ligature-font"];constructor(t,r,i,o){this._httpClient=t,this._sanitizer=r,this._errorHandler=o,this._document=i}addSvgIcon(t,r,i){return this.addSvgIconInNamespace("",t,r,i)}addSvgIconLiteral(t,r,i){return this.addSvgIconLiteralInNamespace("",t,r,i)}addSvgIconInNamespace(t,r,i,o){return this._addSvgIconConfig(t,r,new Xr(i,null,o))}addSvgIconResolver(t){return this._resolvers.push(t),this}addSvgIconLiteralInNamespace(t,r,i,o){let s=this._sanitizer.sanitize(xt.HTML,i);if(!s)throw aD(i);let a=Vl(s);return this._addSvgIconConfig(t,r,new Xr("",a,o))}addSvgIconSet(t,r){return this.addSvgIconSetInNamespace("",t,r)}addSvgIconSetLiteral(t,r){return this.addSvgIconSetLiteralInNamespace("",t,r)}addSvgIconSetInNamespace(t,r,i){return this._addSvgIconSetConfig(t,new Xr(r,null,i))}addSvgIconSetLiteralInNamespace(t,r,i){let o=this._sanitizer.sanitize(xt.HTML,r);if(!o)throw aD(r);let s=Vl(o);return this._addSvgIconSetConfig(t,new Xr("",s,i))}registerFontClassAlias(t,r=t){return this._fontCssClassesByAlias.set(t,r),this}classNameForFontAlias(t){return this._fontCssClassesByAlias.get(t)||t}setDefaultFontSetClass(...t){return this._defaultFontSetClass=t,this}getDefaultFontSetClass(){return this._defaultFontSetClass}getSvgIconFromUrl(t){let r=this._sanitizer.sanitize(xt.RESOURCE_URL,t);if(!r)throw sD(t);let i=this._cachedIconsByUrl.get(r);return i?z(hf(i)):this._loadSvgIconFromConfig(new Xr(t,null)).pipe(qe(o=>this._cachedIconsByUrl.set(r,o)),Y(o=>hf(o)))}getNamedSvgIcon(t,r=""){let i=lD(r,t),o=this._svgIconConfigs.get(i);if(o)return this._getSvgFromConfig(o);if(o=this._getIconConfigFromResolvers(r,t),o)return this._svgIconConfigs.set(i,o),this._getSvgFromConfig(o);let s=this._iconSetConfigs.get(r);return s?this._getSvgFromIconSetConfigs(t,s):di(oD(i))}ngOnDestroy(){this._resolvers=[],this._svgIconConfigs.clear(),this._iconSetConfigs.clear(),this._cachedIconsByUrl.clear()}_getSvgFromConfig(t){return t.svgText?z(hf(this._svgElementFromConfig(t))):this._loadSvgIconFromConfig(t).pipe(Y(r=>hf(r)))}_getSvgFromIconSetConfigs(t,r){let i=this._extractIconWithNameFromAnySet(t,r);if(i)return z(i);let o=r.filter(s=>!s.svgText).map(s=>this._loadSvgIconSetFromConfig(s).pipe(Ln(a=>{let c=`Loading icon set URL: ${this._sanitizer.sanitize(xt.RESOURCE_URL,s.url)} failed: ${a.message}`;return this._errorHandler.handleError(new Error(c)),z(null)})));return Ra(o).pipe(Y(()=>{let s=this._extractIconWithNameFromAnySet(t,r);if(!s)throw oD(t);return s}))}_extractIconWithNameFromAnySet(t,r){for(let i=r.length-1;i>=0;i--){let o=r[i];if(o.svgText&&o.svgText.toString().indexOf(t)>-1){let s=this._svgElementFromConfig(o),a=this._extractSvgIconFromSet(s,t,o.options);if(a)return a}}return null}_loadSvgIconFromConfig(t){return this._fetchIcon(t).pipe(qe(r=>t.svgText=r),Y(()=>this._svgElementFromConfig(t)))}_loadSvgIconSetFromConfig(t){return t.svgText?z(null):this._fetchIcon(t).pipe(qe(r=>t.svgText=r))}_extractSvgIconFromSet(t,r,i){let o=t.querySelector(`[id="${r}"]`);if(!o)return null;let s=o.cloneNode(!0);if(s.removeAttribute("id"),s.nodeName.toLowerCase()==="svg")return this._setSvgAttributes(s,i);if(s.nodeName.toLowerCase()==="symbol")return this._setSvgAttributes(this._toSvgElement(s),i);let a=this._svgElementFromString(Vl("<svg></svg>"));return a.appendChild(s),this._setSvgAttributes(a,i)}_svgElementFromString(t){let r=this._document.createElement("DIV");r.innerHTML=t;let i=r.querySelector("svg");if(!i)throw Error("<svg> tag not found");return i}_toSvgElement(t){let r=this._svgElementFromString(Vl("<svg></svg>")),i=t.attributes;for(let o=0;o<i.length;o++){let{name:s,value:a}=i[o];s!=="id"&&r.setAttribute(s,a)}for(let o=0;o<t.childNodes.length;o++)t.childNodes[o].nodeType===this._document.ELEMENT_NODE&&r.appendChild(t.childNodes[o].cloneNode(!0));return r}_setSvgAttributes(t,r){return t.setAttribute("fit",""),t.setAttribute("height","100%"),t.setAttribute("width","100%"),t.setAttribute("preserveAspectRatio","xMidYMid meet"),t.setAttribute("focusable","false"),r&&r.viewBox&&t.setAttribute("viewBox",r.viewBox),t}_fetchIcon(t){let{url:r,options:i}=t,o=i?.withCredentials??!1;if(!this._httpClient)throw OL();if(r==null)throw Error(`Cannot fetch icon from URL "${r}".`);let s=this._sanitizer.sanitize(xt.RESOURCE_URL,r);if(!s)throw sD(r);let a=this._inProgressUrlFetches.get(s);if(a)return a;let l=this._httpClient.get(s,{responseType:"text",withCredentials:o}).pipe(Y(c=>Vl(c)),Pr(()=>this._inProgressUrlFetches.delete(s)),ka());return this._inProgressUrlFetches.set(s,l),l}_addSvgIconConfig(t,r,i){return this._svgIconConfigs.set(lD(t,r),i),this}_addSvgIconSetConfig(t,r){let i=this._iconSetConfigs.get(t);return i?i.push(r):this._iconSetConfigs.set(t,[r]),this}_svgElementFromConfig(t){if(!t.svgElement){let r=this._svgElementFromString(t.svgText);this._setSvgAttributes(r,t.options),t.svgElement=r}return t.svgElement}_getIconConfigFromResolvers(t,r){for(let i=0;i<this._resolvers.length;i++){let o=this._resolvers[i](r,t);if(o)return NL(o)?new Xr(o.url,null,o.options):new Xr(o,null)}}static \u0275fac=function(r){return new(r||n)(N(Ld,8),N(Jn),N(je,8),N(sn))};static \u0275prov=O({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function hf(n){return n.cloneNode(!0)}function lD(n,e){return n+":"+e}function NL(n){return!!(n.url&&n.options)}var FL=new j("MAT_ICON_DEFAULT_OPTIONS"),PL=new j("mat-icon-location",{providedIn:"root",factory:LL});function LL(){let n=E(je),e=n?n.location:null;return{getPathname:()=>e?e.pathname+e.search:""}}var cD=["clip-path","color-profile","src","cursor","fill","filter","marker","marker-start","marker-mid","marker-end","mask","stroke"],VL=cD.map(n=>`[${n}]`).join(", "),jL=/^url\(['"]?#(.*?)['"]?\)$/,dt=(()=>{class n{_elementRef=E(tt);_iconRegistry=E(kL);_location=E(PL);_errorHandler=E(sn);_defaultColor;get color(){return this._color||this._defaultColor}set color(t){this._color=t}_color;inline=!1;get svgIcon(){return this._svgIcon}set svgIcon(t){t!==this._svgIcon&&(t?this._updateSvgIcon(t):this._svgIcon&&this._clearSvgElement(),this._svgIcon=t)}_svgIcon;get fontSet(){return this._fontSet}set fontSet(t){let r=this._cleanupFontValue(t);r!==this._fontSet&&(this._fontSet=r,this._updateFontIconClasses())}_fontSet;get fontIcon(){return this._fontIcon}set fontIcon(t){let r=this._cleanupFontValue(t);r!==this._fontIcon&&(this._fontIcon=r,this._updateFontIconClasses())}_fontIcon;_previousFontSetClass=[];_previousFontIconClass;_svgName;_svgNamespace;_previousPath;_elementsWithExternalReferences;_currentIconFetch=Le.EMPTY;constructor(){let t=E(new Gu("aria-hidden"),{optional:!0}),r=E(FL,{optional:!0});r&&(r.color&&(this.color=this._defaultColor=r.color),r.fontSet&&(this.fontSet=r.fontSet)),t||this._elementRef.nativeElement.setAttribute("aria-hidden","true")}_splitIconName(t){if(!t)return["",""];let r=t.split(":");switch(r.length){case 1:return["",r[0]];case 2:return r;default:throw Error(`Invalid icon name: "${t}"`)}}ngOnInit(){this._updateFontIconClasses()}ngAfterViewChecked(){let t=this._elementsWithExternalReferences;if(t&&t.size){let r=this._location.getPathname();r!==this._previousPath&&(this._previousPath=r,this._prependPathToReferences(r))}}ngOnDestroy(){this._currentIconFetch.unsubscribe(),this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear()}_usingFontIcon(){return!this.svgIcon}_setSvgElement(t){this._clearSvgElement();let r=this._location.getPathname();this._previousPath=r,this._cacheChildrenWithExternalReferences(t),this._prependPathToReferences(r),this._elementRef.nativeElement.appendChild(t)}_clearSvgElement(){let t=this._elementRef.nativeElement,r=t.childNodes.length;for(this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear();r--;){let i=t.childNodes[r];(i.nodeType!==1||i.nodeName.toLowerCase()==="svg")&&i.remove()}}_updateFontIconClasses(){if(!this._usingFontIcon())return;let t=this._elementRef.nativeElement,r=(this.fontSet?this._iconRegistry.classNameForFontAlias(this.fontSet).split(/ +/):this._iconRegistry.getDefaultFontSetClass()).filter(i=>i.length>0);this._previousFontSetClass.forEach(i=>t.classList.remove(i)),r.forEach(i=>t.classList.add(i)),this._previousFontSetClass=r,this.fontIcon!==this._previousFontIconClass&&!r.includes("mat-ligature-font")&&(this._previousFontIconClass&&t.classList.remove(this._previousFontIconClass),this.fontIcon&&t.classList.add(this.fontIcon),this._previousFontIconClass=this.fontIcon)}_cleanupFontValue(t){return typeof t=="string"?t.trim().split(" ")[0]:t}_prependPathToReferences(t){let r=this._elementsWithExternalReferences;r&&r.forEach((i,o)=>{i.forEach(s=>{o.setAttribute(s.name,`url('${t}#${s.value}')`)})})}_cacheChildrenWithExternalReferences(t){let r=t.querySelectorAll(VL),i=this._elementsWithExternalReferences=this._elementsWithExternalReferences||new Map;for(let o=0;o<r.length;o++)cD.forEach(s=>{let a=r[o],l=a.getAttribute(s),c=l?l.match(jL):null;if(c){let u=i.get(a);u||(u=[],i.set(a,u)),u.push({name:s,value:c[1]})}})}_updateSvgIcon(t){if(this._svgNamespace=null,this._svgName=null,this._currentIconFetch.unsubscribe(),t){let[r,i]=this._splitIconName(t);r&&(this._svgNamespace=r),i&&(this._svgName=i),this._currentIconFetch=this._iconRegistry.getNamedSvgIcon(i,r).pipe(mt(1)).subscribe(o=>this._setSvgElement(o),o=>{let s=`Error retrieving icon ${r}:${i}! ${o.message}`;this._errorHandler.handleError(new Error(s))})}}static \u0275fac=function(r){return new(r||n)};static \u0275cmp=ce({type:n,selectors:[["mat-icon"]],hostAttrs:["role","img",1,"mat-icon","notranslate"],hostVars:10,hostBindings:function(r,i){r&2&&(Jr("data-mat-icon-type",i._usingFontIcon()?"font":"svg")("data-mat-icon-name",i._svgName||i.fontIcon)("data-mat-icon-namespace",i._svgNamespace||i.fontSet)("fontIcon",i._usingFontIcon()?i.fontIcon:null),Ss(i.color?"mat-"+i.color:""),Yr("mat-icon-inline",i.inline)("mat-icon-no-color",i.color!=="primary"&&i.color!=="accent"&&i.color!=="warn"))},inputs:{color:"color",inline:[2,"inline","inline",mn],svgIcon:"svgIcon",fontSet:"fontSet",fontIcon:"fontIcon"},exportAs:["matIcon"],ngContentSelectors:AL,decls:1,vars:0,template:function(r,i){r&1&&(po(),mo(0))},styles:["mat-icon,mat-icon.mat-primary,mat-icon.mat-accent,mat-icon.mat-warn{color:var(--mat-icon-color, inherit)}.mat-icon{-webkit-user-select:none;user-select:none;background-repeat:no-repeat;display:inline-block;fill:currentColor;height:24px;width:24px;overflow:hidden}.mat-icon.mat-icon-inline{font-size:inherit;height:inherit;line-height:inherit;width:inherit}.mat-icon.mat-ligature-font[fontIcon]::before{content:attr(fontIcon)}[dir=rtl] .mat-icon-rtl-mirror{transform:scale(-1, 1)}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon{display:block}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button .mat-icon{margin:auto}"],encapsulation:2,changeDetection:0})}return n})(),cn=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275mod=Ke({type:n});static \u0275inj=Qe({imports:[jv,jv]})}return n})();function Hv(){return{async:!1,breaks:!1,extensions:null,gfm:!0,hooks:null,pedantic:!1,renderer:null,silent:!1,tokenizer:null,walkTokens:null}}var Mo=Hv();function mD(n){Mo=n}var Ul={exec:()=>null};function Re(n,e=""){let t=typeof n=="string"?n:n.source,r={replace:(i,o)=>{let s=typeof o=="string"?o:o.source;return s=s.replace(Yt.caret,"$1"),t=t.replace(i,s),r},getRegex:()=>new RegExp(t,e)};return r}var Yt={codeRemoveIndent:/^(?: {1,4}| {0,3}\t)/gm,outputLinkReplace:/\\([\[\]])/g,indentCodeCompensation:/^(\s+)(?:```)/,beginningSpace:/^\s+/,endingHash:/#$/,startingSpaceChar:/^ /,endingSpaceChar:/ $/,nonSpaceChar:/[^ ]/,newLineCharGlobal:/\n/g,tabCharGlobal:/\t/g,multipleSpaceGlobal:/\s+/g,blankLine:/^[ \t]*$/,doubleBlankLine:/\n[ \t]*\n[ \t]*$/,blockquoteStart:/^ {0,3}>/,blockquoteSetextReplace:/\n {0,3}((?:=+|-+) *)(?=\n|$)/g,blockquoteSetextReplace2:/^ {0,3}>[ \t]?/gm,listReplaceTabs:/^\t+/,listReplaceNesting:/^ {1,4}(?=( {4})*[^ ])/g,listIsTask:/^\[[ xX]\] /,listReplaceTask:/^\[[ xX]\] +/,anyLine:/\n.*\n/,hrefBrackets:/^<(.*)>$/,tableDelimiter:/[:|]/,tableAlignChars:/^\||\| *$/g,tableRowBlankLine:/\n[ \t]*$/,tableAlignRight:/^ *-+: *$/,tableAlignCenter:/^ *:-+: *$/,tableAlignLeft:/^ *:-+ *$/,startATag:/^<a /i,endATag:/^<\/a>/i,startPreScriptTag:/^<(pre|code|kbd|script)(\s|>)/i,endPreScriptTag:/^<\/(pre|code|kbd|script)(\s|>)/i,startAngleBracket:/^</,endAngleBracket:/>$/,pedanticHrefTitle:/^([^'"]*[^\s])\s+(['"])(.*)\2/,unicodeAlphaNumeric:/[\p{L}\p{N}]/u,escapeTest:/[&<>"']/,escapeReplace:/[&<>"']/g,escapeTestNoEncode:/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/,escapeReplaceNoEncode:/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/g,unescapeTest:/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/ig,caret:/(^|[^\[])\^/g,percentDecode:/%25/g,findPipe:/\|/g,splitPipe:/ \|/,slashPipe:/\\\|/g,carriageReturn:/\r\n|\r/g,spaceLine:/^ +$/gm,notSpaceStart:/^\S*/,endingNewline:/\n$/,listItemRegex:n=>new RegExp(`^( {0,3}${n})((?:[	 ][^\\n]*)?(?:\\n|$))`),nextBulletRegex:n=>new RegExp(`^ {0,${Math.min(3,n-1)}}(?:[*+-]|\\d{1,9}[.)])((?:[ 	][^\\n]*)?(?:\\n|$))`),hrRegex:n=>new RegExp(`^ {0,${Math.min(3,n-1)}}((?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$)`),fencesBeginRegex:n=>new RegExp(`^ {0,${Math.min(3,n-1)}}(?:\`\`\`|~~~)`),headingBeginRegex:n=>new RegExp(`^ {0,${Math.min(3,n-1)}}#`),htmlBeginRegex:n=>new RegExp(`^ {0,${Math.min(3,n-1)}}<(?:[a-z].*>|!--)`,"i")},BL=/^(?:[ \t]*(?:\n|$))+/,UL=/^((?: {4}| {0,3}\t)[^\n]+(?:\n(?:[ \t]*(?:\n|$))*)?)+/,$L=/^ {0,3}(`{3,}(?=[^`\n]*(?:\n|$))|~{3,})([^\n]*)(?:\n|$)(?:|([\s\S]*?)(?:\n|$))(?: {0,3}\1[~`]* *(?=\n|$)|$)/,$l=/^ {0,3}((?:-[\t ]*){3,}|(?:_[ \t]*){3,}|(?:\*[ \t]*){3,})(?:\n+|$)/,HL=/^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/,zv=/(?:[*+-]|\d{1,9}[.)])/,gD=/^(?!bull |blockCode|fences|blockquote|heading|html|table)((?:.|\n(?!\s*?\n|bull |blockCode|fences|blockquote|heading|html|table))+?)\n {0,3}(=+|-+) *(?:\n+|$)/,vD=Re(gD).replace(/bull/g,zv).replace(/blockCode/g,/(?: {4}| {0,3}\t)/).replace(/fences/g,/ {0,3}(?:`{3,}|~{3,})/).replace(/blockquote/g,/ {0,3}>/).replace(/heading/g,/ {0,3}#{1,6}/).replace(/html/g,/ {0,3}<[^\n>]+>\n/).replace(/\|table/g,"").getRegex(),zL=Re(gD).replace(/bull/g,zv).replace(/blockCode/g,/(?: {4}| {0,3}\t)/).replace(/fences/g,/ {0,3}(?:`{3,}|~{3,})/).replace(/blockquote/g,/ {0,3}>/).replace(/heading/g,/ {0,3}#{1,6}/).replace(/html/g,/ {0,3}<[^\n>]+>\n/).replace(/table/g,/ {0,3}\|?(?:[:\- ]*\|)+[\:\- ]*\n/).getRegex(),Gv=/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html|table| +\n)[^\n]+)*)/,GL=/^[^\n]+/,qv=/(?!\s*\])(?:\\.|[^\[\]\\])+/,qL=Re(/^ {0,3}\[(label)\]: *(?:\n[ \t]*)?([^<\s][^\s]*|<.*?>)(?:(?: +(?:\n[ \t]*)?| *\n[ \t]*)(title))? *(?:\n+|$)/).replace("label",qv).replace("title",/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/).getRegex(),WL=Re(/^( {0,3}bull)([ \t][^\n]+?)?(?:\n|$)/).replace(/bull/g,zv).getRegex(),_f="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|search|section|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul",Wv=/<!--(?:-?>|[\s\S]*?(?:-->|$))/,ZL=Re("^ {0,3}(?:<(script|pre|style|textarea)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?(?:\\?>\\n*|$)|<![A-Z][\\s\\S]*?(?:>\\n*|$)|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:(?:\\n[ 	]*)+\\n|$)|<(?!script|pre|style|textarea)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n[ 	]*)+\\n|$)|</(?!script|pre|style|textarea)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n[ 	]*)+\\n|$))","i").replace("comment",Wv).replace("tag",_f).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex(),yD=Re(Gv).replace("hr",$l).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("|table","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",_f).getRegex(),JL=Re(/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/).replace("paragraph",yD).getRegex(),Zv={blockquote:JL,code:UL,def:qL,fences:$L,heading:HL,hr:$l,html:ZL,lheading:vD,list:WL,newline:BL,paragraph:yD,table:Ul,text:GL},uD=Re("^ *([^\\n ].*)\\n {0,3}((?:\\| *)?:?-+:? *(?:\\| *:?-+:? *)*(?:\\| *)?)(?:\\n((?:(?! *\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)").replace("hr",$l).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("blockquote"," {0,3}>").replace("code","(?: {4}| {0,3}	)[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",_f).getRegex(),YL=X(S({},Zv),{lheading:zL,table:uD,paragraph:Re(Gv).replace("hr",$l).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("table",uD).replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",_f).getRegex()}),QL=X(S({},Zv),{html:Re(`^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:"[^"]*"|'[^']*'|\\s[^'"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))`).replace("comment",Wv).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^(#{1,6})(.*)(?:\n+|$)/,fences:Ul,lheading:/^(.+?)\n {0,3}(=+|-+) *(?:\n+|$)/,paragraph:Re(Gv).replace("hr",$l).replace("heading",` *#{1,6} *[^
]`).replace("lheading",vD).replace("|table","").replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").replace("|tag","").getRegex()}),KL=/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,XL=/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,_D=/^( {2,}|\\)\n(?!\s*$)/,e2=/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*_]|\b_|$)|[^ ](?= {2,}\n)))/,bf=/[\p{P}\p{S}]/u,Jv=/[\s\p{P}\p{S}]/u,bD=/[^\s\p{P}\p{S}]/u,t2=Re(/^((?![*_])punctSpace)/,"u").replace(/punctSpace/g,Jv).getRegex(),wD=/(?!~)[\p{P}\p{S}]/u,n2=/(?!~)[\s\p{P}\p{S}]/u,r2=/(?:[^\s\p{P}\p{S}]|~)/u,i2=/\[[^[\]]*?\]\((?:\\.|[^\\\(\)]|\((?:\\.|[^\\\(\)])*\))*\)|`[^`]*?`|<[^<>]*?>/g,CD=/^(?:\*+(?:((?!\*)punct)|[^\s*]))|^_+(?:((?!_)punct)|([^\s_]))/,o2=Re(CD,"u").replace(/punct/g,bf).getRegex(),s2=Re(CD,"u").replace(/punct/g,wD).getRegex(),ED="^[^_*]*?__[^_*]*?\\*[^_*]*?(?=__)|[^*]+(?=[^*])|(?!\\*)punct(\\*+)(?=[\\s]|$)|notPunctSpace(\\*+)(?!\\*)(?=punctSpace|$)|(?!\\*)punctSpace(\\*+)(?=notPunctSpace)|[\\s](\\*+)(?!\\*)(?=punct)|(?!\\*)punct(\\*+)(?!\\*)(?=punct)|notPunctSpace(\\*+)(?=notPunctSpace)",a2=Re(ED,"gu").replace(/notPunctSpace/g,bD).replace(/punctSpace/g,Jv).replace(/punct/g,bf).getRegex(),l2=Re(ED,"gu").replace(/notPunctSpace/g,r2).replace(/punctSpace/g,n2).replace(/punct/g,wD).getRegex(),c2=Re("^[^_*]*?\\*\\*[^_*]*?_[^_*]*?(?=\\*\\*)|[^_]+(?=[^_])|(?!_)punct(_+)(?=[\\s]|$)|notPunctSpace(_+)(?!_)(?=punctSpace|$)|(?!_)punctSpace(_+)(?=notPunctSpace)|[\\s](_+)(?!_)(?=punct)|(?!_)punct(_+)(?!_)(?=punct)","gu").replace(/notPunctSpace/g,bD).replace(/punctSpace/g,Jv).replace(/punct/g,bf).getRegex(),u2=Re(/\\(punct)/,"gu").replace(/punct/g,bf).getRegex(),d2=Re(/^<(scheme:[^\s\x00-\x1f<>]*|email)>/).replace("scheme",/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/).replace("email",/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/).getRegex(),f2=Re(Wv).replace("(?:-->|$)","-->").getRegex(),h2=Re("^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>").replace("comment",f2).replace("attribute",/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/).getRegex(),gf=/(?:\[(?:\\.|[^\[\]\\])*\]|\\.|`[^`]*`|[^\[\]\\`])*?/,p2=Re(/^!?\[(label)\]\(\s*(href)(?:(?:[ \t]*(?:\n[ \t]*)?)(title))?\s*\)/).replace("label",gf).replace("href",/<(?:\\.|[^\n<>\\])+>|[^ \t\n\x00-\x1f]*/).replace("title",/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/).getRegex(),ID=Re(/^!?\[(label)\]\[(ref)\]/).replace("label",gf).replace("ref",qv).getRegex(),DD=Re(/^!?\[(ref)\](?:\[\])?/).replace("ref",qv).getRegex(),m2=Re("reflink|nolink(?!\\()","g").replace("reflink",ID).replace("nolink",DD).getRegex(),Yv={_backpedal:Ul,anyPunctuation:u2,autolink:d2,blockSkip:i2,br:_D,code:XL,del:Ul,emStrongLDelim:o2,emStrongRDelimAst:a2,emStrongRDelimUnd:c2,escape:KL,link:p2,nolink:DD,punctuation:t2,reflink:ID,reflinkSearch:m2,tag:h2,text:e2,url:Ul},g2=X(S({},Yv),{link:Re(/^!?\[(label)\]\((.*?)\)/).replace("label",gf).getRegex(),reflink:Re(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",gf).getRegex()}),Bv=X(S({},Yv),{emStrongRDelimAst:l2,emStrongLDelim:s2,url:Re(/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/,"i").replace("email",/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/).getRegex(),_backpedal:/(?:[^?!.,:;*_'"~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_'"~)]+(?!$))+/,del:/^(~~?)(?=[^\s~])((?:\\.|[^\\])*?(?:\\.|[^\s~\\]))\1(?=[^~]|$)/,text:/^([`~]+|[^`~])(?:(?= {2,}\n)|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)|[\s\S]*?(?:(?=[\\<!\[`*~_]|\b_|https?:\/\/|ftp:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)))/}),v2=X(S({},Bv),{br:Re(_D).replace("{2,}","*").getRegex(),text:Re(Bv.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()}),pf={normal:Zv,gfm:YL,pedantic:QL},jl={normal:Yv,gfm:Bv,breaks:v2,pedantic:g2},y2={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},dD=n=>y2[n];function br(n,e){if(e){if(Yt.escapeTest.test(n))return n.replace(Yt.escapeReplace,dD)}else if(Yt.escapeTestNoEncode.test(n))return n.replace(Yt.escapeReplaceNoEncode,dD);return n}function fD(n){try{n=encodeURI(n).replace(Yt.percentDecode,"%")}catch{return null}return n}function hD(n,e){let t=n.replace(Yt.findPipe,(o,s,a)=>{let l=!1,c=s;for(;--c>=0&&a[c]==="\\";)l=!l;return l?"|":" |"}),r=t.split(Yt.splitPipe),i=0;if(r[0].trim()||r.shift(),r.length>0&&!r.at(-1)?.trim()&&r.pop(),e)if(r.length>e)r.splice(e);else for(;r.length<e;)r.push("");for(;i<r.length;i++)r[i]=r[i].trim().replace(Yt.slashPipe,"|");return r}function Bl(n,e,t){let r=n.length;if(r===0)return"";let i=0;for(;i<r;){let o=n.charAt(r-i-1);if(o===e&&!t)i++;else if(o!==e&&t)i++;else break}return n.slice(0,r-i)}function _2(n,e){if(n.indexOf(e[1])===-1)return-1;let t=0;for(let r=0;r<n.length;r++)if(n[r]==="\\")r++;else if(n[r]===e[0])t++;else if(n[r]===e[1]&&(t--,t<0))return r;return t>0?-2:-1}function pD(n,e,t,r,i){let o=e.href,s=e.title||null,a=n[1].replace(i.other.outputLinkReplace,"$1");r.state.inLink=!0;let l={type:n[0].charAt(0)==="!"?"image":"link",raw:t,href:o,title:s,text:a,tokens:r.inlineTokens(a)};return r.state.inLink=!1,l}function b2(n,e,t){let r=n.match(t.other.indentCodeCompensation);if(r===null)return e;let i=r[1];return e.split(`
`).map(o=>{let s=o.match(t.other.beginningSpace);if(s===null)return o;let[a]=s;return a.length>=i.length?o.slice(i.length):o}).join(`
`)}var vf=class{options;rules;lexer;constructor(n){this.options=n||Mo}space(n){let e=this.rules.block.newline.exec(n);if(e&&e[0].length>0)return{type:"space",raw:e[0]}}code(n){let e=this.rules.block.code.exec(n);if(e){let t=e[0].replace(this.rules.other.codeRemoveIndent,"");return{type:"code",raw:e[0],codeBlockStyle:"indented",text:this.options.pedantic?t:Bl(t,`
`)}}}fences(n){let e=this.rules.block.fences.exec(n);if(e){let t=e[0],r=b2(t,e[3]||"",this.rules);return{type:"code",raw:t,lang:e[2]?e[2].trim().replace(this.rules.inline.anyPunctuation,"$1"):e[2],text:r}}}heading(n){let e=this.rules.block.heading.exec(n);if(e){let t=e[2].trim();if(this.rules.other.endingHash.test(t)){let r=Bl(t,"#");(this.options.pedantic||!r||this.rules.other.endingSpaceChar.test(r))&&(t=r.trim())}return{type:"heading",raw:e[0],depth:e[1].length,text:t,tokens:this.lexer.inline(t)}}}hr(n){let e=this.rules.block.hr.exec(n);if(e)return{type:"hr",raw:Bl(e[0],`
`)}}blockquote(n){let e=this.rules.block.blockquote.exec(n);if(e){let t=Bl(e[0],`
`).split(`
`),r="",i="",o=[];for(;t.length>0;){let s=!1,a=[],l;for(l=0;l<t.length;l++)if(this.rules.other.blockquoteStart.test(t[l]))a.push(t[l]),s=!0;else if(!s)a.push(t[l]);else break;t=t.slice(l);let c=a.join(`
`),u=c.replace(this.rules.other.blockquoteSetextReplace,`
    $1`).replace(this.rules.other.blockquoteSetextReplace2,"");r=r?`${r}
${c}`:c,i=i?`${i}
${u}`:u;let d=this.lexer.state.top;if(this.lexer.state.top=!0,this.lexer.blockTokens(u,o,!0),this.lexer.state.top=d,t.length===0)break;let p=o.at(-1);if(p?.type==="code")break;if(p?.type==="blockquote"){let f=p,h=f.raw+`
`+t.join(`
`),v=this.blockquote(h);o[o.length-1]=v,r=r.substring(0,r.length-f.raw.length)+v.raw,i=i.substring(0,i.length-f.text.length)+v.text;break}else if(p?.type==="list"){let f=p,h=f.raw+`
`+t.join(`
`),v=this.list(h);o[o.length-1]=v,r=r.substring(0,r.length-p.raw.length)+v.raw,i=i.substring(0,i.length-f.raw.length)+v.raw,t=h.substring(o.at(-1).raw.length).split(`
`);continue}}return{type:"blockquote",raw:r,tokens:o,text:i}}}list(n){let e=this.rules.block.list.exec(n);if(e){let t=e[1].trim(),r=t.length>1,i={type:"list",raw:"",ordered:r,start:r?+t.slice(0,-1):"",loose:!1,items:[]};t=r?`\\d{1,9}\\${t.slice(-1)}`:`\\${t}`,this.options.pedantic&&(t=r?t:"[*+-]");let o=this.rules.other.listItemRegex(t),s=!1;for(;n;){let l=!1,c="",u="";if(!(e=o.exec(n))||this.rules.block.hr.test(n))break;c=e[0],n=n.substring(c.length);let d=e[2].split(`
`,1)[0].replace(this.rules.other.listReplaceTabs,x=>" ".repeat(3*x.length)),p=n.split(`
`,1)[0],f=!d.trim(),h=0;if(this.options.pedantic?(h=2,u=d.trimStart()):f?h=e[1].length+1:(h=e[2].search(this.rules.other.nonSpaceChar),h=h>4?1:h,u=d.slice(h),h+=e[1].length),f&&this.rules.other.blankLine.test(p)&&(c+=p+`
`,n=n.substring(p.length+1),l=!0),!l){let x=this.rules.other.nextBulletRegex(h),U=this.rules.other.hrRegex(h),B=this.rules.other.fencesBeginRegex(h),D=this.rules.other.headingBeginRegex(h),$=this.rules.other.htmlBeginRegex(h);for(;n;){let q=n.split(`
`,1)[0],Q;if(p=q,this.options.pedantic?(p=p.replace(this.rules.other.listReplaceNesting,"  "),Q=p):Q=p.replace(this.rules.other.tabCharGlobal,"    "),B.test(p)||D.test(p)||$.test(p)||x.test(p)||U.test(p))break;if(Q.search(this.rules.other.nonSpaceChar)>=h||!p.trim())u+=`
`+Q.slice(h);else{if(f||d.replace(this.rules.other.tabCharGlobal,"    ").search(this.rules.other.nonSpaceChar)>=4||B.test(d)||D.test(d)||U.test(d))break;u+=`
`+p}!f&&!p.trim()&&(f=!0),c+=q+`
`,n=n.substring(q.length+1),d=Q.slice(h)}}i.loose||(s?i.loose=!0:this.rules.other.doubleBlankLine.test(c)&&(s=!0));let v=null,y;this.options.gfm&&(v=this.rules.other.listIsTask.exec(u),v&&(y=v[0]!=="[ ] ",u=u.replace(this.rules.other.listReplaceTask,""))),i.items.push({type:"list_item",raw:c,task:!!v,checked:y,loose:!1,text:u,tokens:[]}),i.raw+=c}let a=i.items.at(-1);if(a)a.raw=a.raw.trimEnd(),a.text=a.text.trimEnd();else return;i.raw=i.raw.trimEnd();for(let l=0;l<i.items.length;l++)if(this.lexer.state.top=!1,i.items[l].tokens=this.lexer.blockTokens(i.items[l].text,[]),!i.loose){let c=i.items[l].tokens.filter(d=>d.type==="space"),u=c.length>0&&c.some(d=>this.rules.other.anyLine.test(d.raw));i.loose=u}if(i.loose)for(let l=0;l<i.items.length;l++)i.items[l].loose=!0;return i}}html(n){let e=this.rules.block.html.exec(n);if(e)return{type:"html",block:!0,raw:e[0],pre:e[1]==="pre"||e[1]==="script"||e[1]==="style",text:e[0]}}def(n){let e=this.rules.block.def.exec(n);if(e){let t=e[1].toLowerCase().replace(this.rules.other.multipleSpaceGlobal," "),r=e[2]?e[2].replace(this.rules.other.hrefBrackets,"$1").replace(this.rules.inline.anyPunctuation,"$1"):"",i=e[3]?e[3].substring(1,e[3].length-1).replace(this.rules.inline.anyPunctuation,"$1"):e[3];return{type:"def",tag:t,raw:e[0],href:r,title:i}}}table(n){let e=this.rules.block.table.exec(n);if(!e||!this.rules.other.tableDelimiter.test(e[2]))return;let t=hD(e[1]),r=e[2].replace(this.rules.other.tableAlignChars,"").split("|"),i=e[3]?.trim()?e[3].replace(this.rules.other.tableRowBlankLine,"").split(`
`):[],o={type:"table",raw:e[0],header:[],align:[],rows:[]};if(t.length===r.length){for(let s of r)this.rules.other.tableAlignRight.test(s)?o.align.push("right"):this.rules.other.tableAlignCenter.test(s)?o.align.push("center"):this.rules.other.tableAlignLeft.test(s)?o.align.push("left"):o.align.push(null);for(let s=0;s<t.length;s++)o.header.push({text:t[s],tokens:this.lexer.inline(t[s]),header:!0,align:o.align[s]});for(let s of i)o.rows.push(hD(s,o.header.length).map((a,l)=>({text:a,tokens:this.lexer.inline(a),header:!1,align:o.align[l]})));return o}}lheading(n){let e=this.rules.block.lheading.exec(n);if(e)return{type:"heading",raw:e[0],depth:e[2].charAt(0)==="="?1:2,text:e[1],tokens:this.lexer.inline(e[1])}}paragraph(n){let e=this.rules.block.paragraph.exec(n);if(e){let t=e[1].charAt(e[1].length-1)===`
`?e[1].slice(0,-1):e[1];return{type:"paragraph",raw:e[0],text:t,tokens:this.lexer.inline(t)}}}text(n){let e=this.rules.block.text.exec(n);if(e)return{type:"text",raw:e[0],text:e[0],tokens:this.lexer.inline(e[0])}}escape(n){let e=this.rules.inline.escape.exec(n);if(e)return{type:"escape",raw:e[0],text:e[1]}}tag(n){let e=this.rules.inline.tag.exec(n);if(e)return!this.lexer.state.inLink&&this.rules.other.startATag.test(e[0])?this.lexer.state.inLink=!0:this.lexer.state.inLink&&this.rules.other.endATag.test(e[0])&&(this.lexer.state.inLink=!1),!this.lexer.state.inRawBlock&&this.rules.other.startPreScriptTag.test(e[0])?this.lexer.state.inRawBlock=!0:this.lexer.state.inRawBlock&&this.rules.other.endPreScriptTag.test(e[0])&&(this.lexer.state.inRawBlock=!1),{type:"html",raw:e[0],inLink:this.lexer.state.inLink,inRawBlock:this.lexer.state.inRawBlock,block:!1,text:e[0]}}link(n){let e=this.rules.inline.link.exec(n);if(e){let t=e[2].trim();if(!this.options.pedantic&&this.rules.other.startAngleBracket.test(t)){if(!this.rules.other.endAngleBracket.test(t))return;let o=Bl(t.slice(0,-1),"\\");if((t.length-o.length)%2===0)return}else{let o=_2(e[2],"()");if(o===-2)return;if(o>-1){let a=(e[0].indexOf("!")===0?5:4)+e[1].length+o;e[2]=e[2].substring(0,o),e[0]=e[0].substring(0,a).trim(),e[3]=""}}let r=e[2],i="";if(this.options.pedantic){let o=this.rules.other.pedanticHrefTitle.exec(r);o&&(r=o[1],i=o[3])}else i=e[3]?e[3].slice(1,-1):"";return r=r.trim(),this.rules.other.startAngleBracket.test(r)&&(this.options.pedantic&&!this.rules.other.endAngleBracket.test(t)?r=r.slice(1):r=r.slice(1,-1)),pD(e,{href:r&&r.replace(this.rules.inline.anyPunctuation,"$1"),title:i&&i.replace(this.rules.inline.anyPunctuation,"$1")},e[0],this.lexer,this.rules)}}reflink(n,e){let t;if((t=this.rules.inline.reflink.exec(n))||(t=this.rules.inline.nolink.exec(n))){let r=(t[2]||t[1]).replace(this.rules.other.multipleSpaceGlobal," "),i=e[r.toLowerCase()];if(!i){let o=t[0].charAt(0);return{type:"text",raw:o,text:o}}return pD(t,i,t[0],this.lexer,this.rules)}}emStrong(n,e,t=""){let r=this.rules.inline.emStrongLDelim.exec(n);if(!r||r[3]&&t.match(this.rules.other.unicodeAlphaNumeric))return;if(!(r[1]||r[2]||"")||!t||this.rules.inline.punctuation.exec(t)){let o=[...r[0]].length-1,s,a,l=o,c=0,u=r[0][0]==="*"?this.rules.inline.emStrongRDelimAst:this.rules.inline.emStrongRDelimUnd;for(u.lastIndex=0,e=e.slice(-1*n.length+o);(r=u.exec(e))!=null;){if(s=r[1]||r[2]||r[3]||r[4]||r[5]||r[6],!s)continue;if(a=[...s].length,r[3]||r[4]){l+=a;continue}else if((r[5]||r[6])&&o%3&&!((o+a)%3)){c+=a;continue}if(l-=a,l>0)continue;a=Math.min(a,a+l+c);let d=[...r[0]][0].length,p=n.slice(0,o+r.index+d+a);if(Math.min(o,a)%2){let h=p.slice(1,-1);return{type:"em",raw:p,text:h,tokens:this.lexer.inlineTokens(h)}}let f=p.slice(2,-2);return{type:"strong",raw:p,text:f,tokens:this.lexer.inlineTokens(f)}}}}codespan(n){let e=this.rules.inline.code.exec(n);if(e){let t=e[2].replace(this.rules.other.newLineCharGlobal," "),r=this.rules.other.nonSpaceChar.test(t),i=this.rules.other.startingSpaceChar.test(t)&&this.rules.other.endingSpaceChar.test(t);return r&&i&&(t=t.substring(1,t.length-1)),{type:"codespan",raw:e[0],text:t}}}br(n){let e=this.rules.inline.br.exec(n);if(e)return{type:"br",raw:e[0]}}del(n){let e=this.rules.inline.del.exec(n);if(e)return{type:"del",raw:e[0],text:e[2],tokens:this.lexer.inlineTokens(e[2])}}autolink(n){let e=this.rules.inline.autolink.exec(n);if(e){let t,r;return e[2]==="@"?(t=e[1],r="mailto:"+t):(t=e[1],r=t),{type:"link",raw:e[0],text:t,href:r,tokens:[{type:"text",raw:t,text:t}]}}}url(n){let e;if(e=this.rules.inline.url.exec(n)){let t,r;if(e[2]==="@")t=e[0],r="mailto:"+t;else{let i;do i=e[0],e[0]=this.rules.inline._backpedal.exec(e[0])?.[0]??"";while(i!==e[0]);t=e[0],e[1]==="www."?r="http://"+e[0]:r=e[0]}return{type:"link",raw:e[0],text:t,href:r,tokens:[{type:"text",raw:t,text:t}]}}}inlineText(n){let e=this.rules.inline.text.exec(n);if(e){let t=this.lexer.state.inRawBlock;return{type:"text",raw:e[0],text:e[0],escaped:t}}}},ei=class Uv{tokens;options;state;tokenizer;inlineQueue;constructor(e){this.tokens=[],this.tokens.links=Object.create(null),this.options=e||Mo,this.options.tokenizer=this.options.tokenizer||new vf,this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options,this.tokenizer.lexer=this,this.inlineQueue=[],this.state={inLink:!1,inRawBlock:!1,top:!0};let t={other:Yt,block:pf.normal,inline:jl.normal};this.options.pedantic?(t.block=pf.pedantic,t.inline=jl.pedantic):this.options.gfm&&(t.block=pf.gfm,this.options.breaks?t.inline=jl.breaks:t.inline=jl.gfm),this.tokenizer.rules=t}static get rules(){return{block:pf,inline:jl}}static lex(e,t){return new Uv(t).lex(e)}static lexInline(e,t){return new Uv(t).inlineTokens(e)}lex(e){e=e.replace(Yt.carriageReturn,`
`),this.blockTokens(e,this.tokens);for(let t=0;t<this.inlineQueue.length;t++){let r=this.inlineQueue[t];this.inlineTokens(r.src,r.tokens)}return this.inlineQueue=[],this.tokens}blockTokens(e,t=[],r=!1){for(this.options.pedantic&&(e=e.replace(Yt.tabCharGlobal,"    ").replace(Yt.spaceLine,""));e;){let i;if(this.options.extensions?.block?.some(s=>(i=s.call({lexer:this},e,t))?(e=e.substring(i.raw.length),t.push(i),!0):!1))continue;if(i=this.tokenizer.space(e)){e=e.substring(i.raw.length);let s=t.at(-1);i.raw.length===1&&s!==void 0?s.raw+=`
`:t.push(i);continue}if(i=this.tokenizer.code(e)){e=e.substring(i.raw.length);let s=t.at(-1);s?.type==="paragraph"||s?.type==="text"?(s.raw+=`
`+i.raw,s.text+=`
`+i.text,this.inlineQueue.at(-1).src=s.text):t.push(i);continue}if(i=this.tokenizer.fences(e)){e=e.substring(i.raw.length),t.push(i);continue}if(i=this.tokenizer.heading(e)){e=e.substring(i.raw.length),t.push(i);continue}if(i=this.tokenizer.hr(e)){e=e.substring(i.raw.length),t.push(i);continue}if(i=this.tokenizer.blockquote(e)){e=e.substring(i.raw.length),t.push(i);continue}if(i=this.tokenizer.list(e)){e=e.substring(i.raw.length),t.push(i);continue}if(i=this.tokenizer.html(e)){e=e.substring(i.raw.length),t.push(i);continue}if(i=this.tokenizer.def(e)){e=e.substring(i.raw.length);let s=t.at(-1);s?.type==="paragraph"||s?.type==="text"?(s.raw+=`
`+i.raw,s.text+=`
`+i.raw,this.inlineQueue.at(-1).src=s.text):this.tokens.links[i.tag]||(this.tokens.links[i.tag]={href:i.href,title:i.title});continue}if(i=this.tokenizer.table(e)){e=e.substring(i.raw.length),t.push(i);continue}if(i=this.tokenizer.lheading(e)){e=e.substring(i.raw.length),t.push(i);continue}let o=e;if(this.options.extensions?.startBlock){let s=1/0,a=e.slice(1),l;this.options.extensions.startBlock.forEach(c=>{l=c.call({lexer:this},a),typeof l=="number"&&l>=0&&(s=Math.min(s,l))}),s<1/0&&s>=0&&(o=e.substring(0,s+1))}if(this.state.top&&(i=this.tokenizer.paragraph(o))){let s=t.at(-1);r&&s?.type==="paragraph"?(s.raw+=`
`+i.raw,s.text+=`
`+i.text,this.inlineQueue.pop(),this.inlineQueue.at(-1).src=s.text):t.push(i),r=o.length!==e.length,e=e.substring(i.raw.length);continue}if(i=this.tokenizer.text(e)){e=e.substring(i.raw.length);let s=t.at(-1);s?.type==="text"?(s.raw+=`
`+i.raw,s.text+=`
`+i.text,this.inlineQueue.pop(),this.inlineQueue.at(-1).src=s.text):t.push(i);continue}if(e){let s="Infinite loop on byte: "+e.charCodeAt(0);if(this.options.silent){console.error(s);break}else throw new Error(s)}}return this.state.top=!0,t}inline(e,t=[]){return this.inlineQueue.push({src:e,tokens:t}),t}inlineTokens(e,t=[]){let r=e,i=null;if(this.tokens.links){let a=Object.keys(this.tokens.links);if(a.length>0)for(;(i=this.tokenizer.rules.inline.reflinkSearch.exec(r))!=null;)a.includes(i[0].slice(i[0].lastIndexOf("[")+1,-1))&&(r=r.slice(0,i.index)+"["+"a".repeat(i[0].length-2)+"]"+r.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))}for(;(i=this.tokenizer.rules.inline.anyPunctuation.exec(r))!=null;)r=r.slice(0,i.index)+"++"+r.slice(this.tokenizer.rules.inline.anyPunctuation.lastIndex);for(;(i=this.tokenizer.rules.inline.blockSkip.exec(r))!=null;)r=r.slice(0,i.index)+"["+"a".repeat(i[0].length-2)+"]"+r.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);let o=!1,s="";for(;e;){o||(s=""),o=!1;let a;if(this.options.extensions?.inline?.some(c=>(a=c.call({lexer:this},e,t))?(e=e.substring(a.raw.length),t.push(a),!0):!1))continue;if(a=this.tokenizer.escape(e)){e=e.substring(a.raw.length),t.push(a);continue}if(a=this.tokenizer.tag(e)){e=e.substring(a.raw.length),t.push(a);continue}if(a=this.tokenizer.link(e)){e=e.substring(a.raw.length),t.push(a);continue}if(a=this.tokenizer.reflink(e,this.tokens.links)){e=e.substring(a.raw.length);let c=t.at(-1);a.type==="text"&&c?.type==="text"?(c.raw+=a.raw,c.text+=a.text):t.push(a);continue}if(a=this.tokenizer.emStrong(e,r,s)){e=e.substring(a.raw.length),t.push(a);continue}if(a=this.tokenizer.codespan(e)){e=e.substring(a.raw.length),t.push(a);continue}if(a=this.tokenizer.br(e)){e=e.substring(a.raw.length),t.push(a);continue}if(a=this.tokenizer.del(e)){e=e.substring(a.raw.length),t.push(a);continue}if(a=this.tokenizer.autolink(e)){e=e.substring(a.raw.length),t.push(a);continue}if(!this.state.inLink&&(a=this.tokenizer.url(e))){e=e.substring(a.raw.length),t.push(a);continue}let l=e;if(this.options.extensions?.startInline){let c=1/0,u=e.slice(1),d;this.options.extensions.startInline.forEach(p=>{d=p.call({lexer:this},u),typeof d=="number"&&d>=0&&(c=Math.min(c,d))}),c<1/0&&c>=0&&(l=e.substring(0,c+1))}if(a=this.tokenizer.inlineText(l)){e=e.substring(a.raw.length),a.raw.slice(-1)!=="_"&&(s=a.raw.slice(-1)),o=!0;let c=t.at(-1);c?.type==="text"?(c.raw+=a.raw,c.text+=a.text):t.push(a);continue}if(e){let c="Infinite loop on byte: "+e.charCodeAt(0);if(this.options.silent){console.error(c);break}else throw new Error(c)}}return t}},yf=class{options;parser;constructor(n){this.options=n||Mo}space(n){return""}code({text:n,lang:e,escaped:t}){let r=(e||"").match(Yt.notSpaceStart)?.[0],i=n.replace(Yt.endingNewline,"")+`
`;return r?'<pre><code class="language-'+br(r)+'">'+(t?i:br(i,!0))+`</code></pre>
`:"<pre><code>"+(t?i:br(i,!0))+`</code></pre>
`}blockquote({tokens:n}){return`<blockquote>
${this.parser.parse(n)}</blockquote>
`}html({text:n}){return n}heading({tokens:n,depth:e}){return`<h${e}>${this.parser.parseInline(n)}</h${e}>
`}hr(n){return`<hr>
`}list(n){let e=n.ordered,t=n.start,r="";for(let s=0;s<n.items.length;s++){let a=n.items[s];r+=this.listitem(a)}let i=e?"ol":"ul",o=e&&t!==1?' start="'+t+'"':"";return"<"+i+o+`>
`+r+"</"+i+`>
`}listitem(n){let e="";if(n.task){let t=this.checkbox({checked:!!n.checked});n.loose?n.tokens[0]?.type==="paragraph"?(n.tokens[0].text=t+" "+n.tokens[0].text,n.tokens[0].tokens&&n.tokens[0].tokens.length>0&&n.tokens[0].tokens[0].type==="text"&&(n.tokens[0].tokens[0].text=t+" "+br(n.tokens[0].tokens[0].text),n.tokens[0].tokens[0].escaped=!0)):n.tokens.unshift({type:"text",raw:t+" ",text:t+" ",escaped:!0}):e+=t+" "}return e+=this.parser.parse(n.tokens,!!n.loose),`<li>${e}</li>
`}checkbox({checked:n}){return"<input "+(n?'checked="" ':"")+'disabled="" type="checkbox">'}paragraph({tokens:n}){return`<p>${this.parser.parseInline(n)}</p>
`}table(n){let e="",t="";for(let i=0;i<n.header.length;i++)t+=this.tablecell(n.header[i]);e+=this.tablerow({text:t});let r="";for(let i=0;i<n.rows.length;i++){let o=n.rows[i];t="";for(let s=0;s<o.length;s++)t+=this.tablecell(o[s]);r+=this.tablerow({text:t})}return r&&(r=`<tbody>${r}</tbody>`),`<table>
<thead>
`+e+`</thead>
`+r+`</table>
`}tablerow({text:n}){return`<tr>
${n}</tr>
`}tablecell(n){let e=this.parser.parseInline(n.tokens),t=n.header?"th":"td";return(n.align?`<${t} align="${n.align}">`:`<${t}>`)+e+`</${t}>
`}strong({tokens:n}){return`<strong>${this.parser.parseInline(n)}</strong>`}em({tokens:n}){return`<em>${this.parser.parseInline(n)}</em>`}codespan({text:n}){return`<code>${br(n,!0)}</code>`}br(n){return"<br>"}del({tokens:n}){return`<del>${this.parser.parseInline(n)}</del>`}link({href:n,title:e,tokens:t}){let r=this.parser.parseInline(t),i=fD(n);if(i===null)return r;n=i;let o='<a href="'+n+'"';return e&&(o+=' title="'+br(e)+'"'),o+=">"+r+"</a>",o}image({href:n,title:e,text:t,tokens:r}){r&&(t=this.parser.parseInline(r,this.parser.textRenderer));let i=fD(n);if(i===null)return br(t);n=i;let o=`<img src="${n}" alt="${t}"`;return e&&(o+=` title="${br(e)}"`),o+=">",o}text(n){return"tokens"in n&&n.tokens?this.parser.parseInline(n.tokens):"escaped"in n&&n.escaped?n.text:br(n.text)}},Qv=class{strong({text:n}){return n}em({text:n}){return n}codespan({text:n}){return n}del({text:n}){return n}html({text:n}){return n}text({text:n}){return n}link({text:n}){return""+n}image({text:n}){return""+n}br(){return""}},ti=class $v{options;renderer;textRenderer;constructor(e){this.options=e||Mo,this.options.renderer=this.options.renderer||new yf,this.renderer=this.options.renderer,this.renderer.options=this.options,this.renderer.parser=this,this.textRenderer=new Qv}static parse(e,t){return new $v(t).parse(e)}static parseInline(e,t){return new $v(t).parseInline(e)}parse(e,t=!0){let r="";for(let i=0;i<e.length;i++){let o=e[i];if(this.options.extensions?.renderers?.[o.type]){let a=o,l=this.options.extensions.renderers[a.type].call({parser:this},a);if(l!==!1||!["space","hr","heading","code","table","blockquote","list","html","paragraph","text"].includes(a.type)){r+=l||"";continue}}let s=o;switch(s.type){case"space":{r+=this.renderer.space(s);continue}case"hr":{r+=this.renderer.hr(s);continue}case"heading":{r+=this.renderer.heading(s);continue}case"code":{r+=this.renderer.code(s);continue}case"table":{r+=this.renderer.table(s);continue}case"blockquote":{r+=this.renderer.blockquote(s);continue}case"list":{r+=this.renderer.list(s);continue}case"html":{r+=this.renderer.html(s);continue}case"paragraph":{r+=this.renderer.paragraph(s);continue}case"text":{let a=s,l=this.renderer.text(a);for(;i+1<e.length&&e[i+1].type==="text";)a=e[++i],l+=`
`+this.renderer.text(a);t?r+=this.renderer.paragraph({type:"paragraph",raw:l,text:l,tokens:[{type:"text",raw:l,text:l,escaped:!0}]}):r+=l;continue}default:{let a='Token with "'+s.type+'" type was not found.';if(this.options.silent)return console.error(a),"";throw new Error(a)}}}return r}parseInline(e,t=this.renderer){let r="";for(let i=0;i<e.length;i++){let o=e[i];if(this.options.extensions?.renderers?.[o.type]){let a=this.options.extensions.renderers[o.type].call({parser:this},o);if(a!==!1||!["escape","html","link","image","strong","em","codespan","br","del","text"].includes(o.type)){r+=a||"";continue}}let s=o;switch(s.type){case"escape":{r+=t.text(s);break}case"html":{r+=t.html(s);break}case"link":{r+=t.link(s);break}case"image":{r+=t.image(s);break}case"strong":{r+=t.strong(s);break}case"em":{r+=t.em(s);break}case"codespan":{r+=t.codespan(s);break}case"br":{r+=t.br(s);break}case"del":{r+=t.del(s);break}case"text":{r+=t.text(s);break}default:{let a='Token with "'+s.type+'" type was not found.';if(this.options.silent)return console.error(a),"";throw new Error(a)}}}return r}},mf=class{options;block;constructor(e){this.options=e||Mo}static passThroughHooks=new Set(["preprocess","postprocess","processAllTokens"]);preprocess(e){return e}postprocess(e){return e}processAllTokens(e){return e}provideLexer(){return this.block?ei.lex:ei.lexInline}provideParser(){return this.block?ti.parse:ti.parseInline}},w2=class{defaults=Hv();options=this.setOptions;parse=this.parseMarkdown(!0);parseInline=this.parseMarkdown(!1);Parser=ti;Renderer=yf;TextRenderer=Qv;Lexer=ei;Tokenizer=vf;Hooks=mf;constructor(...n){this.use(...n)}walkTokens(n,e){let t=[];for(let r of n)switch(t=t.concat(e.call(this,r)),r.type){case"table":{let i=r;for(let o of i.header)t=t.concat(this.walkTokens(o.tokens,e));for(let o of i.rows)for(let s of o)t=t.concat(this.walkTokens(s.tokens,e));break}case"list":{let i=r;t=t.concat(this.walkTokens(i.items,e));break}default:{let i=r;this.defaults.extensions?.childTokens?.[i.type]?this.defaults.extensions.childTokens[i.type].forEach(o=>{let s=i[o].flat(1/0);t=t.concat(this.walkTokens(s,e))}):i.tokens&&(t=t.concat(this.walkTokens(i.tokens,e)))}}return t}use(...n){let e=this.defaults.extensions||{renderers:{},childTokens:{}};return n.forEach(t=>{let r=S({},t);if(r.async=this.defaults.async||r.async||!1,t.extensions&&(t.extensions.forEach(i=>{if(!i.name)throw new Error("extension name required");if("renderer"in i){let o=e.renderers[i.name];o?e.renderers[i.name]=function(...s){let a=i.renderer.apply(this,s);return a===!1&&(a=o.apply(this,s)),a}:e.renderers[i.name]=i.renderer}if("tokenizer"in i){if(!i.level||i.level!=="block"&&i.level!=="inline")throw new Error("extension level must be 'block' or 'inline'");let o=e[i.level];o?o.unshift(i.tokenizer):e[i.level]=[i.tokenizer],i.start&&(i.level==="block"?e.startBlock?e.startBlock.push(i.start):e.startBlock=[i.start]:i.level==="inline"&&(e.startInline?e.startInline.push(i.start):e.startInline=[i.start]))}"childTokens"in i&&i.childTokens&&(e.childTokens[i.name]=i.childTokens)}),r.extensions=e),t.renderer){let i=this.defaults.renderer||new yf(this.defaults);for(let o in t.renderer){if(!(o in i))throw new Error(`renderer '${o}' does not exist`);if(["options","parser"].includes(o))continue;let s=o,a=t.renderer[s],l=i[s];i[s]=(...c)=>{let u=a.apply(i,c);return u===!1&&(u=l.apply(i,c)),u||""}}r.renderer=i}if(t.tokenizer){let i=this.defaults.tokenizer||new vf(this.defaults);for(let o in t.tokenizer){if(!(o in i))throw new Error(`tokenizer '${o}' does not exist`);if(["options","rules","lexer"].includes(o))continue;let s=o,a=t.tokenizer[s],l=i[s];i[s]=(...c)=>{let u=a.apply(i,c);return u===!1&&(u=l.apply(i,c)),u}}r.tokenizer=i}if(t.hooks){let i=this.defaults.hooks||new mf;for(let o in t.hooks){if(!(o in i))throw new Error(`hook '${o}' does not exist`);if(["options","block"].includes(o))continue;let s=o,a=t.hooks[s],l=i[s];mf.passThroughHooks.has(o)?i[s]=c=>{if(this.defaults.async)return Promise.resolve(a.call(i,c)).then(d=>l.call(i,d));let u=a.call(i,c);return l.call(i,u)}:i[s]=(...c)=>{let u=a.apply(i,c);return u===!1&&(u=l.apply(i,c)),u}}r.hooks=i}if(t.walkTokens){let i=this.defaults.walkTokens,o=t.walkTokens;r.walkTokens=function(s){let a=[];return a.push(o.call(this,s)),i&&(a=a.concat(i.call(this,s))),a}}this.defaults=S(S({},this.defaults),r)}),this}setOptions(n){return this.defaults=S(S({},this.defaults),n),this}lexer(n,e){return ei.lex(n,e??this.defaults)}parser(n,e){return ti.parse(n,e??this.defaults)}parseMarkdown(n){return(t,r)=>{let i=S({},r),o=S(S({},this.defaults),i),s=this.onError(!!o.silent,!!o.async);if(this.defaults.async===!0&&i.async===!1)return s(new Error("marked(): The async option was set to true by an extension. Remove async: false from the parse options object to return a Promise."));if(typeof t>"u"||t===null)return s(new Error("marked(): input parameter is undefined or null"));if(typeof t!="string")return s(new Error("marked(): input parameter is of type "+Object.prototype.toString.call(t)+", string expected"));o.hooks&&(o.hooks.options=o,o.hooks.block=n);let a=o.hooks?o.hooks.provideLexer():n?ei.lex:ei.lexInline,l=o.hooks?o.hooks.provideParser():n?ti.parse:ti.parseInline;if(o.async)return Promise.resolve(o.hooks?o.hooks.preprocess(t):t).then(c=>a(c,o)).then(c=>o.hooks?o.hooks.processAllTokens(c):c).then(c=>o.walkTokens?Promise.all(this.walkTokens(c,o.walkTokens)).then(()=>c):c).then(c=>l(c,o)).then(c=>o.hooks?o.hooks.postprocess(c):c).catch(s);try{o.hooks&&(t=o.hooks.preprocess(t));let c=a(t,o);o.hooks&&(c=o.hooks.processAllTokens(c)),o.walkTokens&&this.walkTokens(c,o.walkTokens);let u=l(c,o);return o.hooks&&(u=o.hooks.postprocess(u)),u}catch(c){return s(c)}}}onError(n,e){return t=>{if(t.message+=`
Please report this to https://github.com/markedjs/marked.`,n){let r="<p>An error occurred:</p><pre>"+br(t.message+"",!0)+"</pre>";return e?Promise.resolve(r):r}if(e)return Promise.reject(t);throw t}}},xo=new w2;function Fe(n,e){return xo.parse(n,e)}Fe.options=Fe.setOptions=function(n){return xo.setOptions(n),Fe.defaults=xo.defaults,mD(Fe.defaults),Fe};Fe.getDefaults=Hv;Fe.defaults=Mo;Fe.use=function(...n){return xo.use(...n),Fe.defaults=xo.defaults,mD(Fe.defaults),Fe};Fe.walkTokens=function(n,e){return xo.walkTokens(n,e)};Fe.parseInline=xo.parseInline;Fe.Parser=ti;Fe.parser=ti.parse;Fe.Renderer=yf;Fe.TextRenderer=Qv;Fe.Lexer=ei;Fe.lexer=ei.lex;Fe.Tokenizer=vf;Fe.Hooks=mf;Fe.parse=Fe;var NJ=Fe.options,FJ=Fe.setOptions,PJ=Fe.use,LJ=Fe.walkTokens,VJ=Fe.parseInline,qs=Fe,jJ=ti.parse,BJ=ei.lex;var FD=(()=>{class n{_renderer;_elementRef;onChange=t=>{};onTouched=()=>{};constructor(t,r){this._renderer=t,this._elementRef=r}setProperty(t,r){this._renderer.setProperty(this._elementRef.nativeElement,t,r)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}static \u0275fac=function(r){return new(r||n)(I(pn),I(tt))};static \u0275dir=he({type:n})}return n})(),Ys=(()=>{class n extends FD{static \u0275fac=(()=>{let t;return function(i){return(t||(t=zn(n)))(i||n)}})();static \u0275dir=he({type:n,features:[at]})}return n})(),Ai=new j(""),C2={provide:Ai,useExisting:Tt(()=>Zl),multi:!0},Zl=(()=>{class n extends Ys{writeValue(t){this.setProperty("checked",t)}static \u0275fac=(()=>{let t;return function(i){return(t||(t=zn(n)))(i||n)}})();static \u0275dir=he({type:n,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(r,i){r&1&&A("change",function(s){return i.onChange(s.target.checked)})("blur",function(){return i.onTouched()})},standalone:!1,features:[vt([C2]),at]})}return n})(),E2={provide:Ai,useExisting:Tt(()=>An),multi:!0};function I2(){let n=Mn()?Mn().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}var D2=new j(""),An=(()=>{class n extends FD{_compositionMode;_composing=!1;constructor(t,r,i){super(t,r),this._compositionMode=i,this._compositionMode==null&&(this._compositionMode=!I2())}writeValue(t){let r=t??"";this.setProperty("value",r)}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}static \u0275fac=function(r){return new(r||n)(I(pn),I(tt),I(D2,8))};static \u0275dir=he({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(r,i){r&1&&A("input",function(s){return i._handleInput(s.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(s){return i._compositionEnd(s.target.value)})},standalone:!1,features:[vt([E2]),at]})}return n})();function oy(n){return n==null||sy(n)===0}function sy(n){return n==null?null:Array.isArray(n)||typeof n=="string"?n.length:n instanceof Set?n.size:null}var Qs=new j(""),Jl=new j(""),S2=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,At=class{static min(e){return T2(e)}static max(e){return x2(e)}static required(e){return PD(e)}static requiredTrue(e){return M2(e)}static email(e){return A2(e)}static minLength(e){return R2(e)}static maxLength(e){return O2(e)}static pattern(e){return k2(e)}static nullValidator(e){return Cf()}static compose(e){return $D(e)}static composeAsync(e){return zD(e)}};function T2(n){return e=>{if(e.value==null||n==null)return null;let t=parseFloat(e.value);return!isNaN(t)&&t<n?{min:{min:n,actual:e.value}}:null}}function x2(n){return e=>{if(e.value==null||n==null)return null;let t=parseFloat(e.value);return!isNaN(t)&&t>n?{max:{max:n,actual:e.value}}:null}}function PD(n){return oy(n.value)?{required:!0}:null}function M2(n){return n.value===!0?null:{required:!0}}function A2(n){return oy(n.value)||S2.test(n.value)?null:{email:!0}}function R2(n){return e=>{let t=e.value?.length??sy(e.value);return t===null||t===0?null:t<n?{minlength:{requiredLength:n,actualLength:t}}:null}}function O2(n){return e=>{let t=e.value?.length??sy(e.value);return t!==null&&t>n?{maxlength:{requiredLength:n,actualLength:t}}:null}}function k2(n){if(!n)return Cf;let e,t;return typeof n=="string"?(t="",n.charAt(0)!=="^"&&(t+="^"),t+=n,n.charAt(n.length-1)!=="$"&&(t+="$"),e=new RegExp(t)):(t=n.toString(),e=n),r=>{if(oy(r.value))return null;let i=r.value;return e.test(i)?null:{pattern:{requiredPattern:t,actualValue:i}}}}function Cf(n){return null}function LD(n){return n!=null}function VD(n){return _i(n)?He(n):n}function jD(n){let e={};return n.forEach(t=>{e=t!=null?S(S({},e),t):e}),Object.keys(e).length===0?null:e}function BD(n,e){return e.map(t=>t(n))}function N2(n){return!n.validate}function UD(n){return n.map(e=>N2(e)?e:t=>e.validate(t))}function $D(n){if(!n)return null;let e=n.filter(LD);return e.length==0?null:function(t){return jD(BD(t,e))}}function HD(n){return n!=null?$D(UD(n)):null}function zD(n){if(!n)return null;let e=n.filter(LD);return e.length==0?null:function(t){let r=BD(t,e).map(VD);return Ra(r).pipe(Y(jD))}}function GD(n){return n!=null?zD(UD(n)):null}function SD(n,e){return n===null?[e]:Array.isArray(n)?[...n,e]:[n,e]}function qD(n){return n._rawValidators}function WD(n){return n._rawAsyncValidators}function Xv(n){return n?Array.isArray(n)?n:[n]:[]}function Ef(n,e){return Array.isArray(n)?n.includes(e):n===e}function TD(n,e){let t=Xv(e);return Xv(n).forEach(i=>{Ef(t,i)||t.push(i)}),t}function xD(n,e){return Xv(e).filter(t=>!Ef(n,t))}var If=class{get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators=[];_rawAsyncValidators=[];_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=HD(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=GD(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_onDestroyCallbacks=[];_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,t){return this.control?this.control.hasError(e,t):!1}getError(e,t){return this.control?this.control.getError(e,t):null}},_n=class extends If{name;get formDirective(){return null}get path(){return null}},xi=class extends If{_parent=null;name=null;valueAccessor=null},Df=class{_cd;constructor(e){this._cd=e}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}},F2={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},lY=X(S({},F2),{"[class.ng-submitted]":"isSubmitted"}),wr=(()=>{class n extends Df{constructor(t){super(t)}static \u0275fac=function(r){return new(r||n)(I(xi,2))};static \u0275dir=he({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(r,i){r&2&&Yr("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)},standalone:!1,features:[at]})}return n})(),Ks=(()=>{class n extends Df{constructor(t){super(t)}static \u0275fac=function(r){return new(r||n)(I(_n,10))};static \u0275dir=he({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(r,i){r&2&&Yr("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)("ng-submitted",i.isSubmitted)},standalone:!1,features:[at]})}return n})();var Hl="VALID",wf="INVALID",Ws="PENDING",zl="DISABLED",Mi=class{},Sf=class extends Mi{value;source;constructor(e,t){super(),this.value=e,this.source=t}},Gl=class extends Mi{pristine;source;constructor(e,t){super(),this.pristine=e,this.source=t}},ql=class extends Mi{touched;source;constructor(e,t){super(),this.touched=e,this.source=t}},Zs=class extends Mi{status;source;constructor(e,t){super(),this.status=e,this.source=t}},ey=class extends Mi{source;constructor(e){super(),this.source=e}},ty=class extends Mi{source;constructor(e){super(),this.source=e}};function ay(n){return(Af(n)?n.validators:n)||null}function P2(n){return Array.isArray(n)?HD(n):n||null}function ly(n,e){return(Af(e)?e.asyncValidators:n)||null}function L2(n){return Array.isArray(n)?GD(n):n||null}function Af(n){return n!=null&&!Array.isArray(n)&&typeof n=="object"}function ZD(n,e,t){let r=n.controls;if(!(e?Object.keys(r):r).length)throw new L(1e3,"");if(!r[t])throw new L(1001,"")}function JD(n,e,t){n._forEachChild((r,i)=>{if(t[i]===void 0)throw new L(1002,"")})}var Js=class{_pendingDirty=!1;_hasOwnPendingAsyncValidator=null;_pendingTouched=!1;_onCollectionChange=()=>{};_updateOn;_parent=null;_asyncValidationSubscription;_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators;_rawAsyncValidators;value;constructor(e,t){this._assignValidators(e),this._assignAsyncValidators(t)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get status(){return Wn(this.statusReactive)}set status(e){Wn(()=>this.statusReactive.set(e))}_status=il(()=>this.statusReactive());statusReactive=Tn(void 0);get valid(){return this.status===Hl}get invalid(){return this.status===wf}get pending(){return this.status==Ws}get disabled(){return this.status===zl}get enabled(){return this.status!==zl}errors;get pristine(){return Wn(this.pristineReactive)}set pristine(e){Wn(()=>this.pristineReactive.set(e))}_pristine=il(()=>this.pristineReactive());pristineReactive=Tn(!0);get dirty(){return!this.pristine}get touched(){return Wn(this.touchedReactive)}set touched(e){Wn(()=>this.touchedReactive.set(e))}_touched=il(()=>this.touchedReactive());touchedReactive=Tn(!1);get untouched(){return!this.touched}_events=new re;events=this._events.asObservable();valueChanges;statusChanges;get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(TD(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(TD(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(xD(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(xD(e,this._rawAsyncValidators))}hasValidator(e){return Ef(this._rawValidators,e)}hasAsyncValidator(e){return Ef(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){let t=this.touched===!1;this.touched=!0;let r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsTouched(X(S({},e),{sourceControl:r})),t&&e.emitEvent!==!1&&this._events.next(new ql(!0,r))}markAllAsTouched(e={}){this.markAsTouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:this}),this._forEachChild(t=>t.markAllAsTouched(e))}markAsUntouched(e={}){let t=this.touched===!0;this.touched=!1,this._pendingTouched=!1;let r=e.sourceControl??this;this._forEachChild(i=>{i.markAsUntouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:r})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,r),t&&e.emitEvent!==!1&&this._events.next(new ql(!1,r))}markAsDirty(e={}){let t=this.pristine===!0;this.pristine=!1;let r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsDirty(X(S({},e),{sourceControl:r})),t&&e.emitEvent!==!1&&this._events.next(new Gl(!1,r))}markAsPristine(e={}){let t=this.pristine===!1;this.pristine=!0,this._pendingDirty=!1;let r=e.sourceControl??this;this._forEachChild(i=>{i.markAsPristine({onlySelf:!0,emitEvent:e.emitEvent})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e,r),t&&e.emitEvent!==!1&&this._events.next(new Gl(!0,r))}markAsPending(e={}){this.status=Ws;let t=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new Zs(this.status,t)),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.markAsPending(X(S({},e),{sourceControl:t}))}disable(e={}){let t=this._parentMarkedDirty(e.onlySelf);this.status=zl,this.errors=null,this._forEachChild(i=>{i.disable(X(S({},e),{onlySelf:!0}))}),this._updateValue();let r=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new Sf(this.value,r)),this._events.next(new Zs(this.status,r)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(X(S({},e),{skipPristineCheck:t}),this),this._onDisabledChange.forEach(i=>i(!0))}enable(e={}){let t=this._parentMarkedDirty(e.onlySelf);this.status=Hl,this._forEachChild(r=>{r.enable(X(S({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(X(S({},e),{skipPristineCheck:t}),this),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e,t){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine({},t),this._parent._updateTouched({},t))}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){let r=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Hl||this.status===Ws)&&this._runAsyncValidator(r,e.emitEvent)}let t=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new Sf(this.value,t)),this._events.next(new Zs(this.status,t)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(X(S({},e),{sourceControl:t}))}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?zl:Hl}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e,t){if(this.asyncValidator){this.status=Ws,this._hasOwnPendingAsyncValidator={emitEvent:t!==!1};let r=VD(this.asyncValidator(this));this._asyncValidationSubscription=r.subscribe(i=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(i,{emitEvent:t,shouldHaveEmitted:e})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();let e=this._hasOwnPendingAsyncValidator?.emitEvent??!1;return this._hasOwnPendingAsyncValidator=null,e}return!1}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(t.emitEvent!==!1,this,t.shouldHaveEmitted)}get(e){let t=e;return t==null||(Array.isArray(t)||(t=t.split(".")),t.length===0)?null:t.reduce((r,i)=>r&&r._find(i),this)}getError(e,t){let r=t?this.get(t):this;return r&&r.errors?r.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e,t,r){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),(e||r)&&this._events.next(new Zs(this.status,t)),this._parent&&this._parent._updateControlsErrors(e,t,r)}_initObservables(){this.valueChanges=new xe,this.statusChanges=new xe}_calculateStatus(){return this._allControlsDisabled()?zl:this.errors?wf:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Ws)?Ws:this._anyControlsHaveStatus(wf)?wf:Hl}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e,t){let r=!this._anyControlsDirty(),i=this.pristine!==r;this.pristine=r,this._parent&&!e.onlySelf&&this._parent._updatePristine(e,t),i&&this._events.next(new Gl(this.pristine,t))}_updateTouched(e={},t){this.touched=this._anyControlsTouched(),this._events.next(new ql(this.touched,t)),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,t)}_onDisabledChange=[];_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){Af(e)&&e.updateOn!=null&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){let t=this._parent&&this._parent.dirty;return!e&&!!t&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=P2(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=L2(this._rawAsyncValidators)}},Tf=class extends Js{constructor(e,t,r){super(ay(t),ly(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}controls;registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,r={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){JD(this,!0,e),Object.keys(e).forEach(r=>{ZD(this,!0,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){e!=null&&(Object.keys(e).forEach(r=>{let i=this.controls[r];i&&i.patchValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((r,i)=>{r.reset(e?e[i]:null,{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t,this),this._updateTouched(t,this),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,r)=>(e[r]=t.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,r)=>r._syncPendingControls()?!0:t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(t=>{let r=this.controls[t];r&&e(r,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(let[t,r]of Object.entries(this.controls))if(this.contains(t)&&e(r))return!0;return!1}_reduceValue(){let e={};return this._reduceChildren(e,(t,r,i)=>((r.enabled||this.disabled)&&(t[i]=r.value),t))}_reduceChildren(e,t){let r=e;return this._forEachChild((i,o)=>{r=t(r,i,o)}),r}_allControlsDisabled(){for(let e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}};var ny=class extends Tf{};var Yl=new j("",{providedIn:"root",factory:()=>Ql}),Ql="always";function Rf(n,e){return[...e.path,n]}function ry(n,e,t=Ql){cy(n,e),e.valueAccessor.writeValue(n.value),(n.disabled||t==="always")&&e.valueAccessor.setDisabledState?.(n.disabled),j2(n,e),U2(n,e),B2(n,e),V2(n,e)}function MD(n,e,t=!0){let r=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(r),e.valueAccessor.registerOnTouched(r)),Mf(n,e),n&&(e._invokeOnDestroyCallbacks(),n._registerOnCollectionChange(()=>{}))}function xf(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function V2(n,e){if(e.valueAccessor.setDisabledState){let t=r=>{e.valueAccessor.setDisabledState(r)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}function cy(n,e){let t=qD(n);e.validator!==null?n.setValidators(SD(t,e.validator)):typeof t=="function"&&n.setValidators([t]);let r=WD(n);e.asyncValidator!==null?n.setAsyncValidators(SD(r,e.asyncValidator)):typeof r=="function"&&n.setAsyncValidators([r]);let i=()=>n.updateValueAndValidity();xf(e._rawValidators,i),xf(e._rawAsyncValidators,i)}function Mf(n,e){let t=!1;if(n!==null){if(e.validator!==null){let i=qD(n);if(Array.isArray(i)&&i.length>0){let o=i.filter(s=>s!==e.validator);o.length!==i.length&&(t=!0,n.setValidators(o))}}if(e.asyncValidator!==null){let i=WD(n);if(Array.isArray(i)&&i.length>0){let o=i.filter(s=>s!==e.asyncValidator);o.length!==i.length&&(t=!0,n.setAsyncValidators(o))}}}let r=()=>{};return xf(e._rawValidators,r),xf(e._rawAsyncValidators,r),t}function j2(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,n.updateOn==="change"&&YD(n,e)})}function B2(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,n.updateOn==="blur"&&n._pendingChange&&YD(n,e),n.updateOn!=="submit"&&n.markAsTouched()})}function YD(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function U2(n,e){let t=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}function $2(n,e){n==null,cy(n,e)}function H2(n,e){return Mf(n,e)}function QD(n,e){if(!n.hasOwnProperty("model"))return!1;let t=n.model;return t.isFirstChange()?!0:!Object.is(e,t.currentValue)}function z2(n){return Object.getPrototypeOf(n.constructor)===Ys}function G2(n,e){n._syncPendingControls(),e.forEach(t=>{let r=t.control;r.updateOn==="submit"&&r._pendingChange&&(t.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}function KD(n,e){if(!e)return null;Array.isArray(e);let t,r,i;return e.forEach(o=>{o.constructor===An?t=o:z2(o)?r=o:i=o}),i||r||t||null}function q2(n,e){let t=n.indexOf(e);t>-1&&n.splice(t,1)}function AD(n,e){let t=n.indexOf(e);t>-1&&n.splice(t,1)}function RD(n){return typeof n=="object"&&n!==null&&Object.keys(n).length===2&&"value"in n&&"disabled"in n}var Wl=class extends Js{defaultValue=null;_onChange=[];_pendingValue;_pendingChange=!1;constructor(e=null,t,r){super(ay(t),ly(r,t)),this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Af(t)&&(t.nonNullable||t.initialValueIsDefault)&&(RD(e)?this.defaultValue=e.value:this.defaultValue=e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&t.emitModelToViewChange!==!1&&this._onChange.forEach(r=>r(this.value,t.emitViewToModelChange!==!1)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){AD(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){AD(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(e){RD(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};var W2=n=>n instanceof Wl,Z2=(()=>{class n extends _n{_parent;ngOnInit(){this._checkParentType(),this.formDirective.addFormGroup(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormGroup(this)}get control(){return this.formDirective.getFormGroup(this)}get path(){return Rf(this.name==null?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}static \u0275fac=(()=>{let t;return function(i){return(t||(t=zn(n)))(i||n)}})();static \u0275dir=he({type:n,standalone:!1,features:[at]})}return n})();var J2={provide:xi,useExisting:Tt(()=>Kl)},OD=Promise.resolve(),Kl=(()=>{class n extends xi{_changeDetectorRef;callSetDisabledState;control=new Wl;static ngAcceptInputType_isDisabled;_registered=!1;viewModel;name="";isDisabled;model;options;update=new xe;constructor(t,r,i,o,s,a){super(),this._changeDetectorRef=s,this.callSetDisabledState=a,this._parent=t,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=KD(this,o)}ngOnChanges(t){if(this._checkForErrors(),!this._registered||"name"in t){if(this._registered&&(this._checkName(),this.formDirective)){let r=t.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in t&&this._updateDisabled(t),QD(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!!(this.options&&this.options.standalone)}_setUpStandalone(){ry(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._checkName()}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(t){OD.then(()=>{this.control.setValue(t,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(t){let r=t.isDisabled.currentValue,i=r!==0&&mn(r);OD.then(()=>{i&&!this.control.disabled?this.control.disable():!i&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(t){return this._parent?Rf(t,this._parent):[t]}static \u0275fac=function(r){return new(r||n)(I(_n,9),I(Qs,10),I(Jl,10),I(Ai,10),I(Pt,8),I(Yl,8))};static \u0275dir=he({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"],options:[0,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],standalone:!1,features:[vt([J2]),at,it]})}return n})();var Of=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275dir=he({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""],standalone:!1})}return n})();var Y2={provide:Ai,useExisting:Tt(()=>uy),multi:!0};var Q2=(()=>{class n{_accessors=[];add(t,r){this._accessors.push([t,r])}remove(t){for(let r=this._accessors.length-1;r>=0;--r)if(this._accessors[r][1]===t){this._accessors.splice(r,1);return}}select(t){this._accessors.forEach(r=>{this._isSameGroup(r,t)&&r[1]!==t&&r[1].fireUncheck(t.value)})}_isSameGroup(t,r){return t[0].control?t[0]._parent===r._control._parent&&t[1].name===r.name:!1}static \u0275fac=function(r){return new(r||n)};static \u0275prov=O({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),uy=(()=>{class n extends Ys{_registry;_injector;_state;_control;_fn;setDisabledStateFired=!1;onChange=()=>{};name;formControlName;value;callSetDisabledState=E(Yl,{optional:!0})??Ql;constructor(t,r,i,o){super(t,r),this._registry=i,this._injector=o}ngOnInit(){this._control=this._injector.get(xi),this._checkName(),this._registry.add(this._control,this)}ngOnDestroy(){this._registry.remove(this)}writeValue(t){this._state=t===this.value,this.setProperty("checked",this._state)}registerOnChange(t){this._fn=t,this.onChange=()=>{t(this.value),this._registry.select(this)}}setDisabledState(t){(this.setDisabledStateFired||t||this.callSetDisabledState==="whenDisabledForLegacyCode")&&this.setProperty("disabled",t),this.setDisabledStateFired=!0}fireUncheck(t){this.writeValue(t)}_checkName(){this.name&&this.formControlName&&(this.name,this.formControlName),!this.name&&this.formControlName&&(this.name=this.formControlName)}static \u0275fac=function(r){return new(r||n)(I(pn),I(tt),I(Q2),I(wt))};static \u0275dir=he({type:n,selectors:[["input","type","radio","formControlName",""],["input","type","radio","formControl",""],["input","type","radio","ngModel",""]],hostBindings:function(r,i){r&1&&A("change",function(){return i.onChange()})("blur",function(){return i.onTouched()})},inputs:{name:"name",formControlName:"formControlName",value:"value"},standalone:!1,features:[vt([Y2]),at]})}return n})(),K2={provide:Ai,useExisting:Tt(()=>dy),multi:!0},dy=(()=>{class n extends Ys{writeValue(t){this.setProperty("value",parseFloat(t))}registerOnChange(t){this.onChange=r=>{t(r==""?null:parseFloat(r))}}static \u0275fac=(()=>{let t;return function(i){return(t||(t=zn(n)))(i||n)}})();static \u0275dir=he({type:n,selectors:[["input","type","range","formControlName",""],["input","type","range","formControl",""],["input","type","range","ngModel",""]],hostBindings:function(r,i){r&1&&A("change",function(s){return i.onChange(s.target.value)})("input",function(s){return i.onChange(s.target.value)})("blur",function(){return i.onTouched()})},standalone:!1,features:[vt([K2]),at]})}return n})(),XD=new j("");var X2={provide:_n,useExisting:Tt(()=>Ri)},Ri=(()=>{class n extends _n{callSetDisabledState;get submitted(){return Wn(this._submittedReactive)}set submitted(t){this._submittedReactive.set(t)}_submitted=il(()=>this._submittedReactive());_submittedReactive=Tn(!1);_oldForm;_onCollectionChange=()=>this._updateDomValue();directives=[];form=null;ngSubmit=new xe;constructor(t,r,i){super(),this.callSetDisabledState=i,this._setValidators(t),this._setAsyncValidators(r)}ngOnChanges(t){t.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(Mf(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(t){let r=this.form.get(t.path);return ry(r,t,this.callSetDisabledState),r.updateValueAndValidity({emitEvent:!1}),this.directives.push(t),r}getControl(t){return this.form.get(t.path)}removeControl(t){MD(t.control||null,t,!1),q2(this.directives,t)}addFormGroup(t){this._setUpFormContainer(t)}removeFormGroup(t){this._cleanUpFormContainer(t)}getFormGroup(t){return this.form.get(t.path)}addFormArray(t){this._setUpFormContainer(t)}removeFormArray(t){this._cleanUpFormContainer(t)}getFormArray(t){return this.form.get(t.path)}updateModel(t,r){this.form.get(t.path).setValue(r)}onSubmit(t){return this._submittedReactive.set(!0),G2(this.form,this.directives),this.ngSubmit.emit(t),this.form._events.next(new ey(this.control)),t?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(t=void 0){this.form.reset(t),this._submittedReactive.set(!1),this.form._events.next(new ty(this.form))}_updateDomValue(){this.directives.forEach(t=>{let r=t.control,i=this.form.get(t.path);r!==i&&(MD(r||null,t),W2(i)&&(ry(i,t,this.callSetDisabledState),t.control=i))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(t){let r=this.form.get(t.path);$2(r,t),r.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(t){if(this.form){let r=this.form.get(t.path);r&&H2(r,t)&&r.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){cy(this.form,this),this._oldForm&&Mf(this._oldForm,this)}static \u0275fac=function(r){return new(r||n)(I(Qs,10),I(Jl,10),I(Yl,8))};static \u0275dir=he({type:n,selectors:[["","formGroup",""]],hostBindings:function(r,i){r&1&&A("submit",function(s){return i.onSubmit(s)})("reset",function(){return i.onReset()})},inputs:{form:[0,"formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],standalone:!1,features:[vt([X2]),at,it]})}return n})(),eV={provide:_n,useExisting:Tt(()=>eS)},eS=(()=>{class n extends Z2{name=null;constructor(t,r,i){super(),this._parent=t,this._setValidators(r),this._setAsyncValidators(i)}_checkParentType(){tS(this._parent)}static \u0275fac=function(r){return new(r||n)(I(_n,13),I(Qs,10),I(Jl,10))};static \u0275dir=he({type:n,selectors:[["","formGroupName",""]],inputs:{name:[0,"formGroupName","name"]},standalone:!1,features:[vt([eV]),at]})}return n})(),tV={provide:_n,useExisting:Tt(()=>kf)},kf=(()=>{class n extends _n{_parent;name=null;constructor(t,r,i){super(),this._parent=t,this._setValidators(r),this._setAsyncValidators(i)}ngOnInit(){tS(this._parent),this.formDirective.addFormArray(this)}ngOnDestroy(){this.formDirective?.removeFormArray(this)}get control(){return this.formDirective.getFormArray(this)}get formDirective(){return this._parent?this._parent.formDirective:null}get path(){return Rf(this.name==null?this.name:this.name.toString(),this._parent)}static \u0275fac=function(r){return new(r||n)(I(_n,13),I(Qs,10),I(Jl,10))};static \u0275dir=he({type:n,selectors:[["","formArrayName",""]],inputs:{name:[0,"formArrayName","name"]},standalone:!1,features:[vt([tV]),at]})}return n})();function tS(n){return!(n instanceof eS)&&!(n instanceof Ri)&&!(n instanceof kf)}var nV={provide:xi,useExisting:Tt(()=>Ao)},Ao=(()=>{class n extends xi{_ngModelWarningConfig;_added=!1;viewModel;control;name=null;set isDisabled(t){}model;update=new xe;static _ngModelWarningSentOnce=!1;_ngModelWarningSent=!1;constructor(t,r,i,o,s){super(),this._ngModelWarningConfig=s,this._parent=t,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=KD(this,o)}ngOnChanges(t){this._added||this._setUpControl(),QD(t,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}get path(){return Rf(this.name==null?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_setUpControl(){this.control=this.formDirective.addControl(this),this._added=!0}static \u0275fac=function(r){return new(r||n)(I(_n,13),I(Qs,10),I(Jl,10),I(Ai,10),I(XD,8))};static \u0275dir=he({type:n,selectors:[["","formControlName",""]],inputs:{name:[0,"formControlName","name"],isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"]},outputs:{update:"ngModelChange"},standalone:!1,features:[vt([nV]),at,it]})}return n})();var rV={provide:Ai,useExisting:Tt(()=>Oi),multi:!0};function nS(n,e){return n==null?`${e}`:(e&&typeof e=="object"&&(e="Object"),`${n}: ${e}`.slice(0,50))}function iV(n){return n.split(":")[0]}var Oi=(()=>{class n extends Ys{value;_optionMap=new Map;_idCounter=0;set compareWith(t){this._compareWith=t}_compareWith=Object.is;writeValue(t){this.value=t;let r=this._getOptionId(t),i=nS(r,t);this.setProperty("value",i)}registerOnChange(t){this.onChange=r=>{this.value=this._getOptionValue(r),t(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(t){for(let r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r),t))return r;return null}_getOptionValue(t){let r=iV(t);return this._optionMap.has(r)?this._optionMap.get(r):t}static \u0275fac=(()=>{let t;return function(i){return(t||(t=zn(n)))(i||n)}})();static \u0275dir=he({type:n,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(r,i){r&1&&A("change",function(s){return i.onChange(s.target.value)})("blur",function(){return i.onTouched()})},inputs:{compareWith:"compareWith"},standalone:!1,features:[vt([rV]),at]})}return n})(),Xs=(()=>{class n{_element;_renderer;_select;id;constructor(t,r,i){this._element=t,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption())}set ngValue(t){this._select!=null&&(this._select._optionMap.set(this.id,t),this._setElementValue(nS(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._setElementValue(t),this._select&&this._select.writeValue(this._select.value)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static \u0275fac=function(r){return new(r||n)(I(tt),I(pn),I(Oi,9))};static \u0275dir=he({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"},standalone:!1})}return n})(),oV={provide:Ai,useExisting:Tt(()=>rS),multi:!0};function kD(n,e){return n==null?`${e}`:(typeof e=="string"&&(e=`'${e}'`),e&&typeof e=="object"&&(e="Object"),`${n}: ${e}`.slice(0,50))}function sV(n){return n.split(":")[0]}var rS=(()=>{class n extends Ys{value;_optionMap=new Map;_idCounter=0;set compareWith(t){this._compareWith=t}_compareWith=Object.is;writeValue(t){this.value=t;let r;if(Array.isArray(t)){let i=t.map(o=>this._getOptionId(o));r=(o,s)=>{o._setSelected(i.indexOf(s.toString())>-1)}}else r=(i,o)=>{i._setSelected(!1)};this._optionMap.forEach(r)}registerOnChange(t){this.onChange=r=>{let i=[],o=r.selectedOptions;if(o!==void 0){let s=o;for(let a=0;a<s.length;a++){let l=s[a],c=this._getOptionValue(l.value);i.push(c)}}else{let s=r.options;for(let a=0;a<s.length;a++){let l=s[a];if(l.selected){let c=this._getOptionValue(l.value);i.push(c)}}}this.value=i,t(i)}}_registerOption(t){let r=(this._idCounter++).toString();return this._optionMap.set(r,t),r}_getOptionId(t){for(let r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r)._value,t))return r;return null}_getOptionValue(t){let r=sV(t);return this._optionMap.has(r)?this._optionMap.get(r)._value:t}static \u0275fac=(()=>{let t;return function(i){return(t||(t=zn(n)))(i||n)}})();static \u0275dir=he({type:n,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(r,i){r&1&&A("change",function(s){return i.onChange(s.target)})("blur",function(){return i.onTouched()})},inputs:{compareWith:"compareWith"},standalone:!1,features:[vt([oV]),at]})}return n})(),ea=(()=>{class n{_element;_renderer;_select;id;_value;constructor(t,r,i){this._element=t,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption(this))}set ngValue(t){this._select!=null&&(this._value=t,this._setElementValue(kD(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._select?(this._value=t,this._setElementValue(kD(this.id,t)),this._select.writeValue(this._select.value)):this._setElementValue(t)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}_setSelected(t){this._renderer.setProperty(this._element.nativeElement,"selected",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static \u0275fac=function(r){return new(r||n)(I(tt),I(pn),I(rS,9))};static \u0275dir=he({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"},standalone:!1})}return n})();var aV=(()=>{class n{_validator=Cf;_onChange;_enabled;ngOnChanges(t){if(this.inputName in t){let r=this.normalizeInput(t[this.inputName].currentValue);this._enabled=this.enabled(r),this._validator=this._enabled?this.createValidator(r):Cf,this._onChange&&this._onChange()}}validate(t){return this._validator(t)}registerOnValidatorChange(t){this._onChange=t}enabled(t){return t!=null}static \u0275fac=function(r){return new(r||n)};static \u0275dir=he({type:n,features:[it]})}return n})();var lV={provide:Qs,useExisting:Tt(()=>fy),multi:!0};var fy=(()=>{class n extends aV{required;inputName="required";normalizeInput=mn;createValidator=t=>PD;enabled(t){return t}static \u0275fac=(()=>{let t;return function(i){return(t||(t=zn(n)))(i||n)}})();static \u0275dir=he({type:n,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(r,i){r&2&&Jr("required",i._enabled?"":null)},inputs:{required:"required"},standalone:!1,features:[vt([lV]),at]})}return n})();var iS=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275mod=Ke({type:n});static \u0275inj=Qe({})}return n})(),iy=class extends Js{constructor(e,t,r){super(ay(t),ly(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}controls;at(e){return this.controls[this._adjustIndex(e)]}push(e,t={}){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}insert(e,t,r={}){this.controls.splice(e,0,t),this._registerControl(t),this.updateValueAndValidity({emitEvent:r.emitEvent})}removeAt(e,t={}){let r=this._adjustIndex(e);r<0&&(r=0),this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),this.controls.splice(r,1),this.updateValueAndValidity({emitEvent:t.emitEvent})}setControl(e,t,r={}){let i=this._adjustIndex(e);i<0&&(i=0),this.controls[i]&&this.controls[i]._registerOnCollectionChange(()=>{}),this.controls.splice(i,1),t&&(this.controls.splice(i,0,t),this._registerControl(t)),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,t={}){JD(this,!1,e),e.forEach((r,i)=>{ZD(this,!1,i),this.at(i).setValue(r,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){e!=null&&(e.forEach((r,i)=>{this.at(i)&&this.at(i).patchValue(r,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e=[],t={}){this._forEachChild((r,i)=>{r.reset(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t,this),this._updateTouched(t,this),this.updateValueAndValidity(t)}getRawValue(){return this.controls.map(e=>e.getRawValue())}clear(e={}){this.controls.length<1||(this._forEachChild(t=>t._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:e.emitEvent}))}_adjustIndex(e){return e<0?e+this.length:e}_syncPendingControls(){let e=this.controls.reduce((t,r)=>r._syncPendingControls()?!0:t,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){this.controls.forEach((t,r)=>{e(t,r)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(t=>t.enabled&&e(t))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_allControlsDisabled(){for(let e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}_find(e){return this.at(e)??null}};function ND(n){return!!n&&(n.asyncValidators!==void 0||n.validators!==void 0||n.updateOn!==void 0)}var ta=(()=>{class n{useNonNullable=!1;get nonNullable(){let t=new n;return t.useNonNullable=!0,t}group(t,r=null){let i=this._reduceControls(t),o={};return ND(r)?o=r:r!==null&&(o.validators=r.validator,o.asyncValidators=r.asyncValidator),new Tf(i,o)}record(t,r=null){let i=this._reduceControls(t);return new ny(i,r)}control(t,r,i){let o={};return this.useNonNullable?(ND(r)?o=r:(o.validators=r,o.asyncValidators=i),new Wl(t,X(S({},o),{nonNullable:!0}))):new Wl(t,r,i)}array(t,r,i){let o=t.map(s=>this._createControl(s));return new iy(o,r,i)}_reduceControls(t){let r={};return Object.keys(t).forEach(i=>{r[i]=this._createControl(t[i])}),r}_createControl(t){if(t instanceof Wl)return t;if(t instanceof Js)return t;if(Array.isArray(t)){let r=t[0],i=t.length>1?t[1]:null,o=t.length>2?t[2]:null;return this.control(r,i,o)}else return this.control(t)}static \u0275fac=function(r){return new(r||n)};static \u0275prov=O({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var Cr=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:Yl,useValue:t.callSetDisabledState??Ql}]}}static \u0275fac=function(r){return new(r||n)};static \u0275mod=Ke({type:n});static \u0275inj=Qe({imports:[iS]})}return n})(),na=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:XD,useValue:t.warnOnNgModelWithFormControl??"always"},{provide:Yl,useValue:t.callSetDisabledState??Ql}]}}static \u0275fac=function(r){return new(r||n)};static \u0275mod=Ke({type:n});static \u0275inj=Qe({imports:[iS]})}return n})();var Rt=[];for(let n=0;n<256;++n)Rt.push((n+256).toString(16).slice(1));function oS(n,e=0){return(Rt[n[e+0]]+Rt[n[e+1]]+Rt[n[e+2]]+Rt[n[e+3]]+"-"+Rt[n[e+4]]+Rt[n[e+5]]+"-"+Rt[n[e+6]]+Rt[n[e+7]]+"-"+Rt[n[e+8]]+Rt[n[e+9]]+"-"+Rt[n[e+10]]+Rt[n[e+11]]+Rt[n[e+12]]+Rt[n[e+13]]+Rt[n[e+14]]+Rt[n[e+15]]).toLowerCase()}var hy,cV=new Uint8Array(16);function py(){if(!hy){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");hy=crypto.getRandomValues.bind(crypto)}return hy(cV)}var uV=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),my={randomUUID:uV};function dV(n,e,t){n=n||{};let r=n.random??n.rng?.()??py();if(r.length<16)throw new Error("Random bytes length must be >= 16");if(r[6]=r[6]&15|64,r[8]=r[8]&63|128,e){if(t=t||0,t<0||t+16>e.length)throw new RangeError(`UUID byte range ${t}:${t+15} is out of buffer bounds`);for(let i=0;i<16;++i)e[t+i]=r[i];return e}return oS(r)}function fV(n,e,t){return my.randomUUID&&!e&&!n?my.randomUUID():dV(n,e,t)}var Ro=fV;var Lt=class n{getObjectStore(e,t,r){return e.transaction(t,r).objectStore(t)}getObjectStoreRW(e,t){return e.transaction(t,"readwrite").objectStore(t)}getObjectStoreRO(e,t){return e.transaction(t,"readonly").objectStore(t)}createObservable(e){return new Z(t=>{e.onsuccess=r=>{let i=r.target;t.next(i.result),t.complete()},e.onerror=r=>{let i=r.target;t.error(i.error)}})}createPromise(e){return new Promise((t,r)=>{e.onsuccess=i=>{let o=i.target;t(o.result)},e.onerror=i=>{let o=i.target;r(o.error)}})}static \u0275fac=function(t){return new(t||n)};static \u0275prov=O({token:n,factory:n.\u0275fac,providedIn:"root"})};var ki=class n{constructor(e){this.todoItemUtils=e}updateItem(e,t,r=o=>{},i=o=>{}){let o=this.todoItemUtils.getObjectStoreRW(e,"todo_items").get(t.id);o&&(o.onsuccess=s=>{s.target.result.tags.join(",")!==t.tags.join(",")&&this.updateTags(e,t),t.version+=1,t.updationTimestamp=new Date(Date.now()).toISOString(),this.todoItemUtils.getObjectStoreRW(e,"todo_items").put(t),r(s)},o.onerror=i)}updateTags(e,t,r=o=>{},i=o=>{}){t.tags.forEach(o=>{let s=o.name.trim(),a=this.todoItemUtils.getObjectStoreRO(e,"tags_todo_items").get(s);a&&(a.onsuccess=l=>{let c=l.target;if(c.result){let u=c.result.todo_items;u.push(t.id),this.todoItemUtils.getObjectStoreRW(e,"tags_todo_items").put({name:s,todo_items:u})}else this.todoItemUtils.getObjectStoreRW(e,"tags_todo_items").add({name:s,todo_items:[t.id]});r(l)},a.onerror=i)})}updateCustom(e,t,r,i=s=>{},o=s=>{}){let s=this.todoItemUtils.getObjectStoreRW(e,"custom_items").get(t);s&&(s.onsuccess=a=>{let l=a.target;this.todoItemUtils.getObjectStoreRW(e,"custom_items").put(r),i(a)},s.onerror=o)}static \u0275fac=function(t){return new(t||n)(N(Lt))};static \u0275prov=O({token:n,factory:n.\u0275fac,providedIn:"root"})};var ra=class n{constructor(e,t){this.todoItemUtils=e;this.updateService=t}addItem(e,t,r=o=>{},i=o=>{}){(!t.uuid||t.uuid.trim()==="")&&(t.uuid=Ro());let o=this.todoItemUtils.getObjectStoreRW(e,"todo_items").add(t);o&&(o.onsuccess=s=>{let l=s.target.result,c=S({id:l},t);this.updateService.updateTags(e,c),r(s)},o.onerror=s=>{console.error(s),i(s)})}addCustom(e,t,r,i=s=>{},o=s=>{}){let s=this.todoItemUtils.getObjectStoreRW(e,"custom_items").add({tag:t,item:r});s&&(s.onsuccess=i,s.onerror=a=>{console.error(a),o(a)})}static \u0275fac=function(t){return new(t||n)(N(Lt),N(ki))};static \u0275prov=O({token:n,factory:n.\u0275fac,providedIn:"root"})};var ia=class n{constructor(e){this.todoItemUtils=e}deleteItem(e,t,r){r?this.todoItemUtils.getObjectStoreRW(e,"deleted_todo_items").delete(t.id):(t.deleted=!0,t.updationTimestamp=new Date(Date.now()).toISOString(),t.version+=1,this.todoItemUtils.getObjectStoreRW(e,"deleted_todo_items").add(t),this.todoItemUtils.getObjectStoreRW(e,"todo_items").delete(t.id))}static \u0275fac=function(t){return new(t||n)(N(Lt))};static \u0275prov=O({token:n,factory:n.\u0275fac,providedIn:"root"})};var Ni=class n{constructor(e){this.todoItemUtils=e}getItemById(e,t,r=!1){let i=r?"deleted_todo_items":"todo_items",s=this.todoItemUtils.getObjectStoreRO(e,i).get(t);return this.todoItemUtils.createObservable(s)}getItemByUUID(e,t,r=!1){let i=r?"deleted_todo_items":"todo_items",s=this.todoItemUtils.getObjectStoreRO(e,i).index("uuidIndex").get(t);return this.todoItemUtils.createObservable(s)}getAllItems(e,t=!1){let r=t?"deleted_todo_items":"todo_items",o=this.todoItemUtils.getObjectStoreRO(e,r).getAll();return this.todoItemUtils.createObservable(o)}getCustom(e,t){let i=this.todoItemUtils.getObjectStoreRO(e,"custom_items").get(t);return this.todoItemUtils.createObservable(i)}getAllCustom(e,t){let r=this.todoItemUtils.getObjectStoreRO(e,"custom_items");return He(t).pipe(Ye(i=>{let o=r.get(i.name);return this.todoItemUtils.createObservable(o)}),Tp())}getTagWithNameLike(e,t){let i=this.todoItemUtils.getObjectStoreRO(e,"tags_todo_items").index("tagName"),o=IDBKeyRange.bound(t,t+"\uFFFF",!1,!1),s=i.openCursor(o);return new Z(a=>{let l=[];s.onsuccess=c=>{let u=c.target.result;u?(l.push(u.value),u.continue()):(a.next(l),a.complete())},s.onerror=c=>{a.error(c.target.error)}})}static \u0275fac=function(t){return new(t||n)(N(Lt))};static \u0275prov=O({token:n,factory:n.\u0275fac,providedIn:"root"})};var oa=class n{constructor(e,t){this.todoItemUtils=e;this.getService=t}searchTodosByQuery(e,t,r){let i=r?"deleted_todo_items":"todo_items",s=this.todoItemUtils.getObjectStoreRO(e,i).index("subjectIndex"),a=IDBKeyRange.bound(t,t+"\uFFFF",!1,!1),l=s.openCursor(a);return new Z(c=>{let u=new Set;l.onsuccess=d=>{let p=d.target.result;p?(u.add(p.value),p.continue()):(c.next(u),c.complete())},l.onerror=d=>{c.error(d.target.error)}})}searchTodosByTags(e,t,r,i=!0){let o=["tags_todo_items",r?"deleted_todo_items":"todo_items"],l=this.todoItemUtils.getObjectStoreRO(e,"tags_todo_items").index("tagName").openCursor();return new Z(c=>{let u=[],d=[],p=[];l.onsuccess=f=>{let h=f.target.result;if(h){let v=h.value;t.includes("+"+v.name)||t.includes(v.name)?u.push(...v.todo_items):t.includes("-"+v.name)?d.push(...v.todo_items):p.push(...v.todo_items),h.continue()}else{let v=new Set,y=new Set;(u.length?u:p).forEach(U=>{d.includes(U)||v.add(U)});let x=[];for(let U of v){let B=new Promise(D=>this.getService.getItemById(e,U,r).subscribe($=>D($)));x.push(B)}Promise.all(x).then(U=>{for(let B of U)if(i){let D=!0;for(let $ of t){let q=B.tags.map(De=>De.name),Q=q.includes($)||q.includes($.substring(1));D=D&&($.startsWith("+")&&Q||$.startsWith("-")&&!Q||Q)}D&&y.add(B)}else y.add(B);c.next(y),c.complete()})}},l.onerror=f=>{c.error(f.target.error)}})}searchTodos(e,t,r,i,o,s=!0){return(t==="!ALL:"||t==="")&&r.length===0&&i.length===0?this.getService.getAllItems(e,o):new Z(a=>{let l=[];t.length>0&&l.push(new Promise(c=>{this.searchTodosByQuery(e,t,o).subscribe(u=>c(u))})),r.length>0&&l.push(new Promise(c=>{this.searchTodosByTags(e,r,o,s).subscribe(u=>c(u))})),i.length>0&&l.push(new Promise(c=>{this.getService.getAllItems(e,o).subscribe(u=>{let d=i.map(h=>h.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")),p=d.length>1?new RegExp(`\\b(${s?d:d.join("|")})\\b`,"i"):new RegExp(d[0],"i"),f=new Set;for(let h=0;h<u.length;h++)p.test(JSON.stringify(u[h]))&&f.add(u[h]);c(f)})})),Promise.all(l).then(c=>{if(s){let u=[],d=[],p=0;for(let f of c){let h=Array.from(f);h.sort((v,y)=>v.id-y.id),p=p<h.length?h.length:p,d.push(h)}for(let f=0;f<p;f++){let h=!0,v=d[0][f].id;for(let y of d)if(y[f].id!==v){h=!1;break}h&&u.push(d[0][f])}a.next(u),a.complete()}else{let u=c.reduce((d,p)=>new Set([...d,...p]),new Set);a.next(Array.from(u)),a.complete()}})})}static \u0275fac=function(t){return new(t||n)(N(Lt),N(Ni))};static \u0275prov=O({token:n,factory:n.\u0275fac,providedIn:"root"})};var Fi=class n{constructor(e){this.todoItemUtils=e}getComparatorForType(e){if(e)switch(Object.getPrototypeOf(e)){case Number.prototype:return(i,o)=>i-o;case String.prototype:let t=Number.parseFloat(e),r=new RegExp("^[\\d.]+$");return!Number.isNaN(t)&&r.test(e)?(i,o)=>(Number.isNaN(i)&&(i=0),Number.isNaN(o)&&(o=0),i-o):(i,o)=>i===o?0:i<o?-1:1;case Boolean.prototype:return(i,o)=>i==o?0:i?1:-1;case Date.prototype:return(i,o)=>i.getTime()-o.getTime();case Object.prototype:return this.sortByReminderAndCompletionStatus}return(t,r)=>0}sortByReminderAndCompletionStatus(e,t){return!e.completionStatus&&t.completionStatus?-1:e.completionStatus&&!t.completionStatus?1:e.setForReminder&&!t.setForReminder?-1:!e.setForReminder&&t.setForReminder?1:Date.parse(t.updationTimestamp)-Date.parse(e.updationTimestamp)}sortItems(e,t,r=Number.MAX_SAFE_INTEGER){return r=r||Number.MAX_SAFE_INTEGER,new Z(i=>{if(!e||e.length==0){t=t.sort(this.sortByReminderAndCompletionStatus),i.next(t),i.complete();return}let o=new Map([["unsorted",(c,u)=>1]]),s=e[0]!=="desc";e.length==1&&o.set("ReminderAndCompletionStatus",this.sortByReminderAndCompletionStatus);let a=e[1]==="lat";e[1]==="old"?o.set("oldest",(c,u)=>new Date(c.creationTimestamp).getTime()-new Date(u.creationTimestamp).getTime()):a&&o.set("latest",(c,u)=>new Date(u.updationTimestamp).getTime()-new Date(c.updationTimestamp).getTime());for(let c of e)c==="old"||c==="lat"||c==="asc"||c==="desc"||!c||o.set(c,(u,d)=>{let p=u[c],f=d[c];return!(p&&f)&&u.userDefined?.data&&d.userDefined?.data&&(p=(u.userDefined?.data)[c],f=(d.userDefined?.data)[c]),p&&f?this.getComparatorForType(p)(p,f)*(s?1:-1):-1});for(let c of o)t=t.sort(c[1]);i.next(t),i.complete()}).pipe(Ye(i=>z(i.slice(0,r))))}static \u0275fac=function(t){return new(t||n)(N(Lt))};static \u0275prov=O({token:n,factory:n.\u0275fac,providedIn:"root"})};var hV=["progressBar"],pV=["progressBarCover"];function mV(n,e){n&1&&(m(0,"i",12),Hn(),m(1,"svg",13),V(2,"path",14),g()())}function gV(n,e){n&1&&(m(0,"i",12),Hn(),m(1,"svg",15),V(2,"path",14),g()())}function vV(n,e){n&1&&(m(0,"i",12),Hn(),m(1,"svg",13),V(2,"path",16),g()())}function yV(n,e){n&1&&(m(0,"i",12),Hn(),m(1,"svg",13),V(2,"path",17),g()())}function _V(n,e){n&1&&(m(0,"i",12),Hn(),m(1,"svg",13),V(2,"path",18),g()())}function bV(n,e){if(n&1&&(m(0,"span",10),H(1,mV,3,0,"i",11)(2,gV,3,0,"i",11)(3,vV,3,0,"i",11)(4,yV,3,0,"i",11)(5,_V,3,0,"i",11),g()),n&2){let t=T();b("ngSwitch",t.toast.type),_(),b("ngSwitchCase",t.ToastType.info),_(),b("ngSwitchCase",t.ToastType.default),_(),b("ngSwitchCase",t.ToastType.warning),_(),b("ngSwitchCase",t.ToastType.error),_(),b("ngSwitchCase",t.ToastType.success)}}function wV(n,e){n&1&&(m(0,"i",12),Hn(),m(1,"svg",19),C(2,"> "),V(3,"path",20),g()())}function CV(n,e){n&1&&(m(0,"i",12),Hn(),m(1,"svg",21),C(2,"> "),V(3,"path",20),g()())}function EV(n,e){n&1&&(m(0,"i",12),Hn(),m(1,"svg",22),C(2,"> "),V(3,"path",23),g()())}function IV(n,e){n&1&&(m(0,"i",12),Hn(),m(1,"svg",24),V(2,"path",25),g()())}function DV(n,e){n&1&&(m(0,"i",12),Hn(),m(1,"svg",26),C(2,"> "),V(3,"path",27),g()())}function SV(n,e){if(n&1&&(m(0,"span",10),H(1,wV,4,0,"i",11)(2,CV,4,0,"i",11)(3,EV,4,0,"i",11)(4,IV,3,0,"i",11)(5,DV,4,0,"i",11),g()),n&2){let t=T();b("ngSwitch",t.toast.type),_(),b("ngSwitchCase",t.ToastType.info),_(),b("ngSwitchCase",t.ToastType.default),_(),b("ngSwitchCase",t.ToastType.warning),_(),b("ngSwitchCase",t.ToastType.error),_(),b("ngSwitchCase",t.ToastType.success)}}function TV(n,e){if(n&1&&V(0,"div",28,0),n&2){let t=T();tl("angular-toastify-progress-bar angular-toastify-progress-bar--",t.ToastType[t.toast.type],"")}}function xV(n,e){if(n&1&&V(0,"div",null,1),n&2){let t=T();tl("angular-toastify-progress-bar-cover angular-toastify-toast--",t.ToastType[t.toast.type],""),el("animation-duration",t.autoCloseAfterSpecificChange()+"ms")("animation-play-state",t.running?"running":"paused")}}function MV(n,e){if(n&1){let t=ae();m(0,"lib-toastify-toast",1),A("dismissEvent",function(){let i=F(t).$implicit,o=T();return P(o.dismiss(i))}),g()}if(n&2){let t=e.$implicit,r=T();Ss(r.getClass(t)),b("autoClose",r.autoClose)("autoCloseSuccess",r.autoCloseSuccess)("autoCloseError",r.autoCloseError)("autoCloseWarn",r.autoCloseWarn)("autoCloseInfo",r.autoCloseInfo)("toast",t)("hideProgressBar",r.hideProgressBar)("pauseOnHover",r.pauseOnHover)("pauseOnVisibilityChange",r.pauseOnVisibilityChange)("closeOnClick",r.closeOnClick)("iconLibrary",r.iconLibrary)}}var AV=0,ko=class{constructor(e,t){this.message=e,this.type=t,this.time=new Date().getTime(),this.id=AV++,this.$resetToast=new re}},bn=function(n){return n[n.info=0]="info",n[n.success=1]="success",n[n.warning=2]="warning",n[n.error=3]="error",n[n.default=4]="default",n}(bn||{}),_t=(()=>{class n{constructor(){this.toastAddedEvent=new xe,this.dismissAllEvent=new xe}dismissAll(){this.dismissAllEvent.emit()}info(t){let r=new ko(t,bn.info);this.toastAddedEvent.emit(r)}success(t){let r=new ko(t,bn.success);this.toastAddedEvent.emit(r)}warn(t){let r=new ko(t,bn.warning);this.toastAddedEvent.emit(r)}error(t){let r=new ko(t,bn.error);this.toastAddedEvent.emit(r)}default(t){let r=new ko(t,bn.default);this.toastAddedEvent.emit(r)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=O({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),RV=(()=>{class n{constructor(t,r){this._cd=t,this._zone=r,this.autoClose=5e3,this.autoCloseError=void 0,this.autoCloseSuccess=void 0,this.autoCloseInfo=void 0,this.autoCloseWarn=void 0,this.hideProgressBar=!1,this.pauseOnHover=!0,this.pauseOnVisibilityChange=!0,this.closeOnClick=!0,this.dismissEvent=new xe,this.ToastType=bn,this.running=!1}ngOnInit(){this.autoCloseRemaining=this.autoCloseAfterSpecificChange(),this.startTime=this.toast.time,this.toast.$resetToast.subscribe(()=>this.resetToastTimer()),this.handleVisibilityChange&&document.visibilityState==="visible"&&this.startCloseTimer(),this.triggerProgressBarAnimation()}triggerProgressBarAnimation(){this._progressBarAnimation!==void 0&&cancelAnimationFrame(this._progressBarAnimation);let t=()=>{if(this.running){let i=100-Math.max(0,this.expectedAutoDismissTime-new Date().getTime())/this.autoCloseAfterSpecificChange()*100;if(this.progressBarCover.nativeElement.style.width=i+"%",i<=0)return}this._progressBarAnimation=requestAnimationFrame(t)};this._progressBarAnimation=requestAnimationFrame(t)}ngOnDestroy(){var t,r;this._progressBarAnimation&&(cancelAnimationFrame(this._progressBarAnimation),this._progressBarAnimation=void 0),this.clearTimerTimeout(),(t=this.toast.$resetToast)===null||t===void 0||t.complete(),this.toast.$resetToast=null,(r=this._$updateTimer)===null||r===void 0||r.complete(),this._$updateTimer=null}startCloseTimer(){this.running||!this.autoCloseAfterSpecificChange()||(this.running=!0,this.expectedAutoDismissTime=new Date().getTime()+this.autoCloseRemaining,this.autoDismissTimeout=this._zone.runOutsideAngular(()=>setTimeout(()=>{this._zone.run(()=>{this.dismissEvent.emit(),this._cd.markForCheck()})},this.autoCloseRemaining)))}autoCloseAfterSpecificChange(){let t=(()=>{switch(this.toast.type){case bn.success:return this.autoCloseSuccess;case bn.error:return this.autoCloseError;case bn.warning:return this.autoCloseWarn;case bn.info:return this.autoCloseInfo;default:return}})();return t===void 0?this.autoClose:t}pauseCloseTimer(){this.running=!1,this.clearTimerTimeout(),this.pauseTime=new Date().getTime();let t=this.pauseTime-this.startTime;this.autoCloseRemaining=this.autoCloseAfterSpecificChange()-t}resetToastTimer(){this.clearTimerTimeout(),this.running=!1,this.startTime=new Date().getTime(),this.autoCloseRemaining=this.autoCloseAfterSpecificChange(),this.startCloseTimer()}clearTimerTimeout(){this.autoDismissTimeout!==void 0&&(this.expectedAutoDismissTime=void 0,clearTimeout(this.autoDismissTimeout))}handleDismissButtonAction(){this.closeOnClick||(this.clearTimerTimeout(),this.dismissEvent.emit())}handleHostClick(){this.closeOnClick&&(this.clearTimerTimeout(),this.dismissEvent.emit())}handleMouseEnter(){this.pauseOnHover&&this.pauseCloseTimer()}handleMouseLeave(){this.pauseOnHover&&(this.startCloseTimer(),this.startTime=new Date().getTime()+(this.startTime-this.pauseTime))}handleVisibilityChange(){this.pauseOnVisibilityChange&&(document.visibilityState!=="visible"?(this.pauseCloseTimer(),this._cd.detectChanges()):this.startCloseTimer())}}return n.\u0275fac=function(t){return new(t||n)(I(Pt),I(be))},n.\u0275cmp=ce({type:n,selectors:[["lib-toastify-toast"]],viewQuery:function(t,r){if(t&1&&(Te(hV,5),Te(pV,5)),t&2){let i;we(i=Ce())&&(r.progressBar=i.first),we(i=Ce())&&(r.progressBarCover=i.first)}},hostBindings:function(t,r){t&1&&A("click",function(){return r.handleHostClick()})("mouseenter",function(){return r.handleMouseEnter()})("mouseleave",function(){return r.handleMouseLeave()})("visibilitychange",function(){return r.handleVisibilityChange()},!1,sC)},inputs:{autoClose:"autoClose",autoCloseError:"autoCloseError",autoCloseSuccess:"autoCloseSuccess",autoCloseInfo:"autoCloseInfo",autoCloseWarn:"autoCloseWarn",hideProgressBar:"hideProgressBar",pauseOnHover:"pauseOnHover",pauseOnVisibilityChange:"pauseOnVisibilityChange",closeOnClick:"closeOnClick",toast:"toast",iconLibrary:"iconLibrary"},outputs:{dismissEvent:"dismissEvent"},standalone:!1,decls:12,vars:8,consts:[["progressBar",""],["progressBarCover",""],["role","alert",1,"angular-toastify-toast-body"],[1,"angular-toastify-icon-container"],[3,"ngSwitch",4,"ngIf"],[1,"angular-toastify-toast-container"],[1,"close-container"],["type","button","aria-label","close",3,"click"],["style","opacity: 1;",3,"class",4,"ngIf"],[3,"class","animation-duration","animation-play-state",4,"ngIf"],[3,"ngSwitch"],["class","angular-toastify-toast-icon",4,"ngSwitchCase"],[1,"angular-toastify-toast-icon"],["xmlns","http://www.w3.org/2000/svg","height","20px","viewBox","0 -960 960 960","width","20px","fill","#fff"],["d","M430.09-270.8h101.34V-528H430.09v257.2Zm49.52-338.03q20.94 0 35.34-14.01 14.4-14.01 14.4-34.95 0-20.94-14.01-35.34-14.01-14.39-34.95-14.39-20.94 0-35.34 14.01-14.4 14.01-14.4 34.95 0 20.94 14.01 35.34 14.01 14.39 34.95 14.39Zm.67 548.18q-86.64 0-163.19-32.66-76.56-32.66-133.84-89.94t-89.94-133.8q-32.66-76.51-32.66-163.41 0-87.15 32.72-163.31t90.14-133.61q57.42-57.44 133.79-89.7 76.38-32.27 163.16-32.27 87.14 0 163.31 32.26 76.16 32.26 133.61 89.71 57.45 57.45 89.71 133.86 32.26 76.42 32.26 163.33 0 86.91-32.27 163.08-32.26 76.18-89.7 133.6-57.45 57.42-133.83 90.14-76.39 32.72-163.27 32.72Zm-.33-105.18q131.13 0 222.68-91.49 91.54-91.49 91.54-222.63 0-131.13-91.49-222.68-91.49-91.54-222.63-91.54-131.13 0-222.68 91.49-91.54 91.49-91.54 222.63 0 131.13 91.49 222.68 91.49 91.54 222.63 91.54ZM480-480Z"],["xmlns","http://www.w3.org/2000/svg","height","20px","viewBox","0 -960 960 960","width","20px","fill","#aaa"],["d","M-3.28-104.15 480-911.43l483.28 807.28H-3.28Zm483.83-137.63q19.97 0 34.23-14.05 14.26-14.05 14.26-34.02 0-19.74-14.05-34-14.05-14.26-34.02-14.26-19.73 0-34.11 14.05-14.38 14.05-14.38 33.78 0 19.98 14.17 34.24 14.17 14.26 33.9 14.26Zm-46.88-138.7h94.18v-192.89h-94.18v192.89Z"],["d","M479.56-266.26q21.83 0 36.89-14.61 15.05-14.62 15.05-36.45 0-21.83-14.61-37.01-14.62-15.17-36.45-15.17-21.83 0-36.89 14.79-15.05 14.79-15.05 36.62t14.61 36.83q14.62 15 36.45 15Zm-51.39-167.02h105.18v-250.55H428.17v250.55Zm52.11 372.63q-86.64 0-163.19-32.66-76.56-32.66-133.84-89.94t-89.94-133.8q-32.66-76.51-32.66-163.41 0-87.15 32.72-163.31t90.14-133.61q57.42-57.44 133.79-89.7 76.38-32.27 163.16-32.27 87.14 0 163.31 32.26 76.16 32.26 133.61 89.71 57.45 57.45 89.71 133.86 32.26 76.42 32.26 163.33 0 86.91-32.27 163.08-32.26 76.18-89.7 133.6-57.45 57.42-133.83 90.14-76.39 32.72-163.27 32.72Zm-.33-105.18q131.13 0 222.68-91.49 91.54-91.49 91.54-222.63 0-131.13-91.49-222.68-91.49-91.54-222.63-91.54-131.13 0-222.68 91.49-91.54 91.49-91.54 222.63 0 131.13 91.49 222.68 91.49 91.54 222.63 91.54ZM480-480Z"],["d","M389-240.7 166.93-461.76l74.27-75.26L389-388.98l331.57-330.56 74.26 74.02L389-240.7Z"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 0 192 512","height","18","fill","#fff"],["d","M48 80a48 48 0 1 1 96 0A48 48 0 1 1 48 80zM0 224c0-17.7 14.3-32 32-32l64 0c17.7 0 32 14.3 32 32l0 224 32 0c17.7 0 32 14.3 32 32s-14.3 32-32 32L32 512c-17.7 0-32-14.3-32-32s14.3-32 32-32l32 0 0-192-32 0c-17.7 0-32-14.3-32-32z"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 0 192 512","height","18","fill","#aaa"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 0 512 512","height","18","fill","#fff"],["d","M256 32c14.2 0 27.3 7.5 34.5 19.8l216 368c7.3 12.4 7.3 27.7 .2 40.1S486.3 480 472 480L40 480c-14.3 0-27.6-7.7-34.7-20.1s-7-27.8 .2-40.1l216-368C228.7 39.5 241.8 32 256 32zm0 128c-13.3 0-24 10.7-24 24l0 112c0 13.3 10.7 24 24 24s24-10.7 24-24l0-112c0-13.3-10.7-24-24-24zm32 224a32 32 0 1 0 -64 0 32 32 0 1 0 64 0z"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 0 128 512","height","18","fill","#fff"],["d","M96 64c0-17.7-14.3-32-32-32S32 46.3 32 64l0 256c0 17.7 14.3 32 32 32s32-14.3 32-32L96 64zM64 480a40 40 0 1 0 0-80 40 40 0 1 0 0 80z"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 0 448 512","height","18","fill","#fff"],["d","M438.6 105.4c12.5 12.5 12.5 32.8 0 45.3l-256 256c-12.5 12.5-32.8 12.5-45.3 0l-128-128c-12.5-12.5-12.5-32.8 0-45.3s32.8-12.5 45.3 0L160 338.7 393.4 105.4c12.5-12.5 32.8-12.5 45.3 0z"],[2,"opacity","1"]],template:function(t,r){t&1&&(m(0,"div",2)(1,"div",3),H(2,bV,6,6,"span",4)(3,SV,6,6,"span",4),g(),m(4,"div",5)(5,"div"),C(6),g()(),m(7,"div",6)(8,"button",7),A("click",function(){return r.handleDismissButtonAction()}),C(9,"\u2716 "),g()()(),H(10,TV,2,3,"div",8)(11,xV,2,7,"div",9)),t&2&&(_(2),b("ngIf",r.iconLibrary=="material"),_(),b("ngIf",r.iconLibrary=="font-awesome"),_(3),ke(r.toast.message),_(2),tl("angular-toastify-close-button angular-toastify-close-button--",r.ToastType[r.toast.type],""),_(2),b("ngIf",!r.hideProgressBar),_(),b("ngIf",!r.hideProgressBar))},dependencies:[Ne,Dd,Yg],styles:[".angular-toastify-toast[_ngcontent-%COMP%]{position:relative;min-height:64px;box-sizing:border-box;margin-bottom:1rem;padding:8px;border-radius:1px;box-shadow:0 1px 10px 0 rgba(0,0,0,.1),0 2px 15px 0 rgba(0,0,0,.05);display:flex;justify-content:space-between;max-height:800px;overflow:hidden;font-family:sans-serif;cursor:pointer;direction:ltr}.angular-toastify-toast--rtl[_ngcontent-%COMP%]{direction:rtl}.angular-toastify-toast--default[_ngcontent-%COMP%]{background:#fff;color:#aaa}.angular-toastify-toast--info[_ngcontent-%COMP%]{background:#3498db}.angular-toastify-toast--success[_ngcontent-%COMP%]{background:#07bc0c}.angular-toastify-toast--warning[_ngcontent-%COMP%]{background:#f1c40f}.angular-toastify-toast--error[_ngcontent-%COMP%]{background:#e74c3c}.angular-toastify-toast-body[_ngcontent-%COMP%]{margin:auto 0;flex:1}@media only screen and (max-width:480px){.angular-toastify-toast[_ngcontent-%COMP%]{margin-bottom:0}}.angular-toastify-close-button[_ngcontent-%COMP%]{color:#fff;font-weight:700;font-size:14px;background:transparent;outline:none;border:none;padding:0;cursor:pointer;opacity:.7;transition:.3s ease;align-self:flex-start}.angular-toastify-close-button--default[_ngcontent-%COMP%]{color:#000;opacity:.3}.angular-toastify-close-button[_ngcontent-%COMP%]:focus, .angular-toastify-close-button[_ngcontent-%COMP%]:hover{opacity:1}.angular-toastify-progress-bar-cover[_ngcontent-%COMP%]{right:0;z-index:100;direction:rtl}.angular-toastify-progress-bar[_ngcontent-%COMP%], .angular-toastify-progress-bar-cover[_ngcontent-%COMP%]{position:absolute;bottom:0;width:100%;height:5px;transform-origin:left}.angular-toastify-progress-bar[_ngcontent-%COMP%]{left:0;z-index:99;opacity:.7;background-color:hsla(0,0%,100%,.7)}.angular-toastify-progress-bar--controlled[_ngcontent-%COMP%]{transition:transform .2s}.angular-toastify-progress-bar--rtl[_ngcontent-%COMP%]{right:0;left:auto;transform-origin:right}.angular-toastify-progress-bar--default[_ngcontent-%COMP%]{background:linear-gradient(90deg,#4cd964,#5ac8fa,#007aff,#34aadc,#5856d6,#ff2d55)}.angular-toastify-toast-body[_ngcontent-%COMP%]{min-width:0;min-height:0;vertical-align:middle;display:flex}.angular-toastify-icon-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;width:25px;vertical-align:middle}.angular-toastify-icon-container[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{margin-right:.5rem;display:inline-block;text-align:center;width:20px}.angular-toastify-icon-container[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{vertical-align:middle}.angular-toastify-toast-icon[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;align-items:center;font-size:18px}.angular-toastify-toast-container[_ngcontent-%COMP%]{width:calc(100% - 25px);overflow-y:auto;display:flex;flex-direction:column;min-height:0}.angular-toastify-toast-container[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{display:flex;flex:1;flex-direction:column;justify-content:center}"]}),n})(),cS=(()=>{class n{constructor(t,r){this._toastService=t,this._cd=r,this.transitionDurations=400,this.position="top-right",this.transition="bounce",this.autoClose=5e3,this.autoCloseError=void 0,this.autoCloseSuccess=void 0,this.autoCloseInfo=void 0,this.autoCloseWarn=void 0,this.hideProgressBar=!1,this.pauseOnHover=!0,this.pauseOnVisibilityChange=!0,this.closeOnClick=!0,this.newestOnTop=!1,this.preventDuplicates=!1,this.iconLibrary="none",this.ToastType=bn,this.toasts=new Array,this.toastTransitionDict={}}ngOnChanges(){this._cd.markForCheck()}dismiss(t){this.toastTransitionDict[t.id]=sa.exiting,setTimeout(()=>{let r=this.toasts.indexOf(t);this.toasts.splice(r,1),this._cd.markForCheck()},this.transitionDurations)}getClass(t){let r=`angular-toastify-toast angular-toastify-toast--${bn[t.type]} `,i=this.toastTransitionDict[t.id];return i===sa.entering?r+=`angular-toastify-${this.transition}-enter angular-toastify-${this.transition}-enter--${this.position}`:i===sa.exiting&&(r+=`angular-toastify-${this.transition}-exit angular-toastify-${this.transition}-exit--${this.position}`),r}ngOnInit(){this._toastService.dismissAllEvent.subscribe(()=>{this.toasts=new Array,this._cd.markForCheck()}),this._toastService.toastAddedEvent.subscribe(t=>this.handleToastAddedEvent(t))}handleToastAddedEvent(t){if(this.preventDuplicates===!0){let r=this.toasts.find(i=>i.message===t.message);if(r){r.$resetToast.next(),this._cd.markForCheck();return}}this.toastTransitionDict[t.id]=sa.entering,setTimeout(()=>{this.toastTransitionDict[t.id]=sa.noTransition,this._cd.markForCheck()},this.transitionDurations),this.newestOnTop?this.toasts.unshift(t):this.toasts.push(t),this._cd.markForCheck()}}return n.\u0275fac=function(t){return new(t||n)(I(_t),I(Pt))},n.\u0275cmp=ce({type:n,selectors:[["lib-toastify-toast-container"]],inputs:{position:"position",transition:"transition",autoClose:"autoClose",autoCloseError:"autoCloseError",autoCloseSuccess:"autoCloseSuccess",autoCloseInfo:"autoCloseInfo",autoCloseWarn:"autoCloseWarn",hideProgressBar:"hideProgressBar",pauseOnHover:"pauseOnHover",pauseOnVisibilityChange:"pauseOnVisibilityChange",closeOnClick:"closeOnClick",newestOnTop:"newestOnTop",preventDuplicates:"preventDuplicates",iconLibrary:"iconLibrary"},standalone:!1,features:[it],decls:2,vars:4,consts:[["style","animation-fill-mode: both; animation-duration: 0.75s; flex-direction: column;",3,"class","autoClose","autoCloseSuccess","autoCloseError","autoCloseWarn","autoCloseInfo","toast","hideProgressBar","pauseOnHover","pauseOnVisibilityChange","closeOnClick","iconLibrary","dismissEvent",4,"ngFor","ngForOf"],[2,"animation-fill-mode","both","animation-duration","0.75s","flex-direction","column",3,"dismissEvent","autoClose","autoCloseSuccess","autoCloseError","autoCloseWarn","autoCloseInfo","toast","hideProgressBar","pauseOnHover","pauseOnVisibilityChange","closeOnClick","iconLibrary"]],template:function(t,r){t&1&&(m(0,"div"),H(1,MV,1,13,"lib-toastify-toast",0),g()),t&2&&(tl("angular-toastify-toast-container angular-toastify-toast-container--",r.position,""),_(),b("ngForOf",r.toasts))},dependencies:[RV,ut],styles:[".angular-toastify-toast-container[_ngcontent-%COMP%]{word-break:break-word;z-index:9999;-webkit-transform:translateZ(9999px);position:fixed;padding:4px;width:320px;box-sizing:border-box;color:#fff}.angular-toastify-toast-container--top-left[_ngcontent-%COMP%]{top:1em;left:1em}.angular-toastify-toast-container--top-center[_ngcontent-%COMP%]{top:1em;left:50%;margin-left:-160px}.angular-toastify-toast-container--top-right[_ngcontent-%COMP%]{top:1em;right:1em}.angular-toastify-toast-container--bottom-left[_ngcontent-%COMP%]{bottom:1em;left:1em}.angular-toastify-toast-container--bottom-center[_ngcontent-%COMP%]{bottom:1em;left:50%;margin-left:-160px}.angular-toastify-toast-container--bottom-right[_ngcontent-%COMP%]{bottom:1em;right:1em}@media only screen and (max-width:480px){.angular-toastify-toast-container[_ngcontent-%COMP%]{width:100vw;padding:0;left:0;margin:0}.angular-toastify-toast-container--top-center[_ngcontent-%COMP%], .angular-toastify-toast-container--top-left[_ngcontent-%COMP%], .angular-toastify-toast-container--top-right[_ngcontent-%COMP%]{top:0}.angular-toastify-toast-container--bottom-center[_ngcontent-%COMP%], .angular-toastify-toast-container--bottom-left[_ngcontent-%COMP%], .angular-toastify-toast-container--bottom-right[_ngcontent-%COMP%]{bottom:0}.angular-toastify-toast-container--rtl[_ngcontent-%COMP%]{right:0;left:auto}}.angular-toastify-toast[_ngcontent-%COMP%]{position:relative;min-height:64px;box-sizing:border-box;margin-bottom:1rem;padding:8px;border-radius:1px;box-shadow:0 1px 10px 0 rgba(0,0,0,.1),0 2px 15px 0 rgba(0,0,0,.05);display:flex;justify-content:space-between;max-height:800px;overflow:hidden;font-family:sans-serif;cursor:pointer;direction:ltr}.angular-toastify-toast--rtl[_ngcontent-%COMP%]{direction:rtl}.angular-toastify-toast--default[_ngcontent-%COMP%]{background:#fff;color:#aaa}.angular-toastify-toast--info[_ngcontent-%COMP%]{background:#3498db}.angular-toastify-toast--success[_ngcontent-%COMP%]{background:#07bc0c}.angular-toastify-toast--warning[_ngcontent-%COMP%]{background:#f1c40f}.angular-toastify-toast--error[_ngcontent-%COMP%]{background:#e74c3c}.angular-toastify-toast-body[_ngcontent-%COMP%]{margin:auto 0;flex:1}@media only screen and (max-width:480px){.angular-toastify-toast[_ngcontent-%COMP%]{margin-bottom:0}}@keyframes _ngcontent-%COMP%_angular-toastify-bounceInRight{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(3000px,0,0)}60%{opacity:1;transform:translate3d(-25px,0,0)}75%{transform:translate3d(10px,0,0)}90%{transform:translate3d(-5px,0,0)}to{transform:none}}@keyframes _ngcontent-%COMP%_angular-toastify-bounceOutRight{20%{opacity:1;transform:translate3d(-20px,0,0)}to{opacity:0;transform:translate3d(2000px,0,0)}}@keyframes _ngcontent-%COMP%_angular-toastify-bounceInLeft{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(-3000px,0,0)}60%{opacity:1;transform:translate3d(25px,0,0)}75%{transform:translate3d(-10px,0,0)}90%{transform:translate3d(5px,0,0)}to{transform:none}}@keyframes _ngcontent-%COMP%_angular-toastify-bounceOutLeft{20%{opacity:1;transform:translate3d(20px,0,0)}to{opacity:0;transform:translate3d(-2000px,0,0)}}@keyframes _ngcontent-%COMP%_angular-toastify-bounceInUp{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,3000px,0)}60%{opacity:1;transform:translate3d(0,-20px,0)}75%{transform:translate3d(0,10px,0)}90%{transform:translate3d(0,-5px,0)}to{transform:translateZ(0)}}@keyframes _ngcontent-%COMP%_angular-toastify-bounceOutUp{20%{transform:translate3d(0,-10px,0)}40%,45%{opacity:1;transform:translate3d(0,20px,0)}to{opacity:0;transform:translate3d(0,-2000px,0)}}@keyframes _ngcontent-%COMP%_angular-toastify-bounceInDown{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,-3000px,0)}60%{opacity:1;transform:translate3d(0,25px,0)}75%{transform:translate3d(0,-10px,0)}90%{transform:translate3d(0,5px,0)}to{transform:none}}@keyframes _ngcontent-%COMP%_angular-toastify-bounceOutDown{20%{transform:translate3d(0,10px,0)}40%,45%{opacity:1;transform:translate3d(0,-20px,0)}to{opacity:0;transform:translate3d(0,2000px,0)}}.angular-toastify-bounce-enter--bottom-left[_ngcontent-%COMP%], .angular-toastify-bounce-enter--top-left[_ngcontent-%COMP%]{animation-name:_ngcontent-%COMP%_angular-toastify-bounceInLeft}.angular-toastify-bounce-enter--bottom-right[_ngcontent-%COMP%], .angular-toastify-bounce-enter--top-right[_ngcontent-%COMP%]{animation-name:_ngcontent-%COMP%_angular-toastify-bounceInRight}.angular-toastify-bounce-enter--top-center[_ngcontent-%COMP%]{animation-name:_ngcontent-%COMP%_angular-toastify-bounceInDown}.angular-toastify-bounce-enter--bottom-center[_ngcontent-%COMP%]{animation-name:_ngcontent-%COMP%_angular-toastify-bounceInUp}.angular-toastify-bounce-exit--bottom-left[_ngcontent-%COMP%], .angular-toastify-bounce-exit--top-left[_ngcontent-%COMP%]{animation-name:_ngcontent-%COMP%_angular-toastify-bounceOutLeft}.angular-toastify-bounce-exit--bottom-right[_ngcontent-%COMP%], .angular-toastify-bounce-exit--top-right[_ngcontent-%COMP%]{animation-name:_ngcontent-%COMP%_angular-toastify-bounceOutRight}.angular-toastify-bounce-exit--top-center[_ngcontent-%COMP%]{animation-name:_ngcontent-%COMP%_angular-toastify-bounceOutUp}.angular-toastify-bounce-exit--bottom-center[_ngcontent-%COMP%]{animation-name:_ngcontent-%COMP%_angular-toastify-bounceOutDown}@keyframes _ngcontent-%COMP%_angular-toastify-zoomIn{0%{opacity:0;transform:scale3d(.3,.3,.3)}50%{opacity:1}}@keyframes _ngcontent-%COMP%_angular-toastify-zoomOut{0%{opacity:1}50%{opacity:0;transform:scale3d(.3,.3,.3)}to{opacity:0}}.angular-toastify-zoom-enter[_ngcontent-%COMP%]{animation-name:_ngcontent-%COMP%_angular-toastify-zoomIn}.angular-toastify-zoom-exit[_ngcontent-%COMP%]{animation-name:_ngcontent-%COMP%_angular-toastify-zoomOut}@keyframes _ngcontent-%COMP%_angular-toastify-flipIn{0%{transform:perspective(400px) rotateX(90deg);animation-timing-function:ease-in;opacity:0}40%{transform:perspective(400px) rotateX(-20deg);animation-timing-function:ease-in}60%{transform:perspective(400px) rotateX(10deg);opacity:1}80%{transform:perspective(400px) rotateX(-5deg)}to{transform:perspective(400px)}}@keyframes _ngcontent-%COMP%_angular-toastify-flipOut{0%{transform:perspective(400px)}30%{transform:perspective(400px) rotateX(-20deg);opacity:1}to{transform:perspective(400px) rotateX(90deg);opacity:0}}.angular-toastify-flip-enter[_ngcontent-%COMP%]{animation-name:_ngcontent-%COMP%_angular-toastify-flipIn}.angular-toastify-flip-exit[_ngcontent-%COMP%]{animation-name:_ngcontent-%COMP%_angular-toastify-flipOut}@keyframes _ngcontent-%COMP%_angular-toastify-slideInRight{0%{transform:translate3d(110%,0,0);visibility:visible}to{transform:translateZ(0)}}@keyframes _ngcontent-%COMP%_angular-toastify-slideInLeft{0%{transform:translate3d(-110%,0,0);visibility:visible}to{transform:translateZ(0)}}@keyframes _ngcontent-%COMP%_angular-toastify-slideInUp{0%{transform:translate3d(0,110%,0);visibility:visible}to{transform:translateZ(0)}}@keyframes _ngcontent-%COMP%_angular-toastify-slideInDown{0%{transform:translate3d(0,-110%,0);visibility:visible}to{transform:translateZ(0)}}@keyframes _ngcontent-%COMP%_angular-toastify-slideOutRight{0%{transform:translateZ(0)}to{visibility:hidden;transform:translate3d(110%,0,0)}}@keyframes _ngcontent-%COMP%_angular-toastify-slideOutLeft{0%{transform:translateZ(0)}to{visibility:hidden;transform:translate3d(-110%,0,0)}}@keyframes _ngcontent-%COMP%_angular-toastify-slideOutDown{0%{transform:translateZ(0)}to{visibility:hidden;transform:translate3d(0,500px,0)}}@keyframes _ngcontent-%COMP%_angular-toastify-slideOutUp{0%{transform:translateZ(0)}to{visibility:hidden;transform:translate3d(0,-500px,0)}}.angular-toastify-slide-enter--bottom-left[_ngcontent-%COMP%], .angular-toastify-slide-enter--top-left[_ngcontent-%COMP%]{animation-name:_ngcontent-%COMP%_angular-toastify-slideInLeft}.angular-toastify-slide-enter--bottom-right[_ngcontent-%COMP%], .angular-toastify-slide-enter--top-right[_ngcontent-%COMP%]{animation-name:_ngcontent-%COMP%_angular-toastify-slideInRight}.angular-toastify-slide-enter--top-center[_ngcontent-%COMP%]{animation-name:_ngcontent-%COMP%_angular-toastify-slideInDown}.angular-toastify-slide-enter--bottom-center[_ngcontent-%COMP%]{animation-name:_ngcontent-%COMP%_angular-toastify-slideInUp}.angular-toastify-slide-exit--bottom-left[_ngcontent-%COMP%], .angular-toastify-slide-exit--top-left[_ngcontent-%COMP%]{animation-name:_ngcontent-%COMP%_angular-toastify-slideOutLeft}.angular-toastify-slide-exit--bottom-right[_ngcontent-%COMP%], .angular-toastify-slide-exit--top-right[_ngcontent-%COMP%]{animation-name:_ngcontent-%COMP%_angular-toastify-slideOutRight}.angular-toastify-slide-exit--top-center[_ngcontent-%COMP%]{animation-name:_ngcontent-%COMP%_angular-toastify-slideOutUp}.angular-toastify-slide-exit--bottom-center[_ngcontent-%COMP%]{animation-name:_ngcontent-%COMP%_angular-toastify-slideOutDown}"],changeDetection:0}),n})(),sa=function(n){return n[n.entering=0]="entering",n[n.noTransition=1]="noTransition",n[n.exiting=2]="exiting",n}(sa||{}),uS=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Ke({type:n}),n.\u0275inj=Qe({imports:[[Ae]]}),n})();var Pe={email:"qtodo",userGroup:"local",alias:"local"},Vt=class n{constructor(e,t){this.toaster=e;this.router=t}loggedInUser=new _e(Pe);loggedInUser$=this.loggedInUser.asObservable();signinUser(){this.loggedInUser.value!=null&&this.softLogoutUser(),this.router.navigate(["/signup"])}loginUser(){this.loggedInUser.value!=null&&this.softLogoutUser(),this.router.navigate(["/login"])}softLogoutUser(){this.loggedInUser.next(Pe)}getPayloadFromAccessToken(){let e=(this.loggedInUser.value.token||"").split(".")[1];if(e){let t=atob(e);return JSON.parse(t)}return null}static \u0275fac=function(t){return new(t||n)(N(_t),N(Be))};static \u0275prov=O({token:n,factory:n.\u0275fac,providedIn:"root"})};function ec(n,e){return function(){return n.apply(e,arguments)}}var{toString:OV}=Object.prototype,{getPrototypeOf:by}=Object,{iterator:Ff,toStringTag:fS}=Symbol,Pf=(n=>e=>{let t=OV.call(e);return n[t]||(n[t]=t.slice(8,-1).toLowerCase())})(Object.create(null)),Xn=n=>(n=n.toLowerCase(),e=>Pf(e)===n),Lf=n=>e=>typeof e===n,{isArray:la}=Array,aa=Lf("undefined");function tc(n){return n!==null&&!aa(n)&&n.constructor!==null&&!aa(n.constructor)&&un(n.constructor.isBuffer)&&n.constructor.isBuffer(n)}var hS=Xn("ArrayBuffer");function kV(n){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(n):e=n&&n.buffer&&hS(n.buffer),e}var NV=Lf("string"),un=Lf("function"),pS=Lf("number"),nc=n=>n!==null&&typeof n=="object",FV=n=>n===!0||n===!1,Nf=n=>{if(Pf(n)!=="object")return!1;let e=by(n);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(fS in n)&&!(Ff in n)},PV=n=>{if(!nc(n)||tc(n))return!1;try{return Object.keys(n).length===0&&Object.getPrototypeOf(n)===Object.prototype}catch{return!1}},LV=Xn("Date"),VV=Xn("File"),jV=Xn("Blob"),BV=Xn("FileList"),UV=n=>nc(n)&&un(n.pipe),$V=n=>{let e;return n&&(typeof FormData=="function"&&n instanceof FormData||un(n.append)&&((e=Pf(n))==="formdata"||e==="object"&&un(n.toString)&&n.toString()==="[object FormData]"))},HV=Xn("URLSearchParams"),[zV,GV,qV,WV]=["ReadableStream","Request","Response","Headers"].map(Xn),ZV=n=>n.trim?n.trim():n.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function rc(n,e,{allOwnKeys:t=!1}={}){if(n===null||typeof n>"u")return;let r,i;if(typeof n!="object"&&(n=[n]),la(n))for(r=0,i=n.length;r<i;r++)e.call(null,n[r],r,n);else{if(tc(n))return;let o=t?Object.getOwnPropertyNames(n):Object.keys(n),s=o.length,a;for(r=0;r<s;r++)a=o[r],e.call(null,n[a],a,n)}}function mS(n,e){if(tc(n))return null;e=e.toLowerCase();let t=Object.keys(n),r=t.length,i;for(;r-- >0;)if(i=t[r],e===i.toLowerCase())return i;return null}var Fo=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,gS=n=>!aa(n)&&n!==Fo;function _y(){let{caseless:n,skipUndefined:e}=gS(this)&&this||{},t={},r=(i,o)=>{let s=n&&mS(t,o)||o;Nf(t[s])&&Nf(i)?t[s]=_y(t[s],i):Nf(i)?t[s]=_y({},i):la(i)?t[s]=i.slice():(!e||!aa(i))&&(t[s]=i)};for(let i=0,o=arguments.length;i<o;i++)arguments[i]&&rc(arguments[i],r);return t}var JV=(n,e,t,{allOwnKeys:r}={})=>(rc(e,(i,o)=>{t&&un(i)?n[o]=ec(i,t):n[o]=i},{allOwnKeys:r}),n),YV=n=>(n.charCodeAt(0)===65279&&(n=n.slice(1)),n),QV=(n,e,t,r)=>{n.prototype=Object.create(e.prototype,r),n.prototype.constructor=n,Object.defineProperty(n,"super",{value:e.prototype}),t&&Object.assign(n.prototype,t)},KV=(n,e,t,r)=>{let i,o,s,a={};if(e=e||{},n==null)return e;do{for(i=Object.getOwnPropertyNames(n),o=i.length;o-- >0;)s=i[o],(!r||r(s,n,e))&&!a[s]&&(e[s]=n[s],a[s]=!0);n=t!==!1&&by(n)}while(n&&(!t||t(n,e))&&n!==Object.prototype);return e},XV=(n,e,t)=>{n=String(n),(t===void 0||t>n.length)&&(t=n.length),t-=e.length;let r=n.indexOf(e,t);return r!==-1&&r===t},ej=n=>{if(!n)return null;if(la(n))return n;let e=n.length;if(!pS(e))return null;let t=new Array(e);for(;e-- >0;)t[e]=n[e];return t},tj=(n=>e=>n&&e instanceof n)(typeof Uint8Array<"u"&&by(Uint8Array)),nj=(n,e)=>{let r=(n&&n[Ff]).call(n),i;for(;(i=r.next())&&!i.done;){let o=i.value;e.call(n,o[0],o[1])}},rj=(n,e)=>{let t,r=[];for(;(t=n.exec(e))!==null;)r.push(t);return r},ij=Xn("HTMLFormElement"),oj=n=>n.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(t,r,i){return r.toUpperCase()+i}),dS=(({hasOwnProperty:n})=>(e,t)=>n.call(e,t))(Object.prototype),sj=Xn("RegExp"),vS=(n,e)=>{let t=Object.getOwnPropertyDescriptors(n),r={};rc(t,(i,o)=>{let s;(s=e(i,o,n))!==!1&&(r[o]=s||i)}),Object.defineProperties(n,r)},aj=n=>{vS(n,(e,t)=>{if(un(n)&&["arguments","caller","callee"].indexOf(t)!==-1)return!1;let r=n[t];if(un(r)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+t+"'")})}})},lj=(n,e)=>{let t={},r=i=>{i.forEach(o=>{t[o]=!0})};return la(n)?r(n):r(String(n).split(e)),t},cj=()=>{},uj=(n,e)=>n!=null&&Number.isFinite(n=+n)?n:e;function dj(n){return!!(n&&un(n.append)&&n[fS]==="FormData"&&n[Ff])}var fj=n=>{let e=new Array(10),t=(r,i)=>{if(nc(r)){if(e.indexOf(r)>=0)return;if(tc(r))return r;if(!("toJSON"in r)){e[i]=r;let o=la(r)?[]:{};return rc(r,(s,a)=>{let l=t(s,i+1);!aa(l)&&(o[a]=l)}),e[i]=void 0,o}}return r};return t(n,0)},hj=Xn("AsyncFunction"),pj=n=>n&&(nc(n)||un(n))&&un(n.then)&&un(n.catch),yS=((n,e)=>n?setImmediate:e?((t,r)=>(Fo.addEventListener("message",({source:i,data:o})=>{i===Fo&&o===t&&r.length&&r.shift()()},!1),i=>{r.push(i),Fo.postMessage(t,"*")}))(`axios@${Math.random()}`,[]):t=>setTimeout(t))(typeof setImmediate=="function",un(Fo.postMessage)),mj=typeof queueMicrotask<"u"?queueMicrotask.bind(Fo):typeof process<"u"&&process.nextTick||yS,gj=n=>n!=null&&un(n[Ff]),w={isArray:la,isArrayBuffer:hS,isBuffer:tc,isFormData:$V,isArrayBufferView:kV,isString:NV,isNumber:pS,isBoolean:FV,isObject:nc,isPlainObject:Nf,isEmptyObject:PV,isReadableStream:zV,isRequest:GV,isResponse:qV,isHeaders:WV,isUndefined:aa,isDate:LV,isFile:VV,isBlob:jV,isRegExp:sj,isFunction:un,isStream:UV,isURLSearchParams:HV,isTypedArray:tj,isFileList:BV,forEach:rc,merge:_y,extend:JV,trim:ZV,stripBOM:YV,inherits:QV,toFlatObject:KV,kindOf:Pf,kindOfTest:Xn,endsWith:XV,toArray:ej,forEachEntry:nj,matchAll:rj,isHTMLForm:ij,hasOwnProperty:dS,hasOwnProp:dS,reduceDescriptors:vS,freezeMethods:aj,toObjectSet:lj,toCamelCase:oj,noop:cj,toFiniteNumber:uj,findKey:mS,global:Fo,isContextDefined:gS,isSpecCompliantForm:dj,toJSONObject:fj,isAsyncFn:hj,isThenable:pj,setImmediate:yS,asap:mj,isIterable:gj};function ca(n,e,t,r,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=n,this.name="AxiosError",e&&(this.code=e),t&&(this.config=t),r&&(this.request=r),i&&(this.response=i,this.status=i.status?i.status:null)}w.inherits(ca,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:w.toJSONObject(this.config),code:this.code,status:this.status}}});var _S=ca.prototype,bS={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(n=>{bS[n]={value:n}});Object.defineProperties(ca,bS);Object.defineProperty(_S,"isAxiosError",{value:!0});ca.from=(n,e,t,r,i,o)=>{let s=Object.create(_S);w.toFlatObject(n,s,function(u){return u!==Error.prototype},c=>c!=="isAxiosError");let a=n&&n.message?n.message:"Error",l=e==null&&n?n.code:e;return ca.call(s,a,l,t,r,i),n&&s.cause==null&&Object.defineProperty(s,"cause",{value:n,configurable:!0}),s.name=n&&n.name||"Error",o&&Object.assign(s,o),s};var ee=ca;var Vf=null;function wy(n){return w.isPlainObject(n)||w.isArray(n)}function CS(n){return w.endsWith(n,"[]")?n.slice(0,-2):n}function wS(n,e,t){return n?n.concat(e).map(function(i,o){return i=CS(i),!t&&o?"["+i+"]":i}).join(t?".":""):e}function vj(n){return w.isArray(n)&&!n.some(wy)}var yj=w.toFlatObject(w,{},null,function(e){return/^is[A-Z]/.test(e)});function _j(n,e,t){if(!w.isObject(n))throw new TypeError("target must be an object");e=e||new(Vf||FormData),t=w.toFlatObject(t,{metaTokens:!0,dots:!1,indexes:!1},!1,function(v,y){return!w.isUndefined(y[v])});let r=t.metaTokens,i=t.visitor||u,o=t.dots,s=t.indexes,l=(t.Blob||typeof Blob<"u"&&Blob)&&w.isSpecCompliantForm(e);if(!w.isFunction(i))throw new TypeError("visitor must be a function");function c(h){if(h===null)return"";if(w.isDate(h))return h.toISOString();if(w.isBoolean(h))return h.toString();if(!l&&w.isBlob(h))throw new ee("Blob is not supported. Use a Buffer instead.");return w.isArrayBuffer(h)||w.isTypedArray(h)?l&&typeof Blob=="function"?new Blob([h]):Buffer.from(h):h}function u(h,v,y){let x=h;if(h&&!y&&typeof h=="object"){if(w.endsWith(v,"{}"))v=r?v:v.slice(0,-2),h=JSON.stringify(h);else if(w.isArray(h)&&vj(h)||(w.isFileList(h)||w.endsWith(v,"[]"))&&(x=w.toArray(h)))return v=CS(v),x.forEach(function(B,D){!(w.isUndefined(B)||B===null)&&e.append(s===!0?wS([v],D,o):s===null?v:v+"[]",c(B))}),!1}return wy(h)?!0:(e.append(wS(y,v,o),c(h)),!1)}let d=[],p=Object.assign(yj,{defaultVisitor:u,convertValue:c,isVisitable:wy});function f(h,v){if(!w.isUndefined(h)){if(d.indexOf(h)!==-1)throw Error("Circular reference detected in "+v.join("."));d.push(h),w.forEach(h,function(x,U){(!(w.isUndefined(x)||x===null)&&i.call(e,x,w.isString(U)?U.trim():U,v,p))===!0&&f(x,v?v.concat(U):[U])}),d.pop()}}if(!w.isObject(n))throw new TypeError("data must be an object");return f(n),e}var Pi=_j;function ES(n){let e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(n).replace(/[!'()~]|%20|%00/g,function(r){return e[r]})}function IS(n,e){this._pairs=[],n&&Pi(n,this,e)}var DS=IS.prototype;DS.append=function(e,t){this._pairs.push([e,t])};DS.toString=function(e){let t=e?function(r){return e.call(this,r,ES)}:ES;return this._pairs.map(function(i){return t(i[0])+"="+t(i[1])},"").join("&")};var jf=IS;function bj(n){return encodeURIComponent(n).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function ic(n,e,t){if(!e)return n;let r=t&&t.encode||bj;w.isFunction(t)&&(t={serialize:t});let i=t&&t.serialize,o;if(i?o=i(e,t):o=w.isURLSearchParams(e)?e.toString():new jf(e,t).toString(r),o){let s=n.indexOf("#");s!==-1&&(n=n.slice(0,s)),n+=(n.indexOf("?")===-1?"?":"&")+o}return n}var Cy=class{constructor(){this.handlers=[]}use(e,t,r){return this.handlers.push({fulfilled:e,rejected:t,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){w.forEach(this.handlers,function(r){r!==null&&e(r)})}},Ey=Cy;var Bf={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1};var SS=typeof URLSearchParams<"u"?URLSearchParams:jf;var TS=typeof FormData<"u"?FormData:null;var xS=typeof Blob<"u"?Blob:null;var MS={isBrowser:!0,classes:{URLSearchParams:SS,FormData:TS,Blob:xS},protocols:["http","https","file","blob","url","data"]};var Sy={};MM(Sy,{hasBrowserEnv:()=>Dy,hasStandardBrowserEnv:()=>wj,hasStandardBrowserWebWorkerEnv:()=>Cj,navigator:()=>Iy,origin:()=>Ej});var Dy=typeof window<"u"&&typeof document<"u",Iy=typeof navigator=="object"&&navigator||void 0,wj=Dy&&(!Iy||["ReactNative","NativeScript","NS"].indexOf(Iy.product)<0),Cj=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",Ej=Dy&&window.location.href||"http://localhost";var nt=S(S({},Sy),MS);function Ty(n,e){return Pi(n,new nt.classes.URLSearchParams,S({visitor:function(t,r,i,o){return nt.isNode&&w.isBuffer(t)?(this.append(r,t.toString("base64")),!1):o.defaultVisitor.apply(this,arguments)}},e))}function Ij(n){return w.matchAll(/\w+|\[(\w*)]/g,n).map(e=>e[0]==="[]"?"":e[1]||e[0])}function Dj(n){let e={},t=Object.keys(n),r,i=t.length,o;for(r=0;r<i;r++)o=t[r],e[o]=n[o];return e}function Sj(n){function e(t,r,i,o){let s=t[o++];if(s==="__proto__")return!0;let a=Number.isFinite(+s),l=o>=t.length;return s=!s&&w.isArray(i)?i.length:s,l?(w.hasOwnProp(i,s)?i[s]=[i[s],r]:i[s]=r,!a):((!i[s]||!w.isObject(i[s]))&&(i[s]=[]),e(t,r,i[s],o)&&w.isArray(i[s])&&(i[s]=Dj(i[s])),!a)}if(w.isFormData(n)&&w.isFunction(n.entries)){let t={};return w.forEachEntry(n,(r,i)=>{e(Ij(r),i,t,0)}),t}return null}var Uf=Sj;function Tj(n,e,t){if(w.isString(n))try{return(e||JSON.parse)(n),w.trim(n)}catch(r){if(r.name!=="SyntaxError")throw r}return(t||JSON.stringify)(n)}var xy={transitional:Bf,adapter:["xhr","http","fetch"],transformRequest:[function(e,t){let r=t.getContentType()||"",i=r.indexOf("application/json")>-1,o=w.isObject(e);if(o&&w.isHTMLForm(e)&&(e=new FormData(e)),w.isFormData(e))return i?JSON.stringify(Uf(e)):e;if(w.isArrayBuffer(e)||w.isBuffer(e)||w.isStream(e)||w.isFile(e)||w.isBlob(e)||w.isReadableStream(e))return e;if(w.isArrayBufferView(e))return e.buffer;if(w.isURLSearchParams(e))return t.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let a;if(o){if(r.indexOf("application/x-www-form-urlencoded")>-1)return Ty(e,this.formSerializer).toString();if((a=w.isFileList(e))||r.indexOf("multipart/form-data")>-1){let l=this.env&&this.env.FormData;return Pi(a?{"files[]":e}:e,l&&new l,this.formSerializer)}}return o||i?(t.setContentType("application/json",!1),Tj(e)):e}],transformResponse:[function(e){let t=this.transitional||xy.transitional,r=t&&t.forcedJSONParsing,i=this.responseType==="json";if(w.isResponse(e)||w.isReadableStream(e))return e;if(e&&w.isString(e)&&(r&&!this.responseType||i)){let s=!(t&&t.silentJSONParsing)&&i;try{return JSON.parse(e,this.parseReviver)}catch(a){if(s)throw a.name==="SyntaxError"?ee.from(a,ee.ERR_BAD_RESPONSE,this,null,this.response):a}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:nt.classes.FormData,Blob:nt.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};w.forEach(["delete","get","head","post","put","patch"],n=>{xy.headers[n]={}});var ua=xy;var xj=w.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),AS=n=>{let e={},t,r,i;return n&&n.split(`
`).forEach(function(s){i=s.indexOf(":"),t=s.substring(0,i).trim().toLowerCase(),r=s.substring(i+1).trim(),!(!t||e[t]&&xj[t])&&(t==="set-cookie"?e[t]?e[t].push(r):e[t]=[r]:e[t]=e[t]?e[t]+", "+r:r)}),e};var RS=Symbol("internals");function oc(n){return n&&String(n).trim().toLowerCase()}function $f(n){return n===!1||n==null?n:w.isArray(n)?n.map($f):String(n)}function Mj(n){let e=Object.create(null),t=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g,r;for(;r=t.exec(n);)e[r[1]]=r[2];return e}var Aj=n=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(n.trim());function My(n,e,t,r,i){if(w.isFunction(r))return r.call(this,e,t);if(i&&(e=t),!!w.isString(e)){if(w.isString(r))return e.indexOf(r)!==-1;if(w.isRegExp(r))return r.test(e)}}function Rj(n){return n.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,t,r)=>t.toUpperCase()+r)}function Oj(n,e){let t=w.toCamelCase(" "+e);["get","set","has"].forEach(r=>{Object.defineProperty(n,r+t,{value:function(i,o,s){return this[r].call(this,e,i,o,s)},configurable:!0})})}var da=class{constructor(e){e&&this.set(e)}set(e,t,r){let i=this;function o(a,l,c){let u=oc(l);if(!u)throw new Error("header name must be a non-empty string");let d=w.findKey(i,u);(!d||i[d]===void 0||c===!0||c===void 0&&i[d]!==!1)&&(i[d||l]=$f(a))}let s=(a,l)=>w.forEach(a,(c,u)=>o(c,u,l));if(w.isPlainObject(e)||e instanceof this.constructor)s(e,t);else if(w.isString(e)&&(e=e.trim())&&!Aj(e))s(AS(e),t);else if(w.isObject(e)&&w.isIterable(e)){let a={},l,c;for(let u of e){if(!w.isArray(u))throw TypeError("Object iterator must return a key-value pair");a[c=u[0]]=(l=a[c])?w.isArray(l)?[...l,u[1]]:[l,u[1]]:u[1]}s(a,t)}else e!=null&&o(t,e,r);return this}get(e,t){if(e=oc(e),e){let r=w.findKey(this,e);if(r){let i=this[r];if(!t)return i;if(t===!0)return Mj(i);if(w.isFunction(t))return t.call(this,i,r);if(w.isRegExp(t))return t.exec(i);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,t){if(e=oc(e),e){let r=w.findKey(this,e);return!!(r&&this[r]!==void 0&&(!t||My(this,this[r],r,t)))}return!1}delete(e,t){let r=this,i=!1;function o(s){if(s=oc(s),s){let a=w.findKey(r,s);a&&(!t||My(r,r[a],a,t))&&(delete r[a],i=!0)}}return w.isArray(e)?e.forEach(o):o(e),i}clear(e){let t=Object.keys(this),r=t.length,i=!1;for(;r--;){let o=t[r];(!e||My(this,this[o],o,e,!0))&&(delete this[o],i=!0)}return i}normalize(e){let t=this,r={};return w.forEach(this,(i,o)=>{let s=w.findKey(r,o);if(s){t[s]=$f(i),delete t[o];return}let a=e?Rj(o):String(o).trim();a!==o&&delete t[o],t[a]=$f(i),r[a]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){let t=Object.create(null);return w.forEach(this,(r,i)=>{r!=null&&r!==!1&&(t[i]=e&&w.isArray(r)?r.join(", "):r)}),t}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,t])=>e+": "+t).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...t){let r=new this(e);return t.forEach(i=>r.set(i)),r}static accessor(e){let r=(this[RS]=this[RS]={accessors:{}}).accessors,i=this.prototype;function o(s){let a=oc(s);r[a]||(Oj(i,s),r[a]=!0)}return w.isArray(e)?e.forEach(o):o(e),this}};da.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);w.reduceDescriptors(da.prototype,({value:n},e)=>{let t=e[0].toUpperCase()+e.slice(1);return{get:()=>n,set(r){this[t]=r}}});w.freezeMethods(da);var bt=da;function sc(n,e){let t=this||ua,r=e||t,i=bt.from(r.headers),o=r.data;return w.forEach(n,function(a){o=a.call(t,o,i.normalize(),e?e.status:void 0)}),i.normalize(),o}function ac(n){return!!(n&&n.__CANCEL__)}function OS(n,e,t){ee.call(this,n??"canceled",ee.ERR_CANCELED,e,t),this.name="CanceledError"}w.inherits(OS,ee,{__CANCEL__:!0});var Er=OS;function lc(n,e,t){let r=t.config.validateStatus;!t.status||!r||r(t.status)?n(t):e(new ee("Request failed with status code "+t.status,[ee.ERR_BAD_REQUEST,ee.ERR_BAD_RESPONSE][Math.floor(t.status/100)-4],t.config,t.request,t))}function Ay(n){let e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(n);return e&&e[1]||""}function kj(n,e){n=n||10;let t=new Array(n),r=new Array(n),i=0,o=0,s;return e=e!==void 0?e:1e3,function(l){let c=Date.now(),u=r[o];s||(s=c),t[i]=l,r[i]=c;let d=o,p=0;for(;d!==i;)p+=t[d++],d=d%n;if(i=(i+1)%n,i===o&&(o=(o+1)%n),c-s<e)return;let f=u&&c-u;return f?Math.round(p*1e3/f):void 0}}var kS=kj;function Nj(n,e){let t=0,r=1e3/e,i,o,s=(c,u=Date.now())=>{t=u,i=null,o&&(clearTimeout(o),o=null),n(...c)};return[(...c)=>{let u=Date.now(),d=u-t;d>=r?s(c,u):(i=c,o||(o=setTimeout(()=>{o=null,s(i)},r-d)))},()=>i&&s(i)]}var NS=Nj;var fa=(n,e,t=3)=>{let r=0,i=kS(50,250);return NS(o=>{let s=o.loaded,a=o.lengthComputable?o.total:void 0,l=s-r,c=i(l),u=s<=a;r=s;let d={loaded:s,total:a,progress:a?s/a:void 0,bytes:l,rate:c||void 0,estimated:c&&a&&u?(a-s)/c:void 0,event:o,lengthComputable:a!=null,[e?"download":"upload"]:!0};n(d)},t)},Ry=(n,e)=>{let t=n!=null;return[r=>e[0]({lengthComputable:t,total:n,loaded:r}),e[1]]},Oy=n=>(...e)=>w.asap(()=>n(...e));var FS=nt.hasStandardBrowserEnv?((n,e)=>t=>(t=new URL(t,nt.origin),n.protocol===t.protocol&&n.host===t.host&&(e||n.port===t.port)))(new URL(nt.origin),nt.navigator&&/(msie|trident)/i.test(nt.navigator.userAgent)):()=>!0;var PS=nt.hasStandardBrowserEnv?{write(n,e,t,r,i,o){let s=[n+"="+encodeURIComponent(e)];w.isNumber(t)&&s.push("expires="+new Date(t).toGMTString()),w.isString(r)&&s.push("path="+r),w.isString(i)&&s.push("domain="+i),o===!0&&s.push("secure"),document.cookie=s.join("; ")},read(n){let e=document.cookie.match(new RegExp("(^|;\\s*)("+n+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove(n){this.write(n,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function ky(n){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(n)}function Ny(n,e){return e?n.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):n}function cc(n,e,t){let r=!ky(e);return n&&(r||t==!1)?Ny(n,e):e}var LS=n=>n instanceof bt?S({},n):n;function er(n,e){e=e||{};let t={};function r(c,u,d,p){return w.isPlainObject(c)&&w.isPlainObject(u)?w.merge.call({caseless:p},c,u):w.isPlainObject(u)?w.merge({},u):w.isArray(u)?u.slice():u}function i(c,u,d,p){if(w.isUndefined(u)){if(!w.isUndefined(c))return r(void 0,c,d,p)}else return r(c,u,d,p)}function o(c,u){if(!w.isUndefined(u))return r(void 0,u)}function s(c,u){if(w.isUndefined(u)){if(!w.isUndefined(c))return r(void 0,c)}else return r(void 0,u)}function a(c,u,d){if(d in e)return r(c,u);if(d in n)return r(void 0,c)}let l={url:o,method:o,data:o,baseURL:s,transformRequest:s,transformResponse:s,paramsSerializer:s,timeout:s,timeoutMessage:s,withCredentials:s,withXSRFToken:s,adapter:s,responseType:s,xsrfCookieName:s,xsrfHeaderName:s,onUploadProgress:s,onDownloadProgress:s,decompress:s,maxContentLength:s,maxBodyLength:s,beforeRedirect:s,transport:s,httpAgent:s,httpsAgent:s,cancelToken:s,socketPath:s,responseEncoding:s,validateStatus:a,headers:(c,u,d)=>i(LS(c),LS(u),d,!0)};return w.forEach(Object.keys(S(S({},n),e)),function(u){let d=l[u]||i,p=d(n[u],e[u],u);w.isUndefined(p)&&d!==a||(t[u]=p)}),t}var Hf=n=>{let e=er({},n),{data:t,withXSRFToken:r,xsrfHeaderName:i,xsrfCookieName:o,headers:s,auth:a}=e;if(e.headers=s=bt.from(s),e.url=ic(cc(e.baseURL,e.url,e.allowAbsoluteUrls),n.params,n.paramsSerializer),a&&s.set("Authorization","Basic "+btoa((a.username||"")+":"+(a.password?unescape(encodeURIComponent(a.password)):""))),w.isFormData(t)){if(nt.hasStandardBrowserEnv||nt.hasStandardBrowserWebWorkerEnv)s.setContentType(void 0);else if(w.isFunction(t.getHeaders)){let l=t.getHeaders(),c=["content-type","content-length"];Object.entries(l).forEach(([u,d])=>{c.includes(u.toLowerCase())&&s.set(u,d)})}}if(nt.hasStandardBrowserEnv&&(r&&w.isFunction(r)&&(r=r(e)),r||r!==!1&&FS(e.url))){let l=i&&o&&PS.read(o);l&&s.set(i,l)}return e};var Fj=typeof XMLHttpRequest<"u",VS=Fj&&function(n){return new Promise(function(t,r){let i=Hf(n),o=i.data,s=bt.from(i.headers).normalize(),{responseType:a,onUploadProgress:l,onDownloadProgress:c}=i,u,d,p,f,h;function v(){f&&f(),h&&h(),i.cancelToken&&i.cancelToken.unsubscribe(u),i.signal&&i.signal.removeEventListener("abort",u)}let y=new XMLHttpRequest;y.open(i.method.toUpperCase(),i.url,!0),y.timeout=i.timeout;function x(){if(!y)return;let B=bt.from("getAllResponseHeaders"in y&&y.getAllResponseHeaders()),$={data:!a||a==="text"||a==="json"?y.responseText:y.response,status:y.status,statusText:y.statusText,headers:B,config:n,request:y};lc(function(Q){t(Q),v()},function(Q){r(Q),v()},$),y=null}"onloadend"in y?y.onloadend=x:y.onreadystatechange=function(){!y||y.readyState!==4||y.status===0&&!(y.responseURL&&y.responseURL.indexOf("file:")===0)||setTimeout(x)},y.onabort=function(){y&&(r(new ee("Request aborted",ee.ECONNABORTED,n,y)),y=null)},y.onerror=function(D){let $=D&&D.message?D.message:"Network Error",q=new ee($,ee.ERR_NETWORK,n,y);q.event=D||null,r(q),y=null},y.ontimeout=function(){let D=i.timeout?"timeout of "+i.timeout+"ms exceeded":"timeout exceeded",$=i.transitional||Bf;i.timeoutErrorMessage&&(D=i.timeoutErrorMessage),r(new ee(D,$.clarifyTimeoutError?ee.ETIMEDOUT:ee.ECONNABORTED,n,y)),y=null},o===void 0&&s.setContentType(null),"setRequestHeader"in y&&w.forEach(s.toJSON(),function(D,$){y.setRequestHeader($,D)}),w.isUndefined(i.withCredentials)||(y.withCredentials=!!i.withCredentials),a&&a!=="json"&&(y.responseType=i.responseType),c&&([p,h]=fa(c,!0),y.addEventListener("progress",p)),l&&y.upload&&([d,f]=fa(l),y.upload.addEventListener("progress",d),y.upload.addEventListener("loadend",f)),(i.cancelToken||i.signal)&&(u=B=>{y&&(r(!B||B.type?new Er(null,n,y):B),y.abort(),y=null)},i.cancelToken&&i.cancelToken.subscribe(u),i.signal&&(i.signal.aborted?u():i.signal.addEventListener("abort",u)));let U=Ay(i.url);if(U&&nt.protocols.indexOf(U)===-1){r(new ee("Unsupported protocol "+U+":",ee.ERR_BAD_REQUEST,n));return}y.send(o||null)})};var Pj=(n,e)=>{let{length:t}=n=n?n.filter(Boolean):[];if(e||t){let r=new AbortController,i,o=function(c){if(!i){i=!0,a();let u=c instanceof Error?c:this.reason;r.abort(u instanceof ee?u:new Er(u instanceof Error?u.message:u))}},s=e&&setTimeout(()=>{s=null,o(new ee(`timeout ${e} of ms exceeded`,ee.ETIMEDOUT))},e),a=()=>{n&&(s&&clearTimeout(s),s=null,n.forEach(c=>{c.unsubscribe?c.unsubscribe(o):c.removeEventListener("abort",o)}),n=null)};n.forEach(c=>c.addEventListener("abort",o));let{signal:l}=r;return l.unsubscribe=()=>w.asap(a),l}},jS=Pj;var Lj=function*(n,e){let t=n.byteLength;if(!e||t<e){yield n;return}let r=0,i;for(;r<t;)i=r+e,yield n.slice(r,i),r=i},Vj=function(n,e){return Zh(this,null,function*(){try{for(var t=W_(jj(n)),r,i,o;r=!(i=yield new Gi(t.next())).done;r=!1){let s=i.value;yield*Jh(Lj(s,e))}}catch{o=[i]}finally{try{r&&(i=t.return)&&(yield new Gi(i.call(t)))}finally{if(o)throw o[0]}}})},jj=function(n){return Zh(this,null,function*(){if(n[Symbol.asyncIterator]){yield*Jh(n);return}let e=n.getReader();try{for(;;){let{done:t,value:r}=yield new Gi(e.read());if(t)break;yield r}}finally{yield new Gi(e.cancel())}})},Fy=(n,e,t,r)=>{let i=Vj(n,e),o=0,s,a=c=>{s||(s=!0,r&&r(c))};return new ReadableStream({pull(c){return ye(this,null,function*(){try{let{done:u,value:d}=yield i.next();if(u){a(),c.close();return}let p=d.byteLength;if(t){let f=o+=p;t(f)}c.enqueue(new Uint8Array(d))}catch(u){throw a(u),u}})},cancel(c){return a(c),i.return()}},{highWaterMark:2})};var BS=64*1024,{isFunction:zf}=w,zS=(({fetch:n,Request:e,Response:t})=>({fetch:n,Request:e,Response:t}))(w.global),{ReadableStream:US,TextEncoder:$S}=w.global,HS=(n,...e)=>{try{return!!n(...e)}catch{return!1}},Bj=n=>{let{fetch:e,Request:t,Response:r}=Object.assign({},zS,n),i=zf(e),o=zf(t),s=zf(r);if(!i)return!1;let a=i&&zf(US),l=i&&(typeof $S=="function"?(h=>v=>h.encode(v))(new $S):h=>ye(null,null,function*(){return new Uint8Array(yield new t(h).arrayBuffer())})),c=o&&a&&HS(()=>{let h=!1,v=new t(nt.origin,{body:new US,method:"POST",get duplex(){return h=!0,"half"}}).headers.has("Content-Type");return h&&!v}),u=s&&a&&HS(()=>w.isReadableStream(new r("").body)),d={stream:u&&(h=>h.body)};i&&["text","arrayBuffer","blob","formData","stream"].forEach(h=>{!d[h]&&(d[h]=(v,y)=>{let x=v&&v[h];if(x)return x.call(v);throw new ee(`Response type '${h}' is not supported`,ee.ERR_NOT_SUPPORT,y)})});let p=h=>ye(null,null,function*(){if(h==null)return 0;if(w.isBlob(h))return h.size;if(w.isSpecCompliantForm(h))return(yield new t(nt.origin,{method:"POST",body:h}).arrayBuffer()).byteLength;if(w.isArrayBufferView(h)||w.isArrayBuffer(h))return h.byteLength;if(w.isURLSearchParams(h)&&(h=h+""),w.isString(h))return(yield l(h)).byteLength}),f=(h,v)=>ye(null,null,function*(){let y=w.toFiniteNumber(h.getContentLength());return y??p(v)});return h=>ye(null,null,function*(){let{url:v,method:y,data:x,signal:U,cancelToken:B,timeout:D,onDownloadProgress:$,onUploadProgress:q,responseType:Q,headers:De,withCredentials:me="same-origin",fetchOptions:Ue}=Hf(h);Q=Q?(Q+"").toLowerCase():"text";let Ze=jS([U,B&&B.toAbortSignal()],D),$e=null,Fn=Ze&&Ze.unsubscribe&&(()=>{Ze.unsubscribe()}),Wo;try{if(q&&c&&y!=="get"&&y!=="head"&&(Wo=yield f(De,x))!==0){let ar=new t(v,{method:"POST",body:x,duplex:"half"}),Rr;if(w.isFormData(x)&&(Rr=ar.headers.get("content-type"))&&De.setContentType(Rr),ar.body){let[ba,kt]=Ry(Wo,fa(Oy(q)));x=Fy(ar.body,BS,ba,kt)}}w.isString(me)||(me=me?"include":"omit");let rt=o&&"credentials"in t.prototype,_a=X(S({},Ue),{signal:Ze,method:y.toUpperCase(),headers:De.normalize().toJSON(),body:x,duplex:"half",credentials:rt?me:void 0});$e=o&&new t(v,_a);let ot=yield o?e($e,Ue):e(v,_a),Rc=u&&(Q==="stream"||Q==="response");if(u&&($||Rc&&Fn)){let ar={};["status","statusText","headers"].forEach(wa=>{ar[wa]=ot[wa]});let Rr=w.toFiniteNumber(ot.headers.get("content-length")),[ba,kt]=$&&Ry(Rr,fa(Oy($),!0))||[];ot=new r(Fy(ot.body,BS,ba,()=>{kt&&kt(),Fn&&Fn()}),ar)}Q=Q||"text";let Hh=yield d[w.findKey(d,Q)||"text"](ot,h);return!Rc&&Fn&&Fn(),yield new Promise((ar,Rr)=>{lc(ar,Rr,{data:Hh,headers:bt.from(ot.headers),status:ot.status,statusText:ot.statusText,config:h,request:$e})})}catch(rt){throw Fn&&Fn(),rt&&rt.name==="TypeError"&&/Load failed|fetch/i.test(rt.message)?Object.assign(new ee("Network Error",ee.ERR_NETWORK,h,$e),{cause:rt.cause||rt}):ee.from(rt,rt&&rt.code,h,$e)}})},Uj=new Map,Py=n=>{let e=w.merge.call({skipUndefined:!0},zS,n?n.env:null),{fetch:t,Request:r,Response:i}=e,o=[r,i,t],s=o.length,a=s,l,c,u=Uj;for(;a--;)l=o[a],c=u.get(l),c===void 0&&u.set(l,c=a?new Map:Bj(e)),u=c;return c},mX=Py();var Ly={http:Vf,xhr:VS,fetch:{get:Py}};w.forEach(Ly,(n,e)=>{if(n){try{Object.defineProperty(n,"name",{value:e})}catch{}Object.defineProperty(n,"adapterName",{value:e})}});var GS=n=>`- ${n}`,Hj=n=>w.isFunction(n)||n===null||n===!1,Gf={getAdapter:(n,e)=>{n=w.isArray(n)?n:[n];let{length:t}=n,r,i,o={};for(let s=0;s<t;s++){r=n[s];let a;if(i=r,!Hj(r)&&(i=Ly[(a=String(r)).toLowerCase()],i===void 0))throw new ee(`Unknown adapter '${a}'`);if(i&&(w.isFunction(i)||(i=i.get(e))))break;o[a||"#"+s]=i}if(!i){let s=Object.entries(o).map(([l,c])=>`adapter ${l} `+(c===!1?"is not supported by the environment":"is not available in the build")),a=t?s.length>1?`since :
`+s.map(GS).join(`
`):" "+GS(s[0]):"as no adapter specified";throw new ee("There is no suitable adapter to dispatch the request "+a,"ERR_NOT_SUPPORT")}return i},adapters:Ly};function Vy(n){if(n.cancelToken&&n.cancelToken.throwIfRequested(),n.signal&&n.signal.aborted)throw new Er(null,n)}function qf(n){return Vy(n),n.headers=bt.from(n.headers),n.data=sc.call(n,n.transformRequest),["post","put","patch"].indexOf(n.method)!==-1&&n.headers.setContentType("application/x-www-form-urlencoded",!1),Gf.getAdapter(n.adapter||ua.adapter,n)(n).then(function(r){return Vy(n),r.data=sc.call(n,n.transformResponse,r),r.headers=bt.from(r.headers),r},function(r){return ac(r)||(Vy(n),r&&r.response&&(r.response.data=sc.call(n,n.transformResponse,r.response),r.response.headers=bt.from(r.response.headers))),Promise.reject(r)})}var Wf="1.12.1";var Zf={};["object","boolean","number","function","string","symbol"].forEach((n,e)=>{Zf[n]=function(r){return typeof r===n||"a"+(e<1?"n ":" ")+n}});var qS={};Zf.transitional=function(e,t,r){function i(o,s){return"[Axios v"+Wf+"] Transitional option '"+o+"'"+s+(r?". "+r:"")}return(o,s,a)=>{if(e===!1)throw new ee(i(s," has been removed"+(t?" in "+t:"")),ee.ERR_DEPRECATED);return t&&!qS[s]&&(qS[s]=!0,console.warn(i(s," has been deprecated since v"+t+" and will be removed in the near future"))),e?e(o,s,a):!0}};Zf.spelling=function(e){return(t,r)=>(console.warn(`${r} is likely a misspelling of ${e}`),!0)};function zj(n,e,t){if(typeof n!="object")throw new ee("options must be an object",ee.ERR_BAD_OPTION_VALUE);let r=Object.keys(n),i=r.length;for(;i-- >0;){let o=r[i],s=e[o];if(s){let a=n[o],l=a===void 0||s(a,o,n);if(l!==!0)throw new ee("option "+o+" must be "+l,ee.ERR_BAD_OPTION_VALUE);continue}if(t!==!0)throw new ee("Unknown option "+o,ee.ERR_BAD_OPTION)}}var uc={assertOptions:zj,validators:Zf};var Ir=uc.validators,ha=class{constructor(e){this.defaults=e||{},this.interceptors={request:new Ey,response:new Ey}}request(e,t){return ye(this,null,function*(){try{return yield this._request(e,t)}catch(r){if(r instanceof Error){let i={};Error.captureStackTrace?Error.captureStackTrace(i):i=new Error;let o=i.stack?i.stack.replace(/^.+\n/,""):"";try{r.stack?o&&!String(r.stack).endsWith(o.replace(/^.+\n.+\n/,""))&&(r.stack+=`
`+o):r.stack=o}catch{}}throw r}})}_request(e,t){typeof e=="string"?(t=t||{},t.url=e):t=e||{},t=er(this.defaults,t);let{transitional:r,paramsSerializer:i,headers:o}=t;r!==void 0&&uc.assertOptions(r,{silentJSONParsing:Ir.transitional(Ir.boolean),forcedJSONParsing:Ir.transitional(Ir.boolean),clarifyTimeoutError:Ir.transitional(Ir.boolean)},!1),i!=null&&(w.isFunction(i)?t.paramsSerializer={serialize:i}:uc.assertOptions(i,{encode:Ir.function,serialize:Ir.function},!0)),t.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?t.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:t.allowAbsoluteUrls=!0),uc.assertOptions(t,{baseUrl:Ir.spelling("baseURL"),withXsrfToken:Ir.spelling("withXSRFToken")},!0),t.method=(t.method||this.defaults.method||"get").toLowerCase();let s=o&&w.merge(o.common,o[t.method]);o&&w.forEach(["delete","get","head","post","put","patch","common"],h=>{delete o[h]}),t.headers=bt.concat(s,o);let a=[],l=!0;this.interceptors.request.forEach(function(v){typeof v.runWhen=="function"&&v.runWhen(t)===!1||(l=l&&v.synchronous,a.unshift(v.fulfilled,v.rejected))});let c=[];this.interceptors.response.forEach(function(v){c.push(v.fulfilled,v.rejected)});let u,d=0,p;if(!l){let h=[qf.bind(this),void 0];for(h.unshift(...a),h.push(...c),p=h.length,u=Promise.resolve(t);d<p;)u=u.then(h[d++],h[d++]);return u}p=a.length;let f=t;for(d=0;d<p;){let h=a[d++],v=a[d++];try{f=h(f)}catch(y){v.call(this,y);break}}try{u=qf.call(this,f)}catch(h){return Promise.reject(h)}for(d=0,p=c.length;d<p;)u=u.then(c[d++],c[d++]);return u}getUri(e){e=er(this.defaults,e);let t=cc(e.baseURL,e.url,e.allowAbsoluteUrls);return ic(t,e.params,e.paramsSerializer)}};w.forEach(["delete","get","head","options"],function(e){ha.prototype[e]=function(t,r){return this.request(er(r||{},{method:e,url:t,data:(r||{}).data}))}});w.forEach(["post","put","patch"],function(e){function t(r){return function(o,s,a){return this.request(er(a||{},{method:e,headers:r?{"Content-Type":"multipart/form-data"}:{},url:o,data:s}))}}ha.prototype[e]=t(),ha.prototype[e+"Form"]=t(!0)});var dc=ha;var jy=class n{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let t;this.promise=new Promise(function(o){t=o});let r=this;this.promise.then(i=>{if(!r._listeners)return;let o=r._listeners.length;for(;o-- >0;)r._listeners[o](i);r._listeners=null}),this.promise.then=i=>{let o,s=new Promise(a=>{r.subscribe(a),o=a}).then(i);return s.cancel=function(){r.unsubscribe(o)},s},e(function(o,s,a){r.reason||(r.reason=new Er(o,s,a),t(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;let t=this._listeners.indexOf(e);t!==-1&&this._listeners.splice(t,1)}toAbortSignal(){let e=new AbortController,t=r=>{e.abort(r)};return this.subscribe(t),e.signal.unsubscribe=()=>this.unsubscribe(t),e.signal}static source(){let e;return{token:new n(function(i){e=i}),cancel:e}}},WS=jy;function By(n){return function(t){return n.apply(null,t)}}function Uy(n){return w.isObject(n)&&n.isAxiosError===!0}var $y={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries($y).forEach(([n,e])=>{$y[e]=n});var ZS=$y;function JS(n){let e=new dc(n),t=ec(dc.prototype.request,e);return w.extend(t,dc.prototype,e,{allOwnKeys:!0}),w.extend(t,e,null,{allOwnKeys:!0}),t.create=function(i){return JS(er(n,i))},t}var ft=JS(ua);ft.Axios=dc;ft.CanceledError=Er;ft.CancelToken=WS;ft.isCancel=ac;ft.VERSION=Wf;ft.toFormData=Pi;ft.AxiosError=ee;ft.Cancel=ft.CanceledError;ft.all=function(e){return Promise.all(e)};ft.spread=By;ft.isAxiosError=Uy;ft.mergeConfig=er;ft.AxiosHeaders=bt;ft.formToJSON=n=>Uf(w.isHTMLForm(n)?new FormData(n):n);ft.getAdapter=Gf.getAdapter;ft.HttpStatusCode=ZS;ft.default=ft;var YS=ft;var{Axios:Jf,AxiosError:pee,CanceledError:mee,isCancel:gee,CancelToken:vee,VERSION:yee,all:_ee,Cancel:bee,isAxiosError:wee,spread:Cee,toFormData:Eee,AxiosHeaders:Iee,HttpStatusCode:Dee,formToJSON:See,getAdapter:Tee,mergeConfig:xee}=YS;var Po=new Jf,Yf=null,jt=null,KS=null;Po.interceptors.request.use(n=>ye(null,null,function*(){if(!jt)return n;if(jt.token!=""&&Zj(jt?.token)&&!(n.url?.includes("/user/refresh")||n.url?.includes("/user/logout"))){let e=yield Po.get("/user/refresh");e.status==200&&(jt.token=e.data.accessToken)}return(n.url==="/item/save"||n.url==="/item/update")&&n.data.itemList.forEach(e=>{e.userDefined&&e.userDefined.formControlSchema.fields?.forEach(t=>{if(e.userDefined?.data&&(t.type=="image"||t.type=="file"||t.type=="iframe")){let r=e.uuid+"_"+e.userDefined?.tag.name+"_"+t.name.replaceAll("/","_").replaceAll("\\","_"),i=e.userDefined.data[t.name]||"";e.userDefined.data[t.name]="/item/doc/"+jt?.userGroup+"_"+jt?.email.replace(".","_").replace("@","_")+"_"+r;let a=i.split(";")[0].split(":")[1];Yj(i,r,a,r).then(l=>{}).catch(()=>{(e.userDefined?.data)[t.name]=i})}})}),n.headers.Authorization="Bearer "+jt.token,n.data instanceof FormData||(n.data=JSON.stringify(n.data)),n.headers["Content-Type"]||(n.headers["Content-Type"]="application/json"),n.url=(KS||"")+n.url,n.withCredentials=!0,n}),function(n){return console.error(n),Promise.reject(n)});Po.interceptors.response.use(n=>(n.data&&(n.data=JSON.parse(n.data)),n));self.onmessage=n=>{let{op:e}=n.data;switch(e){case 1:Gj(n.data);break;case 2:Wj(n.data);break}};function Gj(n){jt=n.user,KS=n.backendUrl,qj().then(e=>{console.log("SYNC start",Date.now()),eT().then(t=>{!jt||jt?.email==Pe.email&&jt?.userGroup==Pe.userGroup||Po.post("/item/getdiff",t).then(r=>{r.status==200&&XS(r.data)}).catch(r=>{throw console.error(r),r})})})}function XS(n){if(!n)return;let e=n.itemsForAdd,t=n.itemsForUpdate,r=n.itemsForDelete,i=n.itemsForSync,o=new _e(!1),s=[];i.forEach(a=>{Jj(a.uuid).then(l=>{s.push(l),o.next(!0)})}),i.length==0&&(e.length>0||t.length>0||r.length>0)&&o.next(!0),o.pipe(lr(100)).subscribe(a=>{if(a){s.length>0&&(Po.patch("/item/update",{itemList:s}),s=[]);let l=Hy(e),c=Hy(t),u=Hy(r);console.log("SYNC merge",Date.now()),self.postMessage({op:2,itemsForAdd:l,itemsForUpdate:c,itemsForDelete:u},{transfer:[l,c,u]})}})}function Hy(n){let e=JSON.stringify(n);return new TextEncoder().encode(e).buffer}function qj(){return new Promise((n,e)=>{jt=jt||Pe;let t=indexedDB.open("todo_items_db/"+jt.userGroup+"/"+jt.email,1);t.onsuccess=r=>{Yf=r.target.result,Yf.onerror=i=>{throw i.srcElement.error},n(Yf)},t.onerror=e})}function Wj(n){console.log("merging sync"),eT(1).then(e=>{Po.post("/item/getdiff",e).then(t=>{XS(t.data)})})}function QS(n,e){return new Promise((t,r)=>{let i=tT(n).openCursor(null,"prev"),o=[];i.onsuccess=s=>{let a=s.target.result;a?(o.push({uuid:a.value.uuid,updationTimestamp:a.value.updationTimestamp,version:a.value.version}),e===-1||o.length<e?a.continue():t(o)):t(o)},i.onerror=r})}function eT(n=-1){return new Promise((e,t)=>{let r=[],i=[];QS("todo_items",n).then(o=>{r=o;let s=n!=-1;QS("deleted_todo_items",n).then(a=>{i=a,e({partial:s,mergeItems:r,deleteItems:i})})})})}function Zj(n){if(!n)return null;try{let e=n.split(".")[1],t=0;if(e){let r=atob(e);t=JSON.parse(r).exp*1e3}return t<Date.now()}catch(e){return console.error("Failed to decode token:",e),null}}function Jj(n,e=!1){return new Promise((t,r)=>{let s=tT(e?"deleted_todo_items":"todo_items").index("uuidIndex").get(n);s.onsuccess=a=>{let l=a.target.result;t(l)},s.onerror=r})}function tT(n){return Yf.transaction(n,"readonly").objectStore(n)}function Yj(n,e,t,r){return new Promise((i,o)=>{let s=new FormData;s.append("file",Qj(n)),s.append("fileType",t),s.append("fileInfo",r),s.append("fileName",e),Po.post("/item/save/document",s,{headers:{"Content-Type":"multipart/form-data"}}).then(a=>{i(a.data.body)})})}function Qj(n){let e=n.split(","),t=(e[0].match(/:(.*?);/)||[void 0,void 0])[1],r=atob(e[1]),i=r.length,o=new Uint8Array(i);for(;i--;)o[i]=r.charCodeAt(i);return new Blob([o],{type:t})}var Qx=RM(Jx());var L_=null;var Dc=null;var bh="",Yx=null,V_=null;self.onmessage=n=>{let e=n.data.target;n.data.op==0&&p3(e.backendUrl,e.user),n.data.op==5&&(V_?.send(e),console.log(e))};function p3(n,e){bh=n,Yx=e,V_=new j_(bh+"/ws?sessionToken="+Yx.token),V_.handleMessage=t=>{self.postMessage({op:4,message:t})}}var j_=class{socket=null;maxAttempts=10;backoff=5e3;currentAttemptCount=0;reconnect=!0;reconnectTimer=-1;messageQueue=[];url="";handleClose=e=>{};handleMessage=e=>{};handleOnOpen=e=>{};handleError=e=>{};constructor(e){this.url=e,this.connect()}connect(){this.socket=new WebSocket(this.url),this.socket.onerror=e=>{console.error(e),this.handleError(e)},this.socket.onopen=e=>{this.onopen(e)},this.socket.onmessage=e=>{this.onmessage(e)},this.socket.onclose=e=>{this.onclose(e)}}disconnect(){this.socket=null}onmessage(e){return ye(this,null,function*(){let r=yield e.data.arrayBuffer(),i=new Uint8Array(r),o=yield m3(i);console.log("Sock got",o),this.handleMessage(o)})}onopen(e){this.reconnect=!1,clearTimeout(this.reconnectTimer),this.currentAttemptCount=0,this.reconnectTimer=-1,this.handleOnOpen(e),console.log("open ",1)}onclose(e){console.log("Disconnected ",e.wasClean,e.reason),e.wasClean||(this.reconnect=!0,clearTimeout(this.reconnectTimer),this.currentAttemptCount<this.maxAttempts&&setTimeout(()=>{this.connect(),this.currentAttemptCount++},Math.pow(2,this.currentAttemptCount)*this.backoff)),this.handleClose(e)}send(e){let t=Dc.create(e),r=Dc.encode(t).finish();this.socket?.readyState==WebSocket.OPEN?(this.socket?.send(r),console.log("Socket send ",e),this.messageQueue.length!=0&&(this.messageQueue.forEach(i=>{this.send(i)}),this.messageQueue=[])):this.messageQueue.push(r)}};function m3(n){return new Promise((e,t)=>ye(null,null,function*(){if(!L_){let o=self.location.href.split("/").slice(0,3).join("/"),s="";bh===o?s="/proto/sock_message.proto":s=bh+"/proto/sock_message.proto",L_=yield Qx.load(s),Dc=L_.lookupType("MessageProto")}let r=Dc.verify(n);if(r){t(r);return}let i=Dc.decode(n);e(i)}))}var Ut=class n{constructor(e,t,r){this.toaster=e;this.userService=t;this.router=r;this.backendUrl=localStorage.qtodo_backend_url,!this.backendUrl&&window.location.href.includes("/ang/")&&(this.backendUrl=window.location.href.split("/ang/")[0]),this.backendUrl&&this.backendUrl!=="null"&&this.connectToBackend().then(i=>{if(!i)return;let o=localStorage.recentLogins;if(!o||o=="null"){this.router.navigate(["/login"]);return}o=JSON.parse(o);let s=localStorage.lastLoggedInAs,a=o[s];a.email==Pe.email&&a.userGroup==Pe.userGroup||(this.userService.loggedInUser.next(a),this.getToken().then(l=>{l&&l!=""&&(a.token=l,localStorage.recentLogins=JSON.stringify(o))}))}),this.connected$.subscribe(i=>{i?this.toaster.info("connected to backend successfully!"):this.toaster.error("disconnected from backend! switched to offline mode")}),this.userService.loggedInUser.subscribe(i=>ye(this,null,function*(){if(i.email==Pe.email)this.accessToken="";else{this.accessToken=i.token||"",yield this.refreshTokenIfExpired();let o=this.userService.getPayloadFromAccessToken();if(o.user_group_colaboration&&!this.socketWorkers.get(o.user_group)){let s=new Worker(new URL("worker-5SMGX7LB.js",import.meta.url),{type:"module"});s.postMessage({op:0,target:{user:i,backendUrl:this.backendUrl}}),this.socketWorkers.set(o.user_group,s)}}localStorage.lastLoggedInAs=i.userGroup+"/"+i.email})),this.axios.interceptors.request.use(i=>ye(this,null,function*(){if(this.accessToken!=""&&!(i.url?.includes("/user/refresh")||i.url?.includes("/user/logout"))&&(yield this.refreshTokenIfExpired()),(i.url==="/item/save"||i.url==="/item/update")&&i.data.itemList.forEach(o=>{o.userDefined&&o.userDefined.formControlSchema.fields?.forEach(s=>{if(o.userDefined?.data&&(s.type=="image"||s.type=="file"||s.type=="iframe")){let a=this.userService.loggedInUser.value,l=o.uuid+"_"+o.userDefined?.tag.name+"_"+s.name.replaceAll("/","_").replaceAll("\\","_"),c=o.userDefined.data[s.name]||"";o.userDefined.data[s.name]="/item/doc/"+a.userGroup+"_"+a.email.replace(".","_").replace("@","_")+"_"+l;let p=c.split(";")[0].split(":")[1];this.postFileToBackend(c,l,p,l).then(f=>{}).catch(()=>{(o.userDefined?.data)[s.name]=c})}})}),i.url?.includes("/user/signup")&&i.data.profilePicture){let o=i.data,s=i.data.profilePicture;if(s){let l=i.data.profilePicture.split(";")[0].split(":")[1],c="profile_pic_"+o.userGroup;i.data.profilePicture=o.userGroup+"_"+o.email.replace(".","_").replace("@","_")+"_"+c,setTimeout(()=>{this.postFileToBackend(s,c,l,c)},1e3)}}return i.headers.Authorization="Bearer "+this.accessToken,i.data instanceof FormData||(i.data=JSON.stringify(i.data)),i.headers["Content-Type"]||(i.headers["Content-Type"]="application/json"),i.url=this.backendUrl+i.url,i.withCredentials=!0,i}),function(i){return console.error(i),Promise.reject(i)}),this.axios.interceptors.response.use(i=>{if(i.data)try{i.data=JSON.parse(i.data)}catch{}return i.data.responseMessage&&(i.status==200?this.toaster.success(i.data.responseMessage):i.status>=400&&i.status<=500?(i.data.responseMessage.includes("Invalid JWT")&&!i.config.url?.includes("/user/logout")&&(this.logoutUser(),this.userService.loginUser()),this.toaster.error(i.data.responseMessage)):this.toaster.warn(i.data.responseMessage)),i})}backendUrl="";socketWorkers=new Map;connected=new _e(!1);connected$=this.connected.asObservable();accessToken="";axios=new Jf;isTokenExpired(e){try{let t=e.split(".")[1],r=0;if(t){let i=atob(t);r=JSON.parse(i).exp*1e3}return r<Date.now()}catch(t){return console.error("Failed to decode token:",t),null}}connectToBackend(){return new Promise((e,t)=>{(!this.backendUrl||this.backendUrl=="null"||this.backendUrl.trim()=="")&&(this.backendUrl=prompt("Enter backend server url to use cross device!")||"",this.backendUrl=this.backendUrl.replace(/\/+$/,"")),this.backendUrl&&this.backendUrl!="null"&&this.backendUrl.trim()!=""?fetch(this.backendUrl+"/up").then(r=>{if(r.ok&&r.body){let o=r.body?.getReader(),s=new TextDecoder;o?.read().then(a=>{let l=s.decode(a.value,{stream:!a.done});this.toaster.info(l)}),this.connected.next(!0),localStorage.qtodo_backend_url=this.backendUrl,e(!0)}}).catch(r=>{console.error("unable to connect to "+this.backendUrl,r),localStorage.qtodo_backend_url=null,this.backendUrl="",this.connected.next(!1),t(r)}):t("Blank backend Url")})}disconnectFromBackend(){return new Promise(e=>{this.connected.next(!1),this.backendUrl="",localStorage.qtodo_backend_url=null,e(!0)})}logoutUser(){this.axios.post("/user/logout"),this.accessToken="",this.userService.loggedInUser.next(Pe)}dataURLtoBlob(e){let t=e.split(","),r=t[0].match(/:(.*?);/),i=atob(t[1]),o=i.length,s=new Uint8Array(o);for(;o--;)s[o]=i.charCodeAt(o);return new Blob([s],{type:r?r[1]:""})}postFileToBackend(e,t,r,i){return new Promise((o,s)=>{let a=new FormData;a.append("file",this.dataURLtoBlob(e)),a.append("fileType",r),a.append("fileInfo",i),a.append("fileName",t),this.axios.post("/item/save/document",a,{headers:{"Content-Type":"multipart/form-data"}}).then(l=>{o(l.data.body)})})}refreshTokenIfExpired(){return ye(this,null,function*(){if(this.isTokenExpired(this.accessToken)){let e=yield this.axios.get("/user/refresh");e.status==200?(this.accessToken=e.data.accessToken,this.userService.loggedInUser.value.token=this.accessToken):this.logoutUser()}})}getToken(){return new Promise((e,t)=>{this.refreshTokenIfExpired().then(()=>e(this.accessToken))})}getUrlWithToken(e){return ye(this,null,function*(){return this.backendUrl+e+"?sessionToken="+(yield this.getToken())})}static \u0275fac=function(t){return new(t||n)(N(_t),N(Vt),N(Be))};static \u0275prov=O({token:n,factory:n.\u0275fac,providedIn:"root"})};var wh=class n{constructor(e,t,r,i,o,s,a,l,c){this.toaster=e;this.connectionService=t;this.localUpdateService=r;this.localAddService=i;this.localDeleteService=o;this.dbUtils=s;this.localSearchService=a;this.localGetService=l;this.router=c;this.syncWorker=new Worker(new URL("worker-JZVF5OON.js",import.meta.url),{type:"module"}),this.syncWorker.onerror=u=>{this.toaster.error("Unable to sync with backend!"),console.error(u)},this.syncWorker.onmessageerror=u=>{this.toaster.error("sync operation failed!"),console.error(u)},this.syncWorker.onmessage=u=>{this.handleSyncMessage(u)},t.connected$.subscribe(u=>{this.connected=u})}connected=!1;syncWorker;socketWorker=null;db=null;user=null;refresh$=new _e(!1);init(e,t){this.db=e,this.user=t,this.connected&&(this.syncWorker.postMessage({op:1,backendUrl:this.connectionService.backendUrl,user:t}),setTimeout(()=>{let r=this.connectionService.socketWorkers.get(t.userGroup);r&&(r.onmessage=i=>{let o=i.data;o.op==4&&o.message.type=="REFRESH_MERGE"&&this.syncWorker.postMessage({op:2})},this.socketWorker=r)},2e3))}deserializeFromBuffToItems(e){let r=new TextDecoder("utf-8").decode(e);return JSON.parse(r)}handleSyncMessage(e){if(e.data.op===2){console.log("Starting sync merge",Date.now());let t=this.deserializeFromBuffToItems(e.data.itemsForAdd),r=this.deserializeFromBuffToItems(e.data.itemsForUpdate),i=this.deserializeFromBuffToItems(e.data.itemsForDelete),o=new _e(!1);t.forEach(s=>{this.db&&this.localAddService.addItem(this.db,s,()=>{o.next(!0)})}),r.forEach(s=>{this.db&&this.localGetService.getItemByUUID(this.db,s.uuid).subscribe(a=>{s.id=a.id,this.db&&new Date(a.updationTimestamp).getTime()<new Date(s.updationTimestamp).getTime()&&this.localUpdateService.updateItem(this.db,s,()=>{o.next(!0)})})}),i.forEach(s=>{this.db&&this.localGetService.getItemByUUID(this.db,s.uuid).subscribe(a=>{this.db&&(this.localDeleteService.deleteItem(this.db,a),o.next(!0))})}),o.pipe(lr(100)).subscribe(s=>{s&&(this.toaster.success("Synced items with backend!"),this.signalRefresh())})}}handleColabNotif(){this.socketWorker&&this.socketWorker.postMessage({op:5,target:{type:"REFRESH_MERGE"}})}getAll(){return this.connected?new Promise((e,t)=>{this.connectionService.axios.get("/item/all").then(r=>{e(r.data.items)}).catch(r=>t(r))}):Promise.resolve([])}addItem(e){this.connected&&(console.log("sending add",Date.now()),console.log("todo item",e.updationTimestamp),this.connectionService.axios.post("/item/save",{itemList:[e]}).then(t=>{console.log(t),console.log("recieved response",Date.now()),this.handleColabNotif()}).catch(t=>{console.log(t)}))}updateManyItems(e){return this.connected?new Promise((t,r)=>{this.connectionService.axios.patch("/item/update",{itemList:e}).then(i=>{console.log(i),t(i),this.handleColabNotif()}).catch(i=>{console.log(i),r(i)})}):new Promise(t=>t())}updateItem(e,t){this.connected&&this.localGetService.getItemById(e,t.id).subscribe(r=>{this.updateManyItems([t]),console.log(r)})}deleteItem(e){this.connected&&this.connectionService.axios.post("/item/delete",{itemList:[e]}).then(t=>{console.log(t),this.handleColabNotif()}).catch(t=>{console.log(t)})}signalRefresh(){this.refresh$.next(!0),this.refresh$.next(!1)}ngOnDestroy(){this.syncWorker.terminate()}static \u0275fac=function(t){return new(t||n)(N(_t),N(Ut),N(ki),N(ra),N(ia),N(Lt),N(oa),N(Ni),N(Be))};static \u0275prov=O({token:n,factory:n.\u0275fac,providedIn:"root"})};var $t=class n{constructor(e,t,r,i,o,s,a,l,c){this.addService=e;this.updateService=t;this.deleteService=r;this.getService=i;this.searchService=o;this.sortService=s;this.toaster=a;this.userService=l;this.backendService=c;l.loggedInUser$.subscribe(u=>{this.initializeIndexDB(u)}),this.changedItem$.subscribe(u=>{if(!u)return;let d=!1,p=this.todoItems.value.map(f=>f.id==u.id?u.deleted?(d=!0,null):(d=!0,S({},u)):f).filter(f=>f!=null);d||p.push(u),this.todoItems.next(p)}),this.backendService.refresh$.subscribe(u=>{u&&this.initializeItems()})}fromBin=!1;db;todoItems=new _e([]);todoItems$=this.todoItems.asObservable();changedItem=new _e(null);changedItem$=this.changedItem.asObservable();initializeIndexDB(e){let t="todo_items_db/"+e.userGroup+"/"+e.email;console.log(t);let r=indexedDB.open(t,1);r.onerror=i=>{this.toaster.error("error connecting to local idexedDB!"),console.error("Error opening IndexedDB:",i)},r.onupgradeneeded=i=>{let o=i.target.result,s=o.createObjectStore("todo_items",{keyPath:"id",autoIncrement:!0}),a=o.createObjectStore("deleted_todo_items",{keyPath:"id",autoIncrement:!0}),l=o.createObjectStore("tags_todo_items",{keyPath:"name"}),c=o.createObjectStore("custom_items",{keyPath:"tag"});s.createIndex("subjectIndex","subject",{unique:!0}),s.createIndex("uuidIndex","uuid",{unique:!0}),s.createIndex("tagsIndex","tags",{multiEntry:!0}),s.createIndex("creationTimestampIndex","creationTimestamp"),s.createIndex("updationTimestampIndex","updationTimestamp"),a.createIndex("subjectIndex","subject",{unique:!0}),a.createIndex("uuidIndex","uuid",{unique:!0}),a.createIndex("tagsIndex","tags",{multiEntry:!0}),a.createIndex("creationTimestampIndex","creationTimestamp"),a.createIndex("updationTimestampIndex","updationTimestamp"),l.createIndex("tagName","name",{unique:!0}),c.createIndex("tagIndex","tag",{unique:!0}),this.toaster.success("setup "+t)},r.onsuccess=i=>{let o=i.target.result;this.db=o,o.onerror=s=>{throw s.srcElement.error},this.backendService.init(o,e),this.initializeItems()}}initializeItems(){this.getAll().subscribe(e=>{console.log("DB fetch",Date.now()),this.todoItems.next(e)})}getAll(){return console.log("Get all",Date.now()),this.getService.getAllItems(this.db,this.fromBin).pipe(qe(()=>console.log("Get all done",Date.now())))}deleteAll(){prompt(`Are you sure you want to delete all items from ${this.fromBin?"bin":"item list"}?
 [ Y | N ]`)==="Y"&&(this.todoItems.next([]),this.getService.getAllItems(this.db,this.fromBin).subscribe(t=>{t.forEach(r=>{this.deleteItem(r)}),this.toaster.success("cleared all items from "+(this.fromBin?"bin":"todo list"))},t=>{this.toaster.error("error deleting all items"),console.error(t)}))}searchTodos(e,t=[],r=[],i=!1){return this.searchService.searchTodos(this.db,e,t,r,this.fromBin,i).pipe(qe(()=>{console.log("search",Date.now())}))}sortTodoItems(e,t,r=null){return this.sortService.sortItems(e,t,r).pipe(qe(()=>{console.log("sort",Date.now())}))}addItem(e){return new Promise((t,r)=>{e.subject.trim()===""&&(e.subject=new Date().toISOString()),this.addService.addItem(this.db,e,i=>{let o=i.target.result;t(o),this.backendService.addItem(e);let s=e;s.id=o,this.changedItem.next(s),this.toaster.success("item saved localy")},i=>{this.toaster.error("error adding todo item!"),this.toaster.error(i.srcElement.error),console.error("error adding todo item: ",i),r(i)})})}addCustom(e,t){this.addService.addCustom(this.db,e,t,r=>{this.toaster.success("saved "+e+" localy")},r=>{this.toaster.error("error saving "+e),console.error("error adding custom item",r)})}getItemById(e){return this.getService.getItemById(this.db,e)}getItemByUUID(e){return this.getService.getItemByUUID(this.db,e)}getCustom(e){return this.getService.getCustom(this.db,e)}getAllCustom(e){return this.getService.getAllCustom(this.db,e)}getTagWithNameLike(e){return this.getService.getTagWithNameLike(this.db,e)}updateItem(e){this.backendService.updateItem(this.db,e),this.updateService.updateItem(this.db,e,t=>{this.changedItem.next(e),this.toaster.success("todo item updated localy")},t=>{this.toaster.error("error updating todo item"),console.error("error updating todo item: ",t)})}updateCustom(e,t){this.updateService.updateCustom(this.db,e,t,r=>{this.toaster.success("updated "+e+" localy")},r=>{this.toaster.error("error updating "+e),console.error("error updating "+e,r)})}deleteItem(e){try{this.deleteService.deleteItem(this.db,e,this.fromBin),e.deleted=!0,this.changedItem.next(e),this.backendService.deleteItem(e),this.toaster.success("todo item deleted localy")}catch(t){this.toaster.error("error deleting todo item"),console.error("error deleting todo item: ",t)}}deleteItemById(e){this.getService.getItemById(this.db,e).subscribe(t=>{this.deleteItem(t)})}serializeOneToJson(e){let t=JSON.stringify(e.userDefined,null,4);return t=t||'{"tag":{"name":""}, "formControlSchema":{"fields":[]}}',`
    {
      "id": ${e.id?e.id:null},
      "subject": ${JSON.stringify(e.subject)},
      "description": ${JSON.stringify(e.description)},
      "tags": [${e.tags.map(r=>`{"id": ${r.id?r.id:null}, "name": "${r.name.replace(/\"/g,"&quot;")}"}`)}],
      "completionStatus": ${e.completionStatus},
      "setForReminder": ${e.setForReminder},
      "creationTimestamp": "${e.creationTimestamp}",
      "updationTimestamp": "${e.updationTimestamp}",
      "eventStart": ${e.eventStart?'"'+e.eventStart+'"':null},
      "eventEnd": ${e.eventEnd?'"'+e.eventEnd+'"':null},
      "eventFullDay": ${e.eventFullDay?e.eventFullDay:!1},
      "deleted": ${e.deleted?e.deleted:!1},
      "userDefined": ${t}
    }`}serializeManyToJson(e){return new Z(t=>{t.next(`{ "items": [
        ${e.map(r=>this.serializeOneToJson(r)+`
`)}]}`)})}deserializeOneFromJson(e){let t={id:Number.MIN_VALUE,version:0,uuid:"",subject:"",description:"",tags:[],completionStatus:!1,setForReminder:!1,creationTimestamp:"",updationTimestamp:"",eventStart:"",eventEnd:"",eventFullDay:!1,deleted:!1,userDefined:{tag:{name:""},formControlSchema:{},data:null}};try{t=JSON.parse(e)}catch(r){console.error("error deserializing json string to todo item",r),this.toaster.error("error deserializing json string to todo item ")}return t}deserializeManyFromJson(e){return new Z(t=>{let r=[];try{r=JSON.parse(e).items}catch(i){console.error("error deserializing json string to todo item",i),this.toaster.error("error deserializing json string to todo item ")}t.next(r)})}addMany(e){return ye(this,null,function*(){let t=[],r=[],i=[],o=[],s=new _e(!1),a=this.db.onerror;this.db.onerror=l=>{o.push(l)};for(let l=0;l<=e?.length;l++){let c=e[l];c&&(c.subject.trim()===""&&(c.subject=new Date().toISOString()),this.addService.addItem(this.db,c,u=>{let d=u.target.result,p=c;p.id=d,t.push(p),s.next(!0)},u=>{this.getItemById(c.id).subscribe(d=>{d?new Date(d.updationTimestamp)<new Date(c.updationTimestamp)&&this.updateService.updateItem(this.db,c,p=>{i.push(c),s.next(!0)}):this.searchTodos(c.subject).subscribe(p=>{new Date(p[0].updationTimestamp)<new Date(c.updationTimestamp)&&(this.updateItem(c),this.updateService.updateItem(this.db,c,f=>{i.push(c),s.next(!0)}))})})}))}s.pipe(lr(100)).subscribe(l=>{l&&(this.db.onerror=a,t.length>0&&this.toaster.success(`added ${t.length} items`),i.length>0&&this.toaster.success(`updated ${i.length} items`),o.length>0&&this.toaster.error(`encountered ${o.length} errors`),r.length>0&&this.downloadTodoItemsAsJson(r,"stale"),this.initializeItems())})})}downloadTodoItemsAsJson(e,t="todo"){this.serializeManyToJson(e).subscribe(r=>{let i=new Blob([r],{type:"application/json"}),o=URL.createObjectURL(i),s=document.createElement("a");s.href=o,s.download=`${t}-${new Date().toLocaleString().replaceAll(/[ ,:/]/g,"_")}.json`,s.click(),this.toaster.success("downloaded "+e.length+" "+t+" items"),URL.revokeObjectURL(o)})}ngOnDestroy(){this.todoItems.unsubscribe(),this.changedItem.unsubscribe()}static \u0275fac=function(t){return new(t||n)(N(ra),N(ki),N(ia),N(Ni),N(oa),N(Fi),N(_t),N(Vt),N(wh))};static \u0275prov=O({token:n,factory:n.\u0275fac,providedIn:"root"})};function y3(n,e){if(n&1){let t=ae();m(0,"div",7),A("click",function(){F(t);let i=T().index,o=T();return P(o.editable&&(o.editing=i))}),C(1),g()}if(n&2){let t=T().$implicit;_(),We(" ",t.name," ")}}function _3(n,e){if(n&1){let t=ae();m(0,"a",14),A("focus",function(){let i=F(t).$implicit;T();let o=Ts(3);return P(o.innerText=i.name)}),C(1),g()}if(n&2){let t=e.$implicit;_(),ke(t.name)}}function b3(n,e){if(n&1){let t=ae();m(0,"div",8)(1,"div",9)(2,"div",10,0),A("input",function(i){F(t);let o=T(2);return P(o.handleTagNameInput(i))}),g(),m(4,"mat-icon",11),A("click",function(){F(t);let i=Ts(3),o=T().$implicit,s=T();return P(s.updateState(o,i))}),C(5,"done"),g()(),m(6,"div",12),H(7,_3,2,1,"a",13),g()()}if(n&2){let t=T().$implicit,r=T();_(2),b("innerText",t.name),_(5),b("ngForOf",r.suggestedTag)}}function w3(n,e){if(n&1&&(m(0,"div",4),H(1,y3,2,1,"div",5)(2,b3,8,2,"div",6),g()),n&2){let t=e.index,r=T();_(),b("ngIf",r.editing!=t),_(),b("ngIf",t==r.editing)}}function C3(n,e){if(n&1){let t=ae();m(0,"mat-icon",15),A("click",function(){F(t);let i=T();return P(i.addItem())}),C(1,"add_circle_outline"),g()}}var Hi=class n{constructor(e){this.todoItemService=e}tagsList=[];names=[];editable=!1;onChange=new xe;editing=-1;suggestedTag=[];ngOnInit(){}ngOnChanges(e){this.names.length>0&&this.names.forEach(t=>this.tagsList.push({name:t}))}updateState(e,t){let r=t?.innerHTML;e.name=this.stripOutHtml(r),this.tagsList=this.tagsList.filter(i=>i.name.trim()!=""),this.tagsList.forEach(i=>i.name=i.name.trim()),this.onChange.emit(this.tagsList),this.editing=-1}addItem(){this.tagsList.push({name:"....."}),this.editing=this.tagsList.length-1}handleTagNameInput(e){let r=e.target.innerHTML;this.todoItemService.getTagWithNameLike(this.stripOutHtml(r)).subscribe(i=>{this.suggestedTag=i})}stripOutHtml(e){return e.replaceAll(/<div>|<\/div>|<br>/g,"")||""}static \u0275fac=function(t){return new(t||n)(I($t))};static \u0275cmp=ce({type:n,selectors:[["app-tag-list"]],inputs:{tagsList:[0,"tags","tagsList"],names:"names",editable:"editable"},outputs:{onChange:"onChange"},features:[it],decls:3,vars:2,consts:[["tagInput",""],[1,"flex","flex-row","items-center","flex-wrap","option",2,"color","var(--todo-item-text-color)"],["style","background: var(--todo-item-body-color);","class","hover:outline-1 m-0.5 pl-1 pr-1 rounded-md flex items-center option",4,"ngFor","ngForOf"],["class","hover:scale-110 cursor-pointer transition-all option",3,"click",4,"ngIf"],[1,"hover:outline-1","m-0.5","pl-1","pr-1","rounded-md","flex","items-center","option",2,"background","var(--todo-item-body-color)"],["class","w-fit option field-sizing-content",3,"click",4,"ngIf"],["class","flex flex-col",4,"ngIf"],[1,"w-fit","option","field-sizing-content",3,"click"],[1,"flex","flex-col"],[1,"flex","flex-row"],["contenteditable","true",1,"w-fit","option","field-sizing-content","outline-0","border-b-2","wrap-break-word",3,"input","innerText"],["title","save changes",1,"hover:scale-110","cursor-pointer","option",3,"click"],["tabindex","-1",1,"max-h-30","overflow-scroll"],["tabindex","0","class","block opacity-50 focus:opacity-100 hover:opacity-100 option wrap-break-word",3,"focus",4,"ngFor","ngForOf"],["tabindex","0",1,"block","opacity-50","focus:opacity-100","hover:opacity-100","option","wrap-break-word",3,"focus"],[1,"hover:scale-110","cursor-pointer","transition-all","option",3,"click"]],template:function(t,r){t&1&&(m(0,"div",1),H(1,w3,3,2,"div",2)(2,C3,2,0,"mat-icon",3),g()),t&2&&(_(),b("ngForOf",r.tagsList),_(),b("ngIf",r.editable))},dependencies:[dt,Ae,ut,Ne,Cr],encapsulation:2})};function E3(n,e){if(n&1){let t=ae();m(0,"mat-icon",10),A("click",function(){F(t);let i=T();return P(i.minimized=!0)}),C(1," unfold_less "),g()}}function I3(n,e){if(n&1){let t=ae();m(0,"mat-icon",11),A("click",function(){F(t);let i=T();return P(i.minimized=!1)}),C(1," unfold_more "),g()}}function D3(n,e){if(n&1){let t=ae();m(0,"app-tag-list",21),A("onChange",function(i){F(t);let o=T(3);return P(o.onUpdateTags(i))}),g()}if(n&2){let t=T(3);b("tags",t.item.tags)("editable",!0)}}function S3(n,e){if(n&1){let t=ae();m(0,"div"),H(1,D3,1,2,"app-tag-list",16),m(2,"button",17),A("click",function(){F(t);let i=T(2);return P(i.showTags=!i.showTags)}),m(3,"mat-icon",15),C(4,"local_offer"),g()(),m(5,"button",18),A("click",function(){F(t);let i=T(2);return P(i.onClickSetReminder())}),m(6,"mat-icon",15),C(7),g()(),m(8,"button",19),A("click",function(){F(t);let i=T(2);return P(i.onClickCompletionStatus())}),m(9,"mat-icon",15),C(10),g()(),m(11,"button",20),A("click",function(){F(t);let i=T(2);return P(i.onClickDuplicate())}),m(12,"mat-icon",15),C(13,"file_copy"),g()()()}if(n&2){let t=T(2);_(),b("ngIf",t.showTags),_(4),b("title",t.item.setForReminder?"clear reminder":"set reminder"),_(2),ke(t.item.setForReminder?"alarm_off":"alarm_add"),_(),b("title",t.item.completionStatus?"mark pending":"mark done"),_(2),ke(t.item.completionStatus?"timelapse":"done_all")}}function T3(n,e){if(n&1){let t=ae();m(0,"div",12),H(1,S3,14,5,"div",13),m(2,"button",14),A("click",function(){F(t);let i=T();return P(i.onClickDelete())}),m(3,"mat-icon",15),C(4,"delete"),g()()()}if(n&2){let t=T();_(),b("ngIf",!t.fromBin)}}var Ch=class n{constructor(e,t,r,i){this.todoService=e;this.route=t;this.router=r;this.sanitizer=i}item={id:Number.MIN_VALUE,version:0,uuid:"",subject:"",description:"",tags:[],completionStatus:!1,setForReminder:!1,creationTimestamp:Date.now().toString(),updationTimestamp:Date.now().toString()};toolTipString="";parsedMD="";borderColour="";fromBin=!1;optionsDisplayed=!1;showTags=!1;minimized=!0;markdownHighlighted=!1;ngOnChanges(){this.borderColour+="type-normal ",this.item.setForReminder&&(this.borderColour+="type-reminder "),this.item.completionStatus&&(this.borderColour+="type-done ");let e=this.item.creationTimestamp===this.item.updationTimestamp;this.toolTipString=e?"created on - "+new Date(this.item.creationTimestamp).toLocaleString():"last updated on - "+new Date(this.item.updationTimestamp).toLocaleString(),this.todoService.fromBin=this.fromBin}ngAfterContentChecked(){if(!this.minimized&&!this.markdownHighlighted){this.markdownHighlighted=!0;let e=qs(this.item.description).toString();e=e.replace(/\n\n/g,"<br>");let t=e.match(/<code class="language-(\w+)">([\s\S]*?)<\/code>/g)||e.match(/<code>([\s\S]*?)<\/code>/);if(t)for(let r=0;r<t.length;r++){let i=t[r];e=e.replace(i,i.replace(/<br>/g,`
`).replace(/&lt;br&gt;/g,"<br>"))}this.parsedMD=this.sanitizer.bypassSecurityTrustHtml(e),requestAnimationFrame(()=>{Prism.highlightAll()})}}onClickDelete(){this.todoService.deleteItem(this.item)}onClickCompletionStatus(){this.item.completionStatus=!this.item.completionStatus,this.updateSave()}onClickSetReminder(){this.item.setForReminder=!this.item.setForReminder,this.updateSave()}updateSave(){this.todoService.updateItem(this.item)}onUpdateTags(e){this.updateSave()}onClickDuplicate(){let e=structuredClone(this.item);e.subject+="-"+Intl.DateTimeFormat([],{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"}).format(new Date),delete e.id,e.uuid="",delete e.userDefined.data,e.creationTimestamp=new Date(Date.now()).toISOString(),e.updationTimestamp=new Date(Date.now()).toISOString(),this.todoService.addItem(e)}static \u0275fac=function(t){return new(t||n)(I($t),I(yt),I(Be),I(Jn))};static \u0275cmp=ce({type:n,selectors:[["app-todo-item"]],inputs:{item:"item",fromBin:"fromBin",optionsDisplayed:"optionsDisplayed",showTags:"showTags",minimized:"minimized"},features:[it],decls:13,vars:10,consts:[[1,"max-w-full","overflow-clip","overflow-ellipsis","item-container","rounded-2xl","animate-flip",3,"title"],["title","edit",1,"flex-grow-1","overflow-hidden","cursor-pointer","animate-flip"],[1,"border-0","border-b-1","w-fit"],[1,"flex","flex-shrink-0"],["title","options",1,"cursor-pointer","hover:scale-120","option",3,"click"],["class","cursor-pointer hover:scale-120 option","title","minimize",3,"click",4,"ngIf"],["class","cursor-pointer hover:scale-120 option","title","maximize",3,"click",4,"ngIf"],["class","flex flex-row",4,"ngIf"],[1,"transition-all","duration-500","ease-in-out","match-braces","rainbow-braces","overflow-ellipsis","todo-item-description","rounded-md",3,"ngClass"],[3,"ngClass","innerHtml"],["title","minimize",1,"cursor-pointer","hover:scale-120","option",3,"click"],["title","maximize",1,"cursor-pointer","hover:scale-120","option",3,"click"],[1,"flex","flex-row"],[4,"ngIf"],["type","button","title","move to recycle bin",1,"cursor-pointer","m-0.5","hover:scale-120",3,"click"],[1,"option"],["class","option",3,"tags","editable","onChange",4,"ngIf"],["type","button","title","tags",1,"cursor-pointer","m-0.5","hover:scale-120",3,"click"],["type","button",1,"cursor-pointer","m-0.5","hover:scale-120",3,"click","title"],[1,"cursor-pointer","m-0.5","hover:scale-120",3,"click","title"],["title","duplicate this item",1,"cursor-pointer","m-0.5","hover:scale-120",3,"click"],[1,"option",3,"onChange","tags","editable"]],template:function(t,r){t&1&&(m(0,"div",0)(1,"div")(2,"div",1)(3,"h2",2),C(4),g()(),m(5,"div",3)(6,"mat-icon",4),A("click",function(){return r.optionsDisplayed=!r.optionsDisplayed}),C(7," more_horiz "),g(),H(8,E3,2,0,"mat-icon",5)(9,I3,2,0,"mat-icon",6),g(),H(10,T3,5,1,"div",7),g(),m(11,"div",8),V(12,"div",9),g()()),t&2&&(b("title",r.toolTipString),_(),Ss(`${r.borderColour} flex flex-row rounded-2xl justify-between p-2 border-1 border-e-2 border-s-2`),_(3),ke(r.item.subject),_(4),b("ngIf",!r.minimized&&r.item.description),_(),b("ngIf",r.minimized&&r.item.description),_(),b("ngIf",r.optionsDisplayed),_(),b("ngClass",r.minimized?"max-h-0 opacity-0":"max-h-[500px] max-w-29/30 opacity-100 overflow-auto m-auto pt-2 visible"),_(),b("ngClass",r.minimized?"hidden":"visible")("innerHtml",r.parsedMD,Ds))},dependencies:[cn,dt,Ae,Zt,Ne,Hi],styles:[".item-container[_ngcontent-%COMP%]{color:var(--todo-item-text-color);background:var(--todo-item-body-color)}.todo-item-description[_ngcontent-%COMP%]{color:var(--todo-item-description-text-color);background:var(--todo-item-description-body-color)}.type-normal[_ngcontent-%COMP%]{border-color:var(--todo-item-normal-status-color)}.type-reminder[_ngcontent-%COMP%]{border-color:var(--todo-item-reminder-status-color)}.type-done[_ngcontent-%COMP%]{border-color:var(--todo-item-done-status-color)}"],changeDetection:0})};var B_=class{};function Kx(n){return n&&typeof n.connect=="function"&&!(n instanceof ai)}var Eh=class extends B_{_data;constructor(e){super(),this._data=e}connect(){return Qi(this._data)?this._data:z(this._data)}disconnect(){}},Sc=function(n){return n[n.REPLACED=0]="REPLACED",n[n.INSERTED=1]="INSERTED",n[n.MOVED=2]="MOVED",n[n.REMOVED=3]="REMOVED",n}(Sc||{}),U_=new j("_ViewRepeater");var Ih=class{viewCacheSize=20;_viewCache=[];applyChanges(e,t,r,i,o){e.forEachOperation((s,a,l)=>{let c,u;if(s.previousIndex==null){let d=()=>r(s,a,l);c=this._insertView(d,l,t,i(s)),u=c?Sc.INSERTED:Sc.REPLACED}else l==null?(this._detachAndCacheView(a,t),u=Sc.REMOVED):(c=this._moveView(a,l,t,i(s)),u=Sc.MOVED);o&&o({context:c?.context,operation:u,record:s})})}detach(){for(let e of this._viewCache)e.destroy();this._viewCache=[]}_insertView(e,t,r,i){let o=this._insertViewFromCache(t,r);if(o){o.context.$implicit=i;return}let s=e();return r.createEmbeddedView(s.templateRef,s.context,s.index)}_detachAndCacheView(e,t){let r=t.detach(e);this._maybeCacheView(r,t)}_moveView(e,t,r,i){let o=r.get(e);return r.move(o,t),o.context.$implicit=i,o}_maybeCacheView(e,t){if(this._viewCache.length<this.viewCacheSize)this._viewCache.push(e);else{let r=t.indexOf(e);r===-1?e.destroy():t.remove(r)}}_insertViewFromCache(e,t){let r=this._viewCache.pop();return r&&t.insert(r,e),r||null}};var x3=["contentWrapper"],M3=["*"],nM=new j("VIRTUAL_SCROLL_STRATEGY"),$_=class{_scrolledIndexChange=new re;scrolledIndexChange=this._scrolledIndexChange.pipe(xp());_viewport=null;_itemSize;_minBufferPx;_maxBufferPx;constructor(e,t,r){this._itemSize=e,this._minBufferPx=t,this._maxBufferPx=r}attach(e){this._viewport=e,this._updateTotalContentSize(),this._updateRenderedRange()}detach(){this._scrolledIndexChange.complete(),this._viewport=null}updateItemAndBufferSize(e,t,r){r<t,this._itemSize=e,this._minBufferPx=t,this._maxBufferPx=r,this._updateTotalContentSize(),this._updateRenderedRange()}onContentScrolled(){this._updateRenderedRange()}onDataLengthChanged(){this._updateTotalContentSize(),this._updateRenderedRange()}onContentRendered(){}onRenderedOffsetChanged(){}scrollToIndex(e,t){this._viewport&&this._viewport.scrollToOffset(e*this._itemSize,t)}_updateTotalContentSize(){this._viewport&&this._viewport.setTotalContentSize(this._viewport.getDataLength()*this._itemSize)}_updateRenderedRange(){if(!this._viewport)return;let e=this._viewport.getRenderedRange(),t={start:e.start,end:e.end},r=this._viewport.getViewportSize(),i=this._viewport.getDataLength(),o=this._viewport.measureScrollOffset(),s=this._itemSize>0?o/this._itemSize:0;if(t.end>i){let l=Math.ceil(r/this._itemSize),c=Math.max(0,Math.min(s,i-l));s!=c&&(s=c,o=c*this._itemSize,t.start=Math.floor(s)),t.end=Math.max(0,Math.min(i,t.start+l))}let a=o-t.start*this._itemSize;if(a<this._minBufferPx&&t.start!=0){let l=Math.ceil((this._maxBufferPx-a)/this._itemSize);t.start=Math.max(0,t.start-l),t.end=Math.min(i,Math.ceil(s+(r+this._minBufferPx)/this._itemSize))}else{let l=t.end*this._itemSize-(o+r);if(l<this._minBufferPx&&t.end!=i){let c=Math.ceil((this._maxBufferPx-l)/this._itemSize);c>0&&(t.end=Math.min(i,t.end+c),t.start=Math.max(0,Math.floor(s-this._minBufferPx/this._itemSize)))}}this._viewport.setRenderedRange(t),this._viewport.setRenderedContentOffset(this._itemSize*t.start),this._scrolledIndexChange.next(Math.floor(s))}};function A3(n){return n._scrollStrategy}var rM=(()=>{class n{get itemSize(){return this._itemSize}set itemSize(t){this._itemSize=Ll(t)}_itemSize=20;get minBufferPx(){return this._minBufferPx}set minBufferPx(t){this._minBufferPx=Ll(t)}_minBufferPx=100;get maxBufferPx(){return this._maxBufferPx}set maxBufferPx(t){this._maxBufferPx=Ll(t)}_maxBufferPx=200;_scrollStrategy=new $_(this.itemSize,this.minBufferPx,this.maxBufferPx);ngOnChanges(){this._scrollStrategy.updateItemAndBufferSize(this.itemSize,this.minBufferPx,this.maxBufferPx)}static \u0275fac=function(r){return new(r||n)};static \u0275dir=he({type:n,selectors:[["cdk-virtual-scroll-viewport","itemSize",""]],inputs:{itemSize:"itemSize",minBufferPx:"minBufferPx",maxBufferPx:"maxBufferPx"},features:[vt([{provide:nM,useFactory:A3,deps:[Tt(()=>n)]}]),it]})}return n})(),R3=20,O3=(()=>{class n{_ngZone=E(be);_platform=E(Ti);_renderer=E(Un).createRenderer(null,null);_cleanupGlobalListener;constructor(){}_scrolled=new re;_scrolledCount=0;scrollContainers=new Map;register(t){this.scrollContainers.has(t)||this.scrollContainers.set(t,t.elementScrolled().subscribe(()=>this._scrolled.next(t)))}deregister(t){let r=this.scrollContainers.get(t);r&&(r.unsubscribe(),this.scrollContainers.delete(t))}scrolled(t=R3){return this._platform.isBrowser?new Z(r=>{this._cleanupGlobalListener||(this._cleanupGlobalListener=this._ngZone.runOutsideAngular(()=>this._renderer.listen("document","scroll",()=>this._scrolled.next())));let i=t>0?this._scrolled.pipe(Oa(t)).subscribe(r):this._scrolled.subscribe(r);return this._scrolledCount++,()=>{i.unsubscribe(),this._scrolledCount--,this._scrolledCount||(this._cleanupGlobalListener?.(),this._cleanupGlobalListener=void 0)}}):z()}ngOnDestroy(){this._cleanupGlobalListener?.(),this._cleanupGlobalListener=void 0,this.scrollContainers.forEach((t,r)=>this.deregister(r)),this._scrolled.complete()}ancestorScrolled(t,r){let i=this.getAncestorScrollContainers(t);return this.scrolled(r).pipe(et(o=>!o||i.indexOf(o)>-1))}getAncestorScrollContainers(t){let r=[];return this.scrollContainers.forEach((i,o)=>{this._scrollableContainsElement(o,t)&&r.push(o)}),r}_scrollableContainsElement(t,r){let i=QI(r),o=t.getElementRef().nativeElement;do if(i==o)return!0;while(i=i.parentElement);return!1}static \u0275fac=function(r){return new(r||n)};static \u0275prov=O({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),iM=(()=>{class n{elementRef=E(tt);scrollDispatcher=E(O3);ngZone=E(be);dir=E(iD,{optional:!0});_scrollElement=this.elementRef.nativeElement;_destroyed=new re;_renderer=E(pn);_cleanupScroll;_elementScrolled=new re;constructor(){}ngOnInit(){this._cleanupScroll=this.ngZone.runOutsideAngular(()=>this._renderer.listen(this._scrollElement,"scroll",t=>this._elementScrolled.next(t))),this.scrollDispatcher.register(this)}ngOnDestroy(){this._cleanupScroll?.(),this._elementScrolled.complete(),this.scrollDispatcher.deregister(this),this._destroyed.next(),this._destroyed.complete()}elementScrolled(){return this._elementScrolled}getElementRef(){return this.elementRef}scrollTo(t){let r=this.elementRef.nativeElement,i=this.dir&&this.dir.value=="rtl";t.left==null&&(t.left=i?t.end:t.start),t.right==null&&(t.right=i?t.start:t.end),t.bottom!=null&&(t.top=r.scrollHeight-r.clientHeight-t.bottom),i&&zs()!=Kn.NORMAL?(t.left!=null&&(t.right=r.scrollWidth-r.clientWidth-t.left),zs()==Kn.INVERTED?t.left=t.right:zs()==Kn.NEGATED&&(t.left=t.right?-t.right:t.right)):t.right!=null&&(t.left=r.scrollWidth-r.clientWidth-t.right),this._applyScrollToOptions(t)}_applyScrollToOptions(t){let r=this.elementRef.nativeElement;YI()?r.scrollTo(t):(t.top!=null&&(r.scrollTop=t.top),t.left!=null&&(r.scrollLeft=t.left))}measureScrollOffset(t){let r="left",i="right",o=this.elementRef.nativeElement;if(t=="top")return o.scrollTop;if(t=="bottom")return o.scrollHeight-o.clientHeight-o.scrollTop;let s=this.dir&&this.dir.value=="rtl";return t=="start"?t=s?i:r:t=="end"&&(t=s?r:i),s&&zs()==Kn.INVERTED?t==r?o.scrollWidth-o.clientWidth-o.scrollLeft:o.scrollLeft:s&&zs()==Kn.NEGATED?t==r?o.scrollLeft+o.scrollWidth-o.clientWidth:-o.scrollLeft:t==r?o.scrollLeft:o.scrollWidth-o.clientWidth-o.scrollLeft}static \u0275fac=function(r){return new(r||n)};static \u0275dir=he({type:n,selectors:[["","cdk-scrollable",""],["","cdkScrollable",""]]})}return n})(),k3=20,N3=(()=>{class n{_platform=E(Ti);_listeners;_viewportSize;_change=new re;_document=E(je,{optional:!0});constructor(){let t=E(be),r=E(Un).createRenderer(null,null);t.runOutsideAngular(()=>{if(this._platform.isBrowser){let i=o=>this._change.next(o);this._listeners=[r.listen("window","resize",i),r.listen("window","orientationchange",i)]}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){this._listeners?.forEach(t=>t()),this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();let t={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),t}getViewportRect(){let t=this.getViewportScrollPosition(),{width:r,height:i}=this.getViewportSize();return{top:t.top,left:t.left,bottom:t.top+i,right:t.left+r,height:i,width:r}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};let t=this._document,r=this._getWindow(),i=t.documentElement,o=i.getBoundingClientRect(),s=-o.top||t.body.scrollTop||r.scrollY||i.scrollTop||0,a=-o.left||t.body.scrollLeft||r.scrollX||i.scrollLeft||0;return{top:s,left:a}}change(t=k3){return t>0?this._change.pipe(Oa(t)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){let t=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:t.innerWidth,height:t.innerHeight}:{width:0,height:0}}static \u0275fac=function(r){return new(r||n)};static \u0275prov=O({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Xx=new j("VIRTUAL_SCROLLABLE"),F3=(()=>{class n extends iM{constructor(){super()}measureViewportSize(t){let r=this.elementRef.nativeElement;return t==="horizontal"?r.clientWidth:r.clientHeight}static \u0275fac=function(r){return new(r||n)};static \u0275dir=he({type:n,features:[at]})}return n})();function P3(n,e){return n.start==e.start&&n.end==e.end}var L3=typeof requestAnimationFrame<"u"?Sp:Dp,H_=(()=>{class n extends F3{elementRef=E(tt);_changeDetectorRef=E(Pt);_scrollStrategy=E(nM,{optional:!0});scrollable=E(Xx,{optional:!0});_platform=E(Ti);_detachedSubject=new re;_renderedRangeSubject=new re;get orientation(){return this._orientation}set orientation(t){this._orientation!==t&&(this._orientation=t,this._calculateSpacerSize())}_orientation="vertical";appendOnly=!1;scrolledIndexChange=new Z(t=>this._scrollStrategy.scrolledIndexChange.subscribe(r=>Promise.resolve().then(()=>this.ngZone.run(()=>t.next(r)))));_contentWrapper;renderedRangeStream=this._renderedRangeSubject;_totalContentSize=0;_totalContentWidth="";_totalContentHeight="";_renderedContentTransform;_renderedRange={start:0,end:0};_dataLength=0;_viewportSize=0;_forOf;_renderedContentOffset=0;_renderedContentOffsetNeedsRewrite=!1;_isChangeDetectionPending=!1;_runAfterChangeDetection=[];_viewportChanges=Le.EMPTY;_injector=E(wt);_isDestroyed=!1;constructor(){super();let t=E(N3);this._scrollStrategy,this._viewportChanges=t.change().subscribe(()=>{this.checkViewportSize()}),this.scrollable||(this.elementRef.nativeElement.classList.add("cdk-virtual-scrollable"),this.scrollable=this)}ngOnInit(){this._platform.isBrowser&&(this.scrollable===this&&super.ngOnInit(),this.ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>{this._measureViewportSize(),this._scrollStrategy.attach(this),this.scrollable.elementScrolled().pipe(pi(null),Oa(0,L3),Vr(this._destroyed)).subscribe(()=>this._scrollStrategy.onContentScrolled()),this._markChangeDetectionNeeded()})))}ngOnDestroy(){this.detach(),this._scrollStrategy.detach(),this._renderedRangeSubject.complete(),this._detachedSubject.complete(),this._viewportChanges.unsubscribe(),this._isDestroyed=!0,super.ngOnDestroy()}attach(t){this._forOf,this.ngZone.runOutsideAngular(()=>{this._forOf=t,this._forOf.dataStream.pipe(Vr(this._detachedSubject)).subscribe(r=>{let i=r.length;i!==this._dataLength&&(this._dataLength=i,this._scrollStrategy.onDataLengthChanged()),this._doChangeDetection()})})}detach(){this._forOf=null,this._detachedSubject.next()}getDataLength(){return this._dataLength}getViewportSize(){return this._viewportSize}getRenderedRange(){return this._renderedRange}measureBoundingClientRectWithScrollOffset(t){return this.getElementRef().nativeElement.getBoundingClientRect()[t]}setTotalContentSize(t){this._totalContentSize!==t&&(this._totalContentSize=t,this._calculateSpacerSize(),this._markChangeDetectionNeeded())}setRenderedRange(t){P3(this._renderedRange,t)||(this.appendOnly&&(t={start:0,end:Math.max(this._renderedRange.end,t.end)}),this._renderedRangeSubject.next(this._renderedRange=t),this._markChangeDetectionNeeded(()=>this._scrollStrategy.onContentRendered()))}getOffsetToRenderedContentStart(){return this._renderedContentOffsetNeedsRewrite?null:this._renderedContentOffset}setRenderedContentOffset(t,r="to-start"){t=this.appendOnly&&r==="to-start"?0:t;let i=this.dir&&this.dir.value=="rtl",o=this.orientation=="horizontal",s=o?"X":"Y",l=`translate${s}(${Number((o&&i?-1:1)*t)}px)`;this._renderedContentOffset=t,r==="to-end"&&(l+=` translate${s}(-100%)`,this._renderedContentOffsetNeedsRewrite=!0),this._renderedContentTransform!=l&&(this._renderedContentTransform=l,this._markChangeDetectionNeeded(()=>{this._renderedContentOffsetNeedsRewrite?(this._renderedContentOffset-=this.measureRenderedContentSize(),this._renderedContentOffsetNeedsRewrite=!1,this.setRenderedContentOffset(this._renderedContentOffset)):this._scrollStrategy.onRenderedOffsetChanged()}))}scrollToOffset(t,r="auto"){let i={behavior:r};this.orientation==="horizontal"?i.start=t:i.top=t,this.scrollable.scrollTo(i)}scrollToIndex(t,r="auto"){this._scrollStrategy.scrollToIndex(t,r)}measureScrollOffset(t){let r;return this.scrollable==this?r=i=>super.measureScrollOffset(i):r=i=>this.scrollable.measureScrollOffset(i),Math.max(0,r(t??(this.orientation==="horizontal"?"start":"top"))-this.measureViewportOffset())}measureViewportOffset(t){let r,i="left",o="right",s=this.dir?.value=="rtl";t=="start"?r=s?o:i:t=="end"?r=s?i:o:t?r=t:r=this.orientation==="horizontal"?"left":"top";let a=this.scrollable.measureBoundingClientRectWithScrollOffset(r);return this.elementRef.nativeElement.getBoundingClientRect()[r]-a}measureRenderedContentSize(){let t=this._contentWrapper.nativeElement;return this.orientation==="horizontal"?t.offsetWidth:t.offsetHeight}measureRangeSize(t){return this._forOf?this._forOf.measureRangeSize(t,this.orientation):0}checkViewportSize(){this._measureViewportSize(),this._scrollStrategy.onDataLengthChanged()}_measureViewportSize(){this._viewportSize=this.scrollable.measureViewportSize(this.orientation)}_markChangeDetectionNeeded(t){t&&this._runAfterChangeDetection.push(t),this._isChangeDetectionPending||(this._isChangeDetectionPending=!0,this.ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>{this._doChangeDetection()})))}_doChangeDetection(){this._isDestroyed||this.ngZone.run(()=>{this._changeDetectorRef.markForCheck(),this._contentWrapper.nativeElement.style.transform=this._renderedContentTransform,Ka(()=>{this._isChangeDetectionPending=!1;let t=this._runAfterChangeDetection;this._runAfterChangeDetection=[];for(let r of t)r()},{injector:this._injector})})}_calculateSpacerSize(){this._totalContentHeight=this.orientation==="horizontal"?"":`${this._totalContentSize}px`,this._totalContentWidth=this.orientation==="horizontal"?`${this._totalContentSize}px`:""}static \u0275fac=function(r){return new(r||n)};static \u0275cmp=ce({type:n,selectors:[["cdk-virtual-scroll-viewport"]],viewQuery:function(r,i){if(r&1&&Te(x3,7),r&2){let o;we(o=Ce())&&(i._contentWrapper=o.first)}},hostAttrs:[1,"cdk-virtual-scroll-viewport"],hostVars:4,hostBindings:function(r,i){r&2&&Yr("cdk-virtual-scroll-orientation-horizontal",i.orientation==="horizontal")("cdk-virtual-scroll-orientation-vertical",i.orientation!=="horizontal")},inputs:{orientation:"orientation",appendOnly:[2,"appendOnly","appendOnly",mn]},outputs:{scrolledIndexChange:"scrolledIndexChange"},features:[vt([{provide:iM,useFactory:(t,r)=>t||r,deps:[[new qa,new Mb(Xx)],n]}]),at],ngContentSelectors:M3,decls:4,vars:4,consts:[["contentWrapper",""],[1,"cdk-virtual-scroll-content-wrapper"],[1,"cdk-virtual-scroll-spacer"]],template:function(r,i){r&1&&(po(),m(0,"div",1,0),mo(2),g(),V(3,"div",2)),r&2&&(_(3),el("width",i._totalContentWidth)("height",i._totalContentHeight))},styles:["cdk-virtual-scroll-viewport{display:block;position:relative;transform:translateZ(0)}.cdk-virtual-scrollable{overflow:auto;will-change:scroll-position;contain:strict}.cdk-virtual-scroll-content-wrapper{position:absolute;top:0;left:0;contain:content}[dir=rtl] .cdk-virtual-scroll-content-wrapper{right:0;left:auto}.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper{min-height:100%}.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>dl:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>ol:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>table:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>ul:not([cdkVirtualFor]){padding-left:0;padding-right:0;margin-left:0;margin-right:0;border-left-width:0;border-right-width:0;outline:none}.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper{min-width:100%}.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>dl:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>ol:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>table:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>ul:not([cdkVirtualFor]){padding-top:0;padding-bottom:0;margin-top:0;margin-bottom:0;border-top-width:0;border-bottom-width:0;outline:none}.cdk-virtual-scroll-spacer{height:1px;transform-origin:0 0;flex:0 0 auto}[dir=rtl] .cdk-virtual-scroll-spacer{transform-origin:100% 0}"],encapsulation:2,changeDetection:0})}return n})();function eM(n,e,t){let r=t;if(!r.getBoundingClientRect)return 0;let i=r.getBoundingClientRect();return n==="horizontal"?e==="start"?i.left:i.right:e==="start"?i.top:i.bottom}var oM=(()=>{class n{_viewContainerRef=E(qn);_template=E(pr);_differs=E(rl);_viewRepeater=E(U_);_viewport=E(H_,{skipSelf:!0});viewChange=new re;_dataSourceChanges=new re;get cdkVirtualForOf(){return this._cdkVirtualForOf}set cdkVirtualForOf(t){this._cdkVirtualForOf=t,Kx(t)?this._dataSourceChanges.next(t):this._dataSourceChanges.next(new Eh(Qi(t)?t:Array.from(t||[])))}_cdkVirtualForOf;get cdkVirtualForTrackBy(){return this._cdkVirtualForTrackBy}set cdkVirtualForTrackBy(t){this._needsUpdate=!0,this._cdkVirtualForTrackBy=t?(r,i)=>t(r+(this._renderedRange?this._renderedRange.start:0),i):void 0}_cdkVirtualForTrackBy;set cdkVirtualForTemplate(t){t&&(this._needsUpdate=!0,this._template=t)}get cdkVirtualForTemplateCacheSize(){return this._viewRepeater.viewCacheSize}set cdkVirtualForTemplateCacheSize(t){this._viewRepeater.viewCacheSize=Ll(t)}dataStream=this._dataSourceChanges.pipe(pi(null),Ap(),Oe(([t,r])=>this._changeDataSource(t,r)),kp(1));_differ=null;_data;_renderedItems;_renderedRange;_needsUpdate=!1;_destroyed=new re;constructor(){let t=E(be);this.dataStream.subscribe(r=>{this._data=r,this._onRenderedDataChange()}),this._viewport.renderedRangeStream.pipe(Vr(this._destroyed)).subscribe(r=>{this._renderedRange=r,this.viewChange.observers.length&&t.run(()=>this.viewChange.next(this._renderedRange)),this._onRenderedDataChange()}),this._viewport.attach(this)}measureRangeSize(t,r){if(t.start>=t.end)return 0;t.start<this._renderedRange.start||t.end>this._renderedRange.end;let i=t.start-this._renderedRange.start,o=t.end-t.start,s,a;for(let l=0;l<o;l++){let c=this._viewContainerRef.get(l+i);if(c&&c.rootNodes.length){s=a=c.rootNodes[0];break}}for(let l=o-1;l>-1;l--){let c=this._viewContainerRef.get(l+i);if(c&&c.rootNodes.length){a=c.rootNodes[c.rootNodes.length-1];break}}return s&&a?eM(r,"end",a)-eM(r,"start",s):0}ngDoCheck(){if(this._differ&&this._needsUpdate){let t=this._differ.diff(this._renderedItems);t?this._applyChanges(t):this._updateContext(),this._needsUpdate=!1}}ngOnDestroy(){this._viewport.detach(),this._dataSourceChanges.next(void 0),this._dataSourceChanges.complete(),this.viewChange.complete(),this._destroyed.next(),this._destroyed.complete(),this._viewRepeater.detach()}_onRenderedDataChange(){this._renderedRange&&(this._renderedItems=this._data.slice(this._renderedRange.start,this._renderedRange.end),this._differ||(this._differ=this._differs.find(this._renderedItems).create((t,r)=>this.cdkVirtualForTrackBy?this.cdkVirtualForTrackBy(t,r):r)),this._needsUpdate=!0)}_changeDataSource(t,r){return t&&t.disconnect(this),this._needsUpdate=!0,r?r.connect(this):z()}_updateContext(){let t=this._data.length,r=this._viewContainerRef.length;for(;r--;){let i=this._viewContainerRef.get(r);i.context.index=this._renderedRange.start+r,i.context.count=t,this._updateComputedContextProperties(i.context),i.detectChanges()}}_applyChanges(t){this._viewRepeater.applyChanges(t,this._viewContainerRef,(o,s,a)=>this._getEmbeddedViewArgs(o,a),o=>o.item),t.forEachIdentityChange(o=>{let s=this._viewContainerRef.get(o.currentIndex);s.context.$implicit=o.item});let r=this._data.length,i=this._viewContainerRef.length;for(;i--;){let o=this._viewContainerRef.get(i);o.context.index=this._renderedRange.start+i,o.context.count=r,this._updateComputedContextProperties(o.context)}}_updateComputedContextProperties(t){t.first=t.index===0,t.last=t.index===t.count-1,t.even=t.index%2===0,t.odd=!t.even}_getEmbeddedViewArgs(t,r){return{templateRef:this._template,context:{$implicit:t.item,cdkVirtualForOf:this._cdkVirtualForOf,index:-1,count:-1,first:!1,last:!1,odd:!1,even:!1},index:r}}static ngTemplateContextGuard(t,r){return!0}static \u0275fac=function(r){return new(r||n)};static \u0275dir=he({type:n,selectors:[["","cdkVirtualFor","","cdkVirtualForOf",""]],inputs:{cdkVirtualForOf:"cdkVirtualForOf",cdkVirtualForTrackBy:"cdkVirtualForTrackBy",cdkVirtualForTemplate:"cdkVirtualForTemplate",cdkVirtualForTemplateCacheSize:"cdkVirtualForTemplateCacheSize"},features:[vt([{provide:U_,useClass:Ih}])]})}return n})();var tM=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275mod=Ke({type:n});static \u0275inj=Qe({})}return n})(),Dh=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275mod=Ke({type:n});static \u0275inj=Qe({imports:[Gs,tM,Gs,tM]})}return n})();function j3(n,e){n&1&&(m(0,"div",7)(1,"div",8)(2,"span",9),C(3," Local Recycle Bin "),m(4,"a",10),C(5,"Clear"),g()()()())}function B3(n,e){if(n&1){let t=ae();m(0,"div",11),A("keydown",function(i){let o=F(t).$implicit,s=T();return P(s.onKeyDownTodoItem(i,o))})("click",function(i){let o=F(t).$implicit,s=T();return P(s.onClickTodoItem(i,o))}),V(1,"app-todo-item",12),g()}if(n&2){let t=e.$implicit,r=e.index,i=T();b("id",r),_(),b("item",t)("fromBin",i.fromBin)("minimized",!i.fromSearch||r>1)}}var zi=class n{constructor(e,t,r){this.todoService=e;this.router=t;this.route=r;let i=this.router.url;i==="/bin/clear"?(e.fromBin=!0,e.deleteAll(),this.router.navigate(["/bin"])):i==="/home/clear"?(e.fromBin=!1,e.deleteAll(),this.router.navigate(["/home"])):i==="/demo"&&prompt("Download sample todo items? [Y|N]")==="Y"&&fetch("/todo-demo-items.json").then(s=>(s.ok||console.error("failed to load the demo items",s),s.json())).then(s=>{this.todoService.addMany(s.items),this.router.navigate(["/home"])}),this.fromBin=i.substring(0,4)==="/bin",this.todoService.fromBin=this.fromBin,console.log("ctor",Date.now())}itemList$=z([]);fromBin=!1;fromSearch=!1;queryParamSubscription;ngOnInit(){this.queryParamSubscription=this.route.queryParams.subscribe(e=>{let t=e.ord?e.ord:[],r=e.abs?e.abs==="true":!1,i=e.q?e.q:"",o=e.tag?e.tag:[],s=e.has?e.has:[],a=e.lim?e.lim:null;a||t.length!=0||i!==""||o.length>0||s.length>0?(this.itemList$=this.todoService.searchTodos(i,o,s,r).pipe(Oe(l=>this.todoService.sortTodoItems(t,l,a))),this.fromSearch=!0):(this.router.navigate([]),this.itemList$=this.todoService.todoItems$.pipe(Oe(l=>this.todoService.sortTodoItems(t,l))),this.fromSearch=!1)}),console.log("init",Date.now())}onClickTodoItem(e,t){let r=e.target,i=window.getSelection();r.classList.contains("option")||i&&i.toString().length>0||this.route.queryParams.subscribe((o,s=this)=>{t&&this.router.navigate(["/edit"],{state:{item:t,query:o}})})}verticalFocusTravel(e,t=!1){let r=e.parentElement?.getBoundingClientRect().width||0,i=e.parentElement?.getBoundingClientRect().left||0,o=e.getBoundingClientRect().left,s=e.getBoundingClientRect().right,a=0,l=t?o:s,c=e,u=e;for(;a<1e4;){let d=c?.getBoundingClientRect().width;if(l+=t?d:-1*d,c=t?c?.nextElementSibling:c?.previousElementSibling,a++,c===null)if(t){let v=e.parentElement?.firstElementChild;v?.focus(),v?.scrollIntoView({behavior:"smooth",block:"center"})}else{let v=e.parentElement?.lastElementChild;v?.focus(),v?.scrollIntoView({behavior:"smooth",block:"center"})}u=t?u?.nextElementSibling:u?.previousElementSibling;let p=u?.getBoundingClientRect().width,f=u?.getBoundingClientRect().left,h=u?.getBoundingClientRect().right;if(t&&l>=r&&(f>=o*.9||h>=s*.9)||!t&&l<=i+100&&(f<=o*1.1||h<=s*1.1))break}u?.focus(),u?.scrollIntoView({behavior:"smooth",block:"center"})}onKeyDownTodoItem(e,t){let r=["ArrowLeft","a","h"],i=["ArrowRight","d","l"],o=["ArrowUp","w","j"],s=["ArrowDown","s","k"],a=e.target;r.includes(e.key)?a.previousElementSibling?a.previousElementSibling.focus():a.parentElement?.lastElementChild?.focus():i.includes(e.key)?a.nextElementSibling?a.nextElementSibling.focus():a.parentElement?.firstElementChild?.focus():o.includes(e.key)?this.verticalFocusTravel(a,!1):s.includes(e.key)?this.verticalFocusTravel(a,!0):e.key==="Enter"&&this.onClickTodoItem(e,t)}ngAfterViewInit(){console.log("view init",Date.now())}ngOnDestroy(){this.queryParamSubscription&&this.queryParamSubscription.unsubscribe(),console.log("Destroy",Date.now())}trackById(e,t){return t.id}static \u0275fac=function(t){return new(t||n)(I($t),I(Be),I(yt))};static \u0275cmp=ce({type:n,selectors:[["app-home"]],decls:8,vars:5,consts:[["tabindex","1",1,"h-full","overflow-y-auto","justify-center"],["class","w-full flex flex-col justify-center",4,"ngIf"],["itemSize","autosize",1,"h-full"],[1,"m-2"],[1,"flex","flex-row","flex-wrap"],["tabindex","0","focus","this.style.float='top'","class",`flex-auto relative max-w-full w-fit h-fit mx-2 my-1 rounded-2xl focus:outline-2 hover:outline-2 hover:shadow-lg
         outline-offset-2 shadow-colored transition-all animate-focus`,3,"id","keydown","click",4,"cdkVirtualFor","cdkVirtualForOf","cdkVirtualForTrackBy"],[1,"w-full","h-10"],[1,"w-full","flex","flex-col","justify-center"],[1,"mb-8"],[1,"block","text-center","text-3xl","font-semibold","text-amber-600","m-4"],["routerLink","/bin/clear","routerLinkActive","active","ariaCurrentWhenActive","page","title","Clear the recycle bin",1,"ml-4","text-2xl","text-gray-500","hover:text-amber-800","transition-colors","duration-200"],["tabindex","0","focus","this.style.float='top'",1,"flex-auto","relative","max-w-full","w-fit","h-fit","mx-2","my-1","rounded-2xl","focus:outline-2","hover:outline-2","hover:shadow-lg","outline-offset-2","shadow-colored","transition-all","animate-focus",3,"keydown","click","id"],[3,"item","fromBin","minimized"]],template:function(t,r){t&1&&(m(0,"div",0),H(1,j3,6,0,"div",1),m(2,"cdk-virtual-scroll-viewport",2),V(3,"header",3),m(4,"div",4),H(5,B3,2,4,"div",5),yE(6,"async"),g(),V(7,"footer",6),g()()),t&2&&(_(),b("ngIf",r.fromBin),_(4),b("cdkVirtualForOf",_E(6,3,r.itemList$))("cdkVirtualForTrackBy",r.trackById))},dependencies:[Ae,Ne,Qg,Ch,_r,Pl,Dh,rM,oM,H_],styles:[".animate-focus[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{display:block;transition:.2s}.animate-focus[_ngcontent-%COMP%]:hover > *[_ngcontent-%COMP%], .animate-focus[_ngcontent-%COMP%]:focus > *[_ngcontent-%COMP%]{translate:0 -.2lh}.shadow-colored[_ngcontent-%COMP%]:hover, .shadow-colored[_ngcontent-%COMP%]:focus{filter:drop-shadow(2px 2px 2px var(--button-icon-color))}.shadow-colored[_ngcontent-%COMP%]{filter:drop-shadow(1px 1px 1px var(--button-icon-color))}"]})};var sM=["text","email","password","number","date","url","color","range","month","date","time","datetime-local"];var U3=["canvasEle"],$3=["canvasContainer"];function H3(n,e){if(n&1){let t=ae();m(0,"div",6)(1,"div",7)(2,"label"),C(3,"Stroke "),g(),m(4,"div",8)(5,"input",9),wi("ngModelChange",function(i){F(t);let o=T();return go(o.strokeColor,i)||(o.strokeColor=i),P(i)}),A("change",function(i){F(t);let o=T();return P(o.onStrokeColorChange(i))}),g(),C(6," \xA0\xA0 "),m(7,"input",10),wi("ngModelChange",function(i){F(t);let o=T();return go(o.strokeSize,i)||(o.strokeSize=i),P(i)}),A("change",function(i){F(t);let o=T();return P(o.onStrokeSizeChange(i))}),g()(),m(8,"label"),C(9,"Canvas size "),g(),m(10,"div",8),C(11," \xA0\xA0 "),m(12,"input",11),wi("ngModelChange",function(i){F(t);let o=T();return go(o.canvasSize,i)||(o.canvasSize=i),P(i)}),A("change",function(i){F(t);let o=T();return P(o.onCanvasSizeChange(i))}),g()()(),m(13,"div",12)(14,"div",13)(15,"button",14),A("click",function(){F(t);let i=T();return P(i.addText())}),C(16,"textbox"),g(),m(17,"button",14),A("click",function(){F(t);let i=T();return P(i.addRect())}),C(18,"rectangle"),g(),m(19,"button",14),A("click",function(){F(t);let i=T();return P(i.addTriangle())}),C(20,"triangle"),g(),m(21,"button",14),A("click",function(){F(t);let i=T();return P(i.addCircle())}),C(22,"circle"),g(),m(23,"button",14),A("click",function(){F(t);let i=T();return P(i.addLine())}),C(24,"line"),g(),m(25,"button",14),A("click",function(){F(t);let i=T();return P(i.addImage())}),C(26,"image"),g()(),m(27,"div",15)(28,"button",16),A("click",function(){F(t);let i=T();return P(i.copyToClipboardCanvas())}),m(29,"mat-icon"),C(30,"file_copy"),g()(),m(31,"button",17),A("click",function(){F(t);let i=T();return P(i.undoCanvas())}),m(32,"mat-icon"),C(33,"undo"),g()(),m(34,"button",18),A("click",function(){F(t);let i=T();return P(i.redoCanvas())}),m(35,"mat-icon"),C(36,"redo"),g()(),m(37,"button",19),A("click",function(){F(t);let i=T();return P(i.clearCanvas())}),m(38,"mat-icon"),C(39,"clear"),g()()()()()}if(n&2){let t=T();_(5),bi("ngModel",t.strokeColor),_(2),bi("ngModel",t.strokeSize),_(5),bi("ngModel",t.canvasSize)}}var Tc=class n{constructor(e){this.baseHref=e}id;data;editMode=!1;fullScreen=!1;canvasEle;canvasContainer;strokeSize=1;strokeColor="#0000";canvasSize=50;fabricJsCanvas;history=[];ngAfterViewInit(){if(document.getElementById("fabricjs-script"))this.initFabricJs();else{let e=document.createElement("script");e.src=Zn+"fabric.min.js",e.id="fabricjs-script",e.async=!0,e.onload=()=>{this.onLoadFabricJs()},document.body.appendChild(e)}}onLoadFabricJs(){this.initFabricJs()}getState(){return JSON.stringify(X(S({},this.fabricJsCanvas.toJSON()),{strokeSize:this.strokeSize,strokeColor:this.strokeColor,canvasSize:this.canvasSize}))}onStrokeColorChange(e){this.fabricJsCanvas.freeDrawingBrush.color=this.strokeColor}onStrokeSizeChange(e){this.fabricJsCanvas.freeDrawingBrush.width=this.strokeSize}onCanvasSizeChange(e){this.canvasContainer.nativeElement.style.width=this.canvasSize+"vw",this.canvasContainer.nativeElement.style.height=this.canvasSize+"vh"}initFabricJs(){this.fabricJsCanvas=new fabric.Canvas(this.id,{isDrawingMode:!0,width:this.canvasEle?.nativeElement.getBoundingClientRect().width,height:this.canvasEle?.nativeElement.getBoundingClientRect().height}),this.data&&(this.strokeColor=this.data,this.fabricJsCanvas.loadFromJSON(this.data)),this.fabricJsCanvas.freeDrawingBrush=new fabric.PencilBrush(this.fabricJsCanvas),fabric.Object.prototype.transparentCorners=!1,this.fabricJsCanvas.freeDrawingBrush.width=1,this.fabricJsCanvas.backgroundColor="white";let e=new ResizeObserver(t=>{let r=window.devicePixelRatio||1,i=t[0].contentRect.height,o=t[0].contentRect.width;this.fabricJsCanvas.setHeight(i),this.fabricJsCanvas.setWidth(o),this.fabricJsCanvas.lowerCanvasEl.style.width=o+"px",this.fabricJsCanvas.lowerCanvasEl.style.height=i+"px"});setTimeout(()=>e.observe(this.canvasContainer.nativeElement),1e3)}addShapeToCanvas(e){this.fabricJsCanvas.add(e),this.fabricJsCanvas.setActiveObject(e),this.fabricJsCanvas.isDrawingMode=!this.fabricJsCanvas.isDrawingMode}addRect(){let e=new fabric.Rect({left:100,top:50,fill:this.strokeColor,width:200,height:100,strokeWidth:4});this.addShapeToCanvas(e)}addCircle(){let e=new fabric.Circle({radius:50,left:275,top:75,fill:this.strokeColor});this.addShapeToCanvas(e)}addTriangle(){let e=new fabric.Triangle({width:100,height:100,left:50,top:300,fill:this.strokeColor});this.addShapeToCanvas(e)}addLine(){let e=new fabric.Polyline([{x:10,y:10},{x:100,y:100}],{stroke:this.strokeColor,left:100,top:100});this.addShapeToCanvas(e)}addText(){let e=new fabric.Textbox("text",{left:50,top:10,width:200,fontSize:60,fontFamily:'Roboto, "Helvetica Neue", sans-serif'});this.addShapeToCanvas(e)}addImage(){let e=prompt("Please enter the image url (link or data url)");fabric.Image.fromURL(e,t=>{var r=t.set({left:0,top:0});this.fabricJsCanvas.add(r),this.fabricJsCanvas.setActiveObject(r),this.fabricJsCanvas.renderAll(),this.fabricJsCanvas.isDrawingMode=!this.fabricJsCanvas.isDrawingMode})}handleKeyboardEvents(e){e.key==="z"&&e.ctrlKey&&this.undoCanvas(),e.key==="y"&&e.ctrlKey&&this.redoCanvas()}undoCanvas(){this.fabricJsCanvas.undo()}redoCanvas(){this.fabricJsCanvas.redo()}clearCanvas(){this.fabricJsCanvas.clear()}copyToClipboardCanvas(){return ye(this,null,function*(){let e=this.fabricJsCanvas.toDataURL({format:"png",quality:1}),t=yield(yield fetch(e)).blob();try{yield navigator.clipboard.write([new ClipboardItem({"image/png":t})])}catch(r){console.error("Failed to copy image: ",r),alert("Failed to copy image to clipboard.")}})}toggleEditMode(){this.fabricJsCanvas.isDrawingMode=!this.fabricJsCanvas.isDrawingMode,this.editMode=!this.editMode}toggleFullScreen(){if(this.fullScreen=!this.fullScreen,this.fullScreen)this.canvasContainer.nativeElement.style.width="100vw",this.canvasContainer.nativeElement.style.height="100vh",this.canvasContainer.nativeElement.style.position="absolute",this.canvasContainer.nativeElement.style.top="0",this.canvasContainer.nativeElement.style.left="0",this.canvasContainer.nativeElement.requestFullscreen?this.canvasContainer.nativeElement.requestFullscreen():this.canvasContainer.nativeElement.webkitRequestFullscreen?this.canvasContainer.nativeElement.webkitRequestFullscreen():this.canvasContainer.nativeElement.msRequestFullscreen&&this.canvasContainer.nativeElement.msRequestFullscreen();else{this.canvasContainer.nativeElement.style.width="20vw",this.canvasContainer.nativeElement.style.height="20vh",this.canvasContainer.nativeElement.style.position="relative";let e=document;e.exitFullscreen?e.exitFullscreen():e.webkitExitFullscreen?e.webkitExitFullscreen():e.msExitFullscreen&&e.msExitFullscreen()}}static \u0275fac=function(t){return new(t||n)(I(Zn))};static \u0275cmp=ce({type:n,selectors:[["app-canvas"]],viewQuery:function(t,r){if(t&1&&(Te(U3,5),Te($3,5)),t&2){let i;we(i=Ce())&&(r.canvasEle=i.first),we(i=Ce())&&(r.canvasContainer=i.first)}},hostBindings:function(t,r){t&1&&A("keydown",function(o){return r.handleKeyboardEvents(o)})},inputs:{id:"id",data:"data"},decls:11,vars:5,consts:[["canvasContainer",""],[1,"overflow-hidden","resize","bg-white","relative","text-black","z-3"],[3,"id"],[1,"absolute","top-0","right-0",3,"ngClass"],[3,"click"],["class","fixed bottom-0 left-0 p-3 flex flex-row justify-between z-3 w-full",4,"ngIf"],[1,"fixed","bottom-0","left-0","p-3","flex","flex-row","justify-between","z-3","w-full"],[1,"w-4/12","flex","flex-col"],[1,"flex","flex-row","w-full"],["type","color",3,"ngModelChange","change","ngModel"],["type","range","min","1","max","150",1,"w-full",3,"ngModelChange","change","ngModel"],["type","range","min","100","max","400",1,"w-full",3,"ngModelChange","change","ngModel"],[1,"flex","flex-col"],[1,"flex-row"],["type","button",3,"click"],[1,"flex","flex-row","justify-end"],["type","button","title","copy as image",3,"click"],["type","button","title","undo",3,"click"],["type","button","title","redo",3,"click"],["type","button","title","clear",3,"click"]],template:function(t,r){if(t&1){let i=ae();m(0,"div",1,0),V(2,"canvas",2),m(3,"div",3)(4,"button",4),A("click",function(){return F(i),P(r.toggleEditMode())}),m(5,"mat-icon"),C(6),g()(),m(7,"button",4),A("click",function(){return F(i),P(r.toggleFullScreen())}),m(8,"mat-icon"),C(9),g()()(),H(10,H3,40,3,"div",5),g()}t&2&&(_(2),b("id",r.id),_(),b("ngClass",r.fullScreen?"fixed":"absolute"),_(3),ke(r.editMode?"edit":"pan_tool"),_(3),ke(r.fullScreen?"fullscreen_exit":"fullscreen"),_(),b("ngIf",r.fullScreen))},dependencies:[Ae,Zt,Ne,Cr,An,dy,wr,Kl,cn,dt],styles:["button[_ngcontent-%COMP%]{margin:8px;padding:8px;border-radius:8px;background-color:gray;mix-blend-mode:difference;cursor:pointer;transition:all}button[_ngcontent-%COMP%]:hover{transform:scale(1.05)}"]})};function z3(n,e){if(n&1&&V(0,"input",18),n&2){let t=T().$implicit;b("type",t.type)("id",t.name)("formControlName",t.name)("placeholder",t.placeholder||"")("min",t.validation==null?null:t.validation.min)("max",t.validation==null?null:t.validation.max)("step",t.validation==null?null:t.validation.step)("readonly",t.validation==null?null:t.validation.readonly)}}function G3(n,e){if(n&1&&(m(0,"a",19),C(1),g()),n&2){let t,r=T().$implicit,i=T();b("href",r.validation!=null&&r.validation.pattern?r.validation==null||r.validation.pattern==null?null:r.validation.pattern.replace("{key}",(t=i.dynamicForm.get(r.name))==null||t.value==null?null:t.value.trim()):(t=i.dynamicForm.get(r.name))==null?null:t.value,Mt)("formControlName",r.name)("title",r.name),_(),We(" ",r.label," ")}}function q3(n,e){if(n&1&&V(0,"textarea",20),n&2){let t=T().$implicit;b("id",t.name)("formControlName",t.name)("placeholder",t.placeholder||"")("readonly",t.validation==null?null:t.validation.readonly)}}function W3(n,e){if(n&1&&(m(0,"option",23),C(1),g()),n&2){let t=e.$implicit;b("value",t),_(),ke(t)}}function Z3(n,e){if(n&1&&(m(0,"select",21),H(1,W3,2,2,"option",22),g()),n&2){let t=T().$implicit;b("id",t.name)("formControlName",t.name),_(),b("ngForOf",t.options==null?null:t.options.split(","))}}function J3(n,e){if(n&1&&(m(0,"div",26)(1,"label",27),C(2),g(),V(3,"input",28),g()),n&2){let t=e.$implicit,r=T(2).$implicit;b("title",r.name+"-"+t),_(),b("for",r.name+"-"+t),_(),We("",t,":"),_(),b("id",r.name+"-"+t)("value",t)("name",r.name)("formControlName",r.name)}}function Y3(n,e){if(n&1&&(m(0,"div",24),H(1,J3,4,7,"div",25),g()),n&2){let t=T().$implicit;b("id",t.name),_(),b("ngForOf",t.options==null?null:t.options.split(","))}}function Q3(n,e){if(n&1&&(m(0,"div",30)(1,"label",27),C(2),g(),V(3,"input",31),g()),n&2){let t=e.$implicit,r=e.index,i=T(2).$implicit;b("title",i.name+"-"+t)("formArrayName",i.name),_(),b("for",i.name+"-"+t),_(),We("",t,":"),_(),b("id",i.name+"-"+t)("value",t)("name",i.name)("formControlName",r)}}function K3(n,e){if(n&1&&(m(0,"div",24),H(1,Q3,4,8,"div",29),g()),n&2){let t=T().$implicit;b("id",t.name),_(),b("ngForOf",t.options==null?null:t.options.split(","))}}function X3(n,e){if(n&1&&(m(0,"div",32),C(1," YES:"),V(2,"input",33),C(3," \xA0 NO:"),V(4,"input",34),g()),n&2){let t=T().$implicit;b("id",t.name),_(2),b("formControlName",t.name)("name",t.name),_(2),b("formControlName",t.name)("name",t.name)}}function eU(n,e){if(n&1&&(m(0,"div",35),V(1,"input",36)(2,"img",37),g()),n&2){let t,r,i=T().$implicit,o=T();b("title",i.label),_(),b("value",(t=o.dynamicForm.get(i.name))==null?null:t.value)("formControlName",i.name)("placeholder",i.placeholder)("readonly",i.validation==null?null:i.validation.readonly),_(),b("src",(r=o.dynamicForm.get(i.name))==null?null:r.value,Mt)}}function tU(n,e){if(n&1){let t=ae();m(0,"div",38),V(1,"input",39),m(2,"a",40),C(3),g(),C(4,"\xA0\xA0 "),m(5,"button",41),A("click",function(){F(t);let i=T().$implicit,o=T();return P(o.openFileBrowserFor(i.name))}),C(6,"\u{1F4C1}"),g()()}if(n&2){let t,r=T().$implicit,i=T();b("title",r.label),_(),b("id",r.name),_(),b("download",r.name)("href",(t=i.dynamicForm.get(r.name))==null?null:t.value,Mt)("download",r.name),_(),ke(r.name)}}function nU(n,e){if(n&1&&V(0,"app-canvas",42),n&2){let t=T().$implicit,r=T();b("id",t.name)("data",r.data?r.data[t.name]:null)}}function rU(n,e){if(n&1&&(m(0,"div",43)(1,"div",44),V(2,"input",45),m(3,"a",46),C(4,"\u2197\uFE0F"),g()(),V(5,"iframe",47),g()),n&2){let t,r,i,o=T().$implicit,s=T();_(2),b("value",(t=s.dynamicForm.get(o.name))==null?null:t.value)("formControlName",o.name)("placeholder",o.placeholder)("readonly",o.validation==null?null:o.validation.readonly),_(),b("href",(r=s.dynamicForm.get(o.name))==null?null:r.value,Mt),_(2),b("src",(i=s.dynamicForm.get(o.name))==null?null:i.value,Cg)}}function iU(n,e){if(n&1&&(m(0,"tr",4)(1,"td",5)(2,"label",6),C(3),g()(),m(4,"td",7),H(5,z3,1,8,"input",8)(6,G3,2,4,"a",9)(7,q3,1,4,"textarea",10)(8,Z3,2,3,"select",11)(9,Y3,2,2,"div",12)(10,K3,2,2,"div",12)(11,X3,5,5,"div",13)(12,eU,3,6,"div",14)(13,tU,7,6,"div",15)(14,nU,1,2,"app-canvas",16)(15,rU,6,6,"div",17),g()()),n&2){let t=e.$implicit,r=T();b("title",t.name),_(2),b("for",t.name),_(),ke(t.label),_(2),b("ngIf",r.inputTagTypes.includes(t.type)),_(),b("ngIf",t.type==="url"),_(),b("ngIf",t.type==="textarea"||t.type==="timestamp"),_(),b("ngIf",t.type==="select"),_(),b("ngIf",t.type==="radio"),_(),b("ngIf",t.type==="checkbox"),_(),b("ngIf",t.type==="boolean"),_(),b("ngIf",t.type==="image"),_(),b("ngIf",t.type==="file"),_(),b("ngIf",t.type==="canvas"),_(),b("ngIf",t.type==="iframe")}}var Sh=class n{constructor(e,t,r){this.formBuilder=e;this.connectionService=t;this.sanitizer=r;this.inputTagTypes=sM}inputTagTypes;schema;schemaInternal;data;isValid=!1;fabricjsLoaded=!1;canvasComponents;fileControlsId=[];iframeControlId=[];state(){return ye(this,null,function*(){if(!this.schemaInternal?.fields)return new Map;if(this.dynamicForm?.valid){let e=this.dynamicForm.value,t=this.canvasComponents.toArray();for(let r of t)e[r.id]=r.getState();return this.fileControlsId.length>0&&(yield new Promise(r=>{for(let i of this.fileControlsId){let s=document.getElementById(i).files[0];if(s){let a=new FileReader;a.onload=function(l){let c=l.target?.result;e[i]=c,r(e)},a.readAsDataURL(s)}}})),this.iframeControlId.length>0&&this.iframeControlId.forEach(r=>{e[r]=e[r].changingThisBreaksApplicationSecurity}),new Promise(r=>r(e))}else{let e=new Map;for(let t=0;t<this.schemaInternal.fields.length;t++){let r=this.dynamicForm?.get(this.schemaInternal.fields[t].name);r&&e.set(this.schemaInternal.fields[t].name,r.errors)}return e}})}dynamicForm;ngOnChanges(){if(this.schemaInternal=structuredClone(this.schema),this.data){let e=new Map(Object.entries(this.data));this.schemaInternal&&this.schemaInternal?.fields?.forEach(t=>{t.default=e.get(t.name),(t.type=="image"||t.type=="file"||t.type=="iframe")&&typeof t.default=="string"&&t.default?.startsWith("/item/doc/")&&this.connectionService.getUrlWithToken(t.default).then(i=>{t.default=i,this.createForm()}),t.type=="iframe"&&(this.iframeControlId.push(t.name),t.default=this.getSafeLinkHtmlForIframe(t.default))})}this.createForm()}onControlFocusIn(e){e.target?.scrollIntoView({behavior:"smooth",block:"center"})}createForm(){let e={};if(this.schemaInternal&&this.schemaInternal.fields)for(let t=0;t<this.schemaInternal.fields.length;t++){let r=[],i=this.schemaInternal.fields[t],o=i.type,{require:s,readonly:a,maxLength:l,minLength:c,min:u,max:d,pattern:p}=S({},i.validation),f=i.name;if(s&&r.push(At.required),l&&r.push(At.maxLength(l)),c&&r.push(At.minLength(c)),p&&o!=="url"&&r.push(At.pattern(p)),d&&r.push(At.max(Number.parseInt(d))),u&&r.push(At.min(Number.parseInt(u))),o==="email"&&r.push(At.email),o==="timestamp"&&(i.default||(i.default=""),i.default+=` ,
 `+Intl.DateTimeFormat([],{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"}).format(new Date)),o==="history"&&(i.default||(i.default=""),i.default+=JSON.stringify({timestamp:Date(),subject:JSON.stringify(document.getElementById("editor-subject-input")?.value),description:JSON.stringify(document.getElementById("editor-description-input")?.value),formData:JSON.stringify(this.data)})),o!=="canvas")if(o==="file"&&this.fileControlsId.push(i.name),o==="checkbox"&&i.options){let h=i.options.split(",").map((v,y)=>{let x=(i.default||[!1]).at(y);return this.formBuilder.control(x)});e[f]=this.formBuilder.array(h)}else e[f]=this.formBuilder.control(i.default,r)}this.dynamicForm=this.formBuilder.group(e)}filterDuplicateFields(){if(!this.schemaInternal||!this.schemaInternal.fields)return;this.schemaInternal.fields;let e=new Map;for(let t of this.schemaInternal.fields)e.set(t.name,t);this.schemaInternal.fields=Array.from(e.values())}openFileBrowserFor(e){document.getElementById(e)?.click()}getSafeLinkHtmlForIframe(e){return this.sanitizer.bypassSecurityTrustResourceUrl(e)}static \u0275fac=function(t){return new(t||n)(I(ta),I(Ut),I(Jn))};static \u0275cmp=ce({type:n,selectors:[["app-user-form"]],viewQuery:function(t,r){if(t&1&&Te(Tc,5),t&2){let i;we(i=Ce())&&(r.canvasComponents=i)}},hostBindings:function(t,r){t&1&&A("focusin",function(o){return r.onControlFocusIn(o)})},inputs:{schema:"schema",data:"data"},features:[it],decls:4,vars:3,consts:[["autocomplete","on",3,"formGroup"],[1,"border-1",3,"ngClass"],[1,"h-full","w-full","transition-all"],["class","flex flex-row justify-between rounded",3,"title",4,"ngFor","ngForOf"],[1,"flex","flex-row","justify-between","rounded",3,"title"],[1,"max-w-1/3","m-2"],[1,"break-all",3,"for"],[1,"flex","min-w-2/3","content-center","justify-center"],["class","w-full outline-1 p-2 m-1",3,"type","id","formControlName","placeholder","min","max","step","readonly",4,"ngIf"],[3,"href","formControlName","title",4,"ngIf"],["class","w-full outline-1 p-1",3,"id","formControlName","placeholder","readonly",4,"ngIf"],["class","w-full",3,"id","formControlName",4,"ngIf"],["class","flex flex-wrap",3,"id",4,"ngIf"],[3,"id",4,"ngIf"],["class","w-2/3",3,"title",4,"ngIf"],["class","w-2/3 flex flex-row items-center",3,"title",4,"ngIf"],[3,"id","data",4,"ngIf"],["class","w-full h-full",4,"ngIf"],[1,"w-full","outline-1","p-2","m-1",3,"type","id","formControlName","placeholder","min","max","step","readonly"],[3,"href","formControlName","title"],[1,"w-full","outline-1","p-1",3,"id","formControlName","placeholder","readonly"],[1,"w-full",3,"id","formControlName"],[3,"value",4,"ngFor","ngForOf"],[3,"value"],[1,"flex","flex-wrap",3,"id"],["class","flex-shrink-0 m-1",3,"title",4,"ngFor","ngForOf"],[1,"flex-shrink-0","m-1",3,"title"],[3,"for"],["type","radio",3,"id","value","name","formControlName"],["class","flex-shrink-0 m-1",3,"title","formArrayName",4,"ngFor","ngForOf"],[1,"flex-shrink-0","m-1",3,"title","formArrayName"],["type","checkbox",3,"id","value","name","formControlName"],[3,"id"],["type","radio","value","true",3,"formControlName","name"],["type","radio","value","false",3,"formControlName","name"],[1,"w-2/3",3,"title"],["type","text",1,"w-full","outline-1","overflow-auto",2,"mix-blend-mode","difference",3,"value","formControlName","placeholder","readonly"],[1,"border","border-1","w-full",3,"src"],[1,"w-2/3","flex","flex-row","items-center",3,"title"],["type","file",1,"user-form-file-control","hidden",3,"id"],["href","",3,"download","href"],[3,"click"],[3,"id","data"],[1,"w-full","h-full"],[1,"flex","flex-row"],["type","text",1,"outline-1","overflow-auto","w-full",2,"mix-blend-mode","difference",3,"value","formControlName","placeholder","readonly"],[1,"outline-1",3,"href"],["sandbox","allow-scripts allow-popups allow-modals allow-downloads",1,"outline-1","w-full","h-full","bg-white",3,"src"]],template:function(t,r){t&1&&(m(0,"form",0)(1,"div",1)(2,"table",2),H(3,iU,16,14,"tr",3),g()()()),t&2&&(b("formGroup",r.dynamicForm),_(),b("ngClass",(r.schema==null?null:r.schema.fields.length)>5?"h-100 overflow-auto resize":""),_(2),b("ngForOf",r.schema==null?null:r.schema.fields))},dependencies:[Ae,Zt,ut,Ne,Cr,Of,Xs,ea,An,Zl,Oi,uy,wr,Ks,na,Ri,Ao,kf,Tc],styles:["tr[_ngcontent-%COMP%]{border:1px solid var(--editor-input-container-bg-color);color:var(--editor-input-container-text-color)}select[_ngcontent-%COMP%]{color:var(--editor-input-container-text-color);background:var(--editor-subject-input-bg-color)}td[_ngcontent-%COMP%]{border:none!important}"]})};var oU=["editorContainer"],sU=["subjectTxt"],aU=["descriptionArea"],lU=["lineNumbers"],cU=["userForm"],uU=["tagInputArea"];function dU(n,e){if(n&1&&V(0,"app-user-form",25,2),n&2){let t=T();b("data",t.customFormData)("schema",t.customFormSchema)}}function fU(n,e){if(n&1){let t=ae();m(0,"app-tag-list",26),A("onChange",function(i){F(t);let o=T();return P(o.onUpdateTags(i))}),g()}if(n&2){let t=T();b("editable",!0)("tags",t.todoItem.tags)}}function hU(n,e){if(n&1){let t=ae();m(0,"div")(1,"div",27)(2,"div",28,3),A("click",function(i){F(t);let o=T();return P(o.onOptionClickOnDelay(i))}),g(),m(4,"textarea",29,4),wi("ngModelChange",function(i){F(t);let o=T();return go(o.todoItem.description,i)||(o.todoItem.description=i),P(i)}),A("keydown",function(i){F(t);let o=T();return P(o.handleKeydownForDescription(i))}),g()()()}if(n&2){let t=T();_(4),bi("ngModel",t.todoItem.description)}}function pU(n,e){if(n&1){let t=ae();m(0,"div",30),A("click",function(i){F(t);let o=T();return P(o.onOptionClickOnDelay(i))}),g()}if(n&2){let t=T();b("innerHTML",t.convertedMarkdown,Ds)}}var qo=class n{constructor(e,t,r,i,o){this.todoServie=e;this.router=t;this.domSanitizer=r;this.toaster=i;this.route=o;if(this.router.url.startsWith("/edit")){let s=this.router.getCurrentNavigation();this.route.queryParams.subscribe(a=>{setTimeout(()=>{let l=a.id,c=a.subject;l=Number.parseInt(l);let u=!1;if(l?this.todoServie.getItemById(l).subscribe(d=>{this.forEdit=l,this.todoItem=d}):c?this.todoServie.searchTodos(c).subscribe(d=>{this.forEdit=d[0].id,this.todoItem=d[0]}):u=!0,s?.extras?.state){let d=s.extras.state.item;this.queryParams=s.extras.state.query,this.forEdit=d.id,this.todoItem=d,this.todoItem.description=this.todoItem.description.replace(/<br>/g,`
`),this.customFormSchema=this.todoItem.userDefined?.formControlSchema,this.customFormData=this.todoItem.userDefined?.data,u=!1}u&&this.router.navigate(["/"])},100)})}}editorContainer;subjectTxt;descriptionArea;lineNumbers;userForm;tagInputArea;queryParams={};convertedMarkdown="";option="Preview";forEdit=-1;showTags=!1;schemaEditingInProgress=!1;customFormSchema;customFormData;editiorLinesLoaded=!1;leftIndentSpcaeCount=0;todoItem={subject:"",uuid:Ro(),description:"",version:0,tags:[{name:"*"}],completionStatus:!1,setForReminder:!1,creationTimestamp:new Date(Date.now()).toISOString(),updationTimestamp:new Date(Date.now()).toISOString()};ngAfterViewInit(){setTimeout(()=>{this.subjectTxt.nativeElement.scrollIntoView(),this.subjectTxt.nativeElement.focus(),this.onEventForResize()},100),this.convertedMarkdown=""}ngAfterViewChecked(){if(this.editiorLinesLoaded)return;let e=this.descriptionArea?.nativeElement,t=this.lineNumbers?.nativeElement;if(!(e||t))return;let r=window.getComputedStyle(e);["fontFamily","fontSize","fontWeight","letterSpacing","lineHeight","padding"].forEach(h=>{t.style[h]=r[h]});let i=h=>h.endsWith("px")?parseInt(h.slice(0,-2),10):0,o=`${r.fontSize} ${r.fontFamily}`,s=i(r.paddingLeft),a=i(r.paddingRight),c=document.createElement("canvas").getContext("2d");c&&(c.font=o);let u=h=>{let v=e.getBoundingClientRect().width-s-a,y=h.split(" "),x=0,U="";for(let B=0;B<y.length;B++){let D=c?.measureText(y[B]+" ").width||0;(c?.measureText(U).width||0)+D>v?(x++,U=y[B]+" "):U+=y[B]+" "}return U.trim()!==""&&x++,x},d=()=>{let v=e.value.split(`
`).map(U=>u(U)),y=[],x=1;for(;v.length>0;){let U=v.shift()||0;y.push(x),U>1&&Array(U-1).fill("").forEach(B=>y.push("")),x++}return y},p=()=>{let h=d();t.innerHTML=Array.from({length:h.length},(v,y)=>`<div style="cursor:pointer"
             onmouseover="this.style.color = 'white'"
             onmouseout="this.style.color = '#39ff13'">
              ${h[y]||"&nbsp;"}
            </div>`).join("")};e.addEventListener("input",()=>{p()}),p(),new ResizeObserver(()=>{let h=e.getBoundingClientRect();t.style.height=`${h.height}px`,p()}).observe(e),e.addEventListener("scroll",()=>{t.scrollTop=e.scrollTop}),this.editiorLinesLoaded=!0}handleKeydownForDescription(e){let t=e.target,r=t.selectionStart,i=t.selectionEnd,o=t.value.substring(0,r),s=t.value.substring(i);if(e.key==="Tab")e.preventDefault(),t.value=o+"	"+s,t.selectionStart=t.selectionEnd=r+1,(o.length==0||o.match(/\n\t*$/))&&(this.leftIndentSpcaeCount+=1),this.todoItem.description=t.value;else if(e.key==="Enter"){if(this.leftIndentSpcaeCount>0&&o.match(/\n*\t*$/)){e.preventDefault(),t.value=o+`
`;for(let a=0;a<this.leftIndentSpcaeCount;a++)t.value+="	";t.value+=s,t.selectionStart=t.selectionEnd=r+1+this.leftIndentSpcaeCount,this.todoItem.description=t.value}else this.leftIndentSpcaeCount=0;this.onEventForResize()}else if(e.key==="Backspace"){let a=e.target,l=a.selectionStart;a.value.substring(0,l).match(/\n\t+$/)&&(this.leftIndentSpcaeCount-=1,this.leftIndentSpcaeCount<0&&(this.leftIndentSpcaeCount=0)),this.onEventForResize()}else e.key==="s"&&e.ctrlKey?(e.preventDefault(),this.onAddClick()):e.key==="["&&e.ctrlKey?this.addChildItem():e.key==="]"&&e.ctrlKey&&this.navigateToParent()}handleKeydownForSubject(e){e.key==="Enter"&&(e.preventDefault(),this.onAddClick())}addChildItem(){let i=structuredClone(this.todoItem),{id:e}=i,t=Wh(i,["id"]),r=`child of ${this.todoItem.subject}`;t.subject="",t.description="### ["+r+"]",t.userDefined=void 0,t.tags.push({name:r}),t.uuid="",this.onAddClick(),this.todoServie.addItem(t).then(o=>{this.router.navigate(["/edit/child"],{state:{item:S({id:o},t),params:this.queryParams},queryParams:{id:o}})})}navigateToParent(){this.todoServie.updateItem(S({id:this.forEdit},this.todoItem));let e=this.todoItem.description.match(/^### \[child of (.+?)\]/);e?(this.updateParentDescForTree(),this.router.navigate(["/edit/parent"],{queryParams:{subject:e[1]}})):this.router.navigate(["/home"],{queryParams:this.queryParams}),requestAnimationFrame(()=>{this.descriptionArea?.nativeElement.focus(),this.onEventForResize()})}createChildTreeview(e,t){let r="\n```treeview\n";r+=e+`/
`;let i=[];for(let o of t.entries()){let s=1;for(let a of o[1].children){let l="\u251C\u2500\u2500";s==o[1].children.size&&(l="\u2514\u2500\u2500"),i.includes(a.subject)||(r+=l+" ["+a.subject+"](/edit?id="+a.id+`)
`),i.push(a.subject),s++}}return r+="\n```\n",r}updateParentDescForTree(){let e=this.todoItem.description.match(/^### \[child of (.+?)\]/);if(e){let t=(r,i)=>{r.description.match(new RegExp("\n```treeview\n"+r.subject+".*\n```\n","s"))?r.description=r.description.replace(new RegExp("\n```treeview\n"+r.subject+".*\n```\n","s"),i):r.description+=i};this.todoServie.searchTodos(e[1]).subscribe(r=>{let i=r[0],o=new Map;this.todoServie.searchTodos("",["child of "+e[1]],[],!0).subscribe(s=>{o?.set(this.todoItem.subject,{item:S({id:this.forEdit},this.todoItem),children:new Set(s)});let a=this.createChildTreeview(e[1],o);t(i,a),this.todoServie.updateItem(i)})})}}onEventForResize(){if(this.descriptionArea){let e=this.descriptionArea.nativeElement;e.style.height="auto",requestAnimationFrame(()=>{e.style.height=e.scrollHeight+"px"})}}onPasteEvent(e){if(!(e.target instanceof HTMLTextAreaElement))return;let t=e.target,r=e.clipboardData,i=r?.getData("text");if(i?.toLocaleLowerCase().startsWith("http://")||i?.toLocaleLowerCase().startsWith("https://")){let s=t.selectionStart;this.todoItem.description=this.todoItem.description.substring(0,s)+`[link_${new Date().getSeconds()}](${i})`+this.todoItem.description.substring(s),e.preventDefault()}new Promise(s=>{for(let a of r?.items||[])if(a.kind.startsWith("file")){let l=a.getAsFile(),c=a.getAsFile();if(l&&c){let u=new FileReader;u.readAsDataURL(l),s({file:c,reader:u})}}}).then(s=>{s.reader.onload=a=>{let l=a.target;if(l.result){let c=s.file.type.replaceAll("/","_")+"_"+s.file.name.replaceAll(/[.]/g,"_")+"_"+new Date(s.file.lastModified).toLocaleString().replaceAll(/[-,\/.: ]/g,"_"),u={type:"iframe",name:c,label:c,default:"file data",validation:{readonly:!0}};s.file.type.startsWith("image")&&(u.type="image"),this.appendCustomSchemaFields([u]);let d={};d[u.name]=l.result,this.customFormData=S(S({},this.customFormData),d);let p=!1;for(let h of this.todoItem.tags)h.name=="has-attachments"&&(p=!0);p||this.todoItem.tags.push({name:"has-attachments"});let f=t.selectionStart;this.todoItem.description=this.todoItem.description.substring(0,f)+" #Ref:"+u.label+" "+this.todoItem.description.substring(f)}}}),requestAnimationFrame(()=>this.onEventForResize())}onOptionClickOnDelay(e){let t=window.getSelection();if(t&&t.toString().length>0)return;let r=this.editorContainer.nativeElement,i=r.scrollTop/r.scrollHeight;requestAnimationFrame(()=>{this.onOptionClick(),setTimeout(()=>{let o=r.scrollHeight*i;r.scrollTop=o},100)})}onOptionClick(){this.todoItem.subject===""&&this.todoItem.description===""||(this.option=="Preview"?requestAnimationFrame(()=>{this.editiorLinesLoaded=!1;let e=qs(this.todoItem.description).toString(),t=e.match(/<code class="language-(\w+)">([\s\S]*?)<\/code>/g)||e.match(/<code>([\s\S]*?)<\/code>/);if(t){for(let r=0;r<t.length;r++){let i=t[r];e=e.replace(i,i.replace(/<br>/g,`
`))}requestAnimationFrame(()=>{Prism.highlightAll()})}this.convertedMarkdown=this.domSanitizer.bypassSecurityTrustHtml(e),this.todoItem.subject.trim().length!=0&&(this.convertedMarkdown=this.domSanitizer.bypassSecurityTrustHtml(e))}):requestAnimationFrame(()=>{this.onEventForResize()}),this.option=this.option==="Preview"?"Editor":"Preview")}onAddClick(){return ye(this,null,function*(){if(this.userForm?.dynamicForm.invalid){console.log("user defined field validation failed - "),console.error(this.userForm.state()),(yield this.userForm.state()).forEach((t,r)=>{if(t){let i=JSON.stringify(t);this.toaster.error(r+"->"+i)}});return}this.customFormSchema?.fields&&(this.todoItem.userDefined={tag:{name:this.todoItem.tags.filter(t=>t.name.startsWith("form-")).map(t=>t.name).join(",")},formControlSchema:this.customFormSchema,data:yield this.userForm.state()},this.todoItem.userDefined.tag.name==""&&(this.todoItem.userDefined.tag.name="has-attachments")),this.updateParentDescForTree(),this.forEdit!==-1?this.todoServie.updateItem(S({id:this.forEdit},this.todoItem)):this.todoServie.addItem(this.todoItem),this.router.lastSuccessfulNavigation?.finalUrl?.toString()?.includes("/home")?this.router.navigate(["/home"],{queryParams:this.queryParams}):history.back()})}onUpdateTags(e){this.todoItem.tags=e,this.loadCustomSchemaFromDb(e),this.loadPrimitiveFields(e)}loadPrimitiveFields(e){if(e=e.filter(r=>r.name.startsWith("form-")),e.length===0)return;this.customFormSchema=this.todoItem.userDefined?.formControlSchema;let t=[];for(let r=0;r<e.length;r++){let i=e[r].name.substring(5);t.push({name:i+"_"+r,label:i+"_"+r,type:i,placeholder:"",default:""})}this.appendCustomSchemaFields(t)}loadCustomSchemaFromDb(e){e=e.filter(t=>t.name.startsWith("form-")),e.length!==0&&(this.customFormSchema=this.todoItem.userDefined?.formControlSchema,this.todoServie.getAllCustom(e).subscribe(t=>t.forEach(r=>{let i=r?.item;if(i)try{i.fields?.forEach(o=>{let s=this.customFormData;if(s){s=new Map(Object.entries(s));let a=s.get(o.name);a&&(o.default=a)}}),this.appendCustomSchemaFields(i.fields)}catch(o){console.error("failed to load schema "+e,i,o)}})))}appendCustomSchemaFields(e){!e||e.length==0||(this.customFormSchema&&this.customFormSchema.fields?this.customFormSchema={fields:[...this.customFormSchema.fields,...e]}:this.customFormSchema={fields:e})}onClickUserFormAdd(e){if(this.schemaEditingInProgress)try{this.todoItem.description=this.todoItem.description.replaceAll(/\/\*[\s\S]*?\*\//g,"").replaceAll(/\//g,"\\/").replaceAll("<","&lt;").replaceAll(">","&gt;");let t=JSON.parse(this.todoItem.description);if(!t.tag||!t.formControlSchema){this.toaster.error("please provide a unique tag and schema for this shcema!");return}let r="form-"+t.tag.trim();this.todoItem.tags.push({name:r}),this.todoServie.addCustom(r,t.formControlSchema),this.customFormSchema&&this.customFormSchema.fields?this.customFormSchema={fields:[...this.customFormSchema.fields,...t.formControlSchema.fields]}:this.customFormSchema=t.formControlSchema,this.todoItem.description=localStorage.tempTodoDescription,this.schemaEditingInProgress=!1;return}catch(t){console.error("Error parsing schema - "),console.error(t),console.error("input schema - ",this.todoItem.description),this.toaster.error("error parsing the schema please try aggain");return}localStorage.tempTodoDescription=this.todoItem.description,this.todoItem.description=`/* Please add your json schema for desired custom form here - 
      * Remove this commented part before save; Dont worry your description will be back once you save the schema by clicking the same 'add custom form' button
      * the format is - 
      * {
      *   "tag" : string, 
      *   "formControlSchema" : {
      *     "fields": [
      *        {
      *         "name" : string,
      *         "label" : string,
      *         "type" : 'text' | 'textarea' | 'email' | 'password' 
      *                  | 'number' | 'date' | 'select' | 'checkbox' | 'radio' | 'boolean' | 'image' | 'file' | 'iframe' | 'canvas' 
      *                  | 'color' | 'range' | 'month' | 'date' | 'time' | 'datetime-local' | 'timestamp' | 'history',
      *         "placeholder"?: string,
      *         "validation"?: {
      *             "require"? : boolean,
      *             "readonly"?: any, // set any value for readonly control
      *             "minLength"?: number,
      *             maxLength"?: number,
      *             pattern"? : string,
      *             "min"? : string,
      *             "max"? : string,
      *             "step"? : string
      *         },
      *         "default"?: string,
      *         "options"?: string // , seperated options
      *       }
      *     ]
      *   },
      *   "data" : Map<string, string> | null
      * }
      * 
      * sample - 
      *   {"tag":"sample", "formControlSchema": {"fields": [{"name":"sample", "label":"sample text", "type":"text"}]}, "data":[["sample", "current value"]]}
*/


`,this.todoItem.userDefined&&this.todoItem.userDefined.formControlSchema.fields&&(this.todoItem.description+=JSON.stringify(this.todoItem.userDefined,null,4)),requestAnimationFrame(this.onEventForResize.bind(this)),this.schemaEditingInProgress=!0}onReminderClick(){this.todoItem.setForReminder=!this.todoItem.setForReminder}onCompletionClick(){this.todoItem.completionStatus=!this.todoItem.completionStatus}static \u0275fac=function(t){return new(t||n)(I($t),I(Be),I(Jn),I(_t),I(yt))};static \u0275cmp=ce({type:n,selectors:[["app-markdown-editor"]],viewQuery:function(t,r){if(t&1&&(Te(oU,5),Te(sU,5),Te(aU,5),Te(lU,5),Te(cU,5),Te(uU,5)),t&2){let i;we(i=Ce())&&(r.editorContainer=i.first),we(i=Ce())&&(r.subjectTxt=i.first),we(i=Ce())&&(r.descriptionArea=i.first),we(i=Ce())&&(r.lineNumbers=i.first),we(i=Ce())&&(r.userForm=i.first),we(i=Ce())&&(r.tagInputArea=i.first)}},hostBindings:function(t,r){t&1&&A("paste",function(o){return r.onPasteEvent(o)})},decls:37,vars:10,consts:[["editorContainer",""],["subjectTxt",""],["userForm",""],["lineNumbers",""],["descriptionArea",""],[1,"h-full","md:m-4","md:p-4","overflow-auto"],[1,"flex","flex-row","flex-wrap","md:flex-nowrap","justify-center","md:justify-between","pb-1"],[1,"m-2","user-form-container"],[3,"data","schema",4,"ngIf"],[1,"flex","justify-evenly","space-x-2","mt-2"],[1,"bg-blue-500",3,"click"],["title","Save the note",1,"bg-[#70e000]",3,"click"],[1,"bg-yellow-500",3,"click","title"],[1,"bg-purple-500",3,"click","title"],[1,"flex","justify-center","content-center"],["title","Tags",2,"background-color","#f72585",3,"click"],[3,"editable","tags","onChange",4,"ngIf"],["title","go to parent",2,"background-color","#38a3a5",3,"click"],["title","add child item",2,"background-color","#57cc99",3,"click"],["title","add custom form widget",2,"background-color","#d74c11",3,"click"],[1,"editor-input-container","rounded-lg","shadow-md","p-4"],["type","text","id","editor-subject-input","placeholder","Title",1,"w-full","editor-subject-input","p-3","rounded-lg","outline-0","ring-2","ring-inset","focus:ring-blue-600",3,"ngModelChange","keydown","ngModel"],[4,"ngIf"],["id","editor-markdown-div","class","match-braces rainbow-braces overflow-ellipsis m-2 p-3 rounded-lg ring-2 ring-inset markdown-container ring-[#8900ff]",3,"innerHTML","click",4,"ngIf"],[1,"w-full","h-20"],[3,"data","schema"],[3,"onChange","editable","tags"],["id","container",1,"input-area-container","w-full"],["id","line-numbers",1,"container__lines","mt-2",3,"click"],["id","editor-description-input","placeholder","Description","tabindex","0",1,"w-full","transition-all","duration-1000","rounded-lg","p-3","m-2","input-textarea","resize-vertical","overflow-hidden","ring-2","ring-inset","focus:ring-blue-600",3,"ngModelChange","keydown","ngModel"],["id","editor-markdown-div",1,"match-braces","rainbow-braces","overflow-ellipsis","m-2","p-3","rounded-lg","ring-2","ring-inset","markdown-container","ring-[#8900ff]",3,"click","innerHTML"]],template:function(t,r){if(t&1){let i=ae();m(0,"div",5,0)(2,"div",6)(3,"div",7),H(4,dU,2,2,"app-user-form",8),g(),m(5,"div",9)(6,"button",10),A("click",function(){return F(i),P(r.onOptionClick())}),C(7),g(),m(8,"button",11),A("click",function(){return F(i),P(r.onAddClick())}),m(9,"mat-icon"),C(10,"save"),g()(),m(11,"button",12),A("click",function(){return F(i),P(r.onReminderClick())}),m(12,"mat-icon"),C(13),g()(),m(14,"button",13),A("click",function(){return F(i),P(r.onCompletionClick())}),m(15,"mat-icon"),C(16),g()(),m(17,"div",14)(18,"button",15),A("click",function(){return F(i),P(r.showTags=!r.showTags)}),m(19,"mat-icon"),C(20,"local_offer"),g()(),H(21,fU,1,2,"app-tag-list",16),g(),m(22,"button",17),A("click",function(){return F(i),P(r.navigateToParent())}),m(23,"mat-icon"),C(24,"subdirectory_arrow_left"),g()(),m(25,"button",18),A("click",function(){return F(i),P(r.addChildItem())}),m(26,"mat-icon"),C(27,"subdirectory_arrow_right"),g()(),m(28,"button",19),A("click",function(s){return F(i),P(r.onClickUserFormAdd(s))}),m(29,"mat-icon"),C(30,"widgets"),g()()()(),m(31,"div",20)(32,"input",21,1),wi("ngModelChange",function(s){return F(i),go(r.todoItem.subject,s)||(r.todoItem.subject=s),P(s)}),A("keydown",function(s){return F(i),P(r.handleKeydownForSubject(s))}),g(),H(34,hU,6,1,"div",22)(35,pU,1,1,"div",23),g(),V(36,"footer",24),g()}t&2&&(_(4),b("ngIf",r.customFormSchema==null?null:r.customFormSchema.fields),_(3),We(" ",r.option," "),_(4),b("title",r.todoItem.setForReminder?"Clear reminder":"Set reminder"),_(2),ke(r.todoItem.setForReminder?"alarm_off":"alarm_add"),_(),b("title",r.todoItem.completionStatus?"set status: Pending":"set status: Done"),_(2),ke(r.todoItem.completionStatus?"done_all":"timelapse"),_(5),b("ngIf",r.showTags),_(11),bi("ngModel",r.todoItem.subject),_(2),b("ngIf",r.option!=="Editor"),_(),b("ngIf",r.option!=="Preview"))},dependencies:[Cr,An,wr,Kl,Ae,Ne,cn,dt,Sh,Hi],styles:[".input-area-container[_ngcontent-%COMP%]{display:flex;border:1px solid rgb(203 213 225);border-radius:.5rem}.input-textarea[_ngcontent-%COMP%]{border:none;outline:none;filter:contrast(120%);background:repeating-linear-gradient(180deg,var(--editor-desc-input-bg-color),var(--editor-desc-input-bg-color) calc(var(--global-line-height) * var(--global-font-size) - 1px),var(--editor-desc-input-line-color) calc(var(--global-line-height) * var(--global-font-size) - 1px),var(--editor-desc-input-line-color) calc(var(--global-line-height) * var(--global-font-size)));background-position:0px 10px;line-height:calc(var(--global-line-height) * var(--global-font-size));white-space:pre-wrap;word-wrap:break-word}.container__lines[_ngcontent-%COMP%]{border-right:1px solid var(--editor-desc-input-line-color);border-radius:10px;color:var(--editor-desc-input-line-color);padding:.5rem;text-align:right;overflow:hidden}button[_ngcontent-%COMP%]{padding:.125rem .5rem;font-weight:100;border-radius:.25rem;color:var(--button-icon-color);width:100%;height:100%}button[_ngcontent-%COMP%]:hover{filter:saturate(150%) brightness(150%);cursor:pointer}@media (min-width: 768px){button[_ngcontent-%COMP%]{padding:.25rem 1rem}}.editor-input-container[_ngcontent-%COMP%]{background:var(--editor-input-container-bg-color);color:var(--editor-input-container-text-color)}.editor-subject-input[_ngcontent-%COMP%]{background:var(--editor-subject-input-bg-color);font-size:calc(var(--global-font-size) * 1.875)!important}.markdown-container[_ngcontent-%COMP%]{background:var(--editor-desc-input-bg-color)}.user-form-container[_ngcontent-%COMP%]{color:var(--editor-input-container-text-color)}"]})};var mU=["calendarContainer"],gU=["panelContainer"];function vU(n,e){if(n&1&&(m(0,"div",6),V(1,"div",7,0)(3,"footer",8),g()),n&2){let t=T();b("ngClass",t.calendarVisible()?"grow p-2 md:p-8":"")}}function yU(n,e){if(n&1){let t=ae();m(0,"div",16),A("click",function(){let i=F(t).$implicit,o=T(2);return P(o.openItemInEditor(i.id))}),m(1,"b",17),C(2),g(),m(3,"i",18),C(4),g()()}if(n&2){let t=e.$implicit;_(2),ke(t.startStr.split(".")[0]),_(2),ke(t.title)}}function _U(n,e){if(n&1){let t=ae();m(0,"div",9,1)(2,"div",10)(3,"h2"),C(4,"Instructions"),g(),m(5,"ul")(6,"li"),C(7,"Select dates and you will be prompted to create a new event"),g(),m(8,"li"),C(9,"Drag, drop, and resize events"),g(),m(10,"li"),C(11,"Click an event to delete it"),g()()(),m(12,"div",10)(13,"label")(14,"input",11),A("change",function(){F(t);let i=T();return P(i.handleCalendarToggle())}),g(),C(15," toggle calendar "),g()(),m(16,"div",10)(17,"label")(18,"input",12),A("change",function(){F(t);let i=T();return P(i.handleWeekendsToggle())}),g(),C(19," toggle weekends "),g()(),m(20,"div",10)(21,"label")(22,"input",11),A("change",function(){F(t);let i=T();return P(i.handleViewByUpdationTimestampToggle())}),g(),C(23," show based on event updation "),g()(),m(24,"div",13)(25,"h2"),C(26),g(),H(27,yU,5,2,"div",14),V(28,"footer",15),g()()}if(n&2){let t=T();b("ngClass",t.calendarVisible()?"shrink":"grow"),_(14),b("checked",t.calendarVisible()),_(8),b("checked",t.viewByUpdationTimestamp()),_(4),We("All Events (",t.currentEvents().length,")"),_(),b("ngForOf",t.currentEvents())}}var Th=class n{constructor(e,t,r,i){this.changeDetector=e;this.todoService=t;this.router=r;this.baseHref=i;if(this.todoService.fromBin=!1,document.getElementById("fullcalander-script"))requestAnimationFrame(this.afterScriptLoadInit.bind(this));else{let o=document.createElement("script");o.src=i+"fullcalendar.global.min.js",o.id="fullcalander-script",o.async=!0,o.onload=this.afterScriptLoadInit.bind(this),document.body.appendChild(o)}}calendarVisible=Tn(!0);initialEvents=[];viewByUpdationTimestamp=Tn(!1);eventListVisible=Tn(!0);startResize=!1;itemList=[];calendarContainer;panelContainer;calendarOptions=null;currentEvents=Tn([]);calanderObj;init(){this.calendarOptions||(this.calendarOptions=Tn({headerToolbar:{left:"prev,next today",center:"title",right:"dayGridMonth,timeGridWeek,timeGridDay,listWeek,multiMonthYear"},initialView:"dayGridMonth",businessHours:{daysOfWeek:[1,2,3,4,5],startTime:"8:00",endTime:"18:00"},weekends:!0,editable:!0,selectable:!0,droppable:!0,dayMaxEvents:!0,eventStartEditable:!0,nowIndicator:!0,navLinks:!0,longPressDelay:100,eventContent:this.customEventContent.bind(this),eventClick:this.handleEventClick.bind(this),eventsSet:this.handleEvents.bind(this),eventChange:this.handleEventChange.bind(this),eventRemove:this.handleEventRemove.bind(this),select:this.handleDateSelect.bind(this)})),this.todoService.todoItems$.subscribe(e=>{this.calendarOptions.update(t=>{let r=(i,o,s)=>{this.itemList=e,this.itemList=this.itemList.sort((l,c)=>this.viewByUpdationTimestamp()?new Date(l.updationTimestamp)<new Date(c.updationTimestamp)?-1:1:new Date(l.creationTimestamp)<new Date(c.creationTimestamp)?1:-1);let a=e.map(l=>({id:l.id.toString(),title:l.subject,start:l.eventStart?l.eventStart:l.creationTimestamp,end:l.eventEnd?l.eventEnd:l.creationTimestamp,allDay:l.eventFullDay,color:l.setForReminder?"orange":l.completionStatus?"green":""}));o(a)};return t.events=r,this.calanderObj&&this.calanderObj.setOption("events",r),t})})}afterScriptLoadInit(){this.init();let e=new FullCalendar.Calendar(this.calendarContainer.nativeElement,this.calendarOptions());e.render(),this.calanderObj=e}ngAfterViewInit(){}customEventContent(e){let t=document.createElement("div");t.classList.add("text-center");let r=document.createElement("b");r.innerHTML=e.timeText+"&nbsp;";let i=document.createElement("i");return i.innerText=e.event.title,t.appendChild(r),t.appendChild(i),{domNodes:[t]}}forceFullCalendarResize(){requestAnimationFrame(()=>{this.calanderObj.updateSize()})}handleCalendarToggle(){this.calendarVisible.update(e=>!e),this.calendarVisible()&&this.calanderObj.render()}handleWeekendsToggle(){this.calendarOptions.update(e=>(e.weekends=!e.weekends,this.calanderObj.setOption("weekends",e.weekends),e))}handleDateSelect(e){let t=prompt("Please enter a new title for your event");if(e.view.calendar.unselect(),t){let i=e.startStr?e.startStr:e.dateStr,o=e.endStr?e.endStr:e.dateStr,s={uuid:Ro(),version:0,subject:t,description:"",creationTimestamp:i,updationTimestamp:new Date().toISOString(),completionStatus:!1,setForReminder:!0,eventStart:i,eventEnd:o,tags:[{name:"calendar event"}],eventFullDay:e.allDay};this.todoService.addItem(s)}}handleEventClick(e){this.todoService.getItemById(Number.parseInt(e.event.id)).subscribe(t=>{t&&this.router.navigate(["/edit"],{state:{item:t}})})}handleEventChange(e){let t=e.event;this.todoService.getItemById(Number(t.id)).subscribe(r=>{r.creationTimestamp=t.start?t.start.toISOString():new Date().toISOString(),r.eventStart=t.start?t.start.toISOString():new Date().toISOString(),r.eventEnd=t.end?t.end.toISOString():new Date().toISOString(),r.subject=t.title,this.todoService.updateItem(r)})}handleEventRemove(e){this.todoService.deleteItemById(Number(e.event.id))}handleEvents(e){this.currentEvents.set(e),this.changeDetector.detectChanges()}handleViewByUpdationTimestampToggle(){this.viewByUpdationTimestamp.update(e=>!e),this.calendarOptions.update(e=>(e.events=(t,r,i)=>{let o=this.itemList.map(s=>({id:s.id.toString(),title:s.subject,start:s.eventStart?s.eventStart:this.viewByUpdationTimestamp()?s.updationTimestamp:s.creationTimestamp,end:s.eventEnd?s.eventEnd:s.creationTimestamp,allDay:s.eventFullDay,color:s.setForReminder?"orange":s.completionStatus?"green":""}));this.itemList=this.itemList.sort((s,a)=>this.viewByUpdationTimestamp()?new Date(s.updationTimestamp)<new Date(a.updationTimestamp)?-1:1:new Date(s.creationTimestamp)<new Date(a.creationTimestamp)?1:-1),r(o)},this.calanderObj.setOption("events",e.events),e))}openItemInEditor(e){this.router.navigate(["/edit"],{queryParams:{id:e}})}handleResize(e){}toggleEventListVisible(){this.eventListVisible.update(e=>!e),this.eventListVisible()||this.calanderObj.render(),this.forceFullCalendarResize()}static \u0275fac=function(t){return new(t||n)(I(Pt),I($t),I(Be),I(Zn))};static \u0275cmp=ce({type:n,selectors:[["app-calendar"]],viewQuery:function(t,r){if(t&1&&(Te(mU,5),Te(gU,5)),t&2){let i;we(i=Ce())&&(r.calendarContainer=i.first),we(i=Ce())&&(r.panelContainer=i.first)}},decls:4,vars:2,consts:[["calendarContainer",""],["panelContainer",""],[1,"w-full","flex","flex-col","md:flex-row","h-full","side-pannel","overflow-auto","md:overflow-hidden"],[3,"ngClass",4,"ngIf"],[1,"h-2","w-full","md:w-auto","md:h-full","resizebar",3,"click"],["class","order-1 md:overflow-auto",3,"ngClass",4,"ngIf"],[3,"ngClass"],[1,"h-full","w-full"],[1,"w-full","h-20"],[1,"order-1","md:overflow-auto",3,"ngClass"],[1,"px-5","pt-1"],["type","checkbox",3,"change","checked"],["type","checkbox",3,"change"],[1,"p-5"],["style","background: var(--todo-item-body-color); color: var(--todo-item-text-color)","class","mt-1 flex flex-row flex-wrap items-center rounded-md hover:scale-105 transition-all cursor-pointer",3,"click",4,"ngFor","ngForOf"],[1,"w-full","h-10"],[1,"mt-1","flex","flex-row","flex-wrap","items-center","rounded-md","hover:scale-105","transition-all","cursor-pointer",2,"background","var(--todo-item-body-color)","color","var(--todo-item-text-color)",3,"click"],[1,"pr-4"],[1,"whitespace-pre-wrap","overflow-hidden"]],template:function(t,r){t&1&&(m(0,"div",2),H(1,vU,4,1,"div",3),m(2,"div",4),A("click",function(){return r.toggleEventListVisible()}),g(),H(3,_U,29,5,"div",5),g()),t&2&&(_(),b("ngIf",r.calendarVisible()),_(2),b("ngIf",r.eventListVisible()))},dependencies:[Ae,Zt,ut,Ne],styles:['.side-pannel[_ngcontent-%COMP%]{color:var(--todo-item-text-color)}.resizebar[_ngcontent-%COMP%]{cursor:pointer;display:flex;align-items:center;justify-content:center;border-right:1px solid;border-bottom:1px solid;border-radius:20px;padding:.5rem;font-size:xx-large}.resizebar[_ngcontent-%COMP%]:before{content:"+"}']})};function bU(n,e){if(n&1&&(m(0,"div",2),C(1," DEV CONSOLE - "),m(2,"a",3),C(3,"SWAGGER UI"),g(),m(4,"a",3),C(5,"H2 CONSOLE"),g()()),n&2){let t=T();_(2),b("href",t.swaggerConsoleUrl,Mt),_(2),b("href",t.h2ConsoleUrl,Mt)}}var xh=class n{constructor(e,t,r){this.domSanitizer=e;this.userService=t;this.connectionService=r;this.userSubscription=t.loggedInUser$.subscribe(i=>{this.swaggerConsoleUrl=r.backendUrl+"/swagger-ui/index.html?sessionToken="+i?.token,this.h2ConsoleUrl=r.backendUrl+"/qtodo-h2-console?sessionToken="+i?.token;let o=this.userService.getPayloadFromAccessToken();o?.permissions.includes("SERVER_TOOLS")||o?.roles.includes("ADMIN")?this.allowDevConsole=!0:this.allowDevConsole=!1})}parsedMD="";swaggerConsoleUrl="";h2ConsoleUrl="";allowDevConsole=!1;userSubscription;ngOnInit(){fetch("./about.md").then(e=>{let r=e.body?.getReader(),i=new TextDecoder;r?.read().then(o=>{let s=i.decode(o.value,{stream:!o.done}),a=qs(s).toString();this.parsedMD=this.domSanitizer.bypassSecurityTrustHtml(a)})})}ngOnDestroy(){this.userSubscription.unsubscribe()}static \u0275fac=function(t){return new(t||n)(I(Jn),I(Vt),I(Ut))};static \u0275cmp=ce({type:n,selectors:[["app-about"]],decls:2,vars:2,consts:[["class","flex flex-row justify-evenly items-center","style","color: var(--todo-item-text-color);",4,"ngIf"],[1,"h-full","overflow-auto","m-3","p-5","pb-10","border","border-2","rounded","border-white",2,"color","var(--todo-item-text-color)",3,"innerHTML"],[1,"flex","flex-row","justify-evenly","items-center",2,"color","var(--todo-item-text-color)"],["target","_blank",3,"href"]],template:function(t,r){t&1&&(H(0,bU,6,2,"div",0),V(1,"div",1)),t&2&&(b("ngIf",r.allowDevConsole),_(),b("innerHTML",r.parsedMD,Ds))},dependencies:[Ae,Ne],encapsulation:2})};function aM(n,e,t){switch(n){case"SUM":return e+t;case"DIFF":return e-t;case"MUL":return e*t;case"DIV":return e/t;default:return aM("SUM",e,t)}}function wU(n){if(n.length===0)return NaN;let e=[...n].sort((r,i)=>r-i),t=Math.floor(e.length/2);return e.length%2===0?(e[t-1]+e[t])/2:e[t]}function CU(n){if(n.length===0)return[NaN];let e=new Map,t=0;for(let i of n){let o=(e.get(i)||0)+1;e.set(i,o),o>t&&(t=o)}let r=[];for(let[i,o]of e.entries())o===t&&r.push(i);return r}function Mh(n,e,t="SUM"){let r=new Map,i=new Map;for(let s of e)n.forEach((a,l)=>{let c=r.get(a),u=Number.parseFloat(s[1][l+1]);Number.isNaN(u)&&(u=0),c?r.set(a,aM(t,c,u)):r.set(a,u);let d=i.get(a);d?d.push(u):i.set(a,[u])});let o=r;switch(t){case"MEAN":r.forEach((s,a)=>{o.set(a,s/i.get(a).length)});break;case"MEDIAN":i.forEach((s,a)=>{o.set(a,wU(s))});break;case"MODE":i.forEach((s,a)=>{o.set(a,CU(s)[0])});break;case"MIN":i.forEach((s,a)=>{o.set(a,s.sort((l,c)=>l-c)[0])});break;case"MAX":i.forEach((s,a)=>{o.set(a,s.sort((l,c)=>c-l)[0])});break;case"RANGE":i.forEach((s,a)=>{o.set(a,s.sort((l,c)=>c-l)[0]-s.sort((l,c)=>l-c)[0])})}return o}var lM=!1;function cM(n){if(lM)return;let e=document.createElement("script");e.src=n,e.async=!0,e.onerror=t=>{console.error("unable to load canvasjs!",t)},document.body.appendChild(e),lM=!0}function uM(n,e){let t=[],r=0;e.forEach((o,s)=>{r+=o,t.push({y:o,name:s,exploded:!0})}),t.map(o=>{o.y=Math.round(100*(o.y/r))});var i=new CanvasJS.Chart(n,{theme:"dark2",exportEnabled:!0,animationEnabled:!0,title:{text:"Cumulative"},legend:{cursor:"pointer",itemclick:o=>{typeof o.dataSeries.dataPoints[o.dataPointIndex].exploded>"u"||!o.dataSeries.dataPoints[o.dataPointIndex].exploded?o.dataSeries.dataPoints[o.dataPointIndex].exploded=!0:o.dataSeries.dataPoints[o.dataPointIndex].exploded=!1,o.chart.render()}},data:[{type:"pie",showInLegend:!0,toolTipContent:"{name}: <strong>{y}%</strong>",indexLabel:"{name} - {y}%",dataPoints:t}]});i.render()}function dM(n,e){let t=[];e.forEach((i,o)=>{t.push({y:i,name:o,exploded:!0})});var r=new CanvasJS.Chart(n,{animationEnabled:!0,exportEnabled:!0,theme:"dark2",title:{text:"Cumulative"},legend:{cursor:"pointer"},data:[{type:"column",showInLegend:!0,toolTipContent:"{name}: <strong>{y}</strong>",indexLabel:"{name} - {y}",dataPoints:t}]});r.render()}function fM(n,e,t,r){let i=[],o=0;for(let l=0;l<e.length;l++){let c=[];r.forEach((u,d)=>{c.push({label:new Date(t[d].creationTimestamp).toLocaleString(),y:Number.parseFloat(u[1][l+1])}),o+=Number.parseFloat(u[1][l+1])}),i.push({type:"spline",showInLegend:!0,name:e[l],toolTipContent:"{name}: <strong>{y}</strong>",dataPoints:c})}let s=o/(e.length*r.length);var a=new CanvasJS.Chart(n,{animationEnabled:!0,theme:"dark2",exportEnabled:!0,title:{text:"distribution"},toolTip:{shared:"true"},legend:{cursor:"pointer",itemclick:l=>{typeof l.dataSeries.visible>"u"||l.dataSeries.visible?l.dataSeries.visible=!1:l.dataSeries.visible=!0,a.render()}},axisY:{title:"",stripLines:[{value:s,label:"Average"}]},data:i});a.render()}var EU=["*"],Nn=class n{routerLink="";static \u0275fac=function(t){return new(t||n)};static \u0275cmp=ce({type:n,selectors:[["app-bean-item"]],inputs:{routerLink:"routerLink"},ngContentSelectors:EU,decls:4,vars:1,consts:[["tabindex","1","routerLinkActive","link-active","queryParamsHandling","merge","ariaCurrentWhenActive","page",1,"border-2","border-amber-100","bean","flex","items-center","justify-center","rounded-full","cursor-pointer",3,"routerLink"]],template:function(t,r){t&1&&(po(),m(0,"a",0),V(1,"span"),mo(2),V(3,"span"),g()),t&2&&b("routerLink",r.routerLink!=""?r.routerLink:null)},dependencies:[_r,Pl],styles:['.bean[_ngcontent-%COMP%]{color:var(--button-icon-color);background:var(--button-icon-background);padding:.5rem;transition:all;transition-duration:.3s;position:relative;overflow:clip}.link-active[_ngcontent-%COMP%]{filter:invert()}.bean[_ngcontent-%COMP%]:hover, .bean[_ngcontent-%COMP%]:focus-visible{transform:scale(1.1)}.bean[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]{background:transparent;width:40%;height:100%;position:absolute;z-index:1}.bean[_ngcontent-%COMP%] > [_ngcontent-%COMP%]:first-child{top:0;left:0}.bean[_ngcontent-%COMP%] > [_ngcontent-%COMP%]:last-child{top:0;right:0}.bean[_ngcontent-%COMP%]:before{content:"";position:absolute;background:var(--button-icon-color);mix-blend-mode:difference;width:10%;aspect-ratio:1;border-radius:50%;z-index:-1;opacity:0;transition:transform .5s}.bean[_ngcontent-%COMP%]:active:before{transform:scale(50);opacity:1}.bean[_ngcontent-%COMP%]:has(:first-child:active):before{left:0}.bean[_ngcontent-%COMP%]:has(:last-child:active):before{right:0}']})};var Ah=class n{constructor(){}getReducedItems(e,t){let r=[];for(let i=0;i<t.length;i++){let o={};for(let a of e)o[a]=t[i][a],o[a]===void 0&&t[i].userDefined?.data&&(o[a]=(t[i].userDefined?.data)[a]);let s=[];e.forEach(a=>s.push(o[a])),r.push([t[i].id,s])}return r}static \u0275fac=function(t){return new(t||n)};static \u0275prov=O({token:n,factory:n.\u0275fac,providedIn:"root"})};var DU=["pieChart"];function SU(n,e){if(n&1){let t=ae();m(0,"div",10),A("click",function(){let i=F(t).$implicit,o=T(2);return P(o.selectedDataOperation$.next(i))}),C(1),g()}if(n&2){let t=e.$implicit;_(),ke(t)}}function TU(n,e){if(n&1&&(m(0,"div",8),H(1,SU,2,1,"div",9),g()),n&2){let t=T();_(),b("ngForOf",t.dataOperations)}}function xU(n,e){if(n&1){let t=ae();m(0,"div",11),A("click",function(){let i=F(t).$implicit,o=T();return P(o.selectedChart$.next(i))}),m(1,"app-bean-item")(2,"mat-icon"),C(3),g()()()}if(n&2){let t=e.$implicit;b("title",t),_(3),ke(t)}}function MU(n,e){if(n&1){let t=ae();m(0,"th",16)(1,"button",17),A("click",function(i){let o=F(t).$implicit,s=T(2);return P(s.toggleSortIndividual(i,o))}),m(2,"app-bean-item"),C(3),g()()()}if(n&2){let t=e.$implicit;_(3),We(" ",t," ")}}function AU(n,e){if(n&1&&(m(0,"td",21),C(1),g()),n&2){let t=e.$implicit;_(),We(" ",t," ")}}function RU(n,e){if(n&1){let t=ae();m(0,"tr",18)(1,"td",19),A("click",function(i){let o=F(t).index,s=T(2);return P(s.onItemGoToClicked(i,o))}),m(2,"app-bean-item")(3,"mat-icon"),C(4,"navigate_next"),g()()(),H(5,AU,2,1,"td",20),g()}if(n&2){let t=e.$implicit;_(5),b("ngForOf",t[1])}}function OU(n,e){if(n&1&&(m(0,"table",12)(1,"thead"),V(2,"th",13),H(3,MU,4,1,"th",14),g(),m(4,"tbody"),H(5,RU,6,1,"tr",15),g()()),n&2){let t=T();_(3),b("ngForOf",t.fields),_(2),b("ngForOf",t.reducedItemsFlat)}}function kU(n,e){n&1&&V(0,"div",22)}var Rh=class n{constructor(e,t,r,i,o,s){this.filterOrReduceService=e;this.sortService=t;this.todoService=r;this.router=i;this.activatedRoute=o;this.baseHref=s;this.sortedFields$.subscribe(a=>{this.sortService.sortItems(a,this.itemList).subscribe(l=>{this.itemList=l,this.populateItems(l)}),a.includes("id")&&this.sortedFields$.next([])}),cM(s+"canvasjs.min.js"),this.subscribeCharts(),this.selectedDataOperation$.subscribe(a=>{if(this.populateItems(this.itemList),a==="RAW")return;let l=Mh(this.fields.slice(1),this.reducedItemsFlat,a);this.reducedItemsFlat=[[NaN,[NaN]]],l.forEach((c,u)=>{this.reducedItemsFlat[0][1].push(c)})})}itemList=[];reducedItemsFlat=[];fields=["id","subject","completionStatus","setForReminder","creationTimestamp","updationTimestamp"];selectedChart$=new _e("table_chart");chartTypes=["table_chart","show_chart","pie_chart","bar_chart"];pieChartContainer;sortedFields$=new _e([]);dataOperations=["RAW","SUM","DIFF","MUL","DIV","MIN","MAX","RANGE","MEAN","MEDIAN","MODE"];selectedDataOperation$=new _e("");showFunctions=!1;sortOrderAsc=!0;ngOnInit(){this.activatedRoute.queryParams.subscribe(e=>{let t=e.ord?e.ord:[],r=e.abs?e.abs==="true":!1,i=e.q?e.q:"",o=e.tag?e.tag:[],s=e.has?e.has:[],a=e.lim?e.lim:null;t[1]==="lat"||t[1]==="old"?(this.fields=["id"],this.fields.push(...t.slice(2))):t.length>1&&(this.fields=["id"],this.fields.push(...t.slice(1))),t.length!=0||i!==""||o.length>0||s.length>0?this.todoService.todoItems$.pipe(Oe(l=>this.todoService.searchTodos(i,o,s,r))).pipe(Oe(l=>this.todoService.sortTodoItems(t,l,a))).subscribe(l=>{this.itemList=l,this.populateItems(l),this.selectedChart$.next(this.selectedChart$.value)}):(this.router.navigate([]),this.todoService.todoItems$.pipe(Oe(l=>this.todoService.sortTodoItems(t,l))).subscribe(l=>{this.itemList=l,this.populateItems(l),this.selectedChart$.next(this.selectedChart$.value)}))})}populateItems(e){this.itemList=e,this.reducedItemsFlat=this.filterOrReduceService.getReducedItems(this.fields,e)}subscribeCharts(){let e=new Map,t="chartContainer";this.selectedChart$.subscribe(r=>{let i=this.fields.slice(1);switch(r){case"table_chart":break;case"pie_chart":this.selectedDataOperation$.subscribe(o=>{e=Mh(i,this.reducedItemsFlat,o),setTimeout(()=>{uM(t,e)},100)});break;case"bar_chart":this.selectedDataOperation$.subscribe(o=>{e=Mh(i,this.reducedItemsFlat,o),setTimeout(()=>{dM(t,e)})});break;case"show_chart":setTimeout(()=>{fM(t,i,this.itemList,this.reducedItemsFlat)},100);break}})}toggleSortIndividual(e,t){let r=this.sortedFields$.value,i=new Set(r);i.add(t);let o=Array.from(i);o.length>1&&o.shift(),this.sortOrderAsc?o.unshift("asc"):o.unshift("desc"),i.has(t)&&(this.sortOrderAsc=!this.sortOrderAsc),this.sortedFields$.next(o)}onItemGoToClicked(e,t){this.activatedRoute.queryParams.subscribe(r=>{this.router.navigate(["/edit"],{state:{item:this.itemList[t],query:r}})})}static \u0275fac=function(t){return new(t||n)(I(Ah),I(Fi),I($t),I(Be),I(yt),I(Zn))};static \u0275cmp=ce({type:n,selectors:[["app-visualize"]],viewQuery:function(t,r){if(t&1&&Te(DU,5),t&2){let i;we(i=Ce())&&(r.pieChartContainer=i.first)}},decls:12,vars:5,consts:[[1,"w-full","h-full","p-3","overflow-auto"],[1,"w-full","flex","md:justify-end","sm:justify-evenly","my-2"],[1,"relative",3,"click"],["class","flex flex-col absolute top-10  right-0 rounded-xl z-3","style","background-color: var(--button-icon-background)",4,"ngIf"],["class","mx-3 rounded-[30vw]","style","color:var(--button-icon-color); background: var(--button-icon-background);",3,"title","click",4,"ngFor","ngForOf"],["class","mb-3",4,"ngIf"],["id","chartContainer","class","w-full h-10/12",4,"ngIf"],[1,"w-full","h-10"],[1,"flex","flex-col","absolute","top-10","right-0","rounded-xl","z-3",2,"background-color","var(--button-icon-background)"],["class","w-fit p-1 cursor-pointer hover:scale-110 hover:underline",3,"click",4,"ngFor","ngForOf"],[1,"w-fit","p-1","cursor-pointer","hover:scale-110","hover:underline",3,"click"],[1,"mx-3","rounded-[30vw]",2,"color","var(--button-icon-color)","background","var(--button-icon-background)",3,"click","title"],[1,"mb-3"],[1,"border-none"],["class"," hover:text-white",4,"ngFor","ngForOf"],["style","color: var(--todo-item-text-color); background: var(--todo-item-description-body-color);",4,"ngFor","ngForOf"],[1,"hover:text-white"],["title","click to sort",1,"cursor-pointer","text-nowrap",3,"click"],[2,"color","var(--todo-item-text-color)","background","var(--todo-item-description-body-color)"],["title","go to",3,"click"],["class","cell",4,"ngFor","ngForOf"],[1,"cell"],["id","chartContainer",1,"w-full","h-10/12"]],template:function(t,r){t&1&&(m(0,"div",0)(1,"div",1)(2,"div",2),A("click",function(){return r.showFunctions=!r.showFunctions}),m(3,"app-bean-item")(4,"mat-icon"),C(5,"functions"),g(),C(6),g(),H(7,TU,2,1,"div",3),g(),H(8,xU,4,2,"div",4),g(),H(9,OU,6,2,"table",5)(10,kU,1,0,"div",6),V(11,"footer",7),g()),t&2&&(_(6),We(" ",r.selectedDataOperation$.value," "),_(),b("ngIf",r.showFunctions),_(),b("ngForOf",r.chartTypes),_(),b("ngIf",r.selectedChart$.value==="table_chart"),_(),b("ngIf",r.selectedChart$.value!=="table_chart"))},dependencies:[Ae,ut,Ne,dt,Nn],styles:[".cell[_ngcontent-%COMP%]{cursor:cell}"]})};var NU=["emailInp"],FU=["profilePicEle"];function PU(n,e){n&1&&(m(0,"div")(1,"span",28),C(2,"Sign in"),g(),C(3," to your account "),g())}function LU(n,e){n&1&&(m(0,"div")(1,"span",28),C(2,"Sign Up"),g(),C(3," to use online features! "),g())}function VU(n,e){n&1&&(m(0,"div")(1,"mat-icon",32),C(2,"person_pin"),g(),m(3,"mat-icon",33),C(4,"edit"),g()())}function jU(n,e){if(n&1){let t=ae();m(0,"div",29),A("click",function(){F(t);let i=T();return P(i.selectImageFile())}),H(1,VU,5,0,"div",6),m(2,"input",30,1),A("change",function(i){F(t);let o=T();return P(o.saveProfilePic(i))}),g(),V(4,"img",31),g()}if(n&2){let t=T();b("ngClass",t.profilePicDataUrl==null?"text-white":"text-emerald-500"),_(),b("ngIf",t.profilePicDataUrl==null),_(3),b("src",t.profilePicDataUrl,Mt)}}function BU(n,e){n&1&&(m(0,"div",9)(1,"label",34),C(2,"Alias"),g(),V(3,"input",35),g())}function UU(n,e){if(n&1&&(m(0,"option",36),C(1),g()),n&2){let t=e.$implicit;b("value",t),_(),We(" ",t,"")}}function $U(n,e){n&1&&(m(0,"div",37)(1,"a",38),C(2,"Forgot password"),g()())}function HU(n,e){n&1&&(m(0,"div")(1,"a",39),C(2,"Sign up"),g()())}function zU(n,e){n&1&&(m(0,"div")(1,"a",40),C(2,"Login"),g()())}var xc=class n{constructor(e,t,r,i,o,s){this.userService=e;this.activatedRoute=t;this.router=r;this.connectionService=i;this.formBuilder=o;this.toaster=s;t.url.subscribe(l=>{l[0].path==="login"?this.asLogin=!0:this.asLogin=!1}),setTimeout(()=>{this.emailInpEle.nativeElement.focus()},200),i.axios.get("/user/usergroups").then(l=>{l.data?.body.forEach(c=>{this.userGroupList.add(c)})});let a={email:this.formBuilder.control("",At.email),password:this.formBuilder.control("",At.pattern("^(?=.*[A-Za-z])(?=.*\\d)(?=.*[@$!%*#?&])[A-Za-z\\d@$!%*#?&]{5,}$")),userGroup:this.formBuilder.control("qtodo")};this.asLogin||(a.alias=o.control("",At.required)),this.formGroup=this.formBuilder.group(a),this.connectionService.connectToBackend().catch(l=>{this.router.navigate(["/home"])})}asLogin=!0;emailInpEle;profilePicEle;userGroupList=new Set(["qtodo"]);profilePicDataUrl=null;formGroup;firstName="";lastName="";rememberMe=!0;onSubmitClick(){return ye(this,null,function*(){if(!this.formGroup.valid){let i=new Map,o=this.formGroup?.get("email");i.set("email",o?.errors),o=this.formGroup.get("password"),i.set("password",o?.errors),o=this.formGroup.get("rememberMe"),i.set("rememberMe",o?.errors),this.asLogin||(o=this.formGroup.get("alias"),i.set("alias",o?.errors)),i.forEach((s,a)=>{s&&this.toaster.error(a+"->"+JSON.stringify(s))});return}let e=this.formGroup.value,t={alias:e.alias,email:e.email,password:e.password,userGroup:e.userGroup,profilePicture:""};this.profilePicDataUrl&&(t.profilePicture=this.profilePicDataUrl),t.email=t.email.toLowerCase();let r=this.asLogin?"/login":"/signup";this.connectionService.axios.post("/user"+r,t).then(i=>{if(i.status!=200)return;if(t.token=i.data?.accessToken,t.profilePicture=this.profilePicDataUrl||"",this.asLogin&&(t.token=i.data?.userDetails.accessToken,t.alias=i.data?.userDetails.alias,i.data?.userDetails.profilePicture)){let s=i.data?.userDetails.profilePicture;t.profilePicture=s}t.password="";let o=localStorage.recentLogins;(!o||o=="null")&&(o=`{"${Pe.email}/${Pe.userGroup}":${JSON.stringify(Pe)}}`),o=JSON.parse(o),this.rememberMe?t.email&&t.userGroup&&(o[t.userGroup+"/"+t.email]=t):o["anon/anon"]={email:"anon",userGroup:"anon"},localStorage.recentLogins=JSON.stringify(o),this.userService.loggedInUser.next(t),this.router.navigate(["/home"])}).catch(i=>{console.error(i)})})}addUserGroup(){let e=prompt("Enter your group title")||"";if(e!=""){if(e.includes(" ")){this.toaster.error("group name cannot contain spaces!"),this.toaster.info("please replace spaces with _ in the group name");return}this.userGroupList.add(e);let t=this.formGroup.value;t.userGroup=e,this.formGroup.setValue(t)}}handleEnter(e){e.key=="Enter"&&(e.preventDefault(),this.onSubmitClick())}selectImageFile(){this.profilePicEle.nativeElement.click()}saveProfilePic(e){let r=e.target.files[0];if(r){let i=new FileReader;i.readAsDataURL(r),i.onload=o=>{let s=o.target?.result;this.profilePicDataUrl=s?.toString()||null}}}static \u0275fac=function(t){return new(t||n)(I(Vt),I(yt),I(Be),I(Ut),I(ta),I(_t))};static \u0275cmp=ce({type:n,selectors:[["app-login"]],viewQuery:function(t,r){if(t&1&&(Te(NU,5),Te(FU,5)),t&2){let i;we(i=Ce())&&(r.emailInpEle=i.first),we(i=Ce())&&(r.profilePicEle=i.first)}},decls:39,vars:11,consts:[["emailInp",""],["profilePicEle",""],[1,"flex","flex-col","items-center","justify-center","px-6","py-8","mx-auto","mt-5","lg:py-0",3,"formGroup"],[1,"w-full","bg-white","rounded-lg","shadow","dark:border","md:mt-0","sm:max-w-md","xl:p-0","dark:bg-gray-800","dark:border-gray-700"],[1,"p-6","space-y-4","md:space-y-6","sm:p-8"],[1,"text-xl","font-bold","leading-tight","tracking-tight","text-gray-900","md:text-2xl","dark:text-white"],[4,"ngIf"],["action","#",1,"space-y-2","md:space-y-4"],[1,"flex","flex-row","items-end","justify-between"],[1,"w-full"],["for","email",1,"block","mb-2","text-sm","font-medium","text-gray-900","dark:text-white"],["type","email","autocomplete","email","formControlName","email","placeholder","name@example.com","required","",1,"bg-gray-50","border","border-gray-300","text-gray-900","rounded-lg","focus:ring-primary-600","focus:border-primary-600","block","w-full","p-2.5","dark:bg-gray-700","dark:border-gray-600","dark:placeholder-gray-400","dark:text-white","dark:focus:ring-blue-500","dark:focus:border-blue-500"],["class","relative hover:scale-105 cursor-pointer p-2 ml-2","title","add profile pic",3,"ngClass","click",4,"ngIf"],["for","password",1,"block","mb-2","text-sm","font-medium","text-gray-900","dark:text-white"],["type","password","autocomplete","current-password","placeholder","\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022","required","","formControlName","password",1,"bg-gray-50","border","border-gray-300","text-gray-900","rounded-lg","focus:ring-primary-600","focus:border-primary-600","block","w-full","p-2.5","dark:bg-gray-700","dark:border-gray-600","dark:placeholder-gray-400","dark:text-white","dark:focus:ring-blue-500","dark:focus:border-blue-500",3,"keydown"],["class","w-full",4,"ngIf"],[1,"flex","items-end","justify-evenly","center","w-full"],[1,"flex","flex-col","w-full","ml-2","mr-2"],[1,"text-white"],[1,"text-blue-600","cursor-pointer","hover:scale-110",3,"click"],["title","userGroup","formControlName","userGroup",1,"w-full","p-3","text-wrap","rounded"],[3,"value",4,"ngFor","ngForOf"],[1,"flex","flex-row"],["type","submit",1,"grow","text-white","bg-primary-600","outline-2","outline-amber-100","hover:bg-primary-700","hover:scale-101","cursor-pointer","focus:ring-4","focus:outline-none","focus:ring-primary-300","font-medium","rounded-lg","text-sm","px-5","py-2.5","text-center","dark:bg-primary-600","dark:hover:bg-primary-700","dark:focus:ring-primary-800",3,"click"],[1,"w-3/12","ml-2"],["type","checkbox",3,"change","checked"],[1,"text-sm","flex","justify-evenly","font-light","text-gray-500","dark:text-gray-400"],["class","flex flex-col",4,"ngIf"],[1,"text-green-400"],["title","add profile pic",1,"relative","hover:scale-105","cursor-pointer","p-2","ml-2",3,"click","ngClass"],["type","file","accept","image/png, image/jpeg",1,"hidden",3,"change"],[1,"w-10","rounded-[40%]",3,"src"],[1,"scale-200"],[1,"absolute","scale-70",2,"top","-15px","right","-15px"],["for","alias",1,"block","mb-2","text-sm","font-medium","text-gray-900","dark:text-white"],["type","text","autocomplete","alias","placeholder","refer me as","required","","formControlName","alias",1,"bg-gray-50","border","border-gray-300","text-gray-900","rounded-lg","focus:ring-primary-600","focus:border-primary-600","block","w-full","p-2.5","dark:bg-gray-700","dark:border-gray-600","dark:placeholder-gray-400","dark:text-white","dark:focus:ring-blue-500","dark:focus:border-blue-500"],[3,"value"],[1,"flex","flex-col"],["href","#",1,"text-sm","font-medium","text-primary-600","hover:underline","dark:text-primary-500"],["routerLink","/signup",1,"font-medium","text-primary-600","hover:underline","dark:text-primary-500"],["routerLink","/login",1,"font-medium","text-primary-600","hover:underline","dark:text-primary-500"]],template:function(t,r){if(t&1){let i=ae();m(0,"form",2)(1,"div",3)(2,"div",4)(3,"h1",5),H(4,PU,4,0,"div",6)(5,LU,4,0,"div",6),g(),m(6,"div",7)(7,"div",8)(8,"div",9)(9,"label",10),C(10,"Your email"),g(),V(11,"input",11,0),g(),H(13,jU,5,3,"div",12),g(),m(14,"div",9)(15,"label",13),C(16,"Password"),g(),m(17,"input",14),A("keydown",function(s){return F(i),P(r.handleEnter(s))}),g()(),H(18,BU,4,0,"div",15),m(19,"div",16)(20,"div",17)(21,"div",8)(22,"label",18),C(23,"open userGroups"),g(),m(24,"button",19),A("click",function(){return F(i),P(r.addUserGroup())}),C(25,"[ + ]"),g()(),m(26,"select",20),H(27,UU,2,2,"option",21),g()()(),m(28,"div",22)(29,"button",23),A("click",function(){return F(i),P(r.onSubmitClick())}),C(30),g(),m(31,"div",24)(32,"label",18),C(33,"Remember me"),g(),m(34,"input",25),A("change",function(){return F(i),P(r.rememberMe=!r.rememberMe)}),g()()(),m(35,"div",26),H(36,$U,3,0,"div",27)(37,HU,3,0,"div",6)(38,zU,3,0,"div",6),g()()()()()}t&2&&(b("formGroup",r.formGroup),_(4),b("ngIf",r.asLogin),_(),b("ngIf",!r.asLogin),_(8),b("ngIf",!r.asLogin),_(5),b("ngIf",!r.asLogin),_(9),b("ngForOf",r.userGroupList),_(3),We("Sign ",r.asLogin?"in":"up",""),_(4),b("checked",r.rememberMe),_(2),b("ngIf",r.asLogin),_(),b("ngIf",r.asLogin),_(),b("ngIf",!r.asLogin))},dependencies:[Ae,Zt,ut,Ne,_r,cn,dt,Cr,Of,Xs,ea,An,Oi,wr,Ks,fy,na,Ri,Ao],encapsulation:2})};var GU=()=>[];function qU(n,e){if(n&1&&(m(0,"div",9)(1,"div",10),C(2),g()()),n&2){let t=T().$implicit;_(),b("title",t.onlineInUg?"online":"offline")("ngClass",t.onlineInUg?"bg-green-600":"bg-gray-900"),_(),We(" ",t.onlineInUg?"\u2714":"X"," ")}}function WU(n,e){if(n&1){let t=ae();m(0,"app-tag-list",11),A("onChange",function(i){F(t);let o=T().$implicit,s=T(2);return P(s.updatePermissionsForUser(i,o))}),g()}if(n&2){let t=T().$implicit;b("editable",!0)("names",t.permissions||vE(2,GU))}}function ZU(n,e){if(n&1&&(m(0,"div",5)(1,"app-bean-item"),V(2,"img",6),m(3,"mat-icon"),C(4,"person_pin"),g(),H(5,qU,3,3,"div",7),g(),m(6,"h3"),C(7),g(),H(8,WU,1,3,"app-tag-list",8),g()),n&2){let t=e.$implicit,r=T(2);_(2),b("src",t.profilePicture,Mt),_(3),b("ngIf",r.isUgColab),_(2),nl("",t.email,"(",t.alias,")"),_(),b("ngIf",r.CAN_MANAGE_PARTICIPANT_PERMISSONS)}}function JU(n,e){if(n&1&&(m(0,"div"),H(1,ZU,9,5,"div",4),g()),n&2){let t=T();_(),b("ngForOf",t.userList)}}var Mc=class n{constructor(e,t){this.connectionService=e;this.userService=t;this.userService.loggedInUser$.subscribe(r=>{let i=this.userService.getPayloadFromAccessToken();i&&(this.isUgColab=i.user_group_colaboration),this.getUsersInThisUG().then(o=>{this.userList=o.data.body,this.userList?.forEach(s=>{this.getProfileUrlForUser(s.profilePicture).then(a=>{s.profilePicture=a})})})})}CAN_MANAGE_PARTICIPANT_PERMISSONS=!1;CAN_ADD_PARTICIPANT=!1;CAN_DELETE_PARTICIAPANT=!1;minimized=!1;userList=[];permissionChangeReq=[];isUgColab=!1;getUsersInThisUG(){return this.connectionService.axios.get("/user/participant/users/all")}getProfileUrlForUser(e){return ye(this,null,function*(){return e?e.startsWith("/item/doc/")?yield this.connectionService.getUrlWithToken(e):e:""})}updatePermissionsForUser(e,t){let r=t.permissions,i=e.map(c=>c.name),o=new Set(i),s=new Set(r),a=r?.filter(c=>!o.has(c))||[],l=i.filter(c=>!s.has(c));this.permissionChangeReq.push(...this.getPermissionUpdateReq(t.email,a,l))}postChangeRequest(){this.permissionChangeReq.length>0&&this.connectionService.axios.post("/user/update/participant/permissions",this.permissionChangeReq)}getPermissionUpdateReq(e,t,r){let i=[];return t.forEach(o=>{i.push({userEmail:e,userPermission:o,enabled:!1})}),r.forEach(o=>{i.push({userEmail:e,userPermission:o,enabled:!0})}),i}static \u0275fac=function(t){return new(t||n)(I(Ut),I(Vt))};static \u0275cmp=ce({type:n,selectors:[["app-manage-user-permissions"]],inputs:{CAN_MANAGE_PARTICIPANT_PERMISSONS:[0,"managePermissions","CAN_MANAGE_PARTICIPANT_PERMISSONS"],CAN_ADD_PARTICIPANT:[0,"addParticipants","CAN_ADD_PARTICIPANT"],CAN_DELETE_PARTICIAPANT:[0,"deleteParticipants","CAN_DELETE_PARTICIAPANT"],minimized:"minimized"},decls:6,vars:2,consts:[[1,"border-1","rounded-xl","m-2","relative"],[1,"text-center","m-2"],[4,"ngIf"],["title","minimize pannel",1,"absolute","top-2","right-2","cursor-pointer",3,"click"],["class","flex flex-row gap-2 items-center m-2",4,"ngFor","ngForOf"],[1,"flex","flex-row","gap-2","items-center","m-2"],[1,"w-10","absolute","top-0","right-0",3,"src"],["class","absolute top-0 right-0","style","z-index:100;",4,"ngIf"],[3,"editable","names","onChange",4,"ngIf"],[1,"absolute","top-0","right-0",2,"z-index","100"],[1,"p-0.5","rounded-xl",3,"title","ngClass"],[3,"onChange","editable","names"]],template:function(t,r){t&1&&(m(0,"div",0)(1,"h3",1),C(2,"Group Participants"),g(),H(3,JU,2,1,"div",2),m(4,"a",3),A("click",function(){return r.minimized=!r.minimized}),C(5),g()()),t&2&&(_(3),b("ngIf",!r.minimized),_(2),We("[ ",r.minimized?"v":"^"," ]"))},dependencies:[Ae,Zt,ut,Ne,Nn,cn,dt,Hi],encapsulation:2})};function YU(n,e){if(n&1&&V(0,"img",32),n&2){let t=T();b("src",t.profilePicDataUrl,Mt)}}function QU(n,e){n&1&&(m(0,"mat-icon",33),C(1,"person_pin"),g())}function KU(n,e){if(n&1&&(m(0,"option",34),C(1),g()),n&2){let t=e.$implicit;b("value",t),_(),We(" ",t," ")}}function XU(n,e){n&1&&(m(0,"div",35)(1,"h2",36),C(2,"User Group Configuration"),g(),m(3,"div",23)(4,"label",24),C(5,"Description"),g(),V(6,"textarea",37),g(),m(7,"table")(8,"tr")(9,"td")(10,"label",38),C(11,"Open for joining"),g()(),m(12,"td"),V(13,"input",39),g()(),m(14,"tr")(15,"td")(16,"label",38),C(17,"Is Collaboration Group"),g()(),m(18,"td"),V(19,"input",40),g()()()())}function e4(n,e){if(n&1&&V(0,"app-manage-user-permissions",41),n&2){let t=T();b("managePermissions",t.CAN_MANAGE_PARTICIPANT_PERMISSIONS)("addParticipants",t.CAN_ADD_PARTICIPANT)("deleteParticipants",t.CAN_REMOVE_PARTICIPANT)}}var Oh=class n{constructor(e,t,r){this.userService=e;this.connectionService=t;this.toaster=r;let i=new ta,o={};o.alias=i.control("",At.required);let s="^(?=.*[A-Za-z])(?=.*\\d)(?=.*[@$!%*#?&])[A-Za-z\\d@$!%*#?&]{5,}$";o.newPassword=i.control("",At.pattern(s)),o.ugDescription=i.control(""),o.ugOpen=i.control(!1),o.ugColab=i.control(!1),o.userGroup=i.control(Pe.userGroup),this.form=i.group(o),e.loggedInUser$.subscribe(a=>{this.user=a,a.profilePicture?a.profilePicture.startsWith("/item/doc/")?this.connectionService.getUrlWithToken(a.profilePicture).then(u=>this.profilePicDataUrl=u):this.profilePicDataUrl=a.profilePicture:this.profilePicDataUrl="";let l=localStorage.recentLogins;(!l||l=="null")&&(l=`{"${Pe.userGroup}/${Pe.email}":${JSON.stringify(Pe)}}`),this.userGroupList=[],l=JSON.parse(l),this.recentLogins=l;for(let u of Object.keys(l)){let d=u.split("/");d[1]==a.email&&this.userGroupList.push(d[0])}this.CAN_MANAGE_PARTICIPANT_PERMISSIONS=!1,this.CAN_ADD_PARTICIPANT=!1,this.CAN_CHANGE_UG_CONFIG=!1,this.CAN_REMOVE_PARTICIPANT=!1,this.CAN_ENABLE_DISABLE_UG=!1,this.isOffLine=a.email==Pe.email;let c=this.userService.getPayloadFromAccessToken();c&&(this.userPermissions=c.permissions.sort(),this.isUgOpen=c.user_group_open,this.isUgColab=c.user_group_colaboration,this.form.setValue({alias:a.alias,newPassword:"",ugDescription:"",ugOpen:this.isUgOpen,ugColab:this.isUgColab,userGroup:a.userGroup}),this.userPermissions.includes("MANAGE_PARTICIPANT_PERMISSIONS")&&(this.CAN_MANAGE_PARTICIPANT_PERMISSIONS=!0),this.userPermissions.includes("ENABLE_DISABLE_UG")&&(this.CAN_ENABLE_DISABLE_UG=!0),this.userPermissions.includes("ADD_PARTICIPANT")&&(this.CAN_ADD_PARTICIPANT=!0),this.userPermissions.includes("REMOVE_PARTICIPANT")&&(this.CAN_REMOVE_PARTICIPANT=!0),this.userPermissions.includes("CHANGE_UG_CONFIG")&&(this.CAN_CHANGE_UG_CONFIG=!0))})}user;userPermissions=[];profilePicDataUrl="";form;isUgColab=!1;isUgOpen=!1;isOffLine=!1;userGroupList=[];recentLogins={};userPermissionComp;CAN_MANAGE_PARTICIPANT_PERMISSIONS=!1;CAN_ENABLE_DISABLE_UG=!1;CAN_ADD_PARTICIPANT=!1;CAN_REMOVE_PARTICIPANT=!1;CAN_CHANGE_UG_CONFIG=!1;ngOnInit(){this.form.patchValue({userGroup:this.user.userGroup})}savePic(e,t){let i=e.target.files[0];if(i){let o=new FileReader;o.readAsDataURL(i),o.onload=s=>{let l=s.target?.result?.toString()||"";t=="profile"&&(this.profilePicDataUrl=l)}}}updateUserDetails(){this.connectionService.axios.post("/user/update/usergroup/details",{open:this.form.value.ugOpen,colaboration:this.form.value.ugColab}),this.userPermissionComp.first.postChangeRequest()}addUserGroupOnPrompt(e){let t=prompt("Enter your group title")||"";if(t!=""){if(t.includes(" ")){this.toaster.error("group name cannot contain spaces!"),this.toaster.info("please replace spaces with _ in the group name");return}this.addUserGroup(t);let r=e.target;r.value=t,this.onUgSelChange(e)}}addUserGroup(e){this.userGroupList=[...this.userGroupList,e];let t=this.form.value;t.userGroup=e,this.form.setValue(t)}onUgSelChange(e){let t=e.target,r=t.value+"/"+this.user.email,i=this.recentLogins[r];i||(i=structuredClone(this.user),i.token=null,i.userGroup=t.value,this.recentLogins[i.userGroup+"/"+i.email]=i,localStorage.recentLogins=JSON.stringify(this.recentLogins)),this.userService.loggedInUser.next(i)}clearCache(){prompt("clearing cache can cause data loss if you forget your logins details! Enter Y to procede")=="Y"&&(localStorage.clear(),this.toaster.info("cache cleared!"))}static \u0275fac=function(t){return new(t||n)(I(Vt),I(Ut),I(_t))};static \u0275cmp=ce({type:n,selectors:[["app-profile"]],viewQuery:function(t,r){if(t&1&&Te(Mc,5),t&2){let i;we(i=Ce())&&(r.userPermissionComp=i)}},decls:44,vars:10,consts:[["profilePicEle",""],["permissionsContainer",""],[1,"overflow-auto","h-full","p-4","sm:p-6","md:p-8"],[1,"mx-auto","flex","flex-col","items-center","gap-y-8",3,"formGroup"],[1,"w-full","text-center","space-y-4"],[1,"flex","px-20","flex-row","justify-evenly","items-center"],[1,"text-3xl","font-bold"],[1,"flex","flex-col","items-center","gap-y-2"],["title","Change profile picture",3,"click"],[1,"h-20","w-20","flex","items-center","justify-center","overflow-hidden","bg-gray-700","rounded-full","shadow-lg"],["class","h-full w-full object-cover rounded-full",3,"src",4,"ngIf"],["class","scale-200",4,"ngIf"],[1,"absolute","top-2","right-2"],["type","file","accept","image/png, image/jpeg",1,"hidden",3,"change"],[1,"flex","flex-col","items-center","justify-center","w-full"],[1,"flex","flex-col","w-full","max-w-xs","mx-auto"],[1,"flex","flex-row","items-end","justify-between","mb-1"],[1,"text-sm"],["title","Add User Group",1,"text-blue-400","text-lg","font-bold","cursor-pointer","hover:scale-110",3,"click"],["title","userGroup","formControlName","userGroup",1,"w-full","p-3","text-wrap","rounded-lg","shadow-inner","bg-white/10",3,"change"],[3,"value",4,"ngFor","ngForOf"],[1,"text-blue-400","underline","cursor-pointer","hover:text-blue-300","transition",3,"click","title"],[1,"w-100","p-4","sm:p-6","rounded-lg","shadow-xl","space-y-5"],[1,"flex","flex-col"],[1,"text-gray-300","mb-1"],["type","text","formControlName","alias",1,"p-2","rounded-md","bg-gray-700","border","border-gray-600","focus:ring-blue-500"],["type","password","placeholder","*****","formControlName","newPassword",1,"p-2","rounded-md","bg-gray-700","border","border-gray-600","focus:ring-blue-500"],["class","w-full p-4 sm:p-6  rounded-lg shadow-xl space-y-5",4,"ngIf"],["class","w-full mt-4",3,"managePermissions","addParticipants","deleteParticipants",4,"ngIf"],[3,"click"],[1,"p-3","font-semibold"],[1,"h-20","mt-8"],[1,"h-full","w-full","object-cover","rounded-full",3,"src"],[1,"scale-200"],[3,"value"],[1,"w-full","p-4","sm:p-6","rounded-lg","shadow-xl","space-y-5"],[1,"text-xl","font-semibold","text-center","border-b","border-gray-600","pb-2"],["formControlName","ugDescription",1,"p-2","rounded-xl","bg-gray-700","border","border-gray-600","focus:ring-blue-500"],[1,"text-gray-300"],["formControlName","ugOpen","type","checkbox",1,"form-checkbox","h-5","w-5","text-blue-600","rounded"],["formControlName","ugColab","type","checkbox",1,"form-checkbox","h-5","w-5","text-blue-600","rounded"],[1,"w-full","mt-4",3,"managePermissions","addParticipants","deleteParticipants"]],template:function(t,r){if(t&1){let i=ae();m(0,"div",2)(1,"div",3)(2,"div",4)(3,"div",5)(4,"h1",6),C(5),g(),m(6,"div",7)(7,"app-bean-item",8),A("click",function(){F(i);let s=Ts(14);return P(s.click())}),m(8,"div",9),H(9,YU,1,1,"img",10)(10,QU,2,0,"mat-icon",11),g(),m(11,"mat-icon",12),C(12,"edit"),g()(),m(13,"input",13,0),A("change",function(s){return F(i),P(r.savePic(s,"profile"))}),g()()(),m(15,"div",14)(16,"div",15)(17,"div",16)(18,"label",17),C(19),g(),m(20,"button",18),A("click",function(s){return F(i),P(r.addUserGroupOnPrompt(s))}),C(21,"[ + ]"),g()(),m(22,"select",19),A("change",function(s){return F(i),P(r.onUgSelChange(s))}),H(23,KU,2,2,"option",20),g()()(),m(24,"div",21,1),A("click",function(){F(i);let s=Ts(25);return P(s.innerHTML=r.userPermissions.join(" , "))}),C(26," View Permissions "),g()(),m(27,"div",22)(28,"div",23)(29,"label",24),C(30,"Alias"),g(),V(31,"input",25),g(),m(32,"div",23)(33,"label",24),C(34,"Update Password"),g(),V(35,"input",26),g()(),H(36,XU,20,0,"div",27)(37,e4,1,3,"app-manage-user-permissions",28),m(38,"app-bean-item",29),A("click",function(){return F(i),P(r.updateUserDetails())}),m(39,"button",30),C(40,"Update Details"),g()(),m(41,"app-bean-item",29),A("click",function(){return F(i),P(r.clearCache())}),C(42,"clear cache"),g()(),V(43,"footer",31),g()}t&2&&(_(),b("formGroup",r.form),_(4),We("Hello ",r.user.alias,"!"),_(4),b("ngIf",r.profilePicDataUrl),_(),b("ngIf",!r.profilePicDataUrl),_(9),nl("",r.isOffLine?"Folder":"User Group"," for ",r.user.email,""),_(4),b("ngForOf",r.userGroupList),_(),b("title",r.userPermissions.join(" , ")),_(12),b("ngIf",r.CAN_CHANGE_UG_CONFIG),_(),b("ngIf",r.isUgColab||r.CAN_MANAGE_PARTICIPANT_PERMISSIONS||r.CAN_REMOVE_PARTICIPANT||r.CAN_ADD_PARTICIPANT))},dependencies:[Mc,dt,Ae,ut,Ne,na,Xs,ea,An,Zl,Oi,wr,Ks,Ri,Ao,Nn],styles:["input[_ngcontent-%COMP%]{background:var(--navbar-searchbox-bg-color);color:var(--navbar-searchbox-text-color)}"]})};var hM=[{path:"",redirectTo:"home",pathMatch:"full"},{path:"create",component:qo},{path:"home",component:zi,children:[{path:"clear",component:zi}]},{path:"bin",component:zi,children:[{path:"clear",component:zi}]},{path:"demo",component:zi},{path:"edit",component:qo,children:[{path:"parent",component:qo},{path:"child",component:qo}]},{path:"visualize",component:Rh},{path:"calendar",component:Th},{path:"about",component:xh},{path:"login",component:xc},{path:"signup",component:xc},{path:"user/profile",component:Oh}];var z_="Service workers are disabled or not supported by this browser",ya=class{serviceWorker;worker;registration;events;constructor(e,t){if(this.serviceWorker=e,!e)this.worker=this.events=this.registration=new Z(r=>r.error(new L(5601,!1)));else{let r=null,i=new re;this.worker=new Z(c=>(r!==null&&c.next(r),i.subscribe(u=>c.next(u))));let o=()=>{let{controller:c}=e;c!==null&&(r=c,i.next(r))};e.addEventListener("controllerchange",o),o(),this.registration=this.worker.pipe(Oe(()=>e.getRegistration()));let s=new re;this.events=s.asObservable();let a=c=>{let{data:u}=c;u?.type&&s.next(u)};e.addEventListener("message",a),t?.get($n,null,{optional:!0})?.onDestroy(()=>{e.removeEventListener("controllerchange",o),e.removeEventListener("message",a)})}}postMessage(e,t){return new Promise(r=>{this.worker.pipe(mt(1)).subscribe(i=>{i.postMessage(S({action:e},t)),r()})})}postMessageWithOperation(e,t,r){let i=this.waitForOperationCompleted(r),o=this.postMessage(e,t);return Promise.all([o,i]).then(([,s])=>s)}generateNonce(){return Math.round(Math.random()*1e7)}eventsOfType(e){let t;return typeof e=="string"?t=r=>r.type===e:t=r=>e.includes(r.type),this.events.pipe(et(t))}nextEventOfType(e){return this.eventsOfType(e).pipe(mt(1))}waitForOperationCompleted(e){return new Promise((t,r)=>{this.eventsOfType("OPERATION_COMPLETED").pipe(et(i=>i.nonce===e),mt(1),Y(i=>{if(i.result!==void 0)return i.result;throw new Error(i.error)})).subscribe({next:t,error:r})})}get isEnabled(){return!!this.serviceWorker}},t4=(()=>{class n{sw;messages;notificationClicks;subscription;get isEnabled(){return this.sw.isEnabled}pushManager=null;subscriptionChanges=new re;constructor(t){if(this.sw=t,!t.isEnabled){this.messages=Xi,this.notificationClicks=Xi,this.subscription=Xi;return}this.messages=this.sw.eventsOfType("PUSH").pipe(Y(i=>i.data)),this.notificationClicks=this.sw.eventsOfType("NOTIFICATION_CLICK").pipe(Y(i=>i.data)),this.pushManager=this.sw.registration.pipe(Y(i=>i.pushManager));let r=this.pushManager.pipe(Oe(i=>i.getSubscription()));this.subscription=new Z(i=>{let o=r.subscribe(i),s=this.subscriptionChanges.subscribe(i);return()=>{o.unsubscribe(),s.unsubscribe()}})}requestSubscription(t){if(!this.sw.isEnabled||this.pushManager===null)return Promise.reject(new Error(z_));let r={userVisibleOnly:!0},i=this.decodeBase64(t.serverPublicKey.replace(/_/g,"/").replace(/-/g,"+")),o=new Uint8Array(new ArrayBuffer(i.length));for(let s=0;s<i.length;s++)o[s]=i.charCodeAt(s);return r.applicationServerKey=o,new Promise((s,a)=>{this.pushManager.pipe(Oe(l=>l.subscribe(r)),mt(1)).subscribe({next:l=>{this.subscriptionChanges.next(l),s(l)},error:a})})}unsubscribe(){if(!this.sw.isEnabled)return Promise.reject(new Error(z_));let t=r=>{if(r===null)throw new L(5602,!1);return r.unsubscribe().then(i=>{if(!i)throw new L(5603,!1);this.subscriptionChanges.next(null)})};return new Promise((r,i)=>{this.subscription.pipe(mt(1),Oe(t)).subscribe({next:r,error:i})})}decodeBase64(t){return atob(t)}static \u0275fac=function(r){return new(r||n)(N(ya))};static \u0275prov=O({token:n,factory:n.\u0275fac})}return n})(),n4=(()=>{class n{sw;versionUpdates;unrecoverable;get isEnabled(){return this.sw.isEnabled}constructor(t){if(this.sw=t,!t.isEnabled){this.versionUpdates=Xi,this.unrecoverable=Xi;return}this.versionUpdates=this.sw.eventsOfType(["VERSION_DETECTED","VERSION_INSTALLATION_FAILED","VERSION_READY","NO_NEW_VERSION_DETECTED"]),this.unrecoverable=this.sw.eventsOfType("UNRECOVERABLE_STATE")}checkForUpdate(){if(!this.sw.isEnabled)return Promise.reject(new Error(z_));let t=this.sw.generateNonce();return this.sw.postMessageWithOperation("CHECK_FOR_UPDATES",{nonce:t},t)}activateUpdate(){if(!this.sw.isEnabled)return Promise.reject(new L(5601,!1));let t=this.sw.generateNonce();return this.sw.postMessageWithOperation("ACTIVATE_UPDATE",{nonce:t},t)}static \u0275fac=function(r){return new(r||n)(N(ya))};static \u0275prov=O({token:n,factory:n.\u0275fac})}return n})();var mM=new j("");function r4(){let n=E(Ac);if(!("serviceWorker"in navigator&&n.enabled!==!1))return;let e=E(mM),t=E(be),r=E($n);t.runOutsideAngular(()=>{let i=navigator.serviceWorker,o=()=>i.controller?.postMessage({action:"INITIALIZE"});i.addEventListener("controllerchange",o),r.onDestroy(()=>{i.removeEventListener("controllerchange",o)})}),t.runOutsideAngular(()=>{let i,{registrationStrategy:o}=n;if(typeof o=="function")i=new Promise(s=>o().subscribe(()=>s()));else{let[s,...a]=(o||"registerWhenStable:30000").split(":");switch(s){case"registerImmediately":i=Promise.resolve();break;case"registerWithDelay":i=pM(+a[0]||0);break;case"registerWhenStable":i=Promise.race([r.whenStable(),pM(+a[0])]);break;default:throw new L(5600,!1)}}i.then(()=>{r.destroyed||navigator.serviceWorker.register(e,{scope:n.scope}).catch(s=>console.error(rd(5604,!1)))})})}function pM(n){return new Promise(e=>setTimeout(e,n))}function i4(n,e){return new ya(n.enabled!==!1?navigator.serviceWorker:void 0,e)}var Ac=class{enabled;scope;registrationStrategy};function gM(n,e={}){return zr([t4,n4,{provide:mM,useValue:n},{provide:Ac,useValue:e},{provide:ya,useFactory:i4,deps:[Ac,wt]},$g(r4)])}var vM={providers:[CE({eventCoalescing:!0}),Nv(hM,Fv()),cv(),_t,gM("ngsw-worker.js",{enabled:!IE(),registrationStrategy:"registerWhenStable:30000"}),{provide:Zn,useValue:document.getElementsByTagName("base")[0].href}]};var o4=["searchBox"];function s4(n,e){if(n&1&&(m(0,"option",21),C(1),g()),n&2){let t=e.$implicit,r=e.index,i=T(2);b("value",r)("selected",r==i.selectedUserIndex),_(),ke(t[0])}}function a4(n,e){if(n&1&&V(0,"img",22),n&2){let t=T(2);b("src",t.userProfilePicture,Mt)("title",(t.user==null?null:t.user.email)+"/"+(t.user==null?null:t.user.userGroup))}}function l4(n,e){if(n&1){let t=ae();m(0,"div",16)(1,"select",17),A("change",function(i){F(t);let o=T();return P(o.changeCurrentUser(i))}),H(2,s4,2,3,"option",18),g(),m(3,"app-bean-item",19)(4,"mat-icon"),C(5,"person_pin"),g(),H(6,a4,1,2,"img",20),g()()}if(n&2){let t=T();_(2),b("ngForOf",t.recentLogins),_(4),b("ngIf",t.userProfilePicture)}}function c4(n,e){if(n&1&&(m(0,"option",25),C(1),g()),n&2){let t=e.$implicit;b("value",t),_(),ke(t)}}function u4(n,e){if(n&1&&(m(0,"optgroup",23),H(1,c4,2,2,"option",24),g()),n&2){let t=e.$implicit,r=T();b("label",t),_(),b("ngForOf",r.availableThemes[t])}}var kh=class n{constructor(e,t,r,i,o,s){this.router=e;this.toaster=t;this.todoService=r;this.sortService=i;this.userService=o;this.connectionService=s;let a=localStorage.lastQueryParams;a&&(this.lastQueryParams=JSON.parse(a),this.lastQueryParams&&setTimeout(()=>{this.searchBox.nativeElement.value=this.reconstructParams(this.lastQueryParams),this.lastQueryParams=null},200)),window.innerWidth>400&&this.router.events.pipe(et(l=>l instanceof yn)).subscribe(l=>{setTimeout(()=>{this.searchBox.nativeElement.focus()},100)}),s.connected$.subscribe(l=>{l?this.online=!0:this.online=!1}),o.loggedInUser$.subscribe(l=>{this.user=l,this.user.profilePicture?this.user.profilePicture.startsWith("/item/doc/")?this.connectionService.getUrlWithToken(this.user.profilePicture).then(d=>this.userProfilePicture=d):this.userProfilePicture=this.user.profilePicture:this.userProfilePicture=null;let c=localStorage.recentLogins;(!c||c=="null")&&(c=`{"${Pe.userGroup}/${Pe.email}":${JSON.stringify(Pe)}}`),c=JSON.parse(c),this.recentLogins=Object.entries(c),this.lastUserLoginArrSize!=this.recentLogins.length&&(this.selectedUserIndex=this.recentLogins.length-1);let u=0;for(let d of this.recentLogins){if(d[0]==l?.userGroup+"/"+l?.email){this.selectedUserIndex=u,d[1].preferences?this.changeTheme(d[1].preferences.theme):this.changeTheme("random");break}u++}this.lastUserLoginArrSize=this.recentLogins.length})}accessToken=null;searchBox;lastQueryParams=null;online=!1;menuHidden=!0;user=null;recentLogins={};selectedUserIndex=0;lastUserLoginArrSize=0;userProfilePicture=null;currentTheme="";availableThemes={"classic-professional":["white","minimal","academic","normal","newspaper"],"vibrant-nature":["zen","sunny","lime","tropical"],"cool-tones":["nord"],"minimal-dark":["dark","compact"],"developer-palettes":["tokyo-night","dracula","one-dark-pro","monokai-pro"],"retro-futuristic":["synthwave-84","hacker","neon"],background:["GameOfLife","JuliaSet","JuliaSet0_7885","MandelBrotSet","LineGrid","Checkered","plain"],random:["random"]};reconstructParams(e){if(!e||!e.queryParams)return"";let t=e.queryParams,r=[],i=t.q||"";t.lim!=null&&r.push(`!LIM:${t.lim};`);let o="";if(t.ord&&Array.isArray(t.ord)&&t.ord.length>0){let s=["asc","desc","lat","old"],a="",l=[];if(!(t.ord.length===1&&t.ord[0]==="asc")){for(let u=0;u<t.ord.length;u++){let d=t.ord[u];s.includes(d)?(a&&(o+=`!${a.toUpperCase()}:${l.join(",")};`),a=d,l=[]):l.push(d)}a&&(o+=`!${a.toUpperCase()}:${l.join(",")};`),o&&r.push(o)}}return t.abs===!1&&r.push("!ALL:"),t.has&&Array.isArray(t.has)&&t.has.length>0&&r.push(`!F:${t.has.join(" ")}`),t.tag&&Array.isArray(t.tag)&&t.tag.length>0&&r.push(`!T:${t.tag.join(",")}`),r.push(i),r.join("")}ngAfterViewInit(){this.searchBox.nativeElement.focus()}onKeyDown(e){e.target instanceof HTMLInputElement&&e.key==="Enter"&&this.searchItems(e)}searchItems(e){let t=e.target.value;if(t.trim()===""){this.router.navigate([]);return}let r=[],i=[""],o=!1,s=null,a=[],l=d=>{if(d.startsWith("!"))return;let p=d?.substring(0,d?.indexOf(";"))?.split(",").map(f=>f.trim());p?.map(f=>f.trim()).filter(f=>f!=""),a.push(...p),t=i[1].substring(i[1]?.indexOf(";")+1)};if(i=t.split("!LIM:"),i.length==2){let d=i[1].substring(0,i[1].indexOf(";"));s=Number.parseInt(d),t=i[1].substring(i[1].indexOf(";")+1)}i=t.split("!ASC:"),i.length==2?(a.push("asc"),l(i[1])):(i=t.split("!DESC:"),i.length==2?(a.push("desc"),l(i[1])):a.push("asc")),i=t.split("!LAT:"),i.length==2&&(a.push("lat"),l(i[1])),i=t.split("!OLD:"),i.length==2&&(a.push("old"),l(i[1])),o=!t.startsWith("!ALL:"),o||(t=t.split("!ALL:")[1]),i=t.split("!F:");let c=[];i.length==2&&(t=i[0],c=i[1].split(" ")),i=t.split("!T:"),i.length==2&&(t=i[0],r=i[1].split(","),r=r.map(d=>d.trim())),a=a.filter(d=>d!="");let u={queryParams:{lim:s,ord:a,abs:o,q:t.trim(),tag:r,has:c}};this.lastQueryParams=u,localStorage.lastQueryParams=JSON.stringify(this.lastQueryParams),this.router.navigate([],u)}syncNotes(){if(this.toaster.info("Downloading notes..."),this.todoService.fromBin=!1,this.lastQueryParams){let{lim:e,ord:t,abs:r,q:i,tags:o,has:s}=this.lastQueryParams?.queryParams;this.todoService.searchTodos(i,o,s,r).subscribe(a=>{this.sortService.sortItems(t,a,e).subscribe(l=>{this.save(l)})})}else this.todoService.getAll().subscribe(e=>{this.save(e)})}save(e){this.toaster.info("Merging "+e.length+" items"),this.todoService.downloadTodoItemsAsJson(e)}uploadNotes(){this.todoService.fromBin=!1;let e=document.createElement("input");e.type="file",e.accept=".json",e.onchange=t=>{let r=t.target.files[0],i=new FileReader;i.readAsText(r),i.onload=o=>{let s=o.target.result;s&&this.todoService.deserializeManyFromJson(s.toString()).subscribe(a=>{this.todoService.addMany(a)})}},e.click()}toggleBackendConnection(){this.online?(this.online=!1,this.userService.softLogoutUser()):(this.online=!0,this.userService.loginUser())}changeCurrentUser(e){let r=e.target?.value||this.recentLogins.length-1,i=this.recentLogins[r][1];this.selectedUserIndex=r,this.userService.loggedInUser.next(i)}changeTheme(e){if(e==="random"){let t=Object.values(this.availableThemes).flat().filter(i=>i!=="random"),r=Math.floor(Math.random()*t.length);e=t[r]}document.documentElement.setAttribute("data-theme",e)}updateTheme(e){let t=e.target,r=t.value;if(this.availableThemes.background.includes(r)){localStorage.background=r,t.selectedIndex=0;return}document.startViewTransition?document.startViewTransition(()=>{this.changeTheme(r)}):this.changeTheme(r);let i=this.userService.loggedInUser.value;i.preferences?i.preferences.theme=r:i.preferences={theme:r};let o=localStorage.recentLogins,s={};if(o&&o!="null"&&(s=JSON.parse(o)),o&&s)s[i.userGroup+"/"+i.email]=i;else{let a=`${Pe.userGroup}/${Pe.email}`;s={key:{email:Pe.email,userGroup:Pe.userGroup,preferences:{theme:r}}}}localStorage.recentLogins=JSON.stringify(s),this.currentTheme=r,t.selectedIndex=0}getCategories(){return Object.keys(this.availableThemes)}static \u0275fac=function(t){return new(t||n)(I(Be),I(_t),I($t),I(Fi),I(Vt),I(Ut))};static \u0275cmp=ce({type:n,selectors:[["app-navbar"]],viewQuery:function(t,r){if(t&1&&Te(o4,5),t&2){let i;we(i=Ce())&&(r.searchBox=i.first)}},hostBindings:function(t,r){t&1&&A("keydown",function(o){return r.onKeyDown(o)})},inputs:{user:"user"},decls:28,vars:7,consts:[["searchBox",""],[1,"h-full","flex","flex-row","flex-wrap-reverse","items-center","justify-end"],["href","./","tabindex","1",1,"flex","z-1","justify-end","shrink","rounded-md","order-0","icon-link","fixed","top-0","left-0","md:relative"],[1,"ml-3","mr-3"],["type","search","tabindex","0","placeholder","\u208D^. .^\u208E\u27C6",1,"grow","p-2","search-bar","rounded-2xl","outline-0","focus:ring-2","ring-inset","sm:float-end","order-0","md:order-1","text-center","w-full","md:w-auto",3,"input"],[1,"flex","flex-row","order-2","options"],[1,"m-1","transition-all","z-3","duration-1000","flex","flex-row","flex-wrap","order-2","items-center","justify-evenly","w-full","md:w-fit","md:gap-x-2",3,"ngClass"],[1,"flex",3,"ngClass"],["class","flex flex-row",4,"ngIf"],["title","toggle connection",3,"click"],["title","click to upload local backup",3,"click"],["title","click to download as a local backup",3,"click"],[1,"max-w-10","absolute","top-0","right-0","w-10","h-10","cursor-pointer","z-3",3,"change","title"],[3,"label",4,"ngFor","ngForOf"],[1,"p-3"],[1,"order-3","transition-all","shrink","mr-2",3,"click","ngClass"],[1,"flex","flex-row"],["tabindex","1",1,"rounded","p-1","m-1","max-w-30","overflow-ellipsis",3,"change"],[3,"value","selected",4,"ngFor","ngForOf"],["routerLink","/user/profile"],["class","w-10 absolute top-0 right-0",3,"src","title",4,"ngIf"],[3,"value","selected"],[1,"w-10","absolute","top-0","right-0",3,"src","title"],[3,"label"],[3,"value",4,"ngFor","ngForOf"],[3,"value"]],template:function(t,r){if(t&1){let i=ae();m(0,"nav",1)(1,"a",2)(2,"h1",3),C(3,"qtodo"),g()(),m(4,"input",4,0),A("input",function(s){return F(i),P(r.searchItems(s))}),g(),m(6,"div",5)(7,"div",6)(8,"div",7),H(9,l4,7,2,"div",8),m(10,"app-bean-item",9),A("click",function(){return F(i),P(r.toggleBackendConnection())}),m(11,"mat-icon"),C(12),g()(),m(13,"app-bean-item",10),A("click",function(){return F(i),P(r.uploadNotes())}),m(14,"mat-icon"),C(15,"cloud_upload"),g()(),m(16,"app-bean-item",11),A("click",function(){return F(i),P(r.syncNotes())}),m(17,"mat-icon"),C(18,"cloud_download"),g()(),m(19,"app-bean-item")(20,"select",12),A("change",function(s){return F(i),P(r.updateTheme(s))}),m(21,"option"),C(22,"\u{1F3A8}"),g(),H(23,u4,2,2,"optgroup",13),g(),V(24,"div",14),g()()(),m(25,"app-bean-item",15),A("click",function(){return F(i),P(r.menuHidden=!r.menuHidden)}),m(26,"mat-icon"),C(27,"menu"),g()()()()}t&2&&(_(7),b("ngClass",r.menuHidden?"opacity-0":"opacity-100"),_(),b("ngClass",r.menuHidden?"hidden":"visible"),_(),b("ngIf",r.user!=null||r.online),_(3),ke(r.online?"cloud_done":"cloud_off"),_(8),b("title",r.currentTheme),_(3),b("ngForOf",r.getCategories()),_(2),b("ngClass",r.menuHidden?"rotate-0":"rotate-90"))},dependencies:[cn,dt,Ae,Zt,ut,Ne,Nn],styles:["nav[_ngcontent-%COMP%]{background:var(--navbar-bg-color)}.search-bar[_ngcontent-%COMP%]{background:var(--navbar-searchbox-bg-color);color:var(--navbar-searchbox-text-color);font-size:calc(var(--global-font-size) * 1.3)!important}.icon-link[_ngcontent-%COMP%]{background:var(--navbar-icon-bg-color);color:var(--navbar-icon-text-color);margin:0 5px}"]})};var Nh=class n{static \u0275fac=function(t){return new(t||n)};static \u0275cmp=ce({type:n,selectors:[["app-sidebar"]],decls:19,vars:0,consts:[[1,"h-full","sidebar","flex","md:flex-col","flex-row","items-center","justify-center","gap-x-4","gap-y-4"],["routerLink","/home"],["routerLink","/create"],["routerLink","/calendar"],["routerLink","/visualize"],["routerLink","/bin"],["routerLink","/about"]],template:function(t,r){t&1&&(m(0,"div",0)(1,"app-bean-item",1)(2,"mat-icon"),C(3,"home"),g()(),m(4,"app-bean-item",2)(5,"mat-icon"),C(6,"create"),g()(),m(7,"app-bean-item",3)(8,"mat-icon"),C(9,"date_range"),g()(),m(10,"app-bean-item",4)(11,"mat-icon"),C(12,"donut_small"),g()(),m(13,"app-bean-item",5)(14,"mat-icon"),C(15,"delete"),g()(),m(16,"app-bean-item",6)(17,"mat-icon"),C(18,"help_outline"),g()()())},dependencies:[Nn,cn,dt],styles:[".sidebar[_ngcontent-%COMP%]{background:var(--sidebar-bg-color)}"]})};var Fh=class{state="NOT_RUNNING";paused=!1;config;CELL_STATE={ALIVE:5,DEAD:-1};pause(){this.paused=!0,this.state="PAUSED"}stop(){this.pause(),this.state="NOT_RUNNING"}play(){this.state="PLAYING",this.paused=!1}init(e){let t=new Array(e.BOARD_HEIGHT);this.config=e;for(let r=0;r<e.BOARD_HEIGHT;r++){let i=new Array(e.BOARD_WIDTH);for(let o=0;o<e.BOARD_WIDTH;o++)i[o]=Math.random()>e.CELL_SEED_CUTOFF?this.CELL_STATE.ALIVE:this.CELL_STATE.DEAD;t[r]=i}return t}update(e){let t=[],r=!1,i=e.length,o=e[0].length;for(let s=0;s<i;s++){let a=new Array(o);t.push(a);for(let l=0;l<o;l++){let c=e[s][l],u=this.countNeighborsToroidal(e,s,l,o,i,this.CELL_STATE.ALIVE),d=c;c==this.CELL_STATE.ALIVE?(u<2||u>3)&&(d=this.CELL_STATE.DEAD):u===3&&(d=this.CELL_STATE.ALIVE),d!==c&&(r=!0),t[s][l]=d}}return r||this.pause(),t}countNeighbors(e,t,r){let i=0;for(let o=-1;o<=1;o++)for(let s=-1;s<=1;s++){let a=t+o,l=r+s;a>=0&&a<e.length&&l>=0&&l<e[0].length&&!(o===0&&s===0)&&(i+=e[a][l]==this.CELL_STATE.ALIVE?1:0)}return i}countNeighborsToroidal(e,t,r,i,o,s){let a=0,l=(t-1+o)%o;a+=e[l][(r-1+i)%i]===s?1:0,a+=e[l][r]===s?1:0,a+=e[l][(r+1)%i]===s?1:0;let c=t;a+=e[c][(r-1+i)%i]===s?1:0,a+=e[c][(r+1)%i]===s?1:0;let u=(t+1)%o;return a+=e[u][(r-1+i)%i]===s?1:0,a+=e[u][r]===s?1:0,a+=e[u][(r+1)%i]===s?1:0,a}};var Ph=class{gameGrid=[[-1]];canvas;GAME_CONFIG={CELL_SIZE:5,BOARD_WIDTH:5,BOARD_HEIGHT:5,STROKE_COLOR:"BLACK",GAME_BACKGROUND:"#FFFF",CELL_SEED_CUTOFF:.85,FRAME_DELTA:50,GRID_LINES:!0,HOLD_FRAME:!1,CLEAR_BG_EACH_FRAME:!1,ALPHA:.5,CELL_COLOR:"RED",CELL_COLOR_A:"GREEN",CELL_COLOR_B:"BLUE",CELL_COLOR_C:"YELLOW",CELL_COLOR_D:"MAGENTA",CELL_COLOR_E:"CYAN",ALLOW_CURSOR_INTERACTION:!1,TOGGLE_ON_MOUSE_MOVE:!0,TOGGLE_PAUSE_ON_MOUSE_CLICK:!0,TOGGLE_CELL_ON_MOUSE_CLICK:!0};paused=!1;previousFrameData=null;gameInstance=null;cameraOffsetX=0;cameraOffsetY=0;tick=-1;timeLapsedSinceLastFrame=performance.now();pauseTimer=-1;constructor(e){this.canvas=e,window.addEventListener("resize",this.resizeCanvas.bind(this)),this.resizeCanvas(),e.onclick=this.toggleCell.bind(this),e.onwheel=this.handleMouseZoom.bind(this)}startGame(e){this.gameInstance&&this.gameInstance.stop(),this.gameInstance=e;let t=this.gameInstance.init(this.GAME_CONFIG);t.length==0&&(t=this.newGrid(this.GAME_CONFIG.BOARD_WIDTH,this.GAME_CONFIG.BOARD_HEIGHT)),this.gameGrid=t;let r=this.canvas.getContext("2d");r&&this.gameLoop(r)}gameLoop(e){if(requestAnimationFrame(()=>{this.gameLoop(e)}),!!this.gameInstance&&(this.GAME_CONFIG.ALLOW_CURSOR_INTERACTION?(this.canvas.classList.add("z-2"),this.canvas.classList.remove("z-0")):(this.canvas.classList.add("z-0"),this.canvas.classList.remove("z-2")),(!this.gameInstance.paused||this.GAME_CONFIG.HOLD_FRAME)&&(this.tick=performance.now()-this.timeLapsedSinceLastFrame,this.tick>=this.GAME_CONFIG.FRAME_DELTA))){let t=performance.now();if(e.globalAlpha=this.GAME_CONFIG.ALPHA,this.gameGrid&&this.gameGrid.length==this.GAME_CONFIG.BOARD_HEIGHT&&this.gameGrid[0].length==this.GAME_CONFIG.BOARD_WIDTH){let a;this.GAME_CONFIG.HOLD_FRAME?a=this.gameGrid:a=this.gameInstance.update(this.gameGrid),this.drawGrid(e,a,this.GAME_CONFIG.BOARD_WIDTH,this.GAME_CONFIG.BOARD_HEIGHT),this.gameGrid=a}else this.gameGrid=this.newGrid(this.GAME_CONFIG.BOARD_WIDTH,this.GAME_CONFIG.BOARD_HEIGHT);let o=1e3/(performance.now()-t),s=`FPSL: ${Math.round(o)} tick: ${Math.round(this.tick)}`;this.tick=0,this.timeLapsedSinceLastFrame=performance.now()}}drawGrid(e,t,r,i){let o=this.generateFrame(e,t,r,i);e.putImageData(o,0,0)}generateFrame(e,t,r,i){let o=this.getInPx(r),s=this.getInPx(i),a,l,c=1-this.GAME_CONFIG.ALPHA,[u,d,p]=this.hexToRgb(this.GAME_CONFIG.GAME_BACKGROUND),[f,h,v]=this.hexToRgb(this.GAME_CONFIG.STROKE_COLOR);if(this.previousFrameData&&this.previousFrameData.length===o*s*4&&!this.GAME_CONFIG.CLEAR_BG_EACH_FRAME){a=new ImageData(this.previousFrameData.slice(),o,s),l=a.data;for(let y=0;y<l.length;y+=4)l[y+3]*=c}else{a=e.createImageData(o,s),l=a.data;for(let y=0;y<l.length;y+=4)l[y]=u,l[y+1]=d,l[y+2]=p,l[y+3]=255}if(this.GAME_CONFIG.GRID_LINES){for(let y=0;y<o;y++)for(let x=0;x<s;x++)if(x%this.GAME_CONFIG.CELL_SIZE===0||y%this.GAME_CONFIG.CELL_SIZE===0){let U=(x*o+y)*4;l[U]=f,l[U+1]=h,l[U+2]=v,l[U+3]=255}}for(let y=0;y<this.GAME_CONFIG.BOARD_HEIGHT;y++)for(let x=0;x<this.GAME_CONFIG.BOARD_WIDTH;x++){let U=t[y][x],[B,D,$]=this.getColorForCell(U);if(B!==-1||D!==-1||$!==-1){let q=this.getInPx(y),Q=q+this.getInPx(1),De=this.getInPx(x),me=De+this.getInPx(1);for(let Ue=q;Ue<Q&&Ue<s;Ue++)for(let Ze=De;Ze<me&&Ze<o;Ze++){if(this.GAME_CONFIG.GRID_LINES&&(Ue%this.GAME_CONFIG.CELL_SIZE===0||Ze%this.GAME_CONFIG.CELL_SIZE===0))continue;let $e=(Ue*o+Ze)*4;l[$e]=B,l[$e+1]=D,l[$e+2]=$,l[$e+3]=255}}}return this.previousFrameData=l.slice(),a}getColorForCell(e){switch(e){case-1:return this.hexToRgb(this.GAME_CONFIG.GAME_BACKGROUND);case 0:return this.hexToRgb(this.GAME_CONFIG.CELL_COLOR);case 1:return this.hexToRgb(this.GAME_CONFIG.CELL_COLOR_A);case 2:return this.hexToRgb(this.GAME_CONFIG.CELL_COLOR_B);case 3:return this.hexToRgb(this.GAME_CONFIG.CELL_COLOR_C);case 4:return this.hexToRgb(this.GAME_CONFIG.CELL_COLOR_D);case 5:return this.hexToRgb(this.GAME_CONFIG.CELL_COLOR_E);default:return[-1,-1,-1]}}hexToRgb(e){let t=e.replace(/^#/,"");t.length===3&&(t=t.split("").map(s=>s+s).join(""));let r=parseInt(t.substring(0,2),16),i=parseInt(t.substring(2,4),16),o=parseInt(t.substring(4,6),16);return[r,i,o]}newGrid(e,t){let r=[];for(let i=0;i<t;i++){let o=new Array(e);for(let s=0;s<e;s++)o[s]=0;r.push(o)}return r}toggleCell(e){if(!this.GAME_CONFIG.ALLOW_CURSOR_INTERACTION||(this.GAME_CONFIG.TOGGLE_PAUSE_ON_MOUSE_CLICK&&(this.gameInstance?.paused?this.gameInstance.play():this.gameInstance?.pause()),!this.GAME_CONFIG.TOGGLE_CELL_ON_MOUSE_CLICK))return;let t=this.canvas.getBoundingClientRect(),r=e.clientX-t.left,i=e.clientY-t.top,o=this.getInCell(r),s=this.getInCell(i);if(s<0||o<0||s>=this.GAME_CONFIG.BOARD_HEIGHT||o>=this.GAME_CONFIG.BOARD_WIDTH)return;let a=this.gameGrid,l=a[s][o];a[s][o]=5-l,l<-1&&(a[s][o]=5);let c=5,u=0,d=-1;l==c?a[s][o]=d:l>d&&l<c?a[s][o]=l+1:l==d?a[s][o]=c:a[s][o]=d,this.gameGrid=a,this.pauseForDuration(2500)}getInPx(e){return e*this.GAME_CONFIG.CELL_SIZE}getInCell(e){return Math.floor(e/this.GAME_CONFIG.CELL_SIZE)}resizeCanvas(){let e=this.canvas.getBoundingClientRect(),t=e.width,r=e.height;this.canvas.width=t,this.canvas.height=r,this.canvas.style.width=t+"px",this.canvas.style.height=r+"px",this.GAME_CONFIG.BOARD_WIDTH=this.getInCell(t),this.GAME_CONFIG.BOARD_HEIGHT=this.getInCell(r),this.GAME_CONFIG.HOLD_FRAME&&this.gameInstance&&this.startGame(this.gameInstance)}handleMouseZoom(e){if(!this.GAME_CONFIG.ALLOW_CURSOR_INTERACTION)return;e.preventDefault();let t=this.GAME_CONFIG.CELL_SIZE,r=t;if(e.deltaY<0?r=Math.min(t+1,50):e.deltaY>0&&(r=Math.max(t-1,1)),r===t)return;let i=this.canvas.getBoundingClientRect(),o=e.clientX-i.left,s=e.clientY-i.top,a=o-this.cameraOffsetX,l=s-this.cameraOffsetY,c=r/t;this.GAME_CONFIG.CELL_SIZE=r,this.cameraOffsetX=o-a*c,this.cameraOffsetY=s-l*c}pauseForDuration(e=1e4){this.gameInstance&&(this.gameInstance.pause(),this.GAME_CONFIG.HOLD_FRAME=!0,clearTimeout(this.pauseTimer),this.pauseTimer=setTimeout(()=>{this.gameInstance?.play(),this.GAME_CONFIG.HOLD_FRAME=!1},e))}};var Lh=class{state="NOT_PLAYING";paused=!1;init(e){let t=[];for(let r=0;r<e.BOARD_HEIGHT;r++){t[r]=[];for(let i=0;i<e.BOARD_WIDTH;i++)t[r][i]=(i+r)%2==0?0:-1}return e.HOLD_FRAME=!0,t}pause(){this.paused=!0,this.state="PAUSED"}play(){this.paused=!1,this.state="PLAYING"}stop(){this.state="NOT_PLAYING"}update(e){return e}};var Vh=class{state="NOT_PLAYING";paused=!1;config;init(e){this.config=e;let t=[];for(let r=0;r<e.BOARD_HEIGHT;r++){t[r]=[];for(let i=0;i<e.BOARD_WIDTH;i++)t[r][i]=-5}return e.HOLD_FRAME=!0,e.GRID_LINES=!0,t}pause(){this.paused=!0,this.state="PAUSED"}play(){this.paused=!1,this.state="PLAYING"}stop(){this.state="NOT_PLAYING"}update(e){return e}};var jh=class{state="NOT_PLAYING";paused=!1;config;maxIterations=100;init1(e){let t=new Array(e.BOARD_HEIGHT);for(let r=0;r<e.BOARD_HEIGHT;r++){let i=new Array(e.BOARD_WIDTH);for(let o=0;o<e.BOARD_WIDTH;o++){let s=r,a=o,l=s,c=a,u=0;for(u=0;u<this.maxIterations;u++){let p=s*s-a*a,f=2*s*a;if(s=p+l,a=f+c,s*s+a*a>16)break}let d=-5;d=Math.floor(u/this.maxIterations*5),u==this.maxIterations&&(d=-1),i[o]=d}t[r]=i}return this.config=e,e.HOLD_FRAME=!0,t}init(e){this.config=e,e.HOLD_FRAME=!0;let{BOARD_WIDTH:t,BOARD_HEIGHT:r}=e,i=r/t,o=-2.5,a=1-o,l=a*i,u=-(l/2),d=a/t,p=l/r,f=new Array(r);for(let h=0;h<t;h++){let v=new Array(t),y=u+h*p;for(let x=0;x<t;x++){let U=o+x*d,B=0,D=0,$=0;for($=0;$<this.maxIterations;$++){let Q=B*B,De=D*D,me=2*B*D;if(Q+De>4)break;B=Q-De+U,D=me+y}let q;$===this.maxIterations?q=-1:q=$%5,v[x]=q}f[h]=v}return console.log(f),f}pause(){this.paused=!0,this.state="PAUSED"}play(){this.paused=!1,this.state="PLAYING"}stop(){this.state="NOT_PLAYING"}update(e){return e}};var Bh=class{state="NOT_PLAYING";paused=!1;config;maxIterations=100;JULIA_CA_BASE=-.75;JULIA_CB_BASE=0;ANIMATION_RADIUS=.3;ANIMATION_SPEED=0;CYCLE_TIME_MS=1e4;frame=0;init(e){this.config=e,this.ANIMATION_SPEED=2*Math.PI/this.CYCLE_TIME_MS*e.FRAME_DELTA,e.HOLD_FRAME=!1,e.TOGGLE_PAUSE_ON_MOUSE_CLICK=!0,e.TOGGLE_CELL_ON_MOUSE_CLICK=!1,e.FRAME_DELTA=10;let t=this.JULIA_CA_BASE+this.ANIMATION_RADIUS*Math.cos(0),r=this.JULIA_CB_BASE+this.ANIMATION_RADIUS*Math.sin(0);return this.generateSetFor(t,r,e.BOARD_WIDTH,e.BOARD_HEIGHT)}generateSetFor(e,t,r,i){let c=3.6*(i/r),u=c/2,d=-u,p=3.6/r,f=c/i,h=new Array(i);for(let v=0;v<i;v++){let y=new Array(r),x=u-v*f;for(let U=0;U<r;U++){let D=-1.8+U*p,$=x,q=e,Q=t,De=0;for(De=0;De<this.maxIterations;De++){let Ue=D*D,Ze=$*$,$e=2*D*$;if(Ue+Ze>4)break;D=Ue-Ze+q,$=$e+Q}let me;De===this.maxIterations?me=-1:me=De%5,y[U]=me}h[v]=y}return h}pause(){this.paused=!0,this.state="PAUSED"}play(){this.paused=!1,this.state="PLAYING"}stop(){this.pause(),this.state="NOT_PLAYING"}update(e){this.frame+=this.ANIMATION_SPEED,this.frame>=2*Math.PI&&(this.frame-=2*Math.PI);let t=this.JULIA_CA_BASE+this.ANIMATION_RADIUS*Math.cos(this.frame),r=this.JULIA_CB_BASE+this.ANIMATION_RADIUS*Math.sin(this.frame);return this.generateSetFor(t,r,this.config.BOARD_WIDTH,this.config.BOARD_HEIGHT)}};var Uh=class{state="NOT_PLAYING";paused=!1;config;maxIterations=100;frame=0;JULIA_R=.7885;CYCLE_TIME_MS=1e4;ANIMATION_SPEED=0;generateSetFor(e,t,r){let{BOARD_WIDTH:i,BOARD_HEIGHT:o}=r,s=-1.8,l=1.8-s,c=o/i,u=l*c,d=u/2,p=-d,f=l/i,h=u/o,v=new Array(o);for(let y=0;y<o;y++){let x=new Array(i),U=d-y*h;for(let B=0;B<i;B++){let $=s+B*f,q=U,Q=e,De=t,me=0;for(me=0;me<this.maxIterations;me++){let Ze=$*$,$e=q*q,Fn=2*$*q;if(Ze+$e>4)break;$=Ze-$e+Q,q=Fn+De}let Ue;me===this.maxIterations?Ue=-1:Ue=me%5,x[B]=Ue}v[y]=x}return v}init(e){this.config=e,e.HOLD_FRAME=!1,e.TOGGLE_PAUSE_ON_MOUSE_CLICK=!0,e.TOGGLE_CELL_ON_MOUSE_CLICK=!1,e.FRAME_DELTA=10,this.ANIMATION_SPEED=2*Math.PI/this.CYCLE_TIME_MS*e.FRAME_DELTA,this.frame=0;let t=this.JULIA_R*Math.cos(this.frame),r=this.JULIA_R*Math.sin(this.frame);return this.generateSetFor(t,r,e)}update(e){if(this.paused)return e;this.frame+=this.ANIMATION_SPEED,this.frame>=2*Math.PI&&(this.frame-=2*Math.PI);let t=this.JULIA_R*Math.cos(this.frame),r=this.JULIA_R*Math.sin(this.frame);return this.generateSetFor(t,r,this.config)}pause(){this.paused=!0,this.state="PAUSED"}play(){this.paused=!1,this.state="PLAYING"}stop(){this.state="NOT_PLAYING"}};var d4=["backgroundCanvas"],$h=class n{constructor(e){this.router=e}title="angular-todo";backgroundCanvasEle;gameBoard=null;currentGameInstanceName="";onKeyDown(e){let t=e.target;t.id!=="editor-subject-input"&&t.id!=="editor-description-input"&&(e.key==="["&&e.ctrlKey?(e.preventDefault(),this.router.navigate(["/create"])):e.key==="]"&&e.ctrlKey?(e.preventDefault(),this.router.navigate(["/home"])):e.key==="l"&&e.altKey&&this.gameBoard&&(this.gameBoard.GAME_CONFIG.ALLOW_CURSOR_INTERACTION=!this.gameBoard.GAME_CONFIG.ALLOW_CURSOR_INTERACTION))}ngAfterViewInit(){let e=localStorage.background;this.currentGameInstanceName=e;let t=this.backgroundCanvasEle.nativeElement;this.gameBoard=new Ph(t);let r=this.getGameInstance(e);r&&(this.themeGames(this.gameBoard),this.gameBoard.startGame(r),setInterval(()=>{this.gameBoard?.GAME_CONFIG.ALLOW_CURSOR_INTERACTION||this.themeGames(this.gameBoard)},500))}getGameInstance(e){switch(e){case"GameOfLife":return new Fh;case"JuliaSet":return new Bh;case"JuliaSet0_7885":return new Uh;case"MandelBrotSet":return new jh;case"LineGrid":return new Vh;case"Checkered":return new Lh;default:return null}}themeGames(e){if(!e)return;let t=getComputedStyle(document.documentElement),r=t.getPropertyValue("--game-background"),i=t.getPropertyValue("--game-stroke-color"),o=t.getPropertyValue("--game-cell-seed-cutoff"),s=t.getPropertyValue("--game-cell-size"),a=t.getPropertyValue("--game-cell-color"),l=t.getPropertyValue("--game-frame-delta"),c=t.getPropertyPriority("--game-frame-clear-every"),u=t.getPropertyPriority("--game-draw-grid-lines"),d=t.getPropertyValue("--game-cell-color-a"),p=t.getPropertyValue("--game-cell-color-b"),f=t.getPropertyValue("--game-cell-color-c"),h=t.getPropertyValue("--game-cell-color-d"),v=t.getPropertyValue("--game-cell-color-e");e.GAME_CONFIG.CELL_COLOR=a,e.GAME_CONFIG.CELL_SEED_CUTOFF=Number.parseFloat(o);let y=e.GAME_CONFIG.CELL_SIZE;e.GAME_CONFIG.CELL_SIZE=Number.parseFloat(s),y!=e.GAME_CONFIG.CELL_SIZE&&e.resizeCanvas(),e.GAME_CONFIG.FRAME_DELTA=Number.parseFloat(l),e.GAME_CONFIG.GAME_BACKGROUND=r,e.GAME_CONFIG.STROKE_COLOR=i,e.GAME_CONFIG.GRID_LINES=u==="Y",e.GAME_CONFIG.CELL_COLOR_A=d,e.GAME_CONFIG.CELL_COLOR_B=p,e.GAME_CONFIG.CELL_COLOR_C=f,e.GAME_CONFIG.CELL_COLOR_D=h,e.GAME_CONFIG.CELL_COLOR_E=v;let x=Number.parseInt(c)*Number.parseFloat(l),U=localStorage.background;if(U!=this.currentGameInstanceName){let B=this.getGameInstance(U);B&&(this.gameBoard?.startGame(B),this.currentGameInstanceName=U)}}static \u0275fac=function(t){return new(t||n)(I(Be))};static \u0275cmp=ce({type:n,selectors:[["app-root"]],viewQuery:function(t,r){if(t&1&&Te(d4,5),t&2){let i;we(i=Ce())&&(r.backgroundCanvasEle=i.first)}},hostBindings:function(t,r){t&1&&A("keydown",function(o){return r.onKeyDown(o)})},decls:11,vars:7,consts:[["backgroundCanvas",""],[1,"flex","flex-col","h-full","overflow-clip"],[1,"flex","flex-col","sm:flex-row","h-full","min-h-full"],[1,"flex-1/12","md:max-w-20"],[1,"flex-11/12","relative","h-full","page","overflow-hidden","pb-10"],[1,"relative","h-full","w-full","z-1"],[1,"absolute","top-0","left-0","w-full","h-full"],[3,"position","transition","autoClose","newestOnTop","autoCloseError","iconLibrary","preventDuplicates"]],template:function(t,r){t&1&&(m(0,"div",1),V(1,"app-navbar"),m(2,"div",2)(3,"div",3),V(4,"app-sidebar"),g(),m(5,"div",4)(6,"div",5),V(7,"router-outlet"),g(),V(8,"canvas",6,0),g()()(),V(10,"lib-toastify-toast-container",7)),t&2&&(_(10),b("position","bottom-right")("transition","flip")("autoClose",3e3)("newestOnTop",!0)("autoCloseError",5e3)("iconLibrary","material")("preventDuplicates",!0))},dependencies:[Rl,kh,Nh,uS,cS,Dh],styles:[".page[_ngcontent-%COMP%]{background:var(--page-bg-color)}"]})};sv($h,vM).catch(n=>console.error(n));
