var Vr=Object.defineProperty;var Kr=(t,e)=>{for(var r in e)Vr(t,r,{get:e[r],enumerable:!0})};function ue(t,e){return function(){return t.apply(e,arguments)}}var{toString:$r}=Object.prototype,{getPrototypeOf:tt}=Object,{iterator:_e,toStringTag:qt}=Symbol,Ce=(t=>e=>{let r=$r.call(e);return t[r]||(t[r]=r.slice(8,-1).toLowerCase())})(Object.create(null)),v=t=>(t=t.toLowerCase(),e=>Ce(e)===t),Fe=t=>e=>typeof e===t,{isArray:Q}=Array,X=Fe("undefined");function ce(t){return t!==null&&!X(t)&&t.constructor!==null&&!X(t.constructor)&&O(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}var Mt=v("ArrayBuffer");function Gr(t){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(t):e=t&&t.buffer&&Mt(t.buffer),e}var Xr=Fe("string"),O=Fe("function"),Ht=Fe("number"),fe=t=>t!==null&&typeof t=="object",Qr=t=>t===!0||t===!1,Oe=t=>{if(Ce(t)!=="object")return!1;let e=tt(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(qt in t)&&!(_e in t)},Yr=t=>{if(!fe(t)||ce(t))return!1;try{return Object.keys(t).length===0&&Object.getPrototypeOf(t)===Object.prototype}catch{return!1}},Zr=v("Date"),eo=v("File"),to=v("Blob"),ro=v("FileList"),oo=t=>fe(t)&&O(t.pipe),no=t=>{let e;return t&&(typeof FormData=="function"&&t instanceof FormData||O(t.append)&&((e=Ce(t))==="formdata"||e==="object"&&O(t.toString)&&t.toString()==="[object FormData]"))},so=v("URLSearchParams"),[io,ao,lo,uo]=["ReadableStream","Request","Response","Headers"].map(v),co=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function pe(t,e,{allOwnKeys:r=!1}={}){if(t===null||typeof t>"u")return;let o,n;if(typeof t!="object"&&(t=[t]),Q(t))for(o=0,n=t.length;o<n;o++)e.call(null,t[o],o,t);else{if(ce(t))return;let s=r?Object.getOwnPropertyNames(t):Object.keys(t),i=s.length,l;for(o=0;o<i;o++)l=s[o],e.call(null,t[l],l,t)}}function zt(t,e){if(ce(t))return null;e=e.toLowerCase();let r=Object.keys(t),o=r.length,n;for(;o-- >0;)if(n=r[o],e===n.toLowerCase())return n;return null}var z=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,Wt=t=>!X(t)&&t!==z;function et(){let{caseless:t,skipUndefined:e}=Wt(this)&&this||{},r={},o=(n,s)=>{let i=t&&zt(r,s)||s;Oe(r[i])&&Oe(n)?r[i]=et(r[i],n):Oe(n)?r[i]=et({},n):Q(n)?r[i]=n.slice():(!e||!X(n))&&(r[i]=n)};for(let n=0,s=arguments.length;n<s;n++)arguments[n]&&pe(arguments[n],o);return r}var fo=(t,e,r,{allOwnKeys:o}={})=>(pe(e,(n,s)=>{r&&O(n)?t[s]=ue(n,r):t[s]=n},{allOwnKeys:o}),t),po=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),mo=(t,e,r,o)=>{t.prototype=Object.create(e.prototype,o),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:e.prototype}),r&&Object.assign(t.prototype,r)},ho=(t,e,r,o)=>{let n,s,i,l={};if(e=e||{},t==null)return e;do{for(n=Object.getOwnPropertyNames(t),s=n.length;s-- >0;)i=n[s],(!o||o(i,t,e))&&!l[i]&&(e[i]=t[i],l[i]=!0);t=r!==!1&&tt(t)}while(t&&(!r||r(t,e))&&t!==Object.prototype);return e},xo=(t,e,r)=>{t=String(t),(r===void 0||r>t.length)&&(r=t.length),r-=e.length;let o=t.indexOf(e,r);return o!==-1&&o===r},bo=t=>{if(!t)return null;if(Q(t))return t;let e=t.length;if(!Ht(e))return null;let r=new Array(e);for(;e-- >0;)r[e]=t[e];return r},yo=(t=>e=>t&&e instanceof t)(typeof Uint8Array<"u"&&tt(Uint8Array)),wo=(t,e)=>{let o=(t&&t[_e]).call(t),n;for(;(n=o.next())&&!n.done;){let s=n.value;e.call(t,s[0],s[1])}},Eo=(t,e)=>{let r,o=[];for(;(r=t.exec(e))!==null;)o.push(r);return o},go=v("HTMLFormElement"),So=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(r,o,n){return o.toUpperCase()+n}),jt=(({hasOwnProperty:t})=>(e,r)=>t.call(e,r))(Object.prototype),Ro=v("RegExp"),Jt=(t,e)=>{let r=Object.getOwnPropertyDescriptors(t),o={};pe(r,(n,s)=>{let i;(i=e(n,s,t))!==!1&&(o[s]=i||n)}),Object.defineProperties(t,o)},To=t=>{Jt(t,(e,r)=>{if(O(t)&&["arguments","caller","callee"].indexOf(r)!==-1)return!1;let o=t[r];if(O(o)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+r+"'")})}})},Ao=(t,e)=>{let r={},o=n=>{n.forEach(s=>{r[s]=!0})};return Q(t)?o(t):o(String(t).split(e)),r},Oo=()=>{},_o=(t,e)=>t!=null&&Number.isFinite(t=+t)?t:e;function Co(t){return!!(t&&O(t.append)&&t[qt]==="FormData"&&t[_e])}var Fo=t=>{let e=new Array(10),r=(o,n)=>{if(fe(o)){if(e.indexOf(o)>=0)return;if(ce(o))return o;if(!("toJSON"in o)){e[n]=o;let s=Q(o)?[]:{};return pe(o,(i,l)=>{let p=r(i,n+1);!X(p)&&(s[l]=p)}),e[n]=void 0,s}}return o};return r(t,0)},Po=v("AsyncFunction"),Uo=t=>t&&(fe(t)||O(t))&&O(t.then)&&O(t.catch),Vt=((t,e)=>t?setImmediate:e?((r,o)=>(z.addEventListener("message",({source:n,data:s})=>{n===z&&s===r&&o.length&&o.shift()()},!1),n=>{o.push(n),z.postMessage(r,"*")}))(`axios@${Math.random()}`,[]):r=>setTimeout(r))(typeof setImmediate=="function",O(z.postMessage)),vo=typeof queueMicrotask<"u"?queueMicrotask.bind(z):typeof process<"u"&&process.nextTick||Vt,Io=t=>t!=null&&O(t[_e]),a={isArray:Q,isArrayBuffer:Mt,isBuffer:ce,isFormData:no,isArrayBufferView:Gr,isString:Xr,isNumber:Ht,isBoolean:Qr,isObject:fe,isPlainObject:Oe,isEmptyObject:Yr,isReadableStream:io,isRequest:ao,isResponse:lo,isHeaders:uo,isUndefined:X,isDate:Zr,isFile:eo,isBlob:to,isRegExp:Ro,isFunction:O,isStream:oo,isURLSearchParams:so,isTypedArray:yo,isFileList:ro,forEach:pe,merge:et,extend:fo,trim:co,stripBOM:po,inherits:mo,toFlatObject:ho,kindOf:Ce,kindOfTest:v,endsWith:xo,toArray:bo,forEachEntry:wo,matchAll:Eo,isHTMLForm:go,hasOwnProperty:jt,hasOwnProp:jt,reduceDescriptors:Jt,freezeMethods:To,toObjectSet:Ao,toCamelCase:So,noop:Oo,toFiniteNumber:_o,findKey:zt,global:z,isContextDefined:Wt,isSpecCompliantForm:Co,toJSONObject:Fo,isAsyncFn:Po,isThenable:Uo,setImmediate:Vt,asap:vo,isIterable:Io};function Y(t,e,r,o,n){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",e&&(this.code=e),r&&(this.config=r),o&&(this.request=o),n&&(this.response=n,this.status=n.status?n.status:null)}a.inherits(Y,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:a.toJSONObject(this.config),code:this.code,status:this.status}}});var Kt=Y.prototype,$t={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{$t[t]={value:t}});Object.defineProperties(Y,$t);Object.defineProperty(Kt,"isAxiosError",{value:!0});Y.from=(t,e,r,o,n,s)=>{let i=Object.create(Kt);a.toFlatObject(t,i,function(u){return u!==Error.prototype},c=>c!=="isAxiosError");let l=t&&t.message?t.message:"Error",p=e==null&&t?t.code:e;return Y.call(i,l,p,r,o,n),t&&i.cause==null&&Object.defineProperty(i,"cause",{value:t,configurable:!0}),i.name=t&&t.name||"Error",s&&Object.assign(i,s),i};var x=Y;var Pe=null;function rt(t){return a.isPlainObject(t)||a.isArray(t)}function Xt(t){return a.endsWith(t,"[]")?t.slice(0,-2):t}function Gt(t,e,r){return t?t.concat(e).map(function(n,s){return n=Xt(n),!r&&s?"["+n+"]":n}).join(r?".":""):e}function Do(t){return a.isArray(t)&&!t.some(rt)}var No=a.toFlatObject(a,{},null,function(e){return/^is[A-Z]/.test(e)});function ko(t,e,r){if(!a.isObject(t))throw new TypeError("target must be an object");e=e||new(Pe||FormData),r=a.toFlatObject(r,{metaTokens:!0,dots:!1,indexes:!1},!1,function(h,m){return!a.isUndefined(m[h])});let o=r.metaTokens,n=r.visitor||u,s=r.dots,i=r.indexes,p=(r.Blob||typeof Blob<"u"&&Blob)&&a.isSpecCompliantForm(e);if(!a.isFunction(n))throw new TypeError("visitor must be a function");function c(f){if(f===null)return"";if(a.isDate(f))return f.toISOString();if(a.isBoolean(f))return f.toString();if(!p&&a.isBlob(f))throw new x("Blob is not supported. Use a Buffer instead.");return a.isArrayBuffer(f)||a.isTypedArray(f)?p&&typeof Blob=="function"?new Blob([f]):Buffer.from(f):f}function u(f,h,m){let E=f;if(f&&!m&&typeof f=="object"){if(a.endsWith(h,"{}"))h=o?h:h.slice(0,-2),f=JSON.stringify(f);else if(a.isArray(f)&&Do(f)||(a.isFileList(f)||a.endsWith(h,"[]"))&&(E=a.toArray(f)))return h=Xt(h),E.forEach(function(S,A){!(a.isUndefined(S)||S===null)&&e.append(i===!0?Gt([h],A,s):i===null?h:h+"[]",c(S))}),!1}return rt(f)?!0:(e.append(Gt(m,h,s),c(f)),!1)}let d=[],b=Object.assign(No,{defaultVisitor:u,convertValue:c,isVisitable:rt});function R(f,h){if(!a.isUndefined(f)){if(d.indexOf(f)!==-1)throw Error("Circular reference detected in "+h.join("."));d.push(f),a.forEach(f,function(E,C){(!(a.isUndefined(E)||E===null)&&n.call(e,E,a.isString(C)?C.trim():C,h,b))===!0&&R(E,h?h.concat(C):[C])}),d.pop()}}if(!a.isObject(t))throw new TypeError("data must be an object");return R(t),e}var q=ko;function Qt(t){let e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(o){return e[o]})}function Yt(t,e){this._pairs=[],t&&q(t,this,e)}var Zt=Yt.prototype;Zt.append=function(e,r){this._pairs.push([e,r])};Zt.toString=function(e){let r=e?function(o){return e.call(this,o,Qt)}:Qt;return this._pairs.map(function(n){return r(n[0])+"="+r(n[1])},"").join("&")};var Ue=Yt;function Bo(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function me(t,e,r){if(!e)return t;let o=r&&r.encode||Bo;a.isFunction(r)&&(r={serialize:r});let n=r&&r.serialize,s;if(n?s=n(e,r):s=a.isURLSearchParams(e)?e.toString():new Ue(e,r).toString(o),s){let i=t.indexOf("#");i!==-1&&(t=t.slice(0,i)),t+=(t.indexOf("?")===-1?"?":"&")+s}return t}var ot=class{constructor(){this.handlers=[]}use(e,r,o){return this.handlers.push({fulfilled:e,rejected:r,synchronous:o?o.synchronous:!1,runWhen:o?o.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){a.forEach(this.handlers,function(o){o!==null&&e(o)})}},nt=ot;var ve={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1};var er=typeof URLSearchParams<"u"?URLSearchParams:Ue;var tr=typeof FormData<"u"?FormData:null;var rr=typeof Blob<"u"?Blob:null;var or={isBrowser:!0,classes:{URLSearchParams:er,FormData:tr,Blob:rr},protocols:["http","https","file","blob","url","data"]};var at={};Kr(at,{hasBrowserEnv:()=>it,hasStandardBrowserEnv:()=>Lo,hasStandardBrowserWebWorkerEnv:()=>jo,navigator:()=>st,origin:()=>qo});var it=typeof window<"u"&&typeof document<"u",st=typeof navigator=="object"&&navigator||void 0,Lo=it&&(!st||["ReactNative","NativeScript","NS"].indexOf(st.product)<0),jo=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",qo=it&&window.location.href||"http://localhost";var y={...at,...or};function lt(t,e){return q(t,new y.classes.URLSearchParams,{visitor:function(r,o,n,s){return y.isNode&&a.isBuffer(r)?(this.append(o,r.toString("base64")),!1):s.defaultVisitor.apply(this,arguments)},...e})}function Mo(t){return a.matchAll(/\w+|\[(\w*)]/g,t).map(e=>e[0]==="[]"?"":e[1]||e[0])}function Ho(t){let e={},r=Object.keys(t),o,n=r.length,s;for(o=0;o<n;o++)s=r[o],e[s]=t[s];return e}function zo(t){function e(r,o,n,s){let i=r[s++];if(i==="__proto__")return!0;let l=Number.isFinite(+i),p=s>=r.length;return i=!i&&a.isArray(n)?n.length:i,p?(a.hasOwnProp(n,i)?n[i]=[n[i],o]:n[i]=o,!l):((!n[i]||!a.isObject(n[i]))&&(n[i]=[]),e(r,o,n[i],s)&&a.isArray(n[i])&&(n[i]=Ho(n[i])),!l)}if(a.isFormData(t)&&a.isFunction(t.entries)){let r={};return a.forEachEntry(t,(o,n)=>{e(Mo(o),n,r,0)}),r}return null}var Ie=zo;function Wo(t,e,r){if(a.isString(t))try{return(e||JSON.parse)(t),a.trim(t)}catch(o){if(o.name!=="SyntaxError")throw o}return(r||JSON.stringify)(t)}var ut={transitional:ve,adapter:["xhr","http","fetch"],transformRequest:[function(e,r){let o=r.getContentType()||"",n=o.indexOf("application/json")>-1,s=a.isObject(e);if(s&&a.isHTMLForm(e)&&(e=new FormData(e)),a.isFormData(e))return n?JSON.stringify(Ie(e)):e;if(a.isArrayBuffer(e)||a.isBuffer(e)||a.isStream(e)||a.isFile(e)||a.isBlob(e)||a.isReadableStream(e))return e;if(a.isArrayBufferView(e))return e.buffer;if(a.isURLSearchParams(e))return r.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let l;if(s){if(o.indexOf("application/x-www-form-urlencoded")>-1)return lt(e,this.formSerializer).toString();if((l=a.isFileList(e))||o.indexOf("multipart/form-data")>-1){let p=this.env&&this.env.FormData;return q(l?{"files[]":e}:e,p&&new p,this.formSerializer)}}return s||n?(r.setContentType("application/json",!1),Wo(e)):e}],transformResponse:[function(e){let r=this.transitional||ut.transitional,o=r&&r.forcedJSONParsing,n=this.responseType==="json";if(a.isResponse(e)||a.isReadableStream(e))return e;if(e&&a.isString(e)&&(o&&!this.responseType||n)){let i=!(r&&r.silentJSONParsing)&&n;try{return JSON.parse(e,this.parseReviver)}catch(l){if(i)throw l.name==="SyntaxError"?x.from(l,x.ERR_BAD_RESPONSE,this,null,this.response):l}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:y.classes.FormData,Blob:y.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};a.forEach(["delete","get","head","post","put","patch"],t=>{ut.headers[t]={}});var Z=ut;var Jo=a.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),nr=t=>{let e={},r,o,n;return t&&t.split(`
`).forEach(function(i){n=i.indexOf(":"),r=i.substring(0,n).trim().toLowerCase(),o=i.substring(n+1).trim(),!(!r||e[r]&&Jo[r])&&(r==="set-cookie"?e[r]?e[r].push(o):e[r]=[o]:e[r]=e[r]?e[r]+", "+o:o)}),e};var sr=Symbol("internals");function de(t){return t&&String(t).trim().toLowerCase()}function De(t){return t===!1||t==null?t:a.isArray(t)?t.map(De):String(t)}function Vo(t){let e=Object.create(null),r=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g,o;for(;o=r.exec(t);)e[o[1]]=o[2];return e}var Ko=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function ct(t,e,r,o,n){if(a.isFunction(o))return o.call(this,e,r);if(n&&(e=r),!!a.isString(e)){if(a.isString(o))return e.indexOf(o)!==-1;if(a.isRegExp(o))return o.test(e)}}function $o(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,r,o)=>r.toUpperCase()+o)}function Go(t,e){let r=a.toCamelCase(" "+e);["get","set","has"].forEach(o=>{Object.defineProperty(t,o+r,{value:function(n,s,i){return this[o].call(this,e,n,s,i)},configurable:!0})})}var ee=class{constructor(e){e&&this.set(e)}set(e,r,o){let n=this;function s(l,p,c){let u=de(p);if(!u)throw new Error("header name must be a non-empty string");let d=a.findKey(n,u);(!d||n[d]===void 0||c===!0||c===void 0&&n[d]!==!1)&&(n[d||p]=De(l))}let i=(l,p)=>a.forEach(l,(c,u)=>s(c,u,p));if(a.isPlainObject(e)||e instanceof this.constructor)i(e,r);else if(a.isString(e)&&(e=e.trim())&&!Ko(e))i(nr(e),r);else if(a.isObject(e)&&a.isIterable(e)){let l={},p,c;for(let u of e){if(!a.isArray(u))throw TypeError("Object iterator must return a key-value pair");l[c=u[0]]=(p=l[c])?a.isArray(p)?[...p,u[1]]:[p,u[1]]:u[1]}i(l,r)}else e!=null&&s(r,e,o);return this}get(e,r){if(e=de(e),e){let o=a.findKey(this,e);if(o){let n=this[o];if(!r)return n;if(r===!0)return Vo(n);if(a.isFunction(r))return r.call(this,n,o);if(a.isRegExp(r))return r.exec(n);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,r){if(e=de(e),e){let o=a.findKey(this,e);return!!(o&&this[o]!==void 0&&(!r||ct(this,this[o],o,r)))}return!1}delete(e,r){let o=this,n=!1;function s(i){if(i=de(i),i){let l=a.findKey(o,i);l&&(!r||ct(o,o[l],l,r))&&(delete o[l],n=!0)}}return a.isArray(e)?e.forEach(s):s(e),n}clear(e){let r=Object.keys(this),o=r.length,n=!1;for(;o--;){let s=r[o];(!e||ct(this,this[s],s,e,!0))&&(delete this[s],n=!0)}return n}normalize(e){let r=this,o={};return a.forEach(this,(n,s)=>{let i=a.findKey(o,s);if(i){r[i]=De(n),delete r[s];return}let l=e?$o(s):String(s).trim();l!==s&&delete r[s],r[l]=De(n),o[l]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){let r=Object.create(null);return a.forEach(this,(o,n)=>{o!=null&&o!==!1&&(r[n]=e&&a.isArray(o)?o.join(", "):o)}),r}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,r])=>e+": "+r).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...r){let o=new this(e);return r.forEach(n=>o.set(n)),o}static accessor(e){let o=(this[sr]=this[sr]={accessors:{}}).accessors,n=this.prototype;function s(i){let l=de(i);o[l]||(Go(n,i),o[l]=!0)}return a.isArray(e)?e.forEach(s):s(e),this}};ee.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);a.reduceDescriptors(ee.prototype,({value:t},e)=>{let r=e[0].toUpperCase()+e.slice(1);return{get:()=>t,set(o){this[r]=o}}});a.freezeMethods(ee);var g=ee;function he(t,e){let r=this||Z,o=e||r,n=g.from(o.headers),s=o.data;return a.forEach(t,function(l){s=l.call(r,s,n.normalize(),e?e.status:void 0)}),n.normalize(),s}function xe(t){return!!(t&&t.__CANCEL__)}function ir(t,e,r){x.call(this,t??"canceled",x.ERR_CANCELED,e,r),this.name="CanceledError"}a.inherits(ir,x,{__CANCEL__:!0});var k=ir;function be(t,e,r){let o=r.config.validateStatus;!r.status||!o||o(r.status)?t(r):e(new x("Request failed with status code "+r.status,[x.ERR_BAD_REQUEST,x.ERR_BAD_RESPONSE][Math.floor(r.status/100)-4],r.config,r.request,r))}function ft(t){let e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return e&&e[1]||""}function Xo(t,e){t=t||10;let r=new Array(t),o=new Array(t),n=0,s=0,i;return e=e!==void 0?e:1e3,function(p){let c=Date.now(),u=o[s];i||(i=c),r[n]=p,o[n]=c;let d=s,b=0;for(;d!==n;)b+=r[d++],d=d%t;if(n=(n+1)%t,n===s&&(s=(s+1)%t),c-i<e)return;let R=u&&c-u;return R?Math.round(b*1e3/R):void 0}}var ar=Xo;function Qo(t,e){let r=0,o=1e3/e,n,s,i=(c,u=Date.now())=>{r=u,n=null,s&&(clearTimeout(s),s=null),t(...c)};return[(...c)=>{let u=Date.now(),d=u-r;d>=o?i(c,u):(n=c,s||(s=setTimeout(()=>{s=null,i(n)},o-d)))},()=>n&&i(n)]}var lr=Qo;var te=(t,e,r=3)=>{let o=0,n=ar(50,250);return lr(s=>{let i=s.loaded,l=s.lengthComputable?s.total:void 0,p=i-o,c=n(p),u=i<=l;o=i;let d={loaded:i,total:l,progress:l?i/l:void 0,bytes:p,rate:c||void 0,estimated:c&&l&&u?(l-i)/c:void 0,event:s,lengthComputable:l!=null,[e?"download":"upload"]:!0};t(d)},r)},pt=(t,e)=>{let r=t!=null;return[o=>e[0]({lengthComputable:r,total:t,loaded:o}),e[1]]},mt=t=>(...e)=>a.asap(()=>t(...e));var ur=y.hasStandardBrowserEnv?((t,e)=>r=>(r=new URL(r,y.origin),t.protocol===r.protocol&&t.host===r.host&&(e||t.port===r.port)))(new URL(y.origin),y.navigator&&/(msie|trident)/i.test(y.navigator.userAgent)):()=>!0;var cr=y.hasStandardBrowserEnv?{write(t,e,r,o,n,s){let i=[t+"="+encodeURIComponent(e)];a.isNumber(r)&&i.push("expires="+new Date(r).toGMTString()),a.isString(o)&&i.push("path="+o),a.isString(n)&&i.push("domain="+n),s===!0&&i.push("secure"),document.cookie=i.join("; ")},read(t){let e=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove(t){this.write(t,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function dt(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function ht(t,e){return e?t.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):t}function ye(t,e,r){let o=!dt(e);return t&&(o||r==!1)?ht(t,e):e}var fr=t=>t instanceof g?{...t}:t;function I(t,e){e=e||{};let r={};function o(c,u,d,b){return a.isPlainObject(c)&&a.isPlainObject(u)?a.merge.call({caseless:b},c,u):a.isPlainObject(u)?a.merge({},u):a.isArray(u)?u.slice():u}function n(c,u,d,b){if(a.isUndefined(u)){if(!a.isUndefined(c))return o(void 0,c,d,b)}else return o(c,u,d,b)}function s(c,u){if(!a.isUndefined(u))return o(void 0,u)}function i(c,u){if(a.isUndefined(u)){if(!a.isUndefined(c))return o(void 0,c)}else return o(void 0,u)}function l(c,u,d){if(d in e)return o(c,u);if(d in t)return o(void 0,c)}let p={url:s,method:s,data:s,baseURL:i,transformRequest:i,transformResponse:i,paramsSerializer:i,timeout:i,timeoutMessage:i,withCredentials:i,withXSRFToken:i,adapter:i,responseType:i,xsrfCookieName:i,xsrfHeaderName:i,onUploadProgress:i,onDownloadProgress:i,decompress:i,maxContentLength:i,maxBodyLength:i,beforeRedirect:i,transport:i,httpAgent:i,httpsAgent:i,cancelToken:i,socketPath:i,responseEncoding:i,validateStatus:l,headers:(c,u,d)=>n(fr(c),fr(u),d,!0)};return a.forEach(Object.keys({...t,...e}),function(u){let d=p[u]||n,b=d(t[u],e[u],u);a.isUndefined(b)&&d!==l||(r[u]=b)}),r}var Ne=t=>{let e=I({},t),{data:r,withXSRFToken:o,xsrfHeaderName:n,xsrfCookieName:s,headers:i,auth:l}=e;if(e.headers=i=g.from(i),e.url=me(ye(e.baseURL,e.url,e.allowAbsoluteUrls),t.params,t.paramsSerializer),l&&i.set("Authorization","Basic "+btoa((l.username||"")+":"+(l.password?unescape(encodeURIComponent(l.password)):""))),a.isFormData(r)){if(y.hasStandardBrowserEnv||y.hasStandardBrowserWebWorkerEnv)i.setContentType(void 0);else if(a.isFunction(r.getHeaders)){let p=r.getHeaders(),c=["content-type","content-length"];Object.entries(p).forEach(([u,d])=>{c.includes(u.toLowerCase())&&i.set(u,d)})}}if(y.hasStandardBrowserEnv&&(o&&a.isFunction(o)&&(o=o(e)),o||o!==!1&&ur(e.url))){let p=n&&s&&cr.read(s);p&&i.set(n,p)}return e};var Yo=typeof XMLHttpRequest<"u",pr=Yo&&function(t){return new Promise(function(r,o){let n=Ne(t),s=n.data,i=g.from(n.headers).normalize(),{responseType:l,onUploadProgress:p,onDownloadProgress:c}=n,u,d,b,R,f;function h(){R&&R(),f&&f(),n.cancelToken&&n.cancelToken.unsubscribe(u),n.signal&&n.signal.removeEventListener("abort",u)}let m=new XMLHttpRequest;m.open(n.method.toUpperCase(),n.url,!0),m.timeout=n.timeout;function E(){if(!m)return;let S=g.from("getAllResponseHeaders"in m&&m.getAllResponseHeaders()),U={data:!l||l==="text"||l==="json"?m.responseText:m.response,status:m.status,statusText:m.statusText,headers:S,config:t,request:m};be(function(F){r(F),h()},function(F){o(F),h()},U),m=null}"onloadend"in m?m.onloadend=E:m.onreadystatechange=function(){!m||m.readyState!==4||m.status===0&&!(m.responseURL&&m.responseURL.indexOf("file:")===0)||setTimeout(E)},m.onabort=function(){m&&(o(new x("Request aborted",x.ECONNABORTED,t,m)),m=null)},m.onerror=function(A){let U=A&&A.message?A.message:"Network Error",M=new x(U,x.ERR_NETWORK,t,m);M.event=A||null,o(M),m=null},m.ontimeout=function(){let A=n.timeout?"timeout of "+n.timeout+"ms exceeded":"timeout exceeded",U=n.transitional||ve;n.timeoutErrorMessage&&(A=n.timeoutErrorMessage),o(new x(A,U.clarifyTimeoutError?x.ETIMEDOUT:x.ECONNABORTED,t,m)),m=null},s===void 0&&i.setContentType(null),"setRequestHeader"in m&&a.forEach(i.toJSON(),function(A,U){m.setRequestHeader(U,A)}),a.isUndefined(n.withCredentials)||(m.withCredentials=!!n.withCredentials),l&&l!=="json"&&(m.responseType=n.responseType),c&&([b,f]=te(c,!0),m.addEventListener("progress",b)),p&&m.upload&&([d,R]=te(p),m.upload.addEventListener("progress",d),m.upload.addEventListener("loadend",R)),(n.cancelToken||n.signal)&&(u=S=>{m&&(o(!S||S.type?new k(null,t,m):S),m.abort(),m=null)},n.cancelToken&&n.cancelToken.subscribe(u),n.signal&&(n.signal.aborted?u():n.signal.addEventListener("abort",u)));let C=ft(n.url);if(C&&y.protocols.indexOf(C)===-1){o(new x("Unsupported protocol "+C+":",x.ERR_BAD_REQUEST,t));return}m.send(s||null)})};var Zo=(t,e)=>{let{length:r}=t=t?t.filter(Boolean):[];if(e||r){let o=new AbortController,n,s=function(c){if(!n){n=!0,l();let u=c instanceof Error?c:this.reason;o.abort(u instanceof x?u:new k(u instanceof Error?u.message:u))}},i=e&&setTimeout(()=>{i=null,s(new x(`timeout ${e} of ms exceeded`,x.ETIMEDOUT))},e),l=()=>{t&&(i&&clearTimeout(i),i=null,t.forEach(c=>{c.unsubscribe?c.unsubscribe(s):c.removeEventListener("abort",s)}),t=null)};t.forEach(c=>c.addEventListener("abort",s));let{signal:p}=o;return p.unsubscribe=()=>a.asap(l),p}},mr=Zo;var en=function*(t,e){let r=t.byteLength;if(!e||r<e){yield t;return}let o=0,n;for(;o<r;)n=o+e,yield t.slice(o,n),o=n},tn=async function*(t,e){for await(let r of rn(t))yield*en(r,e)},rn=async function*(t){if(t[Symbol.asyncIterator]){yield*t;return}let e=t.getReader();try{for(;;){let{done:r,value:o}=await e.read();if(r)break;yield o}}finally{await e.cancel()}},xt=(t,e,r,o)=>{let n=tn(t,e),s=0,i,l=p=>{i||(i=!0,o&&o(p))};return new ReadableStream({async pull(p){try{let{done:c,value:u}=await n.next();if(c){l(),p.close();return}let d=u.byteLength;if(r){let b=s+=d;r(b)}p.enqueue(new Uint8Array(u))}catch(c){throw l(c),c}},cancel(p){return l(p),n.return()}},{highWaterMark:2})};var dr=64*1024,{isFunction:ke}=a,yr=(({fetch:t,Request:e,Response:r})=>({fetch:t,Request:e,Response:r}))(a.global),{ReadableStream:hr,TextEncoder:xr}=a.global,br=(t,...e)=>{try{return!!t(...e)}catch{return!1}},on=t=>{let{fetch:e,Request:r,Response:o}=Object.assign({},yr,t),n=ke(e),s=ke(r),i=ke(o);if(!n)return!1;let l=n&&ke(hr),p=n&&(typeof xr=="function"?(f=>h=>f.encode(h))(new xr):async f=>new Uint8Array(await new r(f).arrayBuffer())),c=s&&l&&br(()=>{let f=!1,h=new r(y.origin,{body:new hr,method:"POST",get duplex(){return f=!0,"half"}}).headers.has("Content-Type");return f&&!h}),u=i&&l&&br(()=>a.isReadableStream(new o("").body)),d={stream:u&&(f=>f.body)};n&&["text","arrayBuffer","blob","formData","stream"].forEach(f=>{!d[f]&&(d[f]=(h,m)=>{let E=h&&h[f];if(E)return E.call(h);throw new x(`Response type '${f}' is not supported`,x.ERR_NOT_SUPPORT,m)})});let b=async f=>{if(f==null)return 0;if(a.isBlob(f))return f.size;if(a.isSpecCompliantForm(f))return(await new r(y.origin,{method:"POST",body:f}).arrayBuffer()).byteLength;if(a.isArrayBufferView(f)||a.isArrayBuffer(f))return f.byteLength;if(a.isURLSearchParams(f)&&(f=f+""),a.isString(f))return(await p(f)).byteLength},R=async(f,h)=>{let m=a.toFiniteNumber(f.getContentLength());return m??b(h)};return async f=>{let{url:h,method:m,data:E,signal:C,cancelToken:S,timeout:A,onDownloadProgress:U,onUploadProgress:M,responseType:F,headers:Ye,withCredentials:Re="same-origin",fetchOptions:Dt}=Ne(f);F=F?(F+"").toLowerCase():"text";let Te=mr([C,S&&S.toAbortSignal()],A),le=null,H=Te&&Te.unsubscribe&&(()=>{Te.unsubscribe()}),Nt;try{if(M&&c&&m!=="get"&&m!=="head"&&(Nt=await R(Ye,E))!==0){let j=new r(h,{method:"POST",body:E,duplex:"half"}),G;if(a.isFormData(E)&&(G=j.headers.get("content-type"))&&Ye.setContentType(G),j.body){let[Ze,Ae]=pt(Nt,te(mt(M)));E=xt(j.body,dr,Ze,Ae)}}a.isString(Re)||(Re=Re?"include":"omit");let N=s&&"credentials"in r.prototype,kt={...Dt,signal:Te,method:m.toUpperCase(),headers:Ye.normalize().toJSON(),body:E,duplex:"half",credentials:N?Re:void 0};le=s&&new r(h,kt);let L=await(s?e(le,Dt):e(h,kt)),Bt=u&&(F==="stream"||F==="response");if(u&&(U||Bt&&H)){let j={};["status","statusText","headers"].forEach(Lt=>{j[Lt]=L[Lt]});let G=a.toFiniteNumber(L.headers.get("content-length")),[Ze,Ae]=U&&pt(G,te(mt(U),!0))||[];L=new o(xt(L.body,dr,Ze,()=>{Ae&&Ae(),H&&H()}),j)}F=F||"text";let Jr=await d[a.findKey(d,F)||"text"](L,f);return!Bt&&H&&H(),await new Promise((j,G)=>{be(j,G,{data:Jr,headers:g.from(L.headers),status:L.status,statusText:L.statusText,config:f,request:le})})}catch(N){throw H&&H(),N&&N.name==="TypeError"&&/Load failed|fetch/i.test(N.message)?Object.assign(new x("Network Error",x.ERR_NETWORK,f,le),{cause:N.cause||N}):x.from(N,N&&N.code,f,le)}}},nn=new Map,bt=t=>{let e=a.merge.call({skipUndefined:!0},yr,t?t.env:null),{fetch:r,Request:o,Response:n}=e,s=[o,n,r],i=s.length,l=i,p,c,u=nn;for(;l--;)p=s[l],c=u.get(p),c===void 0&&u.set(p,c=l?new Map:on(e)),u=c;return c},_i=bt();var yt={http:Pe,xhr:pr,fetch:{get:bt}};a.forEach(yt,(t,e)=>{if(t){try{Object.defineProperty(t,"name",{value:e})}catch{}Object.defineProperty(t,"adapterName",{value:e})}});var wr=t=>`- ${t}`,an=t=>a.isFunction(t)||t===null||t===!1,Be={getAdapter:(t,e)=>{t=a.isArray(t)?t:[t];let{length:r}=t,o,n,s={};for(let i=0;i<r;i++){o=t[i];let l;if(n=o,!an(o)&&(n=yt[(l=String(o)).toLowerCase()],n===void 0))throw new x(`Unknown adapter '${l}'`);if(n&&(a.isFunction(n)||(n=n.get(e))))break;s[l||"#"+i]=n}if(!n){let i=Object.entries(s).map(([p,c])=>`adapter ${p} `+(c===!1?"is not supported by the environment":"is not available in the build")),l=r?i.length>1?`since :
`+i.map(wr).join(`
`):" "+wr(i[0]):"as no adapter specified";throw new x("There is no suitable adapter to dispatch the request "+l,"ERR_NOT_SUPPORT")}return n},adapters:yt};function wt(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new k(null,t)}function Le(t){return wt(t),t.headers=g.from(t.headers),t.data=he.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),Be.getAdapter(t.adapter||Z.adapter,t)(t).then(function(o){return wt(t),o.data=he.call(t,t.transformResponse,o),o.headers=g.from(o.headers),o},function(o){return xe(o)||(wt(t),o&&o.response&&(o.response.data=he.call(t,t.transformResponse,o.response),o.response.headers=g.from(o.response.headers))),Promise.reject(o)})}var je="1.12.1";var qe={};["object","boolean","number","function","string","symbol"].forEach((t,e)=>{qe[t]=function(o){return typeof o===t||"a"+(e<1?"n ":" ")+t}});var Er={};qe.transitional=function(e,r,o){function n(s,i){return"[Axios v"+je+"] Transitional option '"+s+"'"+i+(o?". "+o:"")}return(s,i,l)=>{if(e===!1)throw new x(n(i," has been removed"+(r?" in "+r:"")),x.ERR_DEPRECATED);return r&&!Er[i]&&(Er[i]=!0,console.warn(n(i," has been deprecated since v"+r+" and will be removed in the near future"))),e?e(s,i,l):!0}};qe.spelling=function(e){return(r,o)=>(console.warn(`${o} is likely a misspelling of ${e}`),!0)};function ln(t,e,r){if(typeof t!="object")throw new x("options must be an object",x.ERR_BAD_OPTION_VALUE);let o=Object.keys(t),n=o.length;for(;n-- >0;){let s=o[n],i=e[s];if(i){let l=t[s],p=l===void 0||i(l,s,t);if(p!==!0)throw new x("option "+s+" must be "+p,x.ERR_BAD_OPTION_VALUE);continue}if(r!==!0)throw new x("Unknown option "+s,x.ERR_BAD_OPTION)}}var we={assertOptions:ln,validators:qe};var B=we.validators,re=class{constructor(e){this.defaults=e||{},this.interceptors={request:new nt,response:new nt}}async request(e,r){try{return await this._request(e,r)}catch(o){if(o instanceof Error){let n={};Error.captureStackTrace?Error.captureStackTrace(n):n=new Error;let s=n.stack?n.stack.replace(/^.+\n/,""):"";try{o.stack?s&&!String(o.stack).endsWith(s.replace(/^.+\n.+\n/,""))&&(o.stack+=`
`+s):o.stack=s}catch{}}throw o}}_request(e,r){typeof e=="string"?(r=r||{},r.url=e):r=e||{},r=I(this.defaults,r);let{transitional:o,paramsSerializer:n,headers:s}=r;o!==void 0&&we.assertOptions(o,{silentJSONParsing:B.transitional(B.boolean),forcedJSONParsing:B.transitional(B.boolean),clarifyTimeoutError:B.transitional(B.boolean)},!1),n!=null&&(a.isFunction(n)?r.paramsSerializer={serialize:n}:we.assertOptions(n,{encode:B.function,serialize:B.function},!0)),r.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?r.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:r.allowAbsoluteUrls=!0),we.assertOptions(r,{baseUrl:B.spelling("baseURL"),withXsrfToken:B.spelling("withXSRFToken")},!0),r.method=(r.method||this.defaults.method||"get").toLowerCase();let i=s&&a.merge(s.common,s[r.method]);s&&a.forEach(["delete","get","head","post","put","patch","common"],f=>{delete s[f]}),r.headers=g.concat(i,s);let l=[],p=!0;this.interceptors.request.forEach(function(h){typeof h.runWhen=="function"&&h.runWhen(r)===!1||(p=p&&h.synchronous,l.unshift(h.fulfilled,h.rejected))});let c=[];this.interceptors.response.forEach(function(h){c.push(h.fulfilled,h.rejected)});let u,d=0,b;if(!p){let f=[Le.bind(this),void 0];for(f.unshift(...l),f.push(...c),b=f.length,u=Promise.resolve(r);d<b;)u=u.then(f[d++],f[d++]);return u}b=l.length;let R=r;for(d=0;d<b;){let f=l[d++],h=l[d++];try{R=f(R)}catch(m){h.call(this,m);break}}try{u=Le.call(this,R)}catch(f){return Promise.reject(f)}for(d=0,b=c.length;d<b;)u=u.then(c[d++],c[d++]);return u}getUri(e){e=I(this.defaults,e);let r=ye(e.baseURL,e.url,e.allowAbsoluteUrls);return me(r,e.params,e.paramsSerializer)}};a.forEach(["delete","get","head","options"],function(e){re.prototype[e]=function(r,o){return this.request(I(o||{},{method:e,url:r,data:(o||{}).data}))}});a.forEach(["post","put","patch"],function(e){function r(o){return function(s,i,l){return this.request(I(l||{},{method:e,headers:o?{"Content-Type":"multipart/form-data"}:{},url:s,data:i}))}}re.prototype[e]=r(),re.prototype[e+"Form"]=r(!0)});var Ee=re;var Et=class t{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let r;this.promise=new Promise(function(s){r=s});let o=this;this.promise.then(n=>{if(!o._listeners)return;let s=o._listeners.length;for(;s-- >0;)o._listeners[s](n);o._listeners=null}),this.promise.then=n=>{let s,i=new Promise(l=>{o.subscribe(l),s=l}).then(n);return i.cancel=function(){o.unsubscribe(s)},i},e(function(s,i,l){o.reason||(o.reason=new k(s,i,l),r(o.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;let r=this._listeners.indexOf(e);r!==-1&&this._listeners.splice(r,1)}toAbortSignal(){let e=new AbortController,r=o=>{e.abort(o)};return this.subscribe(r),e.signal.unsubscribe=()=>this.unsubscribe(r),e.signal}static source(){let e;return{token:new t(function(n){e=n}),cancel:e}}},gr=Et;function gt(t){return function(r){return t.apply(null,r)}}function St(t){return a.isObject(t)&&t.isAxiosError===!0}var Rt={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(Rt).forEach(([t,e])=>{Rt[e]=t});var Sr=Rt;function Rr(t){let e=new Ee(t),r=ue(Ee.prototype.request,e);return a.extend(r,Ee.prototype,e,{allOwnKeys:!0}),a.extend(r,e,null,{allOwnKeys:!0}),r.create=function(n){return Rr(I(t,n))},r}var w=Rr(Z);w.Axios=Ee;w.CanceledError=k;w.CancelToken=gr;w.isCancel=xe;w.VERSION=je;w.toFormData=q;w.AxiosError=x;w.Cancel=w.CanceledError;w.all=function(e){return Promise.all(e)};w.spread=gt;w.isAxiosError=St;w.mergeConfig=I;w.AxiosHeaders=g;w.formToJSON=t=>Ie(a.isHTMLForm(t)?new FormData(t):t);w.getAdapter=Be.getAdapter;w.HttpStatusCode=Sr;w.default=w;var Tr=w;var{Axios:Ar,AxiosError:Ta,CanceledError:Aa,isCancel:Oa,CancelToken:_a,VERSION:Ca,all:Fa,Cancel:Pa,isAxiosError:Ua,spread:va,toFormData:Ia,AxiosHeaders:Da,HttpStatusCode:Na,formToJSON:ka,getAdapter:Ba,mergeConfig:La}=Tr;function _(t){return typeof t=="function"}function Me(t){let r=t(o=>{Error.call(o),o.stack=new Error().stack});return r.prototype=Object.create(Error.prototype),r.prototype.constructor=r,r}var He=Me(t=>function(r){t(this),this.message=r?`${r.length} errors occurred during unsubscription:
${r.map((o,n)=>`${n+1}) ${o.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=r});function W(t,e){if(t){let r=t.indexOf(e);0<=r&&t.splice(r,1)}}var P=class t{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;let{_parentage:r}=this;if(r)if(this._parentage=null,Array.isArray(r))for(let s of r)s.remove(this);else r.remove(this);let{initialTeardown:o}=this;if(_(o))try{o()}catch(s){e=s instanceof He?s.errors:[s]}let{_finalizers:n}=this;if(n){this._finalizers=null;for(let s of n)try{Or(s)}catch(i){e=e??[],i instanceof He?e=[...e,...i.errors]:e.push(i)}}if(e)throw new He(e)}}add(e){var r;if(e&&e!==this)if(this.closed)Or(e);else{if(e instanceof t){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(r=this._finalizers)!==null&&r!==void 0?r:[]).push(e)}}_hasParent(e){let{_parentage:r}=this;return r===e||Array.isArray(r)&&r.includes(e)}_addParent(e){let{_parentage:r}=this;this._parentage=Array.isArray(r)?(r.push(e),r):r?[r,e]:e}_removeParent(e){let{_parentage:r}=this;r===e?this._parentage=null:Array.isArray(r)&&W(r,e)}remove(e){let{_finalizers:r}=this;r&&W(r,e),e instanceof t&&e._removeParent(this)}};P.EMPTY=(()=>{let t=new P;return t.closed=!0,t})();var Tt=P.EMPTY;function ze(t){return t instanceof P||t&&"closed"in t&&_(t.remove)&&_(t.add)&&_(t.unsubscribe)}function Or(t){_(t)?t():t.unsubscribe()}var D={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var oe={setTimeout(t,e,...r){let{delegate:o}=oe;return o?.setTimeout?o.setTimeout(t,e,...r):setTimeout(t,e,...r)},clearTimeout(t){let{delegate:e}=oe;return(e?.clearTimeout||clearTimeout)(t)},delegate:void 0};function _r(t){oe.setTimeout(()=>{let{onUnhandledError:e}=D;if(e)e(t);else throw t})}function At(){}var Cr=Ot("C",void 0,void 0);function Fr(t){return Ot("E",void 0,t)}function Pr(t){return Ot("N",t,void 0)}function Ot(t,e,r){return{kind:t,value:e,error:r}}var J=null;function ne(t){if(D.useDeprecatedSynchronousErrorHandling){let e=!J;if(e&&(J={errorThrown:!1,error:null}),t(),e){let{errorThrown:r,error:o}=J;if(J=null,r)throw o}}else t()}function Ur(t){D.useDeprecatedSynchronousErrorHandling&&J&&(J.errorThrown=!0,J.error=t)}var V=class extends P{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,ze(e)&&e.add(this)):this.destination=fn}static create(e,r,o){return new se(e,r,o)}next(e){this.isStopped?Ct(Pr(e),this):this._next(e)}error(e){this.isStopped?Ct(Fr(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?Ct(Cr,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},un=Function.prototype.bind;function _t(t,e){return un.call(t,e)}var Ft=class{constructor(e){this.partialObserver=e}next(e){let{partialObserver:r}=this;if(r.next)try{r.next(e)}catch(o){We(o)}}error(e){let{partialObserver:r}=this;if(r.error)try{r.error(e)}catch(o){We(o)}else We(e)}complete(){let{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(r){We(r)}}},se=class extends V{constructor(e,r,o){super();let n;if(_(e)||!e)n={next:e??void 0,error:r??void 0,complete:o??void 0};else{let s;this&&D.useDeprecatedNextContext?(s=Object.create(e),s.unsubscribe=()=>this.unsubscribe(),n={next:e.next&&_t(e.next,s),error:e.error&&_t(e.error,s),complete:e.complete&&_t(e.complete,s)}):n=e}this.destination=new Ft(n)}};function We(t){D.useDeprecatedSynchronousErrorHandling?Ur(t):_r(t)}function cn(t){throw t}function Ct(t,e){let{onStoppedNotification:r}=D;r&&oe.setTimeout(()=>r(t,e))}var fn={closed:!0,next:At,error:cn,complete:At};var vr=typeof Symbol=="function"&&Symbol.observable||"@@observable";function Ir(t){return t}function Dr(t){return t.length===0?Ir:t.length===1?t[0]:function(r){return t.reduce((o,n)=>n(o),r)}}var K=class t{constructor(e){e&&(this._subscribe=e)}lift(e){let r=new t;return r.source=this,r.operator=e,r}subscribe(e,r,o){let n=mn(e)?e:new se(e,r,o);return ne(()=>{let{operator:s,source:i}=this;n.add(s?s.call(n,i):i?this._subscribe(n):this._trySubscribe(n))}),n}_trySubscribe(e){try{return this._subscribe(e)}catch(r){e.error(r)}}forEach(e,r){return r=Nr(r),new r((o,n)=>{let s=new se({next:i=>{try{e(i)}catch(l){n(l),s.unsubscribe()}},error:n,complete:o});this.subscribe(s)})}_subscribe(e){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(e)}[vr](){return this}pipe(...e){return Dr(e)(this)}toPromise(e){return e=Nr(e),new e((r,o)=>{let n;this.subscribe(s=>n=s,s=>o(s),()=>r(n))})}};K.create=t=>new K(t);function Nr(t){var e;return(e=t??D.Promise)!==null&&e!==void 0?e:Promise}function pn(t){return t&&_(t.next)&&_(t.error)&&_(t.complete)}function mn(t){return t&&t instanceof V||pn(t)&&ze(t)}function dn(t){return _(t?.lift)}function kr(t){return e=>{if(dn(e))return e.lift(function(r){try{return t(r,this)}catch(o){this.error(o)}});throw new TypeError("Unable to lift unknown Observable type")}}function Br(t,e,r,o,n){return new Pt(t,e,r,o,n)}var Pt=class extends V{constructor(e,r,o,n,s,i){super(e),this.onFinalize=s,this.shouldUnsubscribe=i,this._next=r?function(l){try{r(l)}catch(p){e.error(p)}}:super._next,this._error=n?function(l){try{n(l)}catch(p){e.error(p)}finally{this.unsubscribe()}}:super._error,this._complete=o?function(){try{o()}catch(l){e.error(l)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:r}=this;super.unsubscribe(),!r&&((e=this.onFinalize)===null||e===void 0||e.call(this))}}};var Lr=Me(t=>function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var ie=class extends K{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(e){let r=new Je(this,this);return r.operator=e,r}_throwIfClosed(){if(this.closed)throw new Lr}next(e){ne(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let r of this.currentObservers)r.next(e)}})}error(e){ne(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=e;let{observers:r}=this;for(;r.length;)r.shift().error(e)}})}complete(){ne(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:e}=this;for(;e.length;)e.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var e;return((e=this.observers)===null||e===void 0?void 0:e.length)>0}_trySubscribe(e){return this._throwIfClosed(),super._trySubscribe(e)}_subscribe(e){return this._throwIfClosed(),this._checkFinalizedStatuses(e),this._innerSubscribe(e)}_innerSubscribe(e){let{hasError:r,isStopped:o,observers:n}=this;return r||o?Tt:(this.currentObservers=null,n.push(e),new P(()=>{this.currentObservers=null,W(n,e)}))}_checkFinalizedStatuses(e){let{hasError:r,thrownError:o,isStopped:n}=this;r?e.error(o):n&&e.complete()}asObservable(){let e=new K;return e.source=this,e}};ie.create=(t,e)=>new Je(t,e);var Je=class extends ie{constructor(e,r){super(),this.destination=e,this.source=r}next(e){var r,o;(o=(r=this.destination)===null||r===void 0?void 0:r.next)===null||o===void 0||o.call(r,e)}error(e){var r,o;(o=(r=this.destination)===null||r===void 0?void 0:r.error)===null||o===void 0||o.call(r,e)}complete(){var e,r;(r=(e=this.destination)===null||e===void 0?void 0:e.complete)===null||r===void 0||r.call(e)}_subscribe(e){var r,o;return(o=(r=this.source)===null||r===void 0?void 0:r.subscribe(e))!==null&&o!==void 0?o:Tt}};var ge=class extends ie{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){let r=super._subscribe(e);return!r.closed&&e.next(this._value),r}getValue(){let{hasError:e,thrownError:r,_value:o}=this;if(e)throw r;return this._throwIfClosed(),o}next(e){super.next(this._value=e)}};var Ut={now(){return(Ut.delegate||Date).now()},delegate:void 0};var Ve=class extends P{constructor(e,r){super()}schedule(e,r=0){return this}};var Se={setInterval(t,e,...r){let{delegate:o}=Se;return o?.setInterval?o.setInterval(t,e,...r):setInterval(t,e,...r)},clearInterval(t){let{delegate:e}=Se;return(e?.clearInterval||clearInterval)(t)},delegate:void 0};var Ke=class extends Ve{constructor(e,r){super(e,r),this.scheduler=e,this.work=r,this.pending=!1}schedule(e,r=0){var o;if(this.closed)return this;this.state=e;let n=this.id,s=this.scheduler;return n!=null&&(this.id=this.recycleAsyncId(s,n,r)),this.pending=!0,this.delay=r,this.id=(o=this.id)!==null&&o!==void 0?o:this.requestAsyncId(s,this.id,r),this}requestAsyncId(e,r,o=0){return Se.setInterval(e.flush.bind(e,this),o)}recycleAsyncId(e,r,o=0){if(o!=null&&this.delay===o&&this.pending===!1)return r;r!=null&&Se.clearInterval(r)}execute(e,r){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;let o=this._execute(e,r);if(o)return o;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,r){let o=!1,n;try{this.work(e)}catch(s){o=!0,n=s||new Error("Scheduled action threw falsy error")}if(o)return this.unsubscribe(),n}unsubscribe(){if(!this.closed){let{id:e,scheduler:r}=this,{actions:o}=r;this.work=this.state=this.scheduler=null,this.pending=!1,W(o,this),e!=null&&(this.id=this.recycleAsyncId(r,e,null)),this.delay=null,super.unsubscribe()}}};var ae=class t{constructor(e,r=t.now){this.schedulerActionCtor=e,this.now=r}schedule(e,r=0,o){return new this.schedulerActionCtor(this,e).schedule(o,r)}};ae.now=Ut.now;var $e=class extends ae{constructor(e,r=ae.now){super(e,r),this.actions=[],this._active=!1}flush(e){let{actions:r}=this;if(this._active){r.push(e);return}let o;this._active=!0;do if(o=e.execute(e.state,e.delay))break;while(e=r.shift());if(this._active=!1,o){for(;e=r.shift();)e.unsubscribe();throw o}}};var jr=new $e(Ke);function vt(t,e=jr){return kr((r,o)=>{let n=null,s=null,i=null,l=()=>{if(n){n.unsubscribe(),n=null;let c=s;s=null,o.next(c)}};function p(){let c=i+t,u=e.now();if(u<c){n=this.schedule(void 0,c-u),o.add(n);return}l()}r.subscribe(Br(o,c=>{s=c,i=e.now(),n||(n=e.schedule(p,t),o.add(n))},()=>{l(),o.complete()},void 0,()=>{s=n=null}))})}var Ge=/[.@ \/\\]/g;var Xe={email:"qtodo",userGroup:"local",alias:"local"};var hn=(s=>(s[s.SYNC=0]="SYNC",s[s.INIT=1]="INIT",s[s.MERGE=2]="MERGE",s[s.REFRESH=3]="REFRESH",s[s.FORCE=4]="FORCE",s))(hn||{}),$=new Ar,Qe=null,T=null,Mr=null;$.interceptors.request.use(async t=>{if(!T)return t;if(T.token!=""&&wn(T?.token)&&!(t.url?.includes("/user/refresh")||t.url?.includes("/user/logout"))){let e=await $.get("/user/refresh");e.status==200&&(T.token=e.data.accessToken)}return(t.url==="/item/save"||t.url==="/item/update")&&t.data.itemList.forEach(e=>{e.userDefined&&e.userDefined.formControlSchema.fields?.forEach(r=>{if(e.userDefined?.data&&(r.type=="image"||r.type=="file"||r.type=="iframe")){let o=e.uuid+"_"+e.subject.replaceAll(Ge,"_")+"_"+e.userDefined?.tag.name+"_"+r.name.replaceAll(Ge,"_"),n=e.userDefined.data[r.name]||"";e.userDefined.data[r.name]="/item/doc/"+T?.userGroup+"/"+T?.email.replaceAll(Ge,"_")+"/"+o;let l=n?.split(";")?.[0]?.split(":")?.[1]??"application/octet-stream";gn(n,o,l,o).then(p=>{}).catch(()=>{(e.userDefined?.data)[r.name]=n})}})}),t.headers.Authorization="Bearer "+T.token,t.data instanceof FormData||(t.data=JSON.stringify(t.data)),t.headers["Content-Type"]||(t.headers["Content-Type"]="application/json"),t.url=(Mr||"")+t.url,t.withCredentials=!0,t},function(t){return console.error(t),Promise.reject(t)});$.interceptors.response.use(t=>(t.data&&(t.data=JSON.parse(t.data)),t));self.onmessage=t=>{let{op:e}=t.data;switch(e){case 1:xn(t.data);break;case 2:yn(t.data);break}};function xn(t){T=t.user,Mr=t.backendUrl,bn().then(e=>{console.log("SYNC start",Date.now()),zr().then(r=>{!T||T?.email==Xe.email&&T?.userGroup==Xe.userGroup||$.post("/item/getdiff",r).then(o=>{o.status==200&&Hr(o.data)}).catch(o=>{throw console.error(o),o})})})}function Hr(t){if(!t)return;let e=t.itemsForAdd,r=t.itemsForUpdate,o=t.itemsForDelete,n=t.itemsForSync,s=new ge(!1),i=[];n.forEach(l=>{En(l.uuid).then(p=>{i.push(p),s.next(!0)})}),n.length==0&&(e.length>0||r.length>0||o.length>0)&&s.next(!0),s.pipe(vt(100)).subscribe(l=>{if(l){i.length>0&&($.patch("/item/update",{itemList:i}),i=[]);let p=It(e),c=It(r),u=It(o);console.log("SYNC merge",Date.now()),self.postMessage({op:2,itemsForAdd:p,itemsForUpdate:c,itemsForDelete:u},{transfer:[p,c,u]})}})}function It(t){let e=JSON.stringify(t);return new TextEncoder().encode(e).buffer}function bn(){return new Promise((t,e)=>{T=T||Xe;let r=indexedDB.open("todo_items_db/"+T.userGroup+"/"+T.email,1);r.onsuccess=o=>{Qe=o.target.result,Qe.onerror=n=>{throw n.srcElement.error},t(Qe)},r.onerror=e})}function yn(t){console.log("merging sync"),zr(1).then(e=>{$.post("/item/getdiff",e).then(r=>{Hr(r.data)})})}function qr(t,e){return new Promise((r,o)=>{let n=Wr(t).openCursor(null,"prev"),s=[];n.onsuccess=i=>{let l=i.target.result;l?(s.push({uuid:l.value.uuid,updationTimestamp:l.value.updationTimestamp,version:l.value.version}),e===-1||s.length<e?l.continue():r(s)):r(s)},n.onerror=o})}function zr(t=-1){return new Promise((e,r)=>{let o=[],n=[];qr("todo_items",t).then(s=>{o=s;let i=t!=-1;qr("deleted_todo_items",t).then(l=>{n=l,e({partial:i,mergeItems:o,deleteItems:n})})})})}function wn(t){if(!t)return null;try{let e=t.split(".")[1],r=0;if(e){let o=atob(e);r=JSON.parse(o).exp*1e3}return r<Date.now()}catch(e){return console.error("Failed to decode token:",e),null}}function En(t,e=!1){return new Promise((r,o)=>{let i=Wr(e?"deleted_todo_items":"todo_items").index("uuidIndex").get(t);i.onsuccess=l=>{let p=l.target.result;r(p)},i.onerror=o})}function Wr(t){return Qe.transaction(t,"readonly").objectStore(t)}function gn(t,e,r,o){return new Promise((n,s)=>{let i=new FormData;i.append("file",Sn(t)),i.append("fileType",r),i.append("fileInfo",o),i.append("fileName",e),$.post("/item/save/document",i,{headers:{"Content-Type":"multipart/form-data"}}).then(l=>{n(l.data.body)})})}function Sn(t){let e=t.split(","),r=(e[0].match(/:(.*?);/)||[void 0,void 0])[1],o=atob(e[1]),n=o.length,s=new Uint8Array(n);for(;n--;)s[n]=o.charCodeAt(n);return new Blob([s],{type:r})}export{hn as SYNC_OP};
