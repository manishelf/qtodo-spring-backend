var DM=Object.create;var Bc=Object.defineProperty,SM=Object.defineProperties,TM=Object.getOwnPropertyDescriptor,xM=Object.getOwnPropertyDescriptors,MM=Object.getOwnPropertyNames,jc=Object.getOwnPropertySymbols,AM=Object.getPrototypeOf,ep=Object.prototype.hasOwnProperty,K_=Object.prototype.propertyIsEnumerable;var Wo=(n,e)=>(e=Symbol[n])?e:Symbol.for("Symbol."+n),RM=n=>{throw TypeError(n)};var Q_=(n,e,t)=>e in n?Bc(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,T=(n,e)=>{for(var t in e||={})ep.call(e,t)&&Q_(n,t,e[t]);if(jc)for(var t of jc(e))K_.call(e,t)&&Q_(n,t,e[t]);return n},X=(n,e)=>SM(n,xM(e));var tp=(n,e)=>{var t={};for(var r in n)ep.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&jc)for(var r of jc(n))e.indexOf(r)<0&&K_.call(n,r)&&(t[r]=n[r]);return t};var oe=(n,e)=>()=>(e||n((e={exports:{}}).exports,e),e.exports),OM=(n,e)=>{for(var t in e)Bc(n,t,{get:e[t],enumerable:!0})},kM=(n,e,t,r)=>{if(e&&typeof e=="object"||typeof e=="function")for(let i of MM(e))!ep.call(n,i)&&i!==t&&Bc(n,i,{get:()=>e[i],enumerable:!(r=TM(e,i))||r.enumerable});return n};var NM=(n,e,t)=>(t=n!=null?DM(AM(n)):{},kM(e||!n||!n.__esModule?Bc(t,"default",{value:n,enumerable:!0}):t,n));var _e=(n,e,t)=>new Promise((r,i)=>{var o=l=>{try{a(t.next(l))}catch(c){i(c)}},s=l=>{try{a(t.throw(l))}catch(c){i(c)}},a=l=>l.done?r(l.value):Promise.resolve(l.value).then(o,s);a((t=t.apply(n,e)).next())}),qi=function(n,e){this[0]=n,this[1]=e},np=(n,e,t)=>{var r=(s,a,l,c)=>{try{var u=t[s](a),d=(a=u.value)instanceof qi,p=u.done;Promise.resolve(d?a[0]:a).then(f=>d?r(s==="return"?s:"next",a[1]?{done:f.done,value:f.value}:f,l,c):l({value:f,done:p})).catch(f=>r("throw",f,l,c))}catch(f){c(f)}},i=s=>o[s]=a=>new Promise((l,c)=>r(s,a,l,c)),o={};return t=t.apply(n,e),o[Wo("asyncIterator")]=()=>o,i("next"),i("throw"),i("return"),o},rp=n=>{var e=n[Wo("asyncIterator")],t=!1,r,i={};return e==null?(e=n[Wo("iterator")](),r=o=>i[o]=s=>e[o](s)):(e=e.call(n),r=o=>i[o]=s=>{if(t){if(t=!1,o==="throw")throw s;return s}return t=!0,{done:!1,value:new qi(new Promise(a=>{var l=e[o](s);l instanceof Object||RM("Object expected"),a(l)}),1)}}),i[Wo("iterator")]=()=>i,r("next"),"throw"in e?r("throw"):i.throw=o=>{throw o},"return"in e&&r("return"),i},X_=(n,e,t)=>(e=n[Wo("asyncIterator")])?e.call(n):(n=n[Wo("iterator")](),e={},t=(r,i)=>(i=n[r])&&(e[r]=o=>new Promise((s,a,l)=>(o=i.call(n,o),l=o.done,Promise.resolve(o.value).then(c=>s({value:c,done:l}),a)))),t("next"),t("return"),e);var Qy=oe((Uee,sT)=>{"use strict";sT.exports=tB;function tB(n,e){for(var t=new Array(arguments.length-1),r=0,i=2,o=!0;i<arguments.length;)t[r++]=arguments[i++];return new Promise(function(a,l){t[r]=function(u){if(o)if(o=!1,u)l(u);else{for(var d=new Array(arguments.length-1),p=0;p<d.length;)d[p++]=arguments[p];a.apply(null,d)}};try{n.apply(e||null,t)}catch(c){o&&(o=!1,l(c))}})}});var uT=oe(cT=>{"use strict";var ih=cT;ih.length=function(e){var t=e.length;if(!t)return 0;for(var r=0;--t%4>1&&e.charAt(t)==="=";)++r;return Math.ceil(e.length*3)/4-r};var ha=new Array(64),lT=new Array(123);for(tr=0;tr<64;)lT[ha[tr]=tr<26?tr+65:tr<52?tr+71:tr<62?tr-4:tr-59|43]=tr++;var tr;ih.encode=function(e,t,r){for(var i=null,o=[],s=0,a=0,l;t<r;){var c=e[t++];switch(a){case 0:o[s++]=ha[c>>2],l=(c&3)<<4,a=1;break;case 1:o[s++]=ha[l|c>>4],l=(c&15)<<2,a=2;break;case 2:o[s++]=ha[l|c>>6],o[s++]=ha[c&63],a=0;break}s>8191&&((i||(i=[])).push(String.fromCharCode.apply(String,o)),s=0)}return a&&(o[s++]=ha[l],o[s++]=61,a===1&&(o[s++]=61)),i?(s&&i.push(String.fromCharCode.apply(String,o.slice(0,s))),i.join("")):String.fromCharCode.apply(String,o.slice(0,s))};var aT="invalid encoding";ih.decode=function(e,t,r){for(var i=r,o=0,s,a=0;a<e.length;){var l=e.charCodeAt(a++);if(l===61&&o>1)break;if((l=lT[l])===void 0)throw Error(aT);switch(o){case 0:s=l,o=1;break;case 1:t[r++]=s<<2|(l&48)>>4,s=l,o=2;break;case 2:t[r++]=(s&15)<<4|(l&60)>>2,s=l,o=3;break;case 3:t[r++]=(s&3)<<6|l,o=0;break}}if(o===1)throw Error(aT);return r-i};ih.test=function(e){return/^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/.test(e)}});var fT=oe((Hee,dT)=>{"use strict";dT.exports=oh;function oh(){this._listeners={}}oh.prototype.on=function(e,t,r){return(this._listeners[e]||(this._listeners[e]=[])).push({fn:t,ctx:r||this}),this};oh.prototype.off=function(e,t){if(e===void 0)this._listeners={};else if(t===void 0)this._listeners[e]=[];else for(var r=this._listeners[e],i=0;i<r.length;)r[i].fn===t?r.splice(i,1):++i;return this};oh.prototype.emit=function(e){var t=this._listeners[e];if(t){for(var r=[],i=1;i<arguments.length;)r.push(arguments[i++]);for(i=0;i<t.length;)t[i].fn.apply(t[i++].ctx,r)}return this}});var _T=oe((zee,yT)=>{"use strict";yT.exports=hT(hT);function hT(n){return typeof Float32Array<"u"?function(){var e=new Float32Array([-0]),t=new Uint8Array(e.buffer),r=t[3]===128;function i(l,c,u){e[0]=l,c[u]=t[0],c[u+1]=t[1],c[u+2]=t[2],c[u+3]=t[3]}function o(l,c,u){e[0]=l,c[u]=t[3],c[u+1]=t[2],c[u+2]=t[1],c[u+3]=t[0]}n.writeFloatLE=r?i:o,n.writeFloatBE=r?o:i;function s(l,c){return t[0]=l[c],t[1]=l[c+1],t[2]=l[c+2],t[3]=l[c+3],e[0]}function a(l,c){return t[3]=l[c],t[2]=l[c+1],t[1]=l[c+2],t[0]=l[c+3],e[0]}n.readFloatLE=r?s:a,n.readFloatBE=r?a:s}():function(){function e(r,i,o,s){var a=i<0?1:0;if(a&&(i=-i),i===0)r(1/i>0?0:2147483648,o,s);else if(isNaN(i))r(2143289344,o,s);else if(i>34028234663852886e22)r((a<<31|2139095040)>>>0,o,s);else if(i<11754943508222875e-54)r((a<<31|Math.round(i/1401298464324817e-60))>>>0,o,s);else{var l=Math.floor(Math.log(i)/Math.LN2),c=Math.round(i*Math.pow(2,-l)*8388608)&8388607;r((a<<31|l+127<<23|c)>>>0,o,s)}}n.writeFloatLE=e.bind(null,pT),n.writeFloatBE=e.bind(null,mT);function t(r,i,o){var s=r(i,o),a=(s>>31)*2+1,l=s>>>23&255,c=s&8388607;return l===255?c?NaN:a*(1/0):l===0?a*1401298464324817e-60*c:a*Math.pow(2,l-150)*(c+8388608)}n.readFloatLE=t.bind(null,gT),n.readFloatBE=t.bind(null,vT)}(),typeof Float64Array<"u"?function(){var e=new Float64Array([-0]),t=new Uint8Array(e.buffer),r=t[7]===128;function i(l,c,u){e[0]=l,c[u]=t[0],c[u+1]=t[1],c[u+2]=t[2],c[u+3]=t[3],c[u+4]=t[4],c[u+5]=t[5],c[u+6]=t[6],c[u+7]=t[7]}function o(l,c,u){e[0]=l,c[u]=t[7],c[u+1]=t[6],c[u+2]=t[5],c[u+3]=t[4],c[u+4]=t[3],c[u+5]=t[2],c[u+6]=t[1],c[u+7]=t[0]}n.writeDoubleLE=r?i:o,n.writeDoubleBE=r?o:i;function s(l,c){return t[0]=l[c],t[1]=l[c+1],t[2]=l[c+2],t[3]=l[c+3],t[4]=l[c+4],t[5]=l[c+5],t[6]=l[c+6],t[7]=l[c+7],e[0]}function a(l,c){return t[7]=l[c],t[6]=l[c+1],t[5]=l[c+2],t[4]=l[c+3],t[3]=l[c+4],t[2]=l[c+5],t[1]=l[c+6],t[0]=l[c+7],e[0]}n.readDoubleLE=r?s:a,n.readDoubleBE=r?a:s}():function(){function e(r,i,o,s,a,l){var c=s<0?1:0;if(c&&(s=-s),s===0)r(0,a,l+i),r(1/s>0?0:2147483648,a,l+o);else if(isNaN(s))r(0,a,l+i),r(2146959360,a,l+o);else if(s>17976931348623157e292)r(0,a,l+i),r((c<<31|2146435072)>>>0,a,l+o);else{var u;if(s<22250738585072014e-324)u=s/5e-324,r(u>>>0,a,l+i),r((c<<31|u/4294967296)>>>0,a,l+o);else{var d=Math.floor(Math.log(s)/Math.LN2);d===1024&&(d=1023),u=s*Math.pow(2,-d),r(u*4503599627370496>>>0,a,l+i),r((c<<31|d+1023<<20|u*1048576&1048575)>>>0,a,l+o)}}}n.writeDoubleLE=e.bind(null,pT,0,4),n.writeDoubleBE=e.bind(null,mT,4,0);function t(r,i,o,s,a){var l=r(s,a+i),c=r(s,a+o),u=(c>>31)*2+1,d=c>>>20&2047,p=4294967296*(c&1048575)+l;return d===2047?p?NaN:u*(1/0):d===0?u*5e-324*p:u*Math.pow(2,d-1075)*(p+4503599627370496)}n.readDoubleLE=t.bind(null,gT,0,4),n.readDoubleBE=t.bind(null,vT,4,0)}(),n}function pT(n,e,t){e[t]=n&255,e[t+1]=n>>>8&255,e[t+2]=n>>>16&255,e[t+3]=n>>>24}function mT(n,e,t){e[t]=n>>>24,e[t+1]=n>>>16&255,e[t+2]=n>>>8&255,e[t+3]=n&255}function gT(n,e){return(n[e]|n[e+1]<<8|n[e+2]<<16|n[e+3]<<24)>>>0}function vT(n,e){return(n[e]<<24|n[e+1]<<16|n[e+2]<<8|n[e+3])>>>0}});var Ky=oe((exports,module)=>{"use strict";module.exports=inquire;function inquire(moduleName){try{var mod=eval("quire".replace(/^/,"re"))(moduleName);if(mod&&(mod.length||Object.keys(mod).length))return mod}catch(n){}return null}});var wT=oe(bT=>{"use strict";var Xy=bT;Xy.length=function(e){for(var t=0,r=0,i=0;i<e.length;++i)r=e.charCodeAt(i),r<128?t+=1:r<2048?t+=2:(r&64512)===55296&&(e.charCodeAt(i+1)&64512)===56320?(++i,t+=4):t+=3;return t};Xy.read=function(e,t,r){var i=r-t;if(i<1)return"";for(var o=null,s=[],a=0,l;t<r;)l=e[t++],l<128?s[a++]=l:l>191&&l<224?s[a++]=(l&31)<<6|e[t++]&63:l>239&&l<365?(l=((l&7)<<18|(e[t++]&63)<<12|(e[t++]&63)<<6|e[t++]&63)-65536,s[a++]=55296+(l>>10),s[a++]=56320+(l&1023)):s[a++]=(l&15)<<12|(e[t++]&63)<<6|e[t++]&63,a>8191&&((o||(o=[])).push(String.fromCharCode.apply(String,s)),a=0);return o?(a&&o.push(String.fromCharCode.apply(String,s.slice(0,a))),o.join("")):String.fromCharCode.apply(String,s.slice(0,a))};Xy.write=function(e,t,r){for(var i=r,o,s,a=0;a<e.length;++a)o=e.charCodeAt(a),o<128?t[r++]=o:o<2048?(t[r++]=o>>6|192,t[r++]=o&63|128):(o&64512)===55296&&((s=e.charCodeAt(a+1))&64512)===56320?(o=65536+((o&1023)<<10)+(s&1023),++a,t[r++]=o>>18|240,t[r++]=o>>12&63|128,t[r++]=o>>6&63|128,t[r++]=o&63|128):(t[r++]=o>>12|224,t[r++]=o>>6&63|128,t[r++]=o&63|128);return r-i}});var ET=oe((qee,CT)=>{"use strict";CT.exports=nB;function nB(n,e,t){var r=t||8192,i=r>>>1,o=null,s=r;return function(l){if(l<1||l>i)return n(l);s+l>r&&(o=n(r),s=0);var c=e.call(o,s,s+=l);return s&7&&(s=(s|7)+1),c}}});var DT=oe((Wee,IT)=>{"use strict";IT.exports=It;var mc=Sr();function It(n,e){this.lo=n>>>0,this.hi=e>>>0}var Lo=It.zero=new It(0,0);Lo.toNumber=function(){return 0};Lo.zzEncode=Lo.zzDecode=function(){return this};Lo.length=function(){return 1};var rB=It.zeroHash="\0\0\0\0\0\0\0\0";It.fromNumber=function(e){if(e===0)return Lo;var t=e<0;t&&(e=-e);var r=e>>>0,i=(e-r)/4294967296>>>0;return t&&(i=~i>>>0,r=~r>>>0,++r>4294967295&&(r=0,++i>4294967295&&(i=0))),new It(r,i)};It.from=function(e){if(typeof e=="number")return It.fromNumber(e);if(mc.isString(e))if(mc.Long)e=mc.Long.fromString(e);else return It.fromNumber(parseInt(e,10));return e.low||e.high?new It(e.low>>>0,e.high>>>0):Lo};It.prototype.toNumber=function(e){if(!e&&this.hi>>>31){var t=~this.lo+1>>>0,r=~this.hi>>>0;return t||(r=r+1>>>0),-(t+r*4294967296)}return this.lo+this.hi*4294967296};It.prototype.toLong=function(e){return mc.Long?new mc.Long(this.lo|0,this.hi|0,!!e):{low:this.lo|0,high:this.hi|0,unsigned:!!e}};var Vi=String.prototype.charCodeAt;It.fromHash=function(e){return e===rB?Lo:new It((Vi.call(e,0)|Vi.call(e,1)<<8|Vi.call(e,2)<<16|Vi.call(e,3)<<24)>>>0,(Vi.call(e,4)|Vi.call(e,5)<<8|Vi.call(e,6)<<16|Vi.call(e,7)<<24)>>>0)};It.prototype.toHash=function(){return String.fromCharCode(this.lo&255,this.lo>>>8&255,this.lo>>>16&255,this.lo>>>24,this.hi&255,this.hi>>>8&255,this.hi>>>16&255,this.hi>>>24)};It.prototype.zzEncode=function(){var e=this.hi>>31;return this.hi=((this.hi<<1|this.lo>>>31)^e)>>>0,this.lo=(this.lo<<1^e)>>>0,this};It.prototype.zzDecode=function(){var e=-(this.lo&1);return this.lo=((this.lo>>>1|this.hi<<31)^e)>>>0,this.hi=(this.hi>>>1^e)>>>0,this};It.prototype.length=function(){var e=this.lo,t=(this.lo>>>28|this.hi<<4)>>>0,r=this.hi>>>24;return r===0?t===0?e<16384?e<128?1:2:e<2097152?3:4:t<16384?t<128?5:6:t<2097152?7:8:r<128?9:10}});var Sr=oe(e_=>{"use strict";var Y=e_;Y.asPromise=Qy();Y.base64=uT();Y.EventEmitter=fT();Y.float=_T();Y.inquire=Ky();Y.utf8=wT();Y.pool=ET();Y.LongBits=DT();Y.isNode=!!(typeof global<"u"&&global&&global.process&&global.process.versions&&global.process.versions.node);Y.global=Y.isNode&&global||typeof window<"u"&&window||typeof self<"u"&&self||e_;Y.emptyArray=Object.freeze?Object.freeze([]):[];Y.emptyObject=Object.freeze?Object.freeze({}):{};Y.isInteger=Number.isInteger||function(e){return typeof e=="number"&&isFinite(e)&&Math.floor(e)===e};Y.isString=function(e){return typeof e=="string"||e instanceof String};Y.isObject=function(e){return e&&typeof e=="object"};Y.isset=Y.isSet=function(e,t){var r=e[t];return r!=null&&e.hasOwnProperty(t)?typeof r!="object"||(Array.isArray(r)?r.length:Object.keys(r).length)>0:!1};Y.Buffer=function(){try{var n=Y.inquire("buffer").Buffer;return n.prototype.utf8Write?n:null}catch{return null}}();Y._Buffer_from=null;Y._Buffer_allocUnsafe=null;Y.newBuffer=function(e){return typeof e=="number"?Y.Buffer?Y._Buffer_allocUnsafe(e):new Y.Array(e):Y.Buffer?Y._Buffer_from(e):typeof Uint8Array>"u"?e:new Uint8Array(e)};Y.Array=typeof Uint8Array<"u"?Uint8Array:Array;Y.Long=Y.global.dcodeIO&&Y.global.dcodeIO.Long||Y.global.Long||Y.inquire("long");Y.key2Re=/^true|false|0|1$/;Y.key32Re=/^-?(?:0|[1-9][0-9]*)$/;Y.key64Re=/^(?:[\\x00-\\xff]{8}|-?(?:0|[1-9][0-9]*))$/;Y.longToHash=function(e){return e?Y.LongBits.from(e).toHash():Y.LongBits.zeroHash};Y.longFromHash=function(e,t){var r=Y.LongBits.fromHash(e);return Y.Long?Y.Long.fromBits(r.lo,r.hi,t):r.toNumber(!!t)};function ST(n,e,t){for(var r=Object.keys(e),i=0;i<r.length;++i)(n[r[i]]===void 0||!t)&&(n[r[i]]=e[r[i]]);return n}Y.merge=ST;Y.lcFirst=function(e){return e.charAt(0).toLowerCase()+e.substring(1)};function TT(n){function e(t,r){if(!(this instanceof e))return new e(t,r);Object.defineProperty(this,"message",{get:function(){return t}}),Error.captureStackTrace?Error.captureStackTrace(this,e):Object.defineProperty(this,"stack",{value:new Error().stack||""}),r&&ST(this,r)}return e.prototype=Object.create(Error.prototype,{constructor:{value:e,writable:!0,enumerable:!1,configurable:!0},name:{get:function(){return n},set:void 0,enumerable:!1,configurable:!0},toString:{value:function(){return this.name+": "+this.message},writable:!0,enumerable:!1,configurable:!0}}),e}Y.newError=TT;Y.ProtocolError=TT("ProtocolError");Y.oneOfGetter=function(e){for(var t={},r=0;r<e.length;++r)t[e[r]]=1;return function(){for(var i=Object.keys(this),o=i.length-1;o>-1;--o)if(t[i[o]]===1&&this[i[o]]!==void 0&&this[i[o]]!==null)return i[o]}};Y.oneOfSetter=function(e){return function(t){for(var r=0;r<e.length;++r)e[r]!==t&&delete this[e[r]]}};Y.toJSONOptions={longs:String,enums:String,bytes:String,json:!0};Y._configure=function(){var n=Y.Buffer;if(!n){Y._Buffer_from=Y._Buffer_allocUnsafe=null;return}Y._Buffer_from=n.from!==Uint8Array.from&&n.from||function(t,r){return new n(t,r)},Y._Buffer_allocUnsafe=n.allocUnsafe||function(t){return new n(t)}}});var ah=oe((Yee,RT)=>{"use strict";RT.exports=Te;var On=Sr(),t_,sh=On.LongBits,xT=On.base64,MT=On.utf8;function gc(n,e,t){this.fn=n,this.len=e,this.next=void 0,this.val=t}function r_(){}function iB(n){this.head=n.head,this.tail=n.tail,this.len=n.len,this.next=n.states}function Te(){this.len=0,this.head=new gc(r_,0,0),this.tail=this.head,this.states=null}var AT=function(){return On.Buffer?function(){return(Te.create=function(){return new t_})()}:function(){return new Te}};Te.create=AT();Te.alloc=function(e){return new On.Array(e)};On.Array!==Array&&(Te.alloc=On.pool(Te.alloc,On.Array.prototype.subarray));Te.prototype._push=function(e,t,r){return this.tail=this.tail.next=new gc(e,t,r),this.len+=t,this};function i_(n,e,t){e[t]=n&255}function oB(n,e,t){for(;n>127;)e[t++]=n&127|128,n>>>=7;e[t]=n}function o_(n,e){this.len=n,this.next=void 0,this.val=e}o_.prototype=Object.create(gc.prototype);o_.prototype.fn=oB;Te.prototype.uint32=function(e){return this.len+=(this.tail=this.tail.next=new o_((e=e>>>0)<128?1:e<16384?2:e<2097152?3:e<268435456?4:5,e)).len,this};Te.prototype.int32=function(e){return e<0?this._push(s_,10,sh.fromNumber(e)):this.uint32(e)};Te.prototype.sint32=function(e){return this.uint32((e<<1^e>>31)>>>0)};function s_(n,e,t){for(;n.hi;)e[t++]=n.lo&127|128,n.lo=(n.lo>>>7|n.hi<<25)>>>0,n.hi>>>=7;for(;n.lo>127;)e[t++]=n.lo&127|128,n.lo=n.lo>>>7;e[t++]=n.lo}Te.prototype.uint64=function(e){var t=sh.from(e);return this._push(s_,t.length(),t)};Te.prototype.int64=Te.prototype.uint64;Te.prototype.sint64=function(e){var t=sh.from(e).zzEncode();return this._push(s_,t.length(),t)};Te.prototype.bool=function(e){return this._push(i_,1,e?1:0)};function n_(n,e,t){e[t]=n&255,e[t+1]=n>>>8&255,e[t+2]=n>>>16&255,e[t+3]=n>>>24}Te.prototype.fixed32=function(e){return this._push(n_,4,e>>>0)};Te.prototype.sfixed32=Te.prototype.fixed32;Te.prototype.fixed64=function(e){var t=sh.from(e);return this._push(n_,4,t.lo)._push(n_,4,t.hi)};Te.prototype.sfixed64=Te.prototype.fixed64;Te.prototype.float=function(e){return this._push(On.float.writeFloatLE,4,e)};Te.prototype.double=function(e){return this._push(On.float.writeDoubleLE,8,e)};var sB=On.Array.prototype.set?function(e,t,r){t.set(e,r)}:function(e,t,r){for(var i=0;i<e.length;++i)t[r+i]=e[i]};Te.prototype.bytes=function(e){var t=e.length>>>0;if(!t)return this._push(i_,1,0);if(On.isString(e)){var r=Te.alloc(t=xT.length(e));xT.decode(e,r,0),e=r}return this.uint32(t)._push(sB,t,e)};Te.prototype.string=function(e){var t=MT.length(e);return t?this.uint32(t)._push(MT.write,t,e):this._push(i_,1,0)};Te.prototype.fork=function(){return this.states=new iB(this),this.head=this.tail=new gc(r_,0,0),this.len=0,this};Te.prototype.reset=function(){return this.states?(this.head=this.states.head,this.tail=this.states.tail,this.len=this.states.len,this.states=this.states.next):(this.head=this.tail=new gc(r_,0,0),this.len=0),this};Te.prototype.ldelim=function(){var e=this.head,t=this.tail,r=this.len;return this.reset().uint32(r),r&&(this.tail.next=e.next,this.tail=t,this.len+=r),this};Te.prototype.finish=function(){for(var e=this.head.next,t=this.constructor.alloc(this.len),r=0;e;)e.fn(e.val,t,r),r+=e.len,e=e.next;return t};Te._configure=function(n){t_=n,Te.create=AT(),t_._configure()}});var NT=oe((Jee,kT)=>{"use strict";kT.exports=Tr;var OT=ah();(Tr.prototype=Object.create(OT.prototype)).constructor=Tr;var ji=Sr();function Tr(){OT.call(this)}Tr._configure=function(){Tr.alloc=ji._Buffer_allocUnsafe,Tr.writeBytesBuffer=ji.Buffer&&ji.Buffer.prototype instanceof Uint8Array&&ji.Buffer.prototype.set.name==="set"?function(e,t,r){t.set(e,r)}:function(e,t,r){if(e.copy)e.copy(t,r,0,e.length);else for(var i=0;i<e.length;)t[r++]=e[i++]}};Tr.prototype.bytes=function(e){ji.isString(e)&&(e=ji._Buffer_from(e,"base64"));var t=e.length>>>0;return this.uint32(t),t&&this._push(Tr.writeBytesBuffer,t,e),this};function aB(n,e,t){n.length<40?ji.utf8.write(n,e,t):e.utf8Write?e.utf8Write(n,t):e.write(n,t)}Tr.prototype.string=function(e){var t=ji.Buffer.byteLength(e);return this.uint32(t),t&&this._push(aB,t,e),this};Tr._configure()});var ch=oe((Qee,jT)=>{"use strict";jT.exports=ut;var nr=Sr(),l_,LT=nr.LongBits,lB=nr.utf8;function rr(n,e){return RangeError("index out of range: "+n.pos+" + "+(e||1)+" > "+n.len)}function ut(n){this.buf=n,this.pos=0,this.len=n.length}var FT=typeof Uint8Array<"u"?function(e){if(e instanceof Uint8Array||Array.isArray(e))return new ut(e);throw Error("illegal buffer")}:function(e){if(Array.isArray(e))return new ut(e);throw Error("illegal buffer")},VT=function(){return nr.Buffer?function(t){return(ut.create=function(i){return nr.Buffer.isBuffer(i)?new l_(i):FT(i)})(t)}:FT};ut.create=VT();ut.prototype._slice=nr.Array.prototype.subarray||nr.Array.prototype.slice;ut.prototype.uint32=function(){var e=4294967295;return function(){if(e=(this.buf[this.pos]&127)>>>0,this.buf[this.pos++]<128||(e=(e|(this.buf[this.pos]&127)<<7)>>>0,this.buf[this.pos++]<128)||(e=(e|(this.buf[this.pos]&127)<<14)>>>0,this.buf[this.pos++]<128)||(e=(e|(this.buf[this.pos]&127)<<21)>>>0,this.buf[this.pos++]<128)||(e=(e|(this.buf[this.pos]&15)<<28)>>>0,this.buf[this.pos++]<128))return e;if((this.pos+=5)>this.len)throw this.pos=this.len,rr(this,10);return e}}();ut.prototype.int32=function(){return this.uint32()|0};ut.prototype.sint32=function(){var e=this.uint32();return e>>>1^-(e&1)|0};function a_(){var n=new LT(0,0),e=0;if(this.len-this.pos>4){for(;e<4;++e)if(n.lo=(n.lo|(this.buf[this.pos]&127)<<e*7)>>>0,this.buf[this.pos++]<128)return n;if(n.lo=(n.lo|(this.buf[this.pos]&127)<<28)>>>0,n.hi=(n.hi|(this.buf[this.pos]&127)>>4)>>>0,this.buf[this.pos++]<128)return n;e=0}else{for(;e<3;++e){if(this.pos>=this.len)throw rr(this);if(n.lo=(n.lo|(this.buf[this.pos]&127)<<e*7)>>>0,this.buf[this.pos++]<128)return n}return n.lo=(n.lo|(this.buf[this.pos++]&127)<<e*7)>>>0,n}if(this.len-this.pos>4){for(;e<5;++e)if(n.hi=(n.hi|(this.buf[this.pos]&127)<<e*7+3)>>>0,this.buf[this.pos++]<128)return n}else for(;e<5;++e){if(this.pos>=this.len)throw rr(this);if(n.hi=(n.hi|(this.buf[this.pos]&127)<<e*7+3)>>>0,this.buf[this.pos++]<128)return n}throw Error("invalid varint encoding")}ut.prototype.bool=function(){return this.uint32()!==0};function lh(n,e){return(n[e-4]|n[e-3]<<8|n[e-2]<<16|n[e-1]<<24)>>>0}ut.prototype.fixed32=function(){if(this.pos+4>this.len)throw rr(this,4);return lh(this.buf,this.pos+=4)};ut.prototype.sfixed32=function(){if(this.pos+4>this.len)throw rr(this,4);return lh(this.buf,this.pos+=4)|0};function PT(){if(this.pos+8>this.len)throw rr(this,8);return new LT(lh(this.buf,this.pos+=4),lh(this.buf,this.pos+=4))}ut.prototype.float=function(){if(this.pos+4>this.len)throw rr(this,4);var e=nr.float.readFloatLE(this.buf,this.pos);return this.pos+=4,e};ut.prototype.double=function(){if(this.pos+8>this.len)throw rr(this,4);var e=nr.float.readDoubleLE(this.buf,this.pos);return this.pos+=8,e};ut.prototype.bytes=function(){var e=this.uint32(),t=this.pos,r=this.pos+e;if(r>this.len)throw rr(this,e);if(this.pos+=e,Array.isArray(this.buf))return this.buf.slice(t,r);if(t===r){var i=nr.Buffer;return i?i.alloc(0):new this.buf.constructor(0)}return this._slice.call(this.buf,t,r)};ut.prototype.string=function(){var e=this.bytes();return lB.read(e,0,e.length)};ut.prototype.skip=function(e){if(typeof e=="number"){if(this.pos+e>this.len)throw rr(this,e);this.pos+=e}else do if(this.pos>=this.len)throw rr(this);while(this.buf[this.pos++]&128);return this};ut.prototype.skipType=function(n){switch(n){case 0:this.skip();break;case 1:this.skip(8);break;case 2:this.skip(this.uint32());break;case 3:for(;(n=this.uint32()&7)!==4;)this.skipType(n);break;case 5:this.skip(4);break;default:throw Error("invalid wire type "+n+" at offset "+this.pos)}return this};ut._configure=function(n){l_=n,ut.create=VT(),l_._configure();var e=nr.Long?"toLong":"toNumber";nr.merge(ut.prototype,{int64:function(){return a_.call(this)[e](!1)},uint64:function(){return a_.call(this)[e](!0)},sint64:function(){return a_.call(this).zzDecode()[e](!1)},fixed64:function(){return PT.call(this)[e](!0)},sfixed64:function(){return PT.call(this)[e](!1)}})}});var HT=oe((Kee,$T)=>{"use strict";$T.exports=Vo;var UT=ch();(Vo.prototype=Object.create(UT.prototype)).constructor=Vo;var BT=Sr();function Vo(n){UT.call(this,n)}Vo._configure=function(){BT.Buffer&&(Vo.prototype._slice=BT.Buffer.prototype.slice)};Vo.prototype.string=function(){var e=this.uint32();return this.buf.utf8Slice?this.buf.utf8Slice(this.pos,this.pos=Math.min(this.pos+e,this.len)):this.buf.toString("utf-8",this.pos,this.pos=Math.min(this.pos+e,this.len))};Vo._configure()});var GT=oe((Xee,zT)=>{"use strict";zT.exports=vc;var c_=Sr();(vc.prototype=Object.create(c_.EventEmitter.prototype)).constructor=vc;function vc(n,e,t){if(typeof n!="function")throw TypeError("rpcImpl must be a function");c_.EventEmitter.call(this),this.rpcImpl=n,this.requestDelimited=!!e,this.responseDelimited=!!t}vc.prototype.rpcCall=function n(e,t,r,i,o){if(!i)throw TypeError("request must be specified");var s=this;if(!o)return c_.asPromise(n,s,e,t,r,i);if(!s.rpcImpl){setTimeout(function(){o(Error("already ended"))},0);return}try{return s.rpcImpl(e,t[s.requestDelimited?"encodeDelimited":"encode"](i).finish(),function(l,c){if(l)return s.emit("error",l,e),o(l);if(c===null){s.end(!0);return}if(!(c instanceof r))try{c=r[s.responseDelimited?"decodeDelimited":"decode"](c)}catch(u){return s.emit("error",u,e),o(u)}return s.emit("data",c,e),o(null,c)})}catch(a){s.emit("error",a,e),setTimeout(function(){o(a)},0);return}};vc.prototype.end=function(e){return this.rpcImpl&&(e||this.rpcImpl(null,null,null),this.rpcImpl=null,this.emit("end").off()),this}});var u_=oe(qT=>{"use strict";var cB=qT;cB.Service=GT()});var d_=oe((tte,WT)=>{"use strict";WT.exports={}});var JT=oe(YT=>{"use strict";var dn=YT;dn.build="minimal";dn.Writer=ah();dn.BufferWriter=NT();dn.Reader=ch();dn.BufferReader=HT();dn.util=Sr();dn.rpc=u_();dn.roots=d_();dn.configure=ZT;function ZT(){dn.util._configure(),dn.Writer._configure(dn.BufferWriter),dn.Reader._configure(dn.BufferReader)}ZT()});var KT=oe((rte,QT)=>{"use strict";QT.exports=f_;function f_(n,e){typeof n=="string"&&(e=n,n=void 0);var t=[];function r(o){if(typeof o!="string"){var s=i();if(f_.verbose&&console.log("codegen: "+s),s="return "+s,o){for(var a=Object.keys(o),l=new Array(a.length+1),c=new Array(a.length),u=0;u<a.length;)l[u]=a[u],c[u]=o[a[u++]];return l[u]=s,Function.apply(null,l).apply(null,c)}return Function(s)()}for(var d=new Array(arguments.length-1),p=0;p<d.length;)d[p]=arguments[++p];if(p=0,o=o.replace(/%([%dfijs])/g,function(h,v){var y=d[p++];switch(v){case"d":case"f":return String(Number(y));case"i":return String(Math.floor(y));case"j":return JSON.stringify(y);case"s":return String(y)}return"%"}),p!==d.length)throw Error("parameter count mismatch");return t.push(o),r}function i(o){return"function "+(o||e||"")+"("+(n&&n.join(",")||"")+`){
  `+t.join(`
  `)+`
}`}return r.toString=i,r}f_.verbose=!1});var ex=oe((ite,XT)=>{"use strict";XT.exports=yc;var uB=Qy(),dB=Ky(),h_=dB("fs");function yc(n,e,t){return typeof e=="function"?(t=e,e={}):e||(e={}),t?!e.xhr&&h_&&h_.readFile?h_.readFile(n,function(i,o){return i&&typeof XMLHttpRequest<"u"?yc.xhr(n,e,t):i?t(i):t(null,e.binary?o:o.toString("utf8"))}):yc.xhr(n,e,t):uB(yc,this,n,e)}yc.xhr=function(e,t,r){var i=new XMLHttpRequest;i.onreadystatechange=function(){if(i.readyState===4){if(i.status!==0&&i.status!==200)return r(Error("status "+i.status));if(t.binary){var s=i.response;if(!s){s=[];for(var a=0;a<i.responseText.length;++a)s.push(i.responseText.charCodeAt(a)&255)}return r(null,typeof Uint8Array<"u"?new Uint8Array(s):s)}return r(null,i.responseText)}},t.binary&&("overrideMimeType"in i&&i.overrideMimeType("text/plain; charset=x-user-defined"),i.responseType="arraybuffer"),i.open("GET",e),i.send()}});var rx=oe(nx=>{"use strict";var m_=nx,tx=m_.isAbsolute=function(e){return/^(?:\/|\w+:)/.test(e)},p_=m_.normalize=function(e){e=e.replace(/\\/g,"/").replace(/\/{2,}/g,"/");var t=e.split("/"),r=tx(e),i="";r&&(i=t.shift()+"/");for(var o=0;o<t.length;)t[o]===".."?o>0&&t[o-1]!==".."?t.splice(--o,2):r?t.splice(o,1):++o:t[o]==="."?t.splice(o,1):++o;return i+t.join("/")};m_.resolve=function(e,t,r){return r||(t=p_(t)),tx(t)?t:(r||(e=p_(e)),(e=e.replace(/(?:\/|^)[^/]+$/,"")).length?p_(e+"/"+t):t)}});var ma=oe((ste,sx)=>{"use strict";sx.exports=Ie;var uh=Ui();((Ie.prototype=Object.create(uh.prototype)).constructor=Ie).className="Namespace";var g_=Bi(),dh=Dt(),fB=Uo(),jo,pa,Bo;Ie.fromJSON=function(e,t){return new Ie(e,t.options).addJSON(t.nested)};function ix(n,e){if(n&&n.length){for(var t={},r=0;r<n.length;++r)t[n[r].name]=n[r].toJSON(e);return t}}Ie.arrayToJSON=ix;Ie.isReservedId=function(e,t){if(e){for(var r=0;r<e.length;++r)if(typeof e[r]!="string"&&e[r][0]<=t&&e[r][1]>t)return!0}return!1};Ie.isReservedName=function(e,t){if(e){for(var r=0;r<e.length;++r)if(e[r]===t)return!0}return!1};function Ie(n,e){uh.call(this,n,e),this.nested=void 0,this._nestedArray=null,this._lookupCache={},this._needsRecursiveFeatureResolution=!0,this._needsRecursiveResolve=!0}function ox(n){n._nestedArray=null,n._lookupCache={};for(var e=n;e=e.parent;)e._lookupCache={};return n}Object.defineProperty(Ie.prototype,"nestedArray",{get:function(){return this._nestedArray||(this._nestedArray=dh.toArray(this.nested))}});Ie.prototype.toJSON=function(e){return dh.toObject(["options",this.options,"nested",ix(this.nestedArray,e)])};Ie.prototype.addJSON=function(e){var t=this;if(e)for(var r=Object.keys(e),i=0,o;i<r.length;++i)o=e[r[i]],t.add((o.fields!==void 0?jo.fromJSON:o.values!==void 0?Bo.fromJSON:o.methods!==void 0?pa.fromJSON:o.id!==void 0?g_.fromJSON:Ie.fromJSON)(r[i],o));return this};Ie.prototype.get=function(e){return this.nested&&this.nested[e]||null};Ie.prototype.getEnum=function(e){if(this.nested&&this.nested[e]instanceof Bo)return this.nested[e].values;throw Error("no such enum: "+e)};Ie.prototype.add=function(e){if(!(e instanceof g_&&e.extend!==void 0||e instanceof jo||e instanceof fB||e instanceof Bo||e instanceof pa||e instanceof Ie))throw TypeError("object must be a valid nested object");if(!this.nested)this.nested={};else{var t=this.get(e.name);if(t)if(t instanceof Ie&&e instanceof Ie&&!(t instanceof jo||t instanceof pa)){for(var r=t.nestedArray,i=0;i<r.length;++i)e.add(r[i]);this.remove(t),this.nested||(this.nested={}),e.setOptions(t.options,!0)}else throw Error("duplicate name '"+e.name+"' in "+this)}this.nested[e.name]=e,this instanceof jo||this instanceof pa||this instanceof Bo||this instanceof g_||e._edition||(e._edition=e._defaultEdition),this._needsRecursiveFeatureResolution=!0,this._needsRecursiveResolve=!0;for(var o=this;o=o.parent;)o._needsRecursiveFeatureResolution=!0,o._needsRecursiveResolve=!0;return e.onAdd(this),ox(this)};Ie.prototype.remove=function(e){if(!(e instanceof uh))throw TypeError("object must be a ReflectionObject");if(e.parent!==this)throw Error(e+" is not a member of "+this);return delete this.nested[e.name],Object.keys(this.nested).length||(this.nested=void 0),e.onRemove(this),ox(this)};Ie.prototype.define=function(e,t){if(dh.isString(e))e=e.split(".");else if(!Array.isArray(e))throw TypeError("illegal path");if(e&&e.length&&e[0]==="")throw Error("path must be relative");for(var r=this;e.length>0;){var i=e.shift();if(r.nested&&r.nested[i]){if(r=r.nested[i],!(r instanceof Ie))throw Error("path conflicts with non-namespace objects")}else r.add(r=new Ie(i))}return t&&r.addJSON(t),r};Ie.prototype.resolveAll=function(){if(!this._needsRecursiveResolve)return this;this._resolveFeaturesRecursive(this._edition);var e=this.nestedArray,t=0;for(this.resolve();t<e.length;)e[t]instanceof Ie?e[t++].resolveAll():e[t++].resolve();return this._needsRecursiveResolve=!1,this};Ie.prototype._resolveFeaturesRecursive=function(e){return this._needsRecursiveFeatureResolution?(this._needsRecursiveFeatureResolution=!1,e=this._edition||e,uh.prototype._resolveFeaturesRecursive.call(this,e),this.nestedArray.forEach(t=>{t._resolveFeaturesRecursive(e)}),this):this};Ie.prototype.lookup=function(e,t,r){if(typeof t=="boolean"?(r=t,t=void 0):t&&!Array.isArray(t)&&(t=[t]),dh.isString(e)&&e.length){if(e===".")return this.root;e=e.split(".")}else if(!e.length)return this;var i=e.join(".");if(e[0]==="")return this.root.lookup(e.slice(1),t);var o=this.root._fullyQualifiedObjects&&this.root._fullyQualifiedObjects["."+i];if(o&&(!t||t.indexOf(o.constructor)>-1)||(o=this._lookupImpl(e,i),o&&(!t||t.indexOf(o.constructor)>-1)))return o;if(r)return null;for(var s=this;s.parent;){if(o=s.parent._lookupImpl(e,i),o&&(!t||t.indexOf(o.constructor)>-1))return o;s=s.parent}return null};Ie.prototype._lookupImpl=function(e,t){if(Object.prototype.hasOwnProperty.call(this._lookupCache,t))return this._lookupCache[t];var r=this.get(e[0]),i=null;if(r)e.length===1?i=r:r instanceof Ie&&(e=e.slice(1),i=r._lookupImpl(e,e.join(".")));else for(var o=0;o<this.nestedArray.length;++o)this._nestedArray[o]instanceof Ie&&(r=this._nestedArray[o]._lookupImpl(e,t))&&(i=r);return this._lookupCache[t]=i,i};Ie.prototype.lookupType=function(e){var t=this.lookup(e,[jo]);if(!t)throw Error("no such type: "+e);return t};Ie.prototype.lookupEnum=function(e){var t=this.lookup(e,[Bo]);if(!t)throw Error("no such Enum '"+e+"' in "+this);return t};Ie.prototype.lookupTypeOrEnum=function(e){var t=this.lookup(e,[jo,Bo]);if(!t)throw Error("no such Type or Enum '"+e+"' in "+this);return t};Ie.prototype.lookupService=function(e){var t=this.lookup(e,[pa]);if(!t)throw Error("no such Service '"+e+"' in "+this);return t};Ie._configure=function(n,e,t){jo=n,pa=e,Bo=t}});var fh=oe((ate,ax)=>{"use strict";ax.exports=ii;var v_=Bi();((ii.prototype=Object.create(v_.prototype)).constructor=ii).className="MapField";var hB=$o(),_c=Dt();function ii(n,e,t,r,i,o){if(v_.call(this,n,e,r,void 0,void 0,i,o),!_c.isString(t))throw TypeError("keyType must be a string");this.keyType=t,this.resolvedKeyType=null,this.map=!0}ii.fromJSON=function(e,t){return new ii(e,t.id,t.keyType,t.type,t.options,t.comment)};ii.prototype.toJSON=function(e){var t=e?!!e.keepComments:!1;return _c.toObject(["keyType",this.keyType,"type",this.type,"id",this.id,"extend",this.extend,"options",this.options,"comment",t?this.comment:void 0])};ii.prototype.resolve=function(){if(this.resolved)return this;if(hB.mapKey[this.keyType]===void 0)throw Error("invalid key type: "+this.keyType);return v_.prototype.resolve.call(this)};ii.d=function(e,t,r){return typeof r=="function"?r=_c.decorateType(r).name:r&&typeof r=="object"&&(r=_c.decorateEnum(r).name),function(o,s){_c.decorateType(o.constructor).add(new ii(s,e,t,r))}}});var hh=oe((lte,lx)=>{"use strict";lx.exports=Ho;var y_=Ui();((Ho.prototype=Object.create(y_.prototype)).constructor=Ho).className="Method";var ga=Dt();function Ho(n,e,t,r,i,o,s,a,l){if(ga.isObject(i)?(s=i,i=o=void 0):ga.isObject(o)&&(s=o,o=void 0),!(e===void 0||ga.isString(e)))throw TypeError("type must be a string");if(!ga.isString(t))throw TypeError("requestType must be a string");if(!ga.isString(r))throw TypeError("responseType must be a string");y_.call(this,n,s),this.type=e||"rpc",this.requestType=t,this.requestStream=i?!0:void 0,this.responseType=r,this.responseStream=o?!0:void 0,this.resolvedRequestType=null,this.resolvedResponseType=null,this.comment=a,this.parsedOptions=l}Ho.fromJSON=function(e,t){return new Ho(e,t.type,t.requestType,t.responseType,t.requestStream,t.responseStream,t.options,t.comment,t.parsedOptions)};Ho.prototype.toJSON=function(e){var t=e?!!e.keepComments:!1;return ga.toObject(["type",this.type!=="rpc"&&this.type||void 0,"requestType",this.requestType,"requestStream",this.requestStream,"responseType",this.responseType,"responseStream",this.responseStream,"options",this.options,"comment",t?this.comment:void 0,"parsedOptions",this.parsedOptions])};Ho.prototype.resolve=function(){return this.resolved?this:(this.resolvedRequestType=this.parent.lookupType(this.requestType),this.resolvedResponseType=this.parent.lookupType(this.responseType),y_.prototype.resolve.call(this))}});var ph=oe((cte,ux)=>{"use strict";ux.exports=wn;var oi=ma();((wn.prototype=Object.create(oi.prototype)).constructor=wn).className="Service";var __=hh(),bc=Dt(),pB=u_();function wn(n,e){oi.call(this,n,e),this.methods={},this._methodsArray=null}wn.fromJSON=function(e,t){var r=new wn(e,t.options);if(t.methods)for(var i=Object.keys(t.methods),o=0;o<i.length;++o)r.add(__.fromJSON(i[o],t.methods[i[o]]));return t.nested&&r.addJSON(t.nested),t.edition&&(r._edition=t.edition),r.comment=t.comment,r._defaultEdition="proto3",r};wn.prototype.toJSON=function(e){var t=oi.prototype.toJSON.call(this,e),r=e?!!e.keepComments:!1;return bc.toObject(["edition",this._editionToJSON(),"options",t&&t.options||void 0,"methods",oi.arrayToJSON(this.methodsArray,e)||{},"nested",t&&t.nested||void 0,"comment",r?this.comment:void 0])};Object.defineProperty(wn.prototype,"methodsArray",{get:function(){return this._methodsArray||(this._methodsArray=bc.toArray(this.methods))}});function cx(n){return n._methodsArray=null,n}wn.prototype.get=function(e){return this.methods[e]||oi.prototype.get.call(this,e)};wn.prototype.resolveAll=function(){if(!this._needsRecursiveResolve)return this;oi.prototype.resolve.call(this);for(var e=this.methodsArray,t=0;t<e.length;++t)e[t].resolve();return this};wn.prototype._resolveFeaturesRecursive=function(e){return this._needsRecursiveFeatureResolution?(e=this._edition||e,oi.prototype._resolveFeaturesRecursive.call(this,e),this.methodsArray.forEach(t=>{t._resolveFeaturesRecursive(e)}),this):this};wn.prototype.add=function(e){if(this.get(e.name))throw Error("duplicate name '"+e.name+"' in "+this);return e instanceof __?(this.methods[e.name]=e,e.parent=this,cx(this)):oi.prototype.add.call(this,e)};wn.prototype.remove=function(e){if(e instanceof __){if(this.methods[e.name]!==e)throw Error(e+" is not a member of "+this);return delete this.methods[e.name],e.parent=null,cx(this)}return oi.prototype.remove.call(this,e)};wn.prototype.create=function(e,t,r){for(var i=new pB.Service(e,t,r),o=0,s;o<this.methodsArray.length;++o){var a=bc.lcFirst((s=this._methodsArray[o]).resolve().name).replace(/[^$\w_]/g,"");i[a]=bc.codegen(["r","c"],bc.isReserved(a)?a+"_":a)("return this.rpcCall(m,q,s,r,c)")({m:s,q:s.resolvedRequestType.ctor,s:s.resolvedResponseType.ctor})}return i}});var mh=oe((ute,dx)=>{"use strict";dx.exports=xr;var mB=Sr();function xr(n){if(n)for(var e=Object.keys(n),t=0;t<e.length;++t)this[e[t]]=n[e[t]]}xr.create=function(e){return this.$type.create(e)};xr.encode=function(e,t){return this.$type.encode(e,t)};xr.encodeDelimited=function(e,t){return this.$type.encodeDelimited(e,t)};xr.decode=function(e){return this.$type.decode(e)};xr.decodeDelimited=function(e){return this.$type.decodeDelimited(e)};xr.verify=function(e){return this.$type.verify(e)};xr.fromObject=function(e){return this.$type.fromObject(e)};xr.toObject=function(e,t){return this.$type.toObject(e,t)};xr.prototype.toJSON=function(){return this.$type.toObject(this,mB.toJSONOptions)}});var b_=oe((dte,hx)=>{"use strict";hx.exports=yB;var gB=ir(),si=$o(),fx=Dt();function vB(n){return"missing required '"+n.name+"'"}function yB(n){for(var e=fx.codegen(["r","l","e"],n.name+"$decode")("if(!(r instanceof Reader))")("r=Reader.create(r)")("var c=l===undefined?r.len:r.pos+l,m=new this.ctor"+(n.fieldsArray.filter(function(a){return a.map}).length?",k,value":""))("while(r.pos<c){")("var t=r.uint32()")("if(t===e)")("break")("switch(t>>>3){"),t=0;t<n.fieldsArray.length;++t){var r=n._fieldsArray[t].resolve(),i=r.resolvedType instanceof gB?"int32":r.type,o="m"+fx.safeProp(r.name);e("case %i: {",r.id),r.map?(e("if(%s===util.emptyObject)",o)("%s={}",o)("var c2 = r.uint32()+r.pos"),si.defaults[r.keyType]!==void 0?e("k=%j",si.defaults[r.keyType]):e("k=null"),si.defaults[i]!==void 0?e("value=%j",si.defaults[i]):e("value=null"),e("while(r.pos<c2){")("var tag2=r.uint32()")("switch(tag2>>>3){")("case 1: k=r.%s(); break",r.keyType)("case 2:"),si.basic[i]===void 0?e("value=types[%i].decode(r,r.uint32())",t):e("value=r.%s()",i),e("break")("default:")("r.skipType(tag2&7)")("break")("}")("}"),si.long[r.keyType]!==void 0?e('%s[typeof k==="object"?util.longToHash(k):k]=value',o):e("%s[k]=value",o)):r.repeated?(e("if(!(%s&&%s.length))",o,o)("%s=[]",o),si.packed[i]!==void 0&&e("if((t&7)===2){")("var c2=r.uint32()+r.pos")("while(r.pos<c2)")("%s.push(r.%s())",o,i)("}else"),si.basic[i]===void 0?e(r.delimited?"%s.push(types[%i].decode(r,undefined,((t&~7)|4)))":"%s.push(types[%i].decode(r,r.uint32()))",o,t):e("%s.push(r.%s())",o,i)):si.basic[i]===void 0?e(r.delimited?"%s=types[%i].decode(r,undefined,((t&~7)|4))":"%s=types[%i].decode(r,r.uint32())",o,t):e("%s=r.%s()",o,i),e("break")("}")}for(e("default:")("r.skipType(t&7)")("break")("}")("}"),t=0;t<n._fieldsArray.length;++t){var s=n._fieldsArray[t];s.required&&e("if(!m.hasOwnProperty(%j))",s.name)("throw util.ProtocolError(%j,{instance:m})",vB(s))}return e("return m")}});var E_=oe((fte,px)=>{"use strict";px.exports=wB;var _B=ir(),w_=Dt();function kn(n,e){return n.name+": "+e+(n.repeated&&e!=="array"?"[]":n.map&&e!=="object"?"{k:"+n.keyType+"}":"")+" expected"}function C_(n,e,t,r){if(e.resolvedType)if(e.resolvedType instanceof _B){n("switch(%s){",r)("default:")("return%j",kn(e,"enum value"));for(var i=Object.keys(e.resolvedType.values),o=0;o<i.length;++o)n("case %i:",e.resolvedType.values[i[o]]);n("break")("}")}else n("{")("var e=types[%i].verify(%s);",t,r)("if(e)")("return%j+e",e.name+".")("}");else switch(e.type){case"int32":case"uint32":case"sint32":case"fixed32":case"sfixed32":n("if(!util.isInteger(%s))",r)("return%j",kn(e,"integer"));break;case"int64":case"uint64":case"sint64":case"fixed64":case"sfixed64":n("if(!util.isInteger(%s)&&!(%s&&util.isInteger(%s.low)&&util.isInteger(%s.high)))",r,r,r,r)("return%j",kn(e,"integer|Long"));break;case"float":case"double":n('if(typeof %s!=="number")',r)("return%j",kn(e,"number"));break;case"bool":n('if(typeof %s!=="boolean")',r)("return%j",kn(e,"boolean"));break;case"string":n("if(!util.isString(%s))",r)("return%j",kn(e,"string"));break;case"bytes":n('if(!(%s&&typeof %s.length==="number"||util.isString(%s)))',r,r,r)("return%j",kn(e,"buffer"));break}return n}function bB(n,e,t){switch(e.keyType){case"int32":case"uint32":case"sint32":case"fixed32":case"sfixed32":n("if(!util.key32Re.test(%s))",t)("return%j",kn(e,"integer key"));break;case"int64":case"uint64":case"sint64":case"fixed64":case"sfixed64":n("if(!util.key64Re.test(%s))",t)("return%j",kn(e,"integer|Long key"));break;case"bool":n("if(!util.key2Re.test(%s))",t)("return%j",kn(e,"boolean key"));break}return n}function wB(n){var e=w_.codegen(["m"],n.name+"$verify")('if(typeof m!=="object"||m===null)')("return%j","object expected"),t=n.oneofsArray,r={};t.length&&e("var p={}");for(var i=0;i<n.fieldsArray.length;++i){var o=n._fieldsArray[i].resolve(),s="m"+w_.safeProp(o.name);if(o.optional&&e("if(%s!=null&&m.hasOwnProperty(%j)){",s,o.name),o.map)e("if(!util.isObject(%s))",s)("return%j",kn(o,"object"))("var k=Object.keys(%s)",s)("for(var i=0;i<k.length;++i){"),bB(e,o,"k[i]"),C_(e,o,i,s+"[k[i]]")("}");else if(o.repeated)e("if(!Array.isArray(%s))",s)("return%j",kn(o,"array"))("for(var i=0;i<%s.length;++i){",s),C_(e,o,i,s+"[i]")("}");else{if(o.partOf){var a=w_.safeProp(o.partOf.name);r[o.partOf.name]===1&&e("if(p%s===1)",a)("return%j",o.partOf.name+": multiple values"),r[o.partOf.name]=1,e("p%s=1",a)}C_(e,o,i,s)}o.optional&&e("}")}return e("return null")}});var S_=oe(gx=>{"use strict";var mx=gx,wc=ir(),Mr=Dt();function I_(n,e,t,r){var i=!1;if(e.resolvedType)if(e.resolvedType instanceof wc){n("switch(d%s){",r);for(var o=e.resolvedType.values,s=Object.keys(o),a=0;a<s.length;++a)o[s[a]]===e.typeDefault&&!i&&(n("default:")('if(typeof(d%s)==="number"){m%s=d%s;break}',r,r,r),e.repeated||n("break"),i=!0),n("case%j:",s[a])("case %i:",o[s[a]])("m%s=%j",r,o[s[a]])("break");n("}")}else n('if(typeof d%s!=="object")',r)("throw TypeError(%j)",e.fullName+": object expected")("m%s=types[%i].fromObject(d%s)",r,t,r);else{var l=!1;switch(e.type){case"double":case"float":n("m%s=Number(d%s)",r,r);break;case"uint32":case"fixed32":n("m%s=d%s>>>0",r,r);break;case"int32":case"sint32":case"sfixed32":n("m%s=d%s|0",r,r);break;case"uint64":l=!0;case"int64":case"sint64":case"fixed64":case"sfixed64":n("if(util.Long)")("(m%s=util.Long.fromValue(d%s)).unsigned=%j",r,r,l)('else if(typeof d%s==="string")',r)("m%s=parseInt(d%s,10)",r,r)('else if(typeof d%s==="number")',r)("m%s=d%s",r,r)('else if(typeof d%s==="object")',r)("m%s=new util.LongBits(d%s.low>>>0,d%s.high>>>0).toNumber(%s)",r,r,r,l?"true":"");break;case"bytes":n('if(typeof d%s==="string")',r)("util.base64.decode(d%s,m%s=util.newBuffer(util.base64.length(d%s)),0)",r,r,r)("else if(d%s.length >= 0)",r)("m%s=d%s",r,r);break;case"string":n("m%s=String(d%s)",r,r);break;case"bool":n("m%s=Boolean(d%s)",r,r);break}}return n}mx.fromObject=function(e){var t=e.fieldsArray,r=Mr.codegen(["d"],e.name+"$fromObject")("if(d instanceof this.ctor)")("return d");if(!t.length)return r("return new this.ctor");r("var m=new this.ctor");for(var i=0;i<t.length;++i){var o=t[i].resolve(),s=Mr.safeProp(o.name);o.map?(r("if(d%s){",s)('if(typeof d%s!=="object")',s)("throw TypeError(%j)",o.fullName+": object expected")("m%s={}",s)("for(var ks=Object.keys(d%s),i=0;i<ks.length;++i){",s),I_(r,o,i,s+"[ks[i]]")("}")("}")):o.repeated?(r("if(d%s){",s)("if(!Array.isArray(d%s))",s)("throw TypeError(%j)",o.fullName+": array expected")("m%s=[]",s)("for(var i=0;i<d%s.length;++i){",s),I_(r,o,i,s+"[i]")("}")("}")):(o.resolvedType instanceof wc||r("if(d%s!=null){",s),I_(r,o,i,s),o.resolvedType instanceof wc||r("}"))}return r("return m")};function D_(n,e,t,r){if(e.resolvedType)e.resolvedType instanceof wc?n("d%s=o.enums===String?(types[%i].values[m%s]===undefined?m%s:types[%i].values[m%s]):m%s",r,t,r,r,t,r,r):n("d%s=types[%i].toObject(m%s,o)",r,t,r);else{var i=!1;switch(e.type){case"double":case"float":n("d%s=o.json&&!isFinite(m%s)?String(m%s):m%s",r,r,r,r);break;case"uint64":i=!0;case"int64":case"sint64":case"fixed64":case"sfixed64":n('if(typeof m%s==="number")',r)("d%s=o.longs===String?String(m%s):m%s",r,r,r)("else")("d%s=o.longs===String?util.Long.prototype.toString.call(m%s):o.longs===Number?new util.LongBits(m%s.low>>>0,m%s.high>>>0).toNumber(%s):m%s",r,r,r,r,i?"true":"",r);break;case"bytes":n("d%s=o.bytes===String?util.base64.encode(m%s,0,m%s.length):o.bytes===Array?Array.prototype.slice.call(m%s):m%s",r,r,r,r,r);break;default:n("d%s=m%s",r,r);break}}return n}mx.toObject=function(e){var t=e.fieldsArray.slice().sort(Mr.compareFieldsById);if(!t.length)return Mr.codegen()("return {}");for(var r=Mr.codegen(["m","o"],e.name+"$toObject")("if(!o)")("o={}")("var d={}"),i=[],o=[],s=[],a=0;a<t.length;++a)t[a].partOf||(t[a].resolve().repeated?i:t[a].map?o:s).push(t[a]);if(i.length){for(r("if(o.arrays||o.defaults){"),a=0;a<i.length;++a)r("d%s=[]",Mr.safeProp(i[a].name));r("}")}if(o.length){for(r("if(o.objects||o.defaults){"),a=0;a<o.length;++a)r("d%s={}",Mr.safeProp(o[a].name));r("}")}if(s.length){for(r("if(o.defaults){"),a=0;a<s.length;++a){var l=s[a],c=Mr.safeProp(l.name);if(l.resolvedType instanceof wc)r("d%s=o.enums===String?%j:%j",c,l.resolvedType.valuesById[l.typeDefault],l.typeDefault);else if(l.long)r("if(util.Long){")("var n=new util.Long(%i,%i,%j)",l.typeDefault.low,l.typeDefault.high,l.typeDefault.unsigned)("d%s=o.longs===String?n.toString():o.longs===Number?n.toNumber():n",c)("}else")("d%s=o.longs===String?%j:%i",c,l.typeDefault.toString(),l.typeDefault.toNumber());else if(l.bytes){var u="["+Array.prototype.slice.call(l.typeDefault).join(",")+"]";r("if(o.bytes===String)d%s=%j",c,String.fromCharCode.apply(String,l.typeDefault))("else{")("d%s=%s",c,u)("if(o.bytes!==Array)d%s=util.newBuffer(d%s)",c,c)("}")}else r("d%s=%j",c,l.typeDefault)}r("}")}var d=!1;for(a=0;a<t.length;++a){var l=t[a],p=e._fieldsArray.indexOf(l),c=Mr.safeProp(l.name);l.map?(d||(d=!0,r("var ks2")),r("if(m%s&&(ks2=Object.keys(m%s)).length){",c,c)("d%s={}",c)("for(var j=0;j<ks2.length;++j){"),D_(r,l,p,c+"[ks2[j]]")("}")):l.repeated?(r("if(m%s&&m%s.length){",c,c)("d%s=[]",c)("for(var j=0;j<m%s.length;++j){",c),D_(r,l,p,c+"[j]")("}")):(r("if(m%s!=null&&m.hasOwnProperty(%j)){",c,l.name),D_(r,l,p,c),l.partOf&&r("if(o.oneofs)")("d%s=%j",Mr.safeProp(l.partOf.name),l.name)),r("}")}return r("return d")}});var T_=oe(vx=>{"use strict";var CB=vx,EB=mh();CB[".google.protobuf.Any"]={fromObject:function(n){if(n&&n["@type"]){var e=n["@type"].substring(n["@type"].lastIndexOf("/")+1),t=this.lookup(e);if(t){var r=n["@type"].charAt(0)==="."?n["@type"].slice(1):n["@type"];return r.indexOf("/")===-1&&(r="/"+r),this.create({type_url:r,value:t.encode(t.fromObject(n)).finish()})}}return this.fromObject(n)},toObject:function(n,e){var t="type.googleapis.com/",r="",i="";if(e&&e.json&&n.type_url&&n.value){i=n.type_url.substring(n.type_url.lastIndexOf("/")+1),r=n.type_url.substring(0,n.type_url.lastIndexOf("/")+1);var o=this.lookup(i);o&&(n=o.decode(n.value))}if(!(n instanceof this.ctor)&&n instanceof EB){var s=n.$type.toObject(n,e),a=n.$type.fullName[0]==="."?n.$type.fullName.slice(1):n.$type.fullName;return r===""&&(r=t),i=r+a,s["@type"]=i,s}return this.toObject(n,e)}}});var yh=oe((mte,_x)=>{"use strict";_x.exports=qe;var Nn=ma();((qe.prototype=Object.create(Nn.prototype)).constructor=qe).className="Type";var IB=ir(),A_=Uo(),gh=Bi(),DB=fh(),SB=ph(),x_=mh(),M_=ch(),TB=ah(),$t=Dt(),xB=R_(),MB=b_(),AB=E_(),yx=S_(),RB=T_();function qe(n,e){Nn.call(this,n,e),this.fields={},this.oneofs=void 0,this.extensions=void 0,this.reserved=void 0,this.group=void 0,this._fieldsById=null,this._fieldsArray=null,this._oneofsArray=null,this._ctor=null}Object.defineProperties(qe.prototype,{fieldsById:{get:function(){if(this._fieldsById)return this._fieldsById;this._fieldsById={};for(var n=Object.keys(this.fields),e=0;e<n.length;++e){var t=this.fields[n[e]],r=t.id;if(this._fieldsById[r])throw Error("duplicate id "+r+" in "+this);this._fieldsById[r]=t}return this._fieldsById}},fieldsArray:{get:function(){return this._fieldsArray||(this._fieldsArray=$t.toArray(this.fields))}},oneofsArray:{get:function(){return this._oneofsArray||(this._oneofsArray=$t.toArray(this.oneofs))}},ctor:{get:function(){return this._ctor||(this.ctor=qe.generateConstructor(this)())},set:function(n){var e=n.prototype;e instanceof x_||((n.prototype=new x_).constructor=n,$t.merge(n.prototype,e)),n.$type=n.prototype.$type=this,$t.merge(n,x_,!0),this._ctor=n;for(var t=0;t<this.fieldsArray.length;++t)this._fieldsArray[t].resolve();var r={};for(t=0;t<this.oneofsArray.length;++t)r[this._oneofsArray[t].resolve().name]={get:$t.oneOfGetter(this._oneofsArray[t].oneof),set:$t.oneOfSetter(this._oneofsArray[t].oneof)};t&&Object.defineProperties(n.prototype,r)}}});qe.generateConstructor=function(e){for(var t=$t.codegen(["p"],e.name),r=0,i;r<e.fieldsArray.length;++r)(i=e._fieldsArray[r]).map?t("this%s={}",$t.safeProp(i.name)):i.repeated&&t("this%s=[]",$t.safeProp(i.name));return t("if(p)for(var ks=Object.keys(p),i=0;i<ks.length;++i)if(p[ks[i]]!=null)")("this[ks[i]]=p[ks[i]]")};function vh(n){return n._fieldsById=n._fieldsArray=n._oneofsArray=null,delete n.encode,delete n.decode,delete n.verify,n}qe.fromJSON=function(e,t){var r=new qe(e,t.options);r.extensions=t.extensions,r.reserved=t.reserved;for(var i=Object.keys(t.fields),o=0;o<i.length;++o)r.add((typeof t.fields[i[o]].keyType<"u"?DB.fromJSON:gh.fromJSON)(i[o],t.fields[i[o]]));if(t.oneofs)for(i=Object.keys(t.oneofs),o=0;o<i.length;++o)r.add(A_.fromJSON(i[o],t.oneofs[i[o]]));if(t.nested)for(i=Object.keys(t.nested),o=0;o<i.length;++o){var s=t.nested[i[o]];r.add((s.id!==void 0?gh.fromJSON:s.fields!==void 0?qe.fromJSON:s.values!==void 0?IB.fromJSON:s.methods!==void 0?SB.fromJSON:Nn.fromJSON)(i[o],s))}return t.extensions&&t.extensions.length&&(r.extensions=t.extensions),t.reserved&&t.reserved.length&&(r.reserved=t.reserved),t.group&&(r.group=!0),t.comment&&(r.comment=t.comment),t.edition&&(r._edition=t.edition),r._defaultEdition="proto3",r};qe.prototype.toJSON=function(e){var t=Nn.prototype.toJSON.call(this,e),r=e?!!e.keepComments:!1;return $t.toObject(["edition",this._editionToJSON(),"options",t&&t.options||void 0,"oneofs",Nn.arrayToJSON(this.oneofsArray,e),"fields",Nn.arrayToJSON(this.fieldsArray.filter(function(i){return!i.declaringField}),e)||{},"extensions",this.extensions&&this.extensions.length?this.extensions:void 0,"reserved",this.reserved&&this.reserved.length?this.reserved:void 0,"group",this.group||void 0,"nested",t&&t.nested||void 0,"comment",r?this.comment:void 0])};qe.prototype.resolveAll=function(){if(!this._needsRecursiveResolve)return this;Nn.prototype.resolveAll.call(this);var e=this.oneofsArray;for(r=0;r<e.length;)e[r++].resolve();for(var t=this.fieldsArray,r=0;r<t.length;)t[r++].resolve();return this};qe.prototype._resolveFeaturesRecursive=function(e){return this._needsRecursiveFeatureResolution?(e=this._edition||e,Nn.prototype._resolveFeaturesRecursive.call(this,e),this.oneofsArray.forEach(t=>{t._resolveFeatures(e)}),this.fieldsArray.forEach(t=>{t._resolveFeatures(e)}),this):this};qe.prototype.get=function(e){return this.fields[e]||this.oneofs&&this.oneofs[e]||this.nested&&this.nested[e]||null};qe.prototype.add=function(e){if(this.get(e.name))throw Error("duplicate name '"+e.name+"' in "+this);if(e instanceof gh&&e.extend===void 0){if(this._fieldsById?this._fieldsById[e.id]:this.fieldsById[e.id])throw Error("duplicate id "+e.id+" in "+this);if(this.isReservedId(e.id))throw Error("id "+e.id+" is reserved in "+this);if(this.isReservedName(e.name))throw Error("name '"+e.name+"' is reserved in "+this);return e.parent&&e.parent.remove(e),this.fields[e.name]=e,e.message=this,e.onAdd(this),vh(this)}return e instanceof A_?(this.oneofs||(this.oneofs={}),this.oneofs[e.name]=e,e.onAdd(this),vh(this)):Nn.prototype.add.call(this,e)};qe.prototype.remove=function(e){if(e instanceof gh&&e.extend===void 0){if(!this.fields||this.fields[e.name]!==e)throw Error(e+" is not a member of "+this);return delete this.fields[e.name],e.parent=null,e.onRemove(this),vh(this)}if(e instanceof A_){if(!this.oneofs||this.oneofs[e.name]!==e)throw Error(e+" is not a member of "+this);return delete this.oneofs[e.name],e.parent=null,e.onRemove(this),vh(this)}return Nn.prototype.remove.call(this,e)};qe.prototype.isReservedId=function(e){return Nn.isReservedId(this.reserved,e)};qe.prototype.isReservedName=function(e){return Nn.isReservedName(this.reserved,e)};qe.prototype.create=function(e){return new this.ctor(e)};qe.prototype.setup=function(){for(var e=this.fullName,t=[],r=0;r<this.fieldsArray.length;++r)t.push(this._fieldsArray[r].resolve().resolvedType);this.encode=xB(this)({Writer:TB,types:t,util:$t}),this.decode=MB(this)({Reader:M_,types:t,util:$t}),this.verify=AB(this)({types:t,util:$t}),this.fromObject=yx.fromObject(this)({types:t,util:$t}),this.toObject=yx.toObject(this)({types:t,util:$t});var i=RB[e];if(i){var o=Object.create(this);o.fromObject=this.fromObject,this.fromObject=i.fromObject.bind(o),o.toObject=this.toObject,this.toObject=i.toObject.bind(o)}return this};qe.prototype.encode=function(e,t){return this.setup().encode(e,t)};qe.prototype.encodeDelimited=function(e,t){return this.encode(e,t&&t.len?t.fork():t).ldelim()};qe.prototype.decode=function(e,t){return this.setup().decode(e,t)};qe.prototype.decodeDelimited=function(e){return e instanceof M_||(e=M_.create(e)),this.decode(e,e.uint32())};qe.prototype.verify=function(e){return this.setup().verify(e)};qe.prototype.fromObject=function(e){return this.setup().fromObject(e)};qe.prototype.toObject=function(e,t){return this.setup().toObject(e,t)};qe.d=function(e){return function(r){$t.decorateType(r,e)}}});var Ch=oe((gte,Cx)=>{"use strict";Cx.exports=Cn;var wh=ma();((Cn.prototype=Object.create(wh.prototype)).constructor=Cn).className="Root";var _h=Bi(),O_=ir(),OB=Uo(),$i=Dt(),k_,N_,Cc;function Cn(n){wh.call(this,"",n),this.deferred=[],this.files=[],this._edition="proto2",this._fullyQualifiedObjects={}}Cn.fromJSON=function(e,t){return t||(t=new Cn),e.options&&t.setOptions(e.options),t.addJSON(e.nested).resolveAll()};Cn.prototype.resolvePath=$i.path.resolve;Cn.prototype.fetch=$i.fetch;function wx(){}Cn.prototype.load=function n(e,t,r){typeof t=="function"&&(r=t,t=void 0);var i=this;if(!r)return $i.asPromise(n,i,e,t);var o=r===wx;function s(f,h){if(r){if(o)throw f;h&&h.resolveAll();var v=r;r=null,v(f,h)}}function a(f){var h=f.lastIndexOf("google/protobuf/");if(h>-1){var v=f.substring(h);if(v in Cc)return v}return null}function l(f,h){try{if($i.isString(h)&&h.charAt(0)==="{"&&(h=JSON.parse(h)),!$i.isString(h))i.setOptions(h.options).addJSON(h.nested);else{N_.filename=f;var v=N_(h,i,t),y,x=0;if(v.imports)for(;x<v.imports.length;++x)(y=a(v.imports[x])||i.resolvePath(f,v.imports[x]))&&c(y);if(v.weakImports)for(x=0;x<v.weakImports.length;++x)(y=a(v.weakImports[x])||i.resolvePath(f,v.weakImports[x]))&&c(y,!0)}}catch(U){s(U)}!o&&!u&&s(null,i)}function c(f,h){if(f=a(f)||f,!(i.files.indexOf(f)>-1)){if(i.files.push(f),f in Cc){o?l(f,Cc[f]):(++u,setTimeout(function(){--u,l(f,Cc[f])}));return}if(o){var v;try{v=$i.fs.readFileSync(f).toString("utf8")}catch(y){h||s(y);return}l(f,v)}else++u,i.fetch(f,function(y,x){if(--u,!!r){if(y){h?u||s(null,i):s(y);return}l(f,x)}})}}var u=0;$i.isString(e)&&(e=[e]);for(var d=0,p;d<e.length;++d)(p=i.resolvePath("",e[d]))&&c(p);return o?(i.resolveAll(),i):(u||s(null,i),i)};Cn.prototype.loadSync=function(e,t){if(!$i.isNode)throw Error("not supported");return this.load(e,t,wx)};Cn.prototype.resolveAll=function(){if(!this._needsRecursiveResolve)return this;if(this.deferred.length)throw Error("unresolvable extensions: "+this.deferred.map(function(e){return"'extend "+e.extend+"' in "+e.parent.fullName}).join(", "));return wh.prototype.resolveAll.call(this)};var bh=/^[A-Z]/;function bx(n,e){var t=e.parent.lookup(e.extend);if(t){var r=new _h(e.fullName,e.id,e.type,e.rule,void 0,e.options);return t.get(r.name)||(r.declaringField=e,e.extensionField=r,t.add(r)),!0}return!1}Cn.prototype._handleAdd=function(e){if(e instanceof _h)e.extend!==void 0&&!e.extensionField&&(bx(this,e)||this.deferred.push(e));else if(e instanceof O_)bh.test(e.name)&&(e.parent[e.name]=e.values);else if(!(e instanceof OB)){if(e instanceof k_)for(var t=0;t<this.deferred.length;)bx(this,this.deferred[t])?this.deferred.splice(t,1):++t;for(var r=0;r<e.nestedArray.length;++r)this._handleAdd(e._nestedArray[r]);bh.test(e.name)&&(e.parent[e.name]=e)}(e instanceof k_||e instanceof O_||e instanceof _h)&&(this._fullyQualifiedObjects[e.fullName]=e)};Cn.prototype._handleRemove=function(e){if(e instanceof _h){if(e.extend!==void 0)if(e.extensionField)e.extensionField.parent.remove(e.extensionField),e.extensionField=null;else{var t=this.deferred.indexOf(e);t>-1&&this.deferred.splice(t,1)}}else if(e instanceof O_)bh.test(e.name)&&delete e.parent[e.name];else if(e instanceof wh){for(var r=0;r<e.nestedArray.length;++r)this._handleRemove(e._nestedArray[r]);bh.test(e.name)&&delete e.parent[e.name]}delete this._fullyQualifiedObjects[e.fullName]};Cn._configure=function(n,e,t){k_=n,N_=e,Cc=t}});var Dt=oe((vte,Ix)=>{"use strict";var dt=Ix.exports=Sr(),Ex=d_(),F_,P_;dt.codegen=KT();dt.fetch=ex();dt.path=rx();dt.fs=dt.inquire("fs");dt.toArray=function(e){if(e){for(var t=Object.keys(e),r=new Array(t.length),i=0;i<t.length;)r[i]=e[t[i++]];return r}return[]};dt.toObject=function(e){for(var t={},r=0;r<e.length;){var i=e[r++],o=e[r++];o!==void 0&&(t[i]=o)}return t};var kB=/\\/g,NB=/"/g;dt.isReserved=function(e){return/^(?:do|if|in|for|let|new|try|var|case|else|enum|eval|false|null|this|true|void|with|break|catch|class|const|super|throw|while|yield|delete|export|import|public|return|static|switch|typeof|default|extends|finally|package|private|continue|debugger|function|arguments|interface|protected|implements|instanceof)$/.test(e)};dt.safeProp=function(e){return!/^[$\w_]+$/.test(e)||dt.isReserved(e)?'["'+e.replace(kB,"\\\\").replace(NB,'\\"')+'"]':"."+e};dt.ucFirst=function(e){return e.charAt(0).toUpperCase()+e.substring(1)};var FB=/_([a-z])/g;dt.camelCase=function(e){return e.substring(0,1)+e.substring(1).replace(FB,function(t,r){return r.toUpperCase()})};dt.compareFieldsById=function(e,t){return e.id-t.id};dt.decorateType=function(e,t){if(e.$type)return t&&e.$type.name!==t&&(dt.decorateRoot.remove(e.$type),e.$type.name=t,dt.decorateRoot.add(e.$type)),e.$type;F_||(F_=yh());var r=new F_(t||e.name);return dt.decorateRoot.add(r),r.ctor=e,Object.defineProperty(e,"$type",{value:r,enumerable:!1}),Object.defineProperty(e.prototype,"$type",{value:r,enumerable:!1}),r};var PB=0;dt.decorateEnum=function(e){if(e.$type)return e.$type;P_||(P_=ir());var t=new P_("Enum"+PB++,e);return dt.decorateRoot.add(t),Object.defineProperty(e,"$type",{value:t,enumerable:!1}),t};dt.setProperty=function(e,t,r,i){function o(s,a,l){var c=a.shift();if(c==="__proto__"||c==="prototype")return s;if(a.length>0)s[c]=o(s[c]||{},a,l);else{var u=s[c];if(u&&i)return s;u&&(l=[].concat(u).concat(l)),s[c]=l}return s}if(typeof e!="object")throw TypeError("dst must be an object");if(!t)throw TypeError("path must be specified");return t=t.split("."),o(e,t,r)};Object.defineProperty(dt,"decorateRoot",{get:function(){return Ex.decorated||(Ex.decorated=new(Ch()))}})});var $o=oe(Dx=>{"use strict";var Ec=Dx,LB=Dt(),VB=["double","float","int32","uint32","sint32","fixed32","sfixed32","int64","uint64","sint64","fixed64","sfixed64","bool","string","bytes"];function Ic(n,e){var t=0,r={};for(e|=0;t<n.length;)r[VB[t+e]]=n[t++];return r}Ec.basic=Ic([1,5,0,0,0,5,5,0,0,0,1,1,0,2,2]);Ec.defaults=Ic([0,0,0,0,0,0,0,0,0,0,0,0,!1,"",LB.emptyArray,null]);Ec.long=Ic([0,0,0,1,1],7);Ec.mapKey=Ic([0,0,0,5,5,0,0,0,1,1,0,2],2);Ec.packed=Ic([1,5,0,0,0,5,5,0,0,0,1,1,0])});var Bi=oe((_te,Tx)=>{"use strict";Tx.exports=St;var Sc=Ui();((St.prototype=Object.create(Sc.prototype)).constructor=St).className="Field";var Sx=ir(),L_=$o(),mt=Dt(),Dc,jB=/^required|optional|repeated$/;St.fromJSON=function(e,t){var r=new St(e,t.id,t.type,t.rule,t.extend,t.options,t.comment);return t.edition&&(r._edition=t.edition),r._defaultEdition="proto3",r};function St(n,e,t,r,i,o,s){if(mt.isObject(r)?(s=i,o=r,r=i=void 0):mt.isObject(i)&&(s=o,o=i,i=void 0),Sc.call(this,n,o),!mt.isInteger(e)||e<0)throw TypeError("id must be a non-negative integer");if(!mt.isString(t))throw TypeError("type must be a string");if(r!==void 0&&!jB.test(r=r.toString().toLowerCase()))throw TypeError("rule must be a string rule");if(i!==void 0&&!mt.isString(i))throw TypeError("extend must be a string");r==="proto3_optional"&&(r="optional"),this.rule=r&&r!=="optional"?r:void 0,this.type=t,this.id=e,this.extend=i||void 0,this.repeated=r==="repeated",this.map=!1,this.message=null,this.partOf=null,this.typeDefault=null,this.defaultValue=null,this.long=mt.Long?L_.long[t]!==void 0:!1,this.bytes=t==="bytes",this.resolvedType=null,this.extensionField=null,this.declaringField=null,this.comment=s}Object.defineProperty(St.prototype,"required",{get:function(){return this._features.field_presence==="LEGACY_REQUIRED"}});Object.defineProperty(St.prototype,"optional",{get:function(){return!this.required}});Object.defineProperty(St.prototype,"delimited",{get:function(){return this.resolvedType instanceof Dc&&this._features.message_encoding==="DELIMITED"}});Object.defineProperty(St.prototype,"packed",{get:function(){return this._features.repeated_field_encoding==="PACKED"}});Object.defineProperty(St.prototype,"hasPresence",{get:function(){return this.repeated||this.map?!1:this.partOf||this.declaringField||this.extensionField||this._features.field_presence!=="IMPLICIT"}});St.prototype.setOption=function(e,t,r){return Sc.prototype.setOption.call(this,e,t,r)};St.prototype.toJSON=function(e){var t=e?!!e.keepComments:!1;return mt.toObject(["edition",this._editionToJSON(),"rule",this.rule!=="optional"&&this.rule||void 0,"type",this.type,"id",this.id,"extend",this.extend,"options",this.options,"comment",t?this.comment:void 0])};St.prototype.resolve=function(){if(this.resolved)return this;if((this.typeDefault=L_.defaults[this.type])===void 0?(this.resolvedType=(this.declaringField?this.declaringField.parent:this.parent).lookupTypeOrEnum(this.type),this.resolvedType instanceof Dc?this.typeDefault=null:this.typeDefault=this.resolvedType.values[Object.keys(this.resolvedType.values)[0]]):this.options&&this.options.proto3_optional&&(this.typeDefault=null),this.options&&this.options.default!=null&&(this.typeDefault=this.options.default,this.resolvedType instanceof Sx&&typeof this.typeDefault=="string"&&(this.typeDefault=this.resolvedType.values[this.typeDefault])),this.options&&(this.options.packed!==void 0&&this.resolvedType&&!(this.resolvedType instanceof Sx)&&delete this.options.packed,Object.keys(this.options).length||(this.options=void 0)),this.long)this.typeDefault=mt.Long.fromNumber(this.typeDefault,this.type.charAt(0)==="u"),Object.freeze&&Object.freeze(this.typeDefault);else if(this.bytes&&typeof this.typeDefault=="string"){var e;mt.base64.test(this.typeDefault)?mt.base64.decode(this.typeDefault,e=mt.newBuffer(mt.base64.length(this.typeDefault)),0):mt.utf8.write(this.typeDefault,e=mt.newBuffer(mt.utf8.length(this.typeDefault)),0),this.typeDefault=e}return this.map?this.defaultValue=mt.emptyObject:this.repeated?this.defaultValue=mt.emptyArray:this.defaultValue=this.typeDefault,this.parent instanceof Dc&&(this.parent.ctor.prototype[this.name]=this.defaultValue),Sc.prototype.resolve.call(this)};St.prototype._inferLegacyProtoFeatures=function(e){if(e!=="proto2"&&e!=="proto3")return{};var t={};if(this.rule==="required"&&(t.field_presence="LEGACY_REQUIRED"),this.parent&&L_.defaults[this.type]===void 0){var r=this.parent.get(this.type.split(".").pop());r&&r instanceof Dc&&r.group&&(t.message_encoding="DELIMITED")}return this.getOption("packed")===!0?t.repeated_field_encoding="PACKED":this.getOption("packed")===!1&&(t.repeated_field_encoding="EXPANDED"),t};St.prototype._resolveFeatures=function(e){return Sc.prototype._resolveFeatures.call(this,this._edition||e)};St.d=function(e,t,r,i){return typeof t=="function"?t=mt.decorateType(t).name:t&&typeof t=="object"&&(t=mt.decorateEnum(t).name),function(s,a){mt.decorateType(s.constructor).add(new St(a,e,t,r,{default:i}))}};St._configure=function(e){Dc=e}});var Uo=oe((bte,Ax)=>{"use strict";Ax.exports=En;var Ih=Ui();((En.prototype=Object.create(Ih.prototype)).constructor=En).className="OneOf";var xx=Bi(),Eh=Dt();function En(n,e,t,r){if(Array.isArray(e)||(t=e,e=void 0),Ih.call(this,n,t),!(e===void 0||Array.isArray(e)))throw TypeError("fieldNames must be an Array");this.oneof=e||[],this.fieldsArray=[],this.comment=r}En.fromJSON=function(e,t){return new En(e,t.oneof,t.options,t.comment)};En.prototype.toJSON=function(e){var t=e?!!e.keepComments:!1;return Eh.toObject(["options",this.options,"oneof",this.oneof,"comment",t?this.comment:void 0])};function Mx(n){if(n.parent)for(var e=0;e<n.fieldsArray.length;++e)n.fieldsArray[e].parent||n.parent.add(n.fieldsArray[e])}En.prototype.add=function(e){if(!(e instanceof xx))throw TypeError("field must be a Field");return e.parent&&e.parent!==this.parent&&e.parent.remove(e),this.oneof.push(e.name),this.fieldsArray.push(e),e.partOf=this,Mx(this),this};En.prototype.remove=function(e){if(!(e instanceof xx))throw TypeError("field must be a Field");var t=this.fieldsArray.indexOf(e);if(t<0)throw Error(e+" is not a member of "+this);return this.fieldsArray.splice(t,1),t=this.oneof.indexOf(e.name),t>-1&&this.oneof.splice(t,1),e.partOf=null,this};En.prototype.onAdd=function(e){Ih.prototype.onAdd.call(this,e);for(var t=this,r=0;r<this.oneof.length;++r){var i=e.get(this.oneof[r]);i&&!i.partOf&&(i.partOf=t,t.fieldsArray.push(i))}Mx(this)};En.prototype.onRemove=function(e){for(var t=0,r;t<this.fieldsArray.length;++t)(r=this.fieldsArray[t]).parent&&r.parent.remove(r);Ih.prototype.onRemove.call(this,e)};Object.defineProperty(En.prototype,"isProto3Optional",{get:function(){if(this.fieldsArray==null||this.fieldsArray.length!==1)return!1;var n=this.fieldsArray[0];return n.options!=null&&n.options.proto3_optional===!0}});En.d=function(){for(var e=new Array(arguments.length),t=0;t<arguments.length;)e[t]=arguments[t++];return function(i,o){Eh.decorateType(i.constructor).add(new En(o,e)),Object.defineProperty(i,o,{get:Eh.oneOfGetter(e),set:Eh.oneOfSetter(e)})}}});var Ui=oe((wte,Rx)=>{"use strict";Rx.exports=Nt;Nt.className="ReflectionObject";var BB=Uo(),Tc=Dt(),Dh,UB={enum_type:"OPEN",field_presence:"EXPLICIT",json_format:"ALLOW",message_encoding:"LENGTH_PREFIXED",repeated_field_encoding:"PACKED",utf8_validation:"VERIFY"},$B={enum_type:"CLOSED",field_presence:"EXPLICIT",json_format:"LEGACY_BEST_EFFORT",message_encoding:"LENGTH_PREFIXED",repeated_field_encoding:"EXPANDED",utf8_validation:"NONE"},HB={enum_type:"OPEN",field_presence:"IMPLICIT",json_format:"ALLOW",message_encoding:"LENGTH_PREFIXED",repeated_field_encoding:"PACKED",utf8_validation:"VERIFY"};function Nt(n,e){if(!Tc.isString(n))throw TypeError("name must be a string");if(e&&!Tc.isObject(e))throw TypeError("options must be an object");this.options=e,this.parsedOptions=null,this.name=n,this._edition=null,this._defaultEdition="proto2",this._features={},this._featuresResolved=!1,this.parent=null,this.resolved=!1,this.comment=null,this.filename=null}Object.defineProperties(Nt.prototype,{root:{get:function(){for(var n=this;n.parent!==null;)n=n.parent;return n}},fullName:{get:function(){for(var n=[this.name],e=this.parent;e;)n.unshift(e.name),e=e.parent;return n.join(".")}}});Nt.prototype.toJSON=function(){throw Error()};Nt.prototype.onAdd=function(e){this.parent&&this.parent!==e&&this.parent.remove(this),this.parent=e,this.resolved=!1;var t=e.root;t instanceof Dh&&t._handleAdd(this)};Nt.prototype.onRemove=function(e){var t=e.root;t instanceof Dh&&t._handleRemove(this),this.parent=null,this.resolved=!1};Nt.prototype.resolve=function(){return this.resolved?this:(this.root instanceof Dh&&(this.resolved=!0),this)};Nt.prototype._resolveFeaturesRecursive=function(e){return this._resolveFeatures(this._edition||e)};Nt.prototype._resolveFeatures=function(e){if(!this._featuresResolved){var t={};if(!e)throw new Error("Unknown edition for "+this.fullName);var r=Object.assign(this.options?Object.assign({},this.options.features):{},this._inferLegacyProtoFeatures(e));if(this._edition){if(e==="proto2")t=Object.assign({},$B);else if(e==="proto3")t=Object.assign({},HB);else if(e==="2023")t=Object.assign({},UB);else throw new Error("Unknown edition: "+e);this._features=Object.assign(t,r||{}),this._featuresResolved=!0;return}if(this.partOf instanceof BB){var i=Object.assign({},this.partOf._features);this._features=Object.assign(i,r||{})}else if(!this.declaringField)if(this.parent){var o=Object.assign({},this.parent._features);this._features=Object.assign(o,r||{})}else throw new Error("Unable to find a parent for "+this.fullName);this.extensionField&&(this.extensionField._features=this._features),this._featuresResolved=!0}};Nt.prototype._inferLegacyProtoFeatures=function(){return{}};Nt.prototype.getOption=function(e){if(this.options)return this.options[e]};Nt.prototype.setOption=function(e,t,r){return this.options||(this.options={}),/^features\./.test(e)?Tc.setProperty(this.options,e,t,r):(!r||this.options[e]===void 0)&&(this.getOption(e)!==t&&(this.resolved=!1),this.options[e]=t),this};Nt.prototype.setParsedOption=function(e,t,r){this.parsedOptions||(this.parsedOptions=[]);var i=this.parsedOptions;if(r){var o=i.find(function(l){return Object.prototype.hasOwnProperty.call(l,e)});if(o){var s=o[e];Tc.setProperty(s,r,t)}else o={},o[e]=Tc.setProperty({},r,t),i.push(o)}else{var a={};a[e]=t,i.push(a)}return this};Nt.prototype.setOptions=function(e,t){if(e)for(var r=Object.keys(e),i=0;i<r.length;++i)this.setOption(r[i],e[r[i]],t);return this};Nt.prototype.toString=function(){var e=this.constructor.className,t=this.fullName;return t.length?e+" "+t:e};Nt.prototype._editionToJSON=function(){if(!(!this._edition||this._edition==="proto3"))return this._edition};Nt._configure=function(n){Dh=n}});var ir=oe((Cte,kx)=>{"use strict";kx.exports=or;var V_=Ui();((or.prototype=Object.create(V_.prototype)).constructor=or).className="Enum";var Ox=ma(),Sh=Dt();function or(n,e,t,r,i,o){if(V_.call(this,n,t),e&&typeof e!="object")throw TypeError("values must be an object");if(this.valuesById={},this.values=Object.create(this.valuesById),this.comment=r,this.comments=i||{},this.valuesOptions=o,this._valuesFeatures={},this.reserved=void 0,e)for(var s=Object.keys(e),a=0;a<s.length;++a)typeof e[s[a]]=="number"&&(this.valuesById[this.values[s[a]]=e[s[a]]]=s[a])}or.prototype._resolveFeatures=function(e){return e=this._edition||e,V_.prototype._resolveFeatures.call(this,e),Object.keys(this.values).forEach(t=>{var r=Object.assign({},this._features);this._valuesFeatures[t]=Object.assign(r,this.valuesOptions&&this.valuesOptions[t]&&this.valuesOptions[t].features)}),this};or.fromJSON=function(e,t){var r=new or(e,t.values,t.options,t.comment,t.comments);return r.reserved=t.reserved,t.edition&&(r._edition=t.edition),r._defaultEdition="proto3",r};or.prototype.toJSON=function(e){var t=e?!!e.keepComments:!1;return Sh.toObject(["edition",this._editionToJSON(),"options",this.options,"valuesOptions",this.valuesOptions,"values",this.values,"reserved",this.reserved&&this.reserved.length?this.reserved:void 0,"comment",t?this.comment:void 0,"comments",t?this.comments:void 0])};or.prototype.add=function(e,t,r,i){if(!Sh.isString(e))throw TypeError("name must be a string");if(!Sh.isInteger(t))throw TypeError("id must be an integer");if(this.values[e]!==void 0)throw Error("duplicate name '"+e+"' in "+this);if(this.isReservedId(t))throw Error("id "+t+" is reserved in "+this);if(this.isReservedName(e))throw Error("name '"+e+"' is reserved in "+this);if(this.valuesById[t]!==void 0){if(!(this.options&&this.options.allow_alias))throw Error("duplicate id "+t+" in "+this);this.values[e]=t}else this.valuesById[this.values[e]=t]=e;return i&&(this.valuesOptions===void 0&&(this.valuesOptions={}),this.valuesOptions[e]=i||null),this.comments[e]=r||null,this};or.prototype.remove=function(e){if(!Sh.isString(e))throw TypeError("name must be a string");var t=this.values[e];if(t==null)throw Error("name '"+e+"' does not exist in "+this);return delete this.valuesById[t],delete this.values[e],delete this.comments[e],this.valuesOptions&&delete this.valuesOptions[e],this};or.prototype.isReservedId=function(e){return Ox.isReservedId(this.reserved,e)};or.prototype.isReservedName=function(e){return Ox.isReservedName(this.reserved,e)}});var R_=oe((Ete,Fx)=>{"use strict";Fx.exports=GB;var zB=ir(),j_=$o(),B_=Dt();function Nx(n,e,t,r){return e.delimited?n("types[%i].encode(%s,w.uint32(%i)).uint32(%i)",t,r,(e.id<<3|3)>>>0,(e.id<<3|4)>>>0):n("types[%i].encode(%s,w.uint32(%i).fork()).ldelim()",t,r,(e.id<<3|2)>>>0)}function GB(n){for(var e=B_.codegen(["m","w"],n.name+"$encode")("if(!w)")("w=Writer.create()"),t,r,i=n.fieldsArray.slice().sort(B_.compareFieldsById),t=0;t<i.length;++t){var o=i[t].resolve(),s=n._fieldsArray.indexOf(o),a=o.resolvedType instanceof zB?"int32":o.type,l=j_.basic[a];r="m"+B_.safeProp(o.name),o.map?(e("if(%s!=null&&Object.hasOwnProperty.call(m,%j)){",r,o.name)("for(var ks=Object.keys(%s),i=0;i<ks.length;++i){",r)("w.uint32(%i).fork().uint32(%i).%s(ks[i])",(o.id<<3|2)>>>0,8|j_.mapKey[o.keyType],o.keyType),l===void 0?e("types[%i].encode(%s[ks[i]],w.uint32(18).fork()).ldelim().ldelim()",s,r):e(".uint32(%i).%s(%s[ks[i]]).ldelim()",16|l,a,r),e("}")("}")):o.repeated?(e("if(%s!=null&&%s.length){",r,r),o.packed&&j_.packed[a]!==void 0?e("w.uint32(%i).fork()",(o.id<<3|2)>>>0)("for(var i=0;i<%s.length;++i)",r)("w.%s(%s[i])",a,r)("w.ldelim()"):(e("for(var i=0;i<%s.length;++i)",r),l===void 0?Nx(e,o,s,r+"[i]"):e("w.uint32(%i).%s(%s[i])",(o.id<<3|l)>>>0,a,r)),e("}")):(o.optional&&e("if(%s!=null&&Object.hasOwnProperty.call(m,%j))",r,o.name),l===void 0?Nx(e,o,s,r):e("w.uint32(%i).%s(%s)",(o.id<<3|l)>>>0,a,r))}return e("return w")}});var Lx=oe((Ite,Px)=>{"use strict";var De=Px.exports=JT();De.build="light";function qB(n,e,t){return typeof e=="function"?(t=e,e=new De.Root):e||(e=new De.Root),e.load(n,t)}De.load=qB;function WB(n,e){return e||(e=new De.Root),e.loadSync(n)}De.loadSync=WB;De.encoder=R_();De.decoder=b_();De.verifier=E_();De.converter=S_();De.ReflectionObject=Ui();De.Namespace=ma();De.Root=Ch();De.Enum=ir();De.Type=yh();De.Field=Bi();De.OneOf=Uo();De.MapField=fh();De.Service=ph();De.Method=hh();De.Message=mh();De.wrappers=T_();De.types=$o();De.util=Dt();De.ReflectionObject._configure(De.Root);De.Namespace._configure(De.Type,De.Service,De.Enum);De.Root._configure(De.Type);De.Field._configure(De.Type)});var $_=oe((Dte,Bx)=>{"use strict";Bx.exports=jx;var U_=/[\s{}=;:[\],'"()<>]/g,ZB=/(?:"([^"\\]*(?:\\.[^"\\]*)*)")/g,YB=/(?:'([^'\\]*(?:\\.[^'\\]*)*)')/g,JB=/^ *[*/]+ */,QB=/^\s*\*?\/*/,KB=/\n/g,XB=/\s/,e3=/\\(.?)/g,t3={0:"\0",r:"\r",n:`
`,t:"	"};function Vx(n){return n.replace(e3,function(e,t){switch(t){case"\\":case"":return t;default:return t3[t]||""}})}jx.unescape=Vx;function jx(n,e){n=n.toString();var t=0,r=n.length,i=1,o=0,s={},a=[],l=null;function c(S){return Error("illegal "+S+" (line "+i+")")}function u(){var S=l==="'"?YB:ZB;S.lastIndex=t-1;var H=S.exec(n);if(!H)throw c("string");return t=S.lastIndex,y(l),l=null,Vx(H[1])}function d(S){return n.charAt(S)}function p(S,H,q){var Q={type:n.charAt(S++),lineEmpty:!1,leading:q},Se;e?Se=2:Se=3;var me=S-Se,Ue;do if(--me<0||(Ue=n.charAt(me))===`
`){Q.lineEmpty=!0;break}while(Ue===" "||Ue==="	");for(var Ze=n.substring(S,H).split(KB),$e=0;$e<Ze.length;++$e)Ze[$e]=Ze[$e].replace(e?QB:JB,"").trim();Q.text=Ze.join(`
`).trim(),s[i]=Q,o=i}function f(S){var H=h(S),q=n.substring(S,H),Q=/^\s*\/\//.test(q);return Q}function h(S){for(var H=S;H<r&&d(H)!==`
`;)H++;return H}function v(){if(a.length>0)return a.shift();if(l)return u();var S,H,q,Q,Se,me=t===0;do{if(t===r)return null;for(S=!1;XB.test(q=d(t));)if(q===`
`&&(me=!0,++i),++t===r)return null;if(d(t)==="/"){if(++t===r)throw c("comment");if(d(t)==="/")if(e){if(Q=t,Se=!1,f(t-1)){Se=!0;do if(t=h(t),t===r||(t++,!me))break;while(f(t))}else t=Math.min(r,h(t)+1);Se&&(p(Q,t,me),me=!0),i++,S=!0}else{for(Se=d(Q=t+1)==="/";d(++t)!==`
`;)if(t===r)return null;++t,Se&&(p(Q,t-1,me),me=!0),++i,S=!0}else if((q=d(t))==="*"){Q=t+1,Se=e||d(Q)==="*";do{if(q===`
`&&++i,++t===r)throw c("comment");H=q,q=d(t)}while(H!=="*"||q!=="/");++t,Se&&(p(Q,t-2,me),me=!0),S=!0}else return"/"}}while(S);var Ue=t;U_.lastIndex=0;var Ze=U_.test(d(Ue++));if(!Ze)for(;Ue<r&&!U_.test(d(Ue));)++Ue;var $e=n.substring(t,t=Ue);return($e==='"'||$e==="'")&&(l=$e),$e}function y(S){a.push(S)}function x(){if(!a.length){var S=v();if(S===null)return null;y(S)}return a[0]}function U(S,H){var q=x(),Q=q===S;if(Q)return v(),!0;if(!H)throw c("token '"+q+"', '"+S+"' expected");return!1}function j(S){var H=null,q;return S===void 0?(q=s[i-1],delete s[i-1],q&&(e||q.type==="*"||q.lineEmpty)&&(H=q.leading?q.text:null)):(o<S&&x(),q=s[S],delete s[S],q&&!q.lineEmpty&&(e||q.type==="/")&&(H=q.leading?null:q.text)),H}return Object.defineProperty({next:v,peek:x,push:y,skip:U,cmnt:j},"line",{get:function(){return i}})}});var qx=oe((Ste,Gx)=>{"use strict";Gx.exports=ai;ai.filename=null;ai.defaults={keepCase:!1};var n3=$_(),Ux=Ch(),$x=yh(),Hx=Bi(),r3=fh(),zx=Uo(),i3=ir(),o3=ph(),s3=hh(),a3=Ui(),l3=$o(),H_=Dt(),c3=/^[1-9][0-9]*$/,u3=/^-?[1-9][0-9]*$/,d3=/^0[x][0-9a-fA-F]+$/,f3=/^-?0[x][0-9a-fA-F]+$/,h3=/^0[0-7]+$/,p3=/^-?0[0-7]+$/,m3=/^(?![eE])[0-9]*(?:\.[0-9]*)?(?:[eE][+-]?[0-9]+)?$/,Ar=/^[a-zA-Z_][a-zA-Z_0-9]*$/,Rr=/^(?:\.?[a-zA-Z_][a-zA-Z_0-9]*)(?:\.[a-zA-Z_][a-zA-Z_0-9]*)*$/;function ai(n,e,t){e instanceof Ux||(t=e,e=new Ux),t||(t=ai.defaults);var r=t.preferTrailingComment||!1,i=n3(n,t.alternateCommentMode||!1),o=i.next,s=i.push,a=i.peek,l=i.skip,c=i.cmnt,u=!0,d,p,f,h="proto2",v=e,y=[],x={},U=t.keepCase?function(R){return R}:H_.camelCase;function j(){y.forEach(R=>{R._edition=h,Object.keys(x).forEach(A=>{R.getOption(A)===void 0&&R.setOption(A,x[A],!0)})})}function S(R,A,k){var W=ai.filename;return k||(ai.filename=null),Error("illegal "+(A||"token")+" '"+R+"' ("+(W?W+", ":"")+"line "+i.line+")")}function H(){var R=[],A;do{if((A=o())!=='"'&&A!=="'")throw S(A);R.push(o()),l(A),A=a()}while(A==='"'||A==="'");return R.join("")}function q(R){var A=o();switch(A){case"'":case'"':return s(A),H();case"true":case"TRUE":return!0;case"false":case"FALSE":return!1}try{return Se(A,!0)}catch{if(R&&Rr.test(A))return A;throw S(A,"value")}}function Q(R,A){var k,W;do if(A&&((k=a())==='"'||k==="'")){var G=H();if(R.push(G),h>=2023)throw S(G,"id")}else try{R.push([W=me(o()),l("to",!0)?me(o()):W])}catch(Xe){if(A&&Rr.test(k)&&h>=2023)R.push(k);else throw Xe}while(l(",",!0));var ce={options:void 0};ce.setOption=function(Xe,Pt){this.options===void 0&&(this.options={}),this.options[Xe]=Pt},rt(ce,function(Pt){if(Pt==="option")Ft(ce,Pt),l(";");else throw S(Pt)},function(){Lc(ce)})}function Se(R,A){var k=1;switch(R.charAt(0)==="-"&&(k=-1,R=R.substring(1)),R){case"inf":case"INF":case"Inf":return k*(1/0);case"nan":case"NAN":case"Nan":case"NaN":return NaN;case"0":return 0}if(c3.test(R))return k*parseInt(R,10);if(d3.test(R))return k*parseInt(R,16);if(h3.test(R))return k*parseInt(R,8);if(m3.test(R))return k*parseFloat(R);throw S(R,"number",A)}function me(R,A){switch(R){case"max":case"MAX":case"Max":return 536870911;case"0":return 0}if(!A&&R.charAt(0)==="-")throw S(R,"id");if(u3.test(R))return parseInt(R,10);if(f3.test(R))return parseInt(R,16);if(p3.test(R))return parseInt(R,8);throw S(R,"id")}function Ue(){if(d!==void 0)throw S("package");if(d=o(),!Rr.test(d))throw S(d,"name");v=v.define(d),l(";")}function Ze(){var R=a(),A;switch(R){case"weak":A=f||(f=[]),o();break;case"public":o();default:A=p||(p=[]);break}R=H(),l(";"),A.push(R)}function $e(){if(l("="),h=H(),h<2023)throw S(h,"syntax");l(";")}function Pn(){if(l("="),h=H(),!["2023"].includes(h))throw S(h,"edition");l(";")}function qo(R,A){switch(A){case"option":return Ft(R,A),l(";"),!0;case"message":return wa(R,A),!0;case"enum":return Or(R,A),!0;case"service":return CM(R,A),!0;case"extend":return IM(R,A),!0}return!1}function rt(R,A,k){var W=i.line;if(R&&(typeof R.comment!="string"&&(R.comment=c()),R.filename=ai.filename),l("{",!0)){for(var G;(G=o())!=="}";)A(G);l(";",!0)}else k&&k(),l(";"),R&&(typeof R.comment!="string"||r)&&(R.comment=c(W)||R.comment)}function wa(R,A){if(!Ar.test(A=o()))throw S(A,"type name");var k=new $x(A);rt(k,function(G){if(!qo(k,G))switch(G){case"map":Qh(k,G);break;case"required":if(h!=="proto2")throw S(G);case"repeated":st(k,G);break;case"optional":if(h==="proto3")st(k,"proto3_optional");else{if(h!=="proto2")throw S(G);st(k,"optional")}break;case"oneof":ar(k,G);break;case"extensions":Q(k.extensions||(k.extensions=[]));break;case"reserved":Q(k.reserved||(k.reserved=[]),!0);break;default:if(h==="proto2"||!Rr.test(G))throw S(G);s(G),st(k,"optional");break}}),R.add(k),R===v&&y.push(k)}function st(R,A,k){var W=o();if(W==="group"){Pc(R,A);return}for(;W.endsWith(".")||a().startsWith(".");)W+=o();if(!Rr.test(W))throw S(W,"type");var G=o();if(!Ar.test(G))throw S(G,"name");G=U(G),l("=");var ce=new Hx(G,me(o()),W,A,k);if(rt(ce,function(Gt){if(Gt==="option")Ft(ce,Gt),l(";");else throw S(Gt)},function(){Lc(ce)}),A==="proto3_optional"){var Xe=new zx("_"+G);ce.setOption("proto3_optional",!0),Xe.add(ce),R.add(Xe)}else R.add(ce);R===v&&y.push(ce)}function Pc(R,A){if(h>=2023)throw S("group");var k=o();if(!Ar.test(k))throw S(k,"name");var W=H_.lcFirst(k);k===W&&(k=H_.ucFirst(k)),l("=");var G=me(o()),ce=new $x(k);ce.group=!0;var Xe=new Hx(W,G,k,A);Xe.filename=ai.filename,rt(ce,function(Gt){switch(Gt){case"option":Ft(ce,Gt),l(";");break;case"required":case"repeated":st(ce,Gt);break;case"optional":h==="proto3"?st(ce,"proto3_optional"):st(ce,"optional");break;case"message":wa(ce,Gt);break;case"enum":Or(ce,Gt);break;case"reserved":Q(ce.reserved||(ce.reserved=[]),!0);break;default:throw S(Gt)}}),R.add(ce).add(Xe)}function Qh(R){l("<");var A=o();if(l3.mapKey[A]===void 0)throw S(A,"type");l(",");var k=o();if(!Rr.test(k))throw S(k,"type");l(">");var W=o();if(!Ar.test(W))throw S(W,"name");l("=");var G=new r3(U(W),me(o()),A,k);rt(G,function(Xe){if(Xe==="option")Ft(G,Xe),l(";");else throw S(Xe)},function(){Lc(G)}),R.add(G)}function ar(R,A){if(!Ar.test(A=o()))throw S(A,"name");var k=new zx(U(A));rt(k,function(G){G==="option"?(Ft(k,G),l(";")):(s(G),st(k,"optional"))}),R.add(k)}function Or(R,A){if(!Ar.test(A=o()))throw S(A,"name");var k=new i3(A);rt(k,function(G){switch(G){case"option":Ft(k,G),l(";");break;case"reserved":Q(k.reserved||(k.reserved=[]),!0),k.reserved===void 0&&(k.reserved=[]);break;default:Ca(k,G)}}),R.add(k),R===v&&y.push(k)}function Ca(R,A){if(!Ar.test(A))throw S(A,"name");l("=");var k=me(o(),!0),W={options:void 0};W.getOption=function(G){return this.options[G]},W.setOption=function(G,ce){a3.prototype.setOption.call(W,G,ce)},W.setParsedOption=function(){},rt(W,function(ce){if(ce==="option")Ft(W,ce),l(";");else throw S(ce)},function(){Lc(W)}),R.add(A,k,W.comment,W.parsedOptions||W.options)}function Ft(R,A){var k,W,G=!0;for(A==="option"&&(A=o());A!=="=";){if(A==="("){var ce=o();l(")"),A="("+ce+")"}if(G){if(G=!1,A.includes(".")&&!A.includes("(")){var Xe=A.split(".");k=Xe[0]+".",A=Xe[1];continue}k=A}else W=W?W+=A:A;A=o()}var Pt=W?k.concat(W):k,Gt=Ea(R,Pt);W=W&&W[0]==="."?W.slice(1):W,k=k&&k[k.length-1]==="."?k.slice(0,-1):k,wM(R,k,Gt,W)}function Ea(R,A){if(l("{",!0)){for(var k={};!l("}",!0);){if(!Ar.test(xt=o()))throw S(xt,"name");if(xt===null)throw S(xt,"end of input");var W,G=xt;if(l(":",!0),a()==="{")W=Ea(R,A+"."+xt);else if(a()==="["){W=[];var ce;if(l("[",!0)){do ce=q(!0),W.push(ce);while(l(",",!0));l("]"),typeof ce<"u"&&Kh(R,A+"."+xt,ce)}}else W=q(!0),Kh(R,A+"."+xt,W);var Xe=k[G];Xe&&(W=[].concat(Xe).concat(W)),k[G]=W,l(",",!0),l(";",!0)}return k}var Pt=q(!0);return Kh(R,A,Pt),Pt}function Kh(R,A,k){if(v===R&&/^features\./.test(A)){x[A]=k;return}R.setOption&&R.setOption(A,k)}function wM(R,A,k,W){R.setParsedOption&&R.setParsedOption(A,k,W)}function Lc(R){if(l("[",!0)){do Ft(R,"option");while(l(",",!0));l("]")}return R}function CM(R,A){if(!Ar.test(A=o()))throw S(A,"service name");var k=new o3(A);rt(k,function(G){if(!qo(k,G))if(G==="rpc")EM(k,G);else throw S(G)}),R.add(k),R===v&&y.push(k)}function EM(R,A){var k=c(),W=A;if(!Ar.test(A=o()))throw S(A,"name");var G=A,ce,Xe,Pt,Gt;if(l("("),l("stream",!0)&&(Xe=!0),!Rr.test(A=o())||(ce=A,l(")"),l("returns"),l("("),l("stream",!0)&&(Gt=!0),!Rr.test(A=o())))throw S(A);Pt=A,l(")");var Vc=new s3(G,W,ce,Pt,Xe,Gt);Vc.comment=k,rt(Vc,function(Xh){if(Xh==="option")Ft(Vc,Xh),l(";");else throw S(Xh)}),R.add(Vc)}function IM(R,A){if(!Rr.test(A=o()))throw S(A,"reference");var k=A;rt(null,function(G){switch(G){case"required":case"repeated":st(R,G,k);break;case"optional":h==="proto3"?st(R,"proto3_optional",k):st(R,"optional",k);break;default:if(h==="proto2"||!Rr.test(G))throw S(G);s(G),st(R,"optional",k);break}})}for(var xt;(xt=o())!==null;)switch(xt){case"package":if(!u)throw S(xt);Ue();break;case"import":if(!u)throw S(xt);Ze();break;case"syntax":if(!u)throw S(xt);$e();break;case"edition":if(!u)throw S(xt);Pn();break;case"option":Ft(v,xt),l(";",!0);break;default:if(qo(v,xt)){u=!1;continue}throw S(xt)}return j(),ai.filename=null,{package:d,imports:p,weakImports:f,root:e}}});var Yx=oe((Tte,Zx)=>{"use strict";Zx.exports=sr;var g3=/\/|\./;function sr(n,e){g3.test(n)||(n="google/protobuf/"+n+".proto",e={nested:{google:{nested:{protobuf:{nested:e}}}}}),sr[n]=e}sr("any",{Any:{fields:{type_url:{type:"string",id:1},value:{type:"bytes",id:2}}}});var Wx;sr("duration",{Duration:Wx={fields:{seconds:{type:"int64",id:1},nanos:{type:"int32",id:2}}}});sr("timestamp",{Timestamp:Wx});sr("empty",{Empty:{fields:{}}});sr("struct",{Struct:{fields:{fields:{keyType:"string",type:"Value",id:1}}},Value:{oneofs:{kind:{oneof:["nullValue","numberValue","stringValue","boolValue","structValue","listValue"]}},fields:{nullValue:{type:"NullValue",id:1},numberValue:{type:"double",id:2},stringValue:{type:"string",id:3},boolValue:{type:"bool",id:4},structValue:{type:"Struct",id:5},listValue:{type:"ListValue",id:6}}},NullValue:{values:{NULL_VALUE:0}},ListValue:{fields:{values:{rule:"repeated",type:"Value",id:1}}}});sr("wrappers",{DoubleValue:{fields:{value:{type:"double",id:1}}},FloatValue:{fields:{value:{type:"float",id:1}}},Int64Value:{fields:{value:{type:"int64",id:1}}},UInt64Value:{fields:{value:{type:"uint64",id:1}}},Int32Value:{fields:{value:{type:"int32",id:1}}},UInt32Value:{fields:{value:{type:"uint32",id:1}}},BoolValue:{fields:{value:{type:"bool",id:1}}},StringValue:{fields:{value:{type:"string",id:1}}},BytesValue:{fields:{value:{type:"bytes",id:1}}}});sr("field_mask",{FieldMask:{fields:{paths:{rule:"repeated",type:"string",id:1}}}});sr.get=function(e){return sr[e]||null}});var Qx=oe((xte,Jx)=>{"use strict";var Hi=Jx.exports=Lx();Hi.build="full";Hi.tokenize=$_();Hi.parse=qx();Hi.common=Yx();Hi.Root._configure(Hi.Type,Hi.parse,Hi.common)});var Xx=oe((Mte,Kx)=>{"use strict";Kx.exports=Qx()});function ap(n,e){return Object.is(n,e)}var gt=null,Uc=!1,lp=1,In=Symbol("SIGNAL");function ve(n){let e=gt;return gt=n,e}function cp(){return gt}var Da={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,kind:"unknown",producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function Sa(n){if(Uc)throw new Error("");if(gt===null)return;gt.consumerOnSignalRead(n);let e=gt.nextProducerIndex++;if(Gc(gt),e<gt.producerNode.length&&gt.producerNode[e]!==n&&Ia(gt)){let t=gt.producerNode[e];zc(t,gt.producerIndexOfThis[e])}gt.producerNode[e]!==n&&(gt.producerNode[e]=n,gt.producerIndexOfThis[e]=Ia(gt)?t0(n,gt,e):0),gt.producerLastReadVersion[e]=n.version}function e0(){lp++}function up(n){if(!(Ia(n)&&!n.dirty)&&!(!n.dirty&&n.lastCleanEpoch===lp)){if(!n.producerMustRecompute(n)&&!pp(n)){sp(n);return}n.producerRecomputeValue(n),sp(n)}}function dp(n){if(n.liveConsumerNode===void 0)return;let e=Uc;Uc=!0;try{for(let t of n.liveConsumerNode)t.dirty||FM(t)}finally{Uc=e}}function fp(){return gt?.consumerAllowSignalWrites!==!1}function FM(n){n.dirty=!0,dp(n),n.consumerMarkedDirty?.(n)}function sp(n){n.dirty=!1,n.lastCleanEpoch=lp}function Hc(n){return n&&(n.nextProducerIndex=0),ve(n)}function hp(n,e){if(ve(e),!(!n||n.producerNode===void 0||n.producerIndexOfThis===void 0||n.producerLastReadVersion===void 0)){if(Ia(n))for(let t=n.nextProducerIndex;t<n.producerNode.length;t++)zc(n.producerNode[t],n.producerIndexOfThis[t]);for(;n.producerNode.length>n.nextProducerIndex;)n.producerNode.pop(),n.producerLastReadVersion.pop(),n.producerIndexOfThis.pop()}}function pp(n){Gc(n);for(let e=0;e<n.producerNode.length;e++){let t=n.producerNode[e],r=n.producerLastReadVersion[e];if(r!==t.version||(up(t),r!==t.version))return!0}return!1}function mp(n){if(Gc(n),Ia(n))for(let e=0;e<n.producerNode.length;e++)zc(n.producerNode[e],n.producerIndexOfThis[e]);n.producerNode.length=n.producerLastReadVersion.length=n.producerIndexOfThis.length=0,n.liveConsumerNode&&(n.liveConsumerNode.length=n.liveConsumerIndexOfThis.length=0)}function t0(n,e,t){if(n0(n),n.liveConsumerNode.length===0&&r0(n))for(let r=0;r<n.producerNode.length;r++)n.producerIndexOfThis[r]=t0(n.producerNode[r],n,r);return n.liveConsumerIndexOfThis.push(t),n.liveConsumerNode.push(e)-1}function zc(n,e){if(n0(n),n.liveConsumerNode.length===1&&r0(n))for(let r=0;r<n.producerNode.length;r++)zc(n.producerNode[r],n.producerIndexOfThis[r]);let t=n.liveConsumerNode.length-1;if(n.liveConsumerNode[e]=n.liveConsumerNode[t],n.liveConsumerIndexOfThis[e]=n.liveConsumerIndexOfThis[t],n.liveConsumerNode.length--,n.liveConsumerIndexOfThis.length--,e<n.liveConsumerNode.length){let r=n.liveConsumerIndexOfThis[e],i=n.liveConsumerNode[e];Gc(i),i.producerIndexOfThis[r]=e}}function Ia(n){return n.consumerIsAlwaysLive||(n?.liveConsumerNode?.length??0)>0}function Gc(n){n.producerNode??=[],n.producerIndexOfThis??=[],n.producerLastReadVersion??=[]}function n0(n){n.liveConsumerNode??=[],n.liveConsumerIndexOfThis??=[]}function r0(n){return n.producerNode!==void 0}function gp(n,e){let t=Object.create(PM);t.computation=n,e!==void 0&&(t.equal=e);let r=()=>{if(up(t),Sa(t),t.value===$c)throw t.error;return t.value};return r[In]=t,r}var ip=Symbol("UNSET"),op=Symbol("COMPUTING"),$c=Symbol("ERRORED"),PM=X(T({},Da),{value:ip,dirty:!0,error:null,equal:ap,kind:"computed",producerMustRecompute(n){return n.value===ip||n.value===op},producerRecomputeValue(n){if(n.value===op)throw new Error("Detected cycle in computations.");let e=n.value;n.value=op;let t=Hc(n),r,i=!1;try{r=n.computation(),ve(null),i=e!==ip&&e!==$c&&r!==$c&&n.equal(e,r)}catch(o){r=$c,n.error=o}finally{hp(n,t)}if(i){n.value=e;return}n.value=r,n.version++}});function LM(){throw new Error}var i0=LM;function o0(n){i0(n)}function vp(n){i0=n}var VM=null;function yp(n,e){let t=Object.create(qc);t.value=n,e!==void 0&&(t.equal=e);let r=()=>(Sa(t),t.value);return r[In]=t,r}function Ta(n,e){fp()||o0(n),n.equal(n.value,e)||(n.value=e,jM(n))}function _p(n,e){fp()||o0(n),Ta(n,e(n.value))}var qc=X(T({},Da),{equal:ap,value:void 0,kind:"signal"});function jM(n){n.version++,e0(),dp(n),VM?.()}function bp(n){let e=ve(null);try{return n()}finally{ve(e)}}var wp;function xa(){return wp}function kr(n){let e=wp;return wp=n,e}var Wc=Symbol("NotFound");function le(n){return typeof n=="function"}function Zo(n){let t=n(r=>{Error.call(r),r.stack=new Error().stack});return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}var Zc=Zo(n=>function(t){n(this),this.message=t?`${t.length} errors occurred during unsubscription:
${t.map((r,i)=>`${i+1}) ${r.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=t});function Wi(n,e){if(n){let t=n.indexOf(e);0<=t&&n.splice(t,1)}}var Ve=class n{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;let{_parentage:t}=this;if(t)if(this._parentage=null,Array.isArray(t))for(let o of t)o.remove(this);else t.remove(this);let{initialTeardown:r}=this;if(le(r))try{r()}catch(o){e=o instanceof Zc?o.errors:[o]}let{_finalizers:i}=this;if(i){this._finalizers=null;for(let o of i)try{s0(o)}catch(s){e=e??[],s instanceof Zc?e=[...e,...s.errors]:e.push(s)}}if(e)throw new Zc(e)}}add(e){var t;if(e&&e!==this)if(this.closed)s0(e);else{if(e instanceof n){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(t=this._finalizers)!==null&&t!==void 0?t:[]).push(e)}}_hasParent(e){let{_parentage:t}=this;return t===e||Array.isArray(t)&&t.includes(e)}_addParent(e){let{_parentage:t}=this;this._parentage=Array.isArray(t)?(t.push(e),t):t?[t,e]:e}_removeParent(e){let{_parentage:t}=this;t===e?this._parentage=null:Array.isArray(t)&&Wi(t,e)}remove(e){let{_finalizers:t}=this;t&&Wi(t,e),e instanceof n&&e._removeParent(this)}};Ve.EMPTY=(()=>{let n=new Ve;return n.closed=!0,n})();var Cp=Ve.EMPTY;function Yc(n){return n instanceof Ve||n&&"closed"in n&&le(n.remove)&&le(n.add)&&le(n.unsubscribe)}function s0(n){le(n)?n():n.unsubscribe()}var Ln={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var Yo={setTimeout(n,e,...t){let{delegate:r}=Yo;return r?.setTimeout?r.setTimeout(n,e,...t):setTimeout(n,e,...t)},clearTimeout(n){let{delegate:e}=Yo;return(e?.clearTimeout||clearTimeout)(n)},delegate:void 0};function Jc(n){Yo.setTimeout(()=>{let{onUnhandledError:e}=Ln;if(e)e(n);else throw n})}function Zi(){}var a0=Ep("C",void 0,void 0);function l0(n){return Ep("E",void 0,n)}function c0(n){return Ep("N",n,void 0)}function Ep(n,e,t){return{kind:n,value:e,error:t}}var Yi=null;function Jo(n){if(Ln.useDeprecatedSynchronousErrorHandling){let e=!Yi;if(e&&(Yi={errorThrown:!1,error:null}),n(),e){let{errorThrown:t,error:r}=Yi;if(Yi=null,t)throw r}}else n()}function u0(n){Ln.useDeprecatedSynchronousErrorHandling&&Yi&&(Yi.errorThrown=!0,Yi.error=n)}var Ji=class extends Ve{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,Yc(e)&&e.add(this)):this.destination=GM}static create(e,t,r){return new Nr(e,t,r)}next(e){this.isStopped?Dp(c0(e),this):this._next(e)}error(e){this.isStopped?Dp(l0(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?Dp(a0,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},HM=Function.prototype.bind;function Ip(n,e){return HM.call(n,e)}var Sp=class{constructor(e){this.partialObserver=e}next(e){let{partialObserver:t}=this;if(t.next)try{t.next(e)}catch(r){Qc(r)}}error(e){let{partialObserver:t}=this;if(t.error)try{t.error(e)}catch(r){Qc(r)}else Qc(e)}complete(){let{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(t){Qc(t)}}},Nr=class extends Ji{constructor(e,t,r){super();let i;if(le(e)||!e)i={next:e??void 0,error:t??void 0,complete:r??void 0};else{let o;this&&Ln.useDeprecatedNextContext?(o=Object.create(e),o.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&Ip(e.next,o),error:e.error&&Ip(e.error,o),complete:e.complete&&Ip(e.complete,o)}):i=e}this.destination=new Sp(i)}};function Qc(n){Ln.useDeprecatedSynchronousErrorHandling?u0(n):Jc(n)}function zM(n){throw n}function Dp(n,e){let{onStoppedNotification:t}=Ln;t&&Yo.setTimeout(()=>t(n,e))}var GM={closed:!0,next:Zi,error:zM,complete:Zi};var Qo=typeof Symbol=="function"&&Symbol.observable||"@@observable";function qt(n){return n}function Tp(...n){return xp(n)}function xp(n){return n.length===0?qt:n.length===1?n[0]:function(t){return n.reduce((r,i)=>i(r),t)}}var Z=(()=>{class n{constructor(t){t&&(this._subscribe=t)}lift(t){let r=new n;return r.source=this,r.operator=t,r}subscribe(t,r,i){let o=WM(t)?t:new Nr(t,r,i);return Jo(()=>{let{operator:s,source:a}=this;o.add(s?s.call(o,a):a?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(t){try{return this._subscribe(t)}catch(r){t.error(r)}}forEach(t,r){return r=d0(r),new r((i,o)=>{let s=new Nr({next:a=>{try{t(a)}catch(l){o(l),s.unsubscribe()}},error:o,complete:i});this.subscribe(s)})}_subscribe(t){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(t)}[Qo](){return this}pipe(...t){return xp(t)(this)}toPromise(t){return t=d0(t),new t((r,i)=>{let o;this.subscribe(s=>o=s,s=>i(s),()=>r(o))})}}return n.create=e=>new n(e),n})();function d0(n){var e;return(e=n??Ln.Promise)!==null&&e!==void 0?e:Promise}function qM(n){return n&&le(n.next)&&le(n.error)&&le(n.complete)}function WM(n){return n&&n instanceof Ji||qM(n)&&Yc(n)}function Mp(n){return le(n?.lift)}function K(n){return e=>{if(Mp(e))return e.lift(function(t){try{return n(t,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function re(n,e,t,r,i){return new Ap(n,e,t,r,i)}var Ap=class extends Ji{constructor(e,t,r,i,o,s){super(e),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=t?function(a){try{t(a)}catch(l){e.error(l)}}:super._next,this._error=i?function(a){try{i(a)}catch(l){e.error(l)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:t}=this;super.unsubscribe(),!t&&((e=this.onFinalize)===null||e===void 0||e.call(this))}}};function Ko(){return K((n,e)=>{let t=null;n._refCount++;let r=re(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount){t=null;return}let i=n._connection,o=t;t=null,i&&(!o||i===o)&&i.unsubscribe(),e.unsubscribe()});n.subscribe(r),r.closed||(t=n.connect())})}var li=class extends Z{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,Mp(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){let e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new Ve;let t=this.getSubject();e.add(this.source.subscribe(re(t,void 0,()=>{this._teardown(),t.complete()},r=>{this._teardown(),t.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=Ve.EMPTY)}return e}refCount(){return Ko()(this)}};var Xo={schedule(n){let e=requestAnimationFrame,t=cancelAnimationFrame,{delegate:r}=Xo;r&&(e=r.requestAnimationFrame,t=r.cancelAnimationFrame);let i=e(o=>{t=void 0,n(o)});return new Ve(()=>t?.(i))},requestAnimationFrame(...n){let{delegate:e}=Xo;return(e?.requestAnimationFrame||requestAnimationFrame)(...n)},cancelAnimationFrame(...n){let{delegate:e}=Xo;return(e?.cancelAnimationFrame||cancelAnimationFrame)(...n)},delegate:void 0};var f0=Zo(n=>function(){n(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var ie=(()=>{class n extends Z{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(t){let r=new Kc(this,this);return r.operator=t,r}_throwIfClosed(){if(this.closed)throw new f0}next(t){Jo(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let r of this.currentObservers)r.next(t)}})}error(t){Jo(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=t;let{observers:r}=this;for(;r.length;)r.shift().error(t)}})}complete(){Jo(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:t}=this;for(;t.length;)t.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var t;return((t=this.observers)===null||t===void 0?void 0:t.length)>0}_trySubscribe(t){return this._throwIfClosed(),super._trySubscribe(t)}_subscribe(t){return this._throwIfClosed(),this._checkFinalizedStatuses(t),this._innerSubscribe(t)}_innerSubscribe(t){let{hasError:r,isStopped:i,observers:o}=this;return r||i?Cp:(this.currentObservers=null,o.push(t),new Ve(()=>{this.currentObservers=null,Wi(o,t)}))}_checkFinalizedStatuses(t){let{hasError:r,thrownError:i,isStopped:o}=this;r?t.error(i):o&&t.complete()}asObservable(){let t=new Z;return t.source=this,t}}return n.create=(e,t)=>new Kc(e,t),n})(),Kc=class extends ie{constructor(e,t){super(),this.destination=e,this.source=t}next(e){var t,r;(r=(t=this.destination)===null||t===void 0?void 0:t.next)===null||r===void 0||r.call(t,e)}error(e){var t,r;(r=(t=this.destination)===null||t===void 0?void 0:t.error)===null||r===void 0||r.call(t,e)}complete(){var e,t;(t=(e=this.destination)===null||e===void 0?void 0:e.complete)===null||t===void 0||t.call(e)}_subscribe(e){var t,r;return(r=(t=this.source)===null||t===void 0?void 0:t.subscribe(e))!==null&&r!==void 0?r:Cp}};var be=class extends ie{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){let t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){let{hasError:e,thrownError:t,_value:r}=this;if(e)throw t;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}};var Ma={now(){return(Ma.delegate||Date).now()},delegate:void 0};var Xc=class extends ie{constructor(e=1/0,t=1/0,r=Ma){super(),this._bufferSize=e,this._windowTime=t,this._timestampProvider=r,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=t===1/0,this._bufferSize=Math.max(1,e),this._windowTime=Math.max(1,t)}next(e){let{isStopped:t,_buffer:r,_infiniteTimeWindow:i,_timestampProvider:o,_windowTime:s}=this;t||(r.push(e),!i&&r.push(o.now()+s)),this._trimBuffer(),super.next(e)}_subscribe(e){this._throwIfClosed(),this._trimBuffer();let t=this._innerSubscribe(e),{_infiniteTimeWindow:r,_buffer:i}=this,o=i.slice();for(let s=0;s<o.length&&!e.closed;s+=r?1:2)e.next(o[s]);return this._checkFinalizedStatuses(e),t}_trimBuffer(){let{_bufferSize:e,_timestampProvider:t,_buffer:r,_infiniteTimeWindow:i}=this,o=(i?1:2)*e;if(e<1/0&&o<r.length&&r.splice(0,r.length-o),!i){let s=t.now(),a=0;for(let l=1;l<r.length&&r[l]<=s;l+=2)a=l;a&&r.splice(0,a+1)}}};var eu=class extends Ve{constructor(e,t){super()}schedule(e,t=0){return this}};var Aa={setInterval(n,e,...t){let{delegate:r}=Aa;return r?.setInterval?r.setInterval(n,e,...t):setInterval(n,e,...t)},clearInterval(n){let{delegate:e}=Aa;return(e?.clearInterval||clearInterval)(n)},delegate:void 0};var ci=class extends eu{constructor(e,t){super(e,t),this.scheduler=e,this.work=t,this.pending=!1}schedule(e,t=0){var r;if(this.closed)return this;this.state=e;let i=this.id,o=this.scheduler;return i!=null&&(this.id=this.recycleAsyncId(o,i,t)),this.pending=!0,this.delay=t,this.id=(r=this.id)!==null&&r!==void 0?r:this.requestAsyncId(o,this.id,t),this}requestAsyncId(e,t,r=0){return Aa.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,t,r=0){if(r!=null&&this.delay===r&&this.pending===!1)return t;t!=null&&Aa.clearInterval(t)}execute(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;let r=this._execute(e,t);if(r)return r;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,t){let r=!1,i;try{this.work(e)}catch(o){r=!0,i=o||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){let{id:e,scheduler:t}=this,{actions:r}=t;this.work=this.state=this.scheduler=null,this.pending=!1,Wi(r,this),e!=null&&(this.id=this.recycleAsyncId(t,e,null)),this.delay=null,super.unsubscribe()}}};var ZM=1,Rp,Op={};function h0(n){return n in Op?(delete Op[n],!0):!1}var p0={setImmediate(n){let e=ZM++;return Op[e]=!0,Rp||(Rp=Promise.resolve()),Rp.then(()=>h0(e)&&n()),e},clearImmediate(n){h0(n)}};var{setImmediate:YM,clearImmediate:JM}=p0,Ra={setImmediate(...n){let{delegate:e}=Ra;return(e?.setImmediate||YM)(...n)},clearImmediate(n){let{delegate:e}=Ra;return(e?.clearImmediate||JM)(n)},delegate:void 0};var tu=class extends ci{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}requestAsyncId(e,t,r=0){return r!==null&&r>0?super.requestAsyncId(e,t,r):(e.actions.push(this),e._scheduled||(e._scheduled=Ra.setImmediate(e.flush.bind(e,void 0))))}recycleAsyncId(e,t,r=0){var i;if(r!=null?r>0:this.delay>0)return super.recycleAsyncId(e,t,r);let{actions:o}=e;t!=null&&((i=o[o.length-1])===null||i===void 0?void 0:i.id)!==t&&(Ra.clearImmediate(t),e._scheduled===t&&(e._scheduled=void 0))}};var es=class n{constructor(e,t=n.now){this.schedulerActionCtor=e,this.now=t}schedule(e,t=0,r){return new this.schedulerActionCtor(this,e).schedule(r,t)}};es.now=Ma.now;var ui=class extends es{constructor(e,t=es.now){super(e,t),this.actions=[],this._active=!1}flush(e){let{actions:t}=this;if(this._active){t.push(e);return}let r;this._active=!0;do if(r=e.execute(e.state,e.delay))break;while(e=t.shift());if(this._active=!1,r){for(;e=t.shift();)e.unsubscribe();throw r}}};var nu=class extends ui{flush(e){this._active=!0;let t=this._scheduled;this._scheduled=void 0;let{actions:r}=this,i;e=e||r.shift();do if(i=e.execute(e.state,e.delay))break;while((e=r[0])&&e.id===t&&r.shift());if(this._active=!1,i){for(;(e=r[0])&&e.id===t&&r.shift();)e.unsubscribe();throw i}}};var kp=new nu(tu);var Oa=new ui(ci),m0=Oa;var ru=class extends ci{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}requestAsyncId(e,t,r=0){return r!==null&&r>0?super.requestAsyncId(e,t,r):(e.actions.push(this),e._scheduled||(e._scheduled=Xo.requestAnimationFrame(()=>e.flush(void 0))))}recycleAsyncId(e,t,r=0){var i;if(r!=null?r>0:this.delay>0)return super.recycleAsyncId(e,t,r);let{actions:o}=e;t!=null&&t===e._scheduled&&((i=o[o.length-1])===null||i===void 0?void 0:i.id)!==t&&(Xo.cancelAnimationFrame(t),e._scheduled=void 0)}};var iu=class extends ui{flush(e){this._active=!0;let t;e?t=e.id:(t=this._scheduled,this._scheduled=void 0);let{actions:r}=this,i;e=e||r.shift();do if(i=e.execute(e.state,e.delay))break;while((e=r[0])&&e.id===t&&r.shift());if(this._active=!1,i){for(;(e=r[0])&&e.id===t&&r.shift();)e.unsubscribe();throw i}}};var Np=new iu(ru);var Kt=new Z(n=>n.complete());function ou(n){return n&&le(n.schedule)}function g0(n){return n[n.length-1]}function su(n){return le(g0(n))?n.pop():void 0}function di(n){return ou(g0(n))?n.pop():void 0}function y0(n,e,t,r){function i(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(u){try{c(r.next(u))}catch(d){s(d)}}function l(u){try{c(r.throw(u))}catch(d){s(d)}}function c(u){u.done?o(u.value):i(u.value).then(a,l)}c((r=r.apply(n,e||[])).next())})}function v0(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Qi(n){return this instanceof Qi?(this.v=n,this):new Qi(n)}function _0(n,e,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=t.apply(n,e||[]),i,o=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",s),i[Symbol.asyncIterator]=function(){return this},i;function s(f){return function(h){return Promise.resolve(h).then(f,d)}}function a(f,h){r[f]&&(i[f]=function(v){return new Promise(function(y,x){o.push([f,v,y,x])>1||l(f,v)})},h&&(i[f]=h(i[f])))}function l(f,h){try{c(r[f](h))}catch(v){p(o[0][3],v)}}function c(f){f.value instanceof Qi?Promise.resolve(f.value.v).then(u,d):p(o[0][2],f)}function u(f){l("next",f)}function d(f){l("throw",f)}function p(f,h){f(h),o.shift(),o.length&&l(o[0][0],o[0][1])}}function b0(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=n[Symbol.asyncIterator],t;return e?e.call(n):(n=typeof v0=="function"?v0(n):n[Symbol.iterator](),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(o){t[o]=n[o]&&function(s){return new Promise(function(a,l){s=n[o](s),i(a,l,s.done,s.value)})}}function i(o,s,a,l){Promise.resolve(l).then(function(c){o({value:c,done:a})},s)}}var au=n=>n&&typeof n.length=="number"&&typeof n!="function";function lu(n){return le(n?.then)}function cu(n){return le(n[Qo])}function uu(n){return Symbol.asyncIterator&&le(n?.[Symbol.asyncIterator])}function du(n){return new TypeError(`You provided ${n!==null&&typeof n=="object"?"an invalid object":`'${n}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function QM(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var fu=QM();function hu(n){return le(n?.[fu])}function pu(n){return _0(this,arguments,function*(){let t=n.getReader();try{for(;;){let{value:r,done:i}=yield Qi(t.read());if(i)return yield Qi(void 0);yield yield Qi(r)}}finally{t.releaseLock()}})}function mu(n){return le(n?.getReader)}function Ye(n){if(n instanceof Z)return n;if(n!=null){if(cu(n))return KM(n);if(au(n))return XM(n);if(lu(n))return eA(n);if(uu(n))return w0(n);if(hu(n))return tA(n);if(mu(n))return nA(n)}throw du(n)}function KM(n){return new Z(e=>{let t=n[Qo]();if(le(t.subscribe))return t.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function XM(n){return new Z(e=>{for(let t=0;t<n.length&&!e.closed;t++)e.next(n[t]);e.complete()})}function eA(n){return new Z(e=>{n.then(t=>{e.closed||(e.next(t),e.complete())},t=>e.error(t)).then(null,Jc)})}function tA(n){return new Z(e=>{for(let t of n)if(e.next(t),e.closed)return;e.complete()})}function w0(n){return new Z(e=>{rA(n,e).catch(t=>e.error(t))})}function nA(n){return w0(pu(n))}function rA(n,e){var t,r,i,o;return y0(this,void 0,void 0,function*(){try{for(t=b0(n);r=yield t.next(),!r.done;){let s=r.value;if(e.next(s),e.closed)return}}catch(s){i={error:s}}finally{try{r&&!r.done&&(o=t.return)&&(yield o.call(t))}finally{if(i)throw i.error}}e.complete()})}function Xt(n,e,t,r=0,i=!1){let o=e.schedule(function(){t(),i?n.add(this.schedule(null,r)):this.unsubscribe()},r);if(n.add(o),!i)return o}function gu(n,e=0){return K((t,r)=>{t.subscribe(re(r,i=>Xt(r,n,()=>r.next(i),e),()=>Xt(r,n,()=>r.complete(),e),i=>Xt(r,n,()=>r.error(i),e)))})}function vu(n,e=0){return K((t,r)=>{r.add(n.schedule(()=>t.subscribe(r),e))})}function C0(n,e){return Ye(n).pipe(vu(e),gu(e))}function E0(n,e){return Ye(n).pipe(vu(e),gu(e))}function I0(n,e){return new Z(t=>{let r=0;return e.schedule(function(){r===n.length?t.complete():(t.next(n[r++]),t.closed||this.schedule())})})}function D0(n,e){return new Z(t=>{let r;return Xt(t,e,()=>{r=n[fu](),Xt(t,e,()=>{let i,o;try{({value:i,done:o}=r.next())}catch(s){t.error(s);return}o?t.complete():t.next(i)},0,!0)}),()=>le(r?.return)&&r.return()})}function yu(n,e){if(!n)throw new Error("Iterable cannot be null");return new Z(t=>{Xt(t,e,()=>{let r=n[Symbol.asyncIterator]();Xt(t,e,()=>{r.next().then(i=>{i.done?t.complete():t.next(i.value)})},0,!0)})})}function S0(n,e){return yu(pu(n),e)}function T0(n,e){if(n!=null){if(cu(n))return C0(n,e);if(au(n))return I0(n,e);if(lu(n))return E0(n,e);if(uu(n))return yu(n,e);if(hu(n))return D0(n,e);if(mu(n))return S0(n,e)}throw du(n)}function He(n,e){return e?T0(n,e):Ye(n)}function z(...n){let e=di(n);return He(n,e)}function fi(n,e){let t=le(n)?n:()=>n,r=i=>i.error(t());return new Z(e?i=>e.schedule(r,0,i):r)}function Ki(n){return!!n&&(n instanceof Z||le(n.lift)&&le(n.subscribe))}var Fr=Zo(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});function x0(n){return n instanceof Date&&!isNaN(n)}function J(n,e){return K((t,r)=>{let i=0;t.subscribe(re(r,o=>{r.next(n.call(e,o,i++))}))})}var{isArray:iA}=Array;function oA(n,e){return iA(e)?n(...e):n(e)}function _u(n){return J(e=>oA(n,e))}var{isArray:sA}=Array,{getPrototypeOf:aA,prototype:lA,keys:cA}=Object;function bu(n){if(n.length===1){let e=n[0];if(sA(e))return{args:e,keys:null};if(uA(e)){let t=cA(e);return{args:t.map(r=>e[r]),keys:t}}}return{args:n,keys:null}}function uA(n){return n&&typeof n=="object"&&aA(n)===lA}function wu(n,e){return n.reduce((t,r,i)=>(t[r]=e[i],t),{})}function Xi(...n){let e=di(n),t=su(n),{args:r,keys:i}=bu(n);if(r.length===0)return He([],e);let o=new Z(dA(r,e,i?s=>wu(i,s):qt));return t?o.pipe(_u(t)):o}function dA(n,e,t=qt){return r=>{M0(e,()=>{let{length:i}=n,o=new Array(i),s=i,a=i;for(let l=0;l<i;l++)M0(e,()=>{let c=He(n[l],e),u=!1;c.subscribe(re(r,d=>{o[l]=d,u||(u=!0,a--),a||r.next(t(o.slice()))},()=>{--s||r.complete()}))},r)},r)}}function M0(n,e,t){n?Xt(t,n,e):e()}function A0(n,e,t,r,i,o,s,a){let l=[],c=0,u=0,d=!1,p=()=>{d&&!l.length&&!c&&e.complete()},f=v=>c<r?h(v):l.push(v),h=v=>{o&&e.next(v),c++;let y=!1;Ye(t(v,u++)).subscribe(re(e,x=>{i?.(x),o?f(x):e.next(x)},()=>{y=!0},void 0,()=>{if(y)try{for(c--;l.length&&c<r;){let x=l.shift();s?Xt(e,s,()=>h(x)):h(x)}p()}catch(x){e.error(x)}}))};return n.subscribe(re(e,f,()=>{d=!0,p()})),()=>{a?.()}}function Je(n,e,t=1/0){return le(e)?Je((r,i)=>J((o,s)=>e(r,o,i,s))(Ye(n(r,i))),t):(typeof e=="number"&&(t=e),K((r,i)=>A0(r,i,n,t)))}function ts(n=1/0){return Je(qt,n)}function R0(){return ts(1)}function hi(...n){return R0()(He(n,di(n)))}function Cu(n){return new Z(e=>{Ye(n()).subscribe(e)})}function ka(...n){let e=su(n),{args:t,keys:r}=bu(n),i=new Z(o=>{let{length:s}=t;if(!s){o.complete();return}let a=new Array(s),l=s,c=s;for(let u=0;u<s;u++){let d=!1;Ye(t[u]).subscribe(re(o,p=>{d||(d=!0,c--),a[u]=p},()=>l--,void 0,()=>{(!l||!d)&&(c||o.next(r?wu(r,a):a),o.complete())}))}});return e?i.pipe(_u(e)):i}function O0(n=0,e,t=m0){let r=-1;return e!=null&&(ou(e)?t=e:r=e),new Z(i=>{let o=x0(n)?+n-t.now():n;o<0&&(o=0);let s=0;return t.schedule(function(){i.closed||(i.next(s++),0<=r?this.schedule(void 0,r):i.complete())},o)})}var eo=new Z(Zi);function et(n,e){return K((t,r)=>{let i=0;t.subscribe(re(r,o=>n.call(e,o,i++)&&r.next(o)))})}function k0(n){return K((e,t)=>{let r=!1,i=null,o=null,s=!1,a=()=>{if(o?.unsubscribe(),o=null,r){r=!1;let c=i;i=null,t.next(c)}s&&t.complete()},l=()=>{o=null,s&&t.complete()};e.subscribe(re(t,c=>{r=!0,i=c,o||Ye(n(c)).subscribe(o=re(t,a,l))},()=>{s=!0,(!r||!o||o.closed)&&t.complete()}))})}function Na(n,e=Oa){return k0(()=>O0(n,e))}function Vn(n){return K((e,t)=>{let r=null,i=!1,o;r=e.subscribe(re(t,void 0,void 0,s=>{o=Ye(n(s,Vn(n)(e))),r?(r.unsubscribe(),r=null,o.subscribe(t)):i=!0})),i&&(r.unsubscribe(),r=null,o.subscribe(t))})}function Eu(n,e,t,r,i){return(o,s)=>{let a=t,l=e,c=0;o.subscribe(re(s,u=>{let d=c++;l=a?n(l,u,d):(a=!0,u),r&&s.next(l)},i&&(()=>{a&&s.next(l),s.complete()})))}}function N0(n,e){return K(Eu(n,e,arguments.length>=2,!1,!0))}var fA=(n,e)=>(n.push(e),n);function Fp(){return K((n,e)=>{N0(fA,[])(n).subscribe(e)})}function Pr(n,e){return le(e)?Je(n,e,1):Je(n,1)}function lr(n,e=Oa){return K((t,r)=>{let i=null,o=null,s=null,a=()=>{if(i){i.unsubscribe(),i=null;let c=o;o=null,r.next(c)}};function l(){let c=s+n,u=e.now();if(u<c){i=this.schedule(void 0,c-u),r.add(i);return}a()}t.subscribe(re(r,c=>{o=c,s=e.now(),i||(i=e.schedule(l,n),r.add(i))},()=>{a(),r.complete()},void 0,()=>{o=i=null}))})}function pi(n){return K((e,t)=>{let r=!1;e.subscribe(re(t,i=>{r=!0,t.next(i)},()=>{r||t.next(n),t.complete()}))})}function vt(n){return n<=0?()=>Kt:K((e,t)=>{let r=0;e.subscribe(re(t,i=>{++r<=n&&(t.next(i),n<=r&&t.complete())}))})}function Pp(n,e=qt){return n=n??hA,K((t,r)=>{let i,o=!0;t.subscribe(re(r,s=>{let a=e(s);(o||!n(i,a))&&(o=!1,i=a,r.next(s))}))})}function hA(n,e){return n===e}function Iu(n=pA){return K((e,t)=>{let r=!1;e.subscribe(re(t,i=>{r=!0,t.next(i)},()=>r?t.complete():t.error(n())))})}function pA(){return new Fr}function Lr(n){return K((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}function Vr(n,e){let t=arguments.length>=2;return r=>r.pipe(n?et((i,o)=>n(i,o,r)):qt,vt(1),t?pi(e):Iu(()=>new Fr))}function ns(n){return n<=0?()=>Kt:K((e,t)=>{let r=[];e.subscribe(re(t,i=>{r.push(i),n<r.length&&r.shift()},()=>{for(let i of r)t.next(i);t.complete()},void 0,()=>{r=null}))})}function Lp(n,e){let t=arguments.length>=2;return r=>r.pipe(n?et((i,o)=>n(i,o,r)):qt,ns(1),t?pi(e):Iu(()=>new Fr))}function Vp(){return K((n,e)=>{let t,r=!1;n.subscribe(re(e,i=>{let o=t;t=i,r&&e.next([o,i]),r=!0}))})}function jp(n,e){return K(Eu(n,e,arguments.length>=2,!0))}function Fa(n={}){let{connector:e=()=>new ie,resetOnError:t=!0,resetOnComplete:r=!0,resetOnRefCountZero:i=!0}=n;return o=>{let s,a,l,c=0,u=!1,d=!1,p=()=>{a?.unsubscribe(),a=void 0},f=()=>{p(),s=l=void 0,u=d=!1},h=()=>{let v=s;f(),v?.unsubscribe()};return K((v,y)=>{c++,!d&&!u&&p();let x=l=l??e();y.add(()=>{c--,c===0&&!d&&!u&&(a=Bp(h,i))}),x.subscribe(y),!s&&c>0&&(s=new Nr({next:U=>x.next(U),error:U=>{d=!0,p(),a=Bp(f,t,U),x.error(U)},complete:()=>{u=!0,p(),a=Bp(f,r),x.complete()}}),Ye(v).subscribe(s))})(o)}}function Bp(n,e,...t){if(e===!0){n();return}if(e===!1)return;let r=new Nr({next:()=>{r.unsubscribe(),n()}});return Ye(e(...t)).subscribe(r)}function Up(n,e,t){let r,i=!1;return n&&typeof n=="object"?{bufferSize:r=1/0,windowTime:e=1/0,refCount:i=!1,scheduler:t}=n:r=n??1/0,Fa({connector:()=>new Xc(r,e,t),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:i})}function $p(n){return et((e,t)=>n<=t)}function mi(...n){let e=di(n);return K((t,r)=>{(e?hi(n,t,e):hi(n,t)).subscribe(r)})}function xe(n,e){return K((t,r)=>{let i=null,o=0,s=!1,a=()=>s&&!i&&r.complete();t.subscribe(re(r,l=>{i?.unsubscribe();let c=0,u=o++;Ye(n(l,u)).subscribe(i=re(r,d=>r.next(e?e(l,d,u,c++):d),()=>{i=null,a()}))},()=>{s=!0,a()}))})}function jr(n){return K((e,t)=>{Ye(n).subscribe(re(t,()=>t.complete(),Zi)),!t.closed&&e.subscribe(t)})}function We(n,e,t){let r=le(n)||e||t?{next:n,error:e,complete:t}:n;return r?K((i,o)=>{var s;(s=r.subscribe)===null||s===void 0||s.call(r);let a=!0;i.subscribe(re(o,l=>{var c;(c=r.next)===null||c===void 0||c.call(r,l),o.next(l)},()=>{var l;a=!1,(l=r.complete)===null||l===void 0||l.call(r),o.complete()},l=>{var c;a=!1,(c=r.error)===null||c===void 0||c.call(r,l),o.error(l)},()=>{var l,c;a&&((l=r.unsubscribe)===null||l===void 0||l.call(r)),(c=r.finalize)===null||c===void 0||c.call(r)}))}):qt}var Ib="https://angular.dev/best-practices/security#preventing-cross-site-scripting-xss",V=class extends Error{code;constructor(e,t){super(ld(e,t)),this.code=e}};function mA(n){return`NG0${Math.abs(n)}`}function ld(n,e){return`${mA(n)}${e?": "+e:""}`}var Db=Symbol("InputSignalNode#UNSET"),gA=X(T({},qc),{transformFn:void 0,applyValueToInputSignal(n,e){Ta(n,e)}});function Sb(n,e){let t=Object.create(gA);t.value=n,t.transformFn=e?.transform;function r(){if(Sa(t),t.value===Db){let i=null;throw new V(-950,i)}return t.value}return r[In]=t,r}function Wa(n){return{toString:n}.toString()}var Du="__parameters__";function vA(n){return function(...t){if(n){let r=n(...t);for(let i in r)this[i]=r[i]}}}function sg(n,e,t){return Wa(()=>{let r=vA(e);function i(...o){if(this instanceof i)return r.apply(this,o),this;let s=new i(...o);return a.annotation=s,a;function a(l,c,u){let d=l.hasOwnProperty(Du)?l[Du]:Object.defineProperty(l,Du,{value:[]})[Du];for(;d.length<=u;)d.push(null);return(d[u]=d[u]||[]).push(s),l}}return i.prototype.ngMetadataName=n,i.annotationCls=i,i})}var cs=globalThis;function ze(n){for(let e in n)if(n[e]===ze)return e;throw Error("Could not find renamed property on target object.")}function yA(n,e){for(let t in e)e.hasOwnProperty(t)&&!n.hasOwnProperty(t)&&(n[t]=e[t])}function nn(n){if(typeof n=="string")return n;if(Array.isArray(n))return`[${n.map(nn).join(", ")}]`;if(n==null)return""+n;let e=n.overriddenName||n.name;if(e)return`${e}`;let t=n.toString();if(t==null)return""+t;let r=t.indexOf(`
`);return r>=0?t.slice(0,r):t}function nm(n,e){return n?e?`${n} ${e}`:n:e||""}var _A=ze({__forward_ref__:ze});function Mt(n){return n.__forward_ref__=Mt,n.toString=function(){return nn(this())},n}function Wt(n){return Tb(n)?n():n}function Tb(n){return typeof n=="function"&&n.hasOwnProperty(_A)&&n.__forward_ref__===Mt}function O(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function Qe(n){return{providers:n.providers||[],imports:n.imports||[]}}function cd(n){return F0(n,Mb)||F0(n,Ab)}function xb(n){return cd(n)!==null}function F0(n,e){return n.hasOwnProperty(e)?n[e]:null}function bA(n){let e=n&&(n[Mb]||n[Ab]);return e||null}function P0(n){return n&&(n.hasOwnProperty(L0)||n.hasOwnProperty(wA))?n[L0]:null}var Mb=ze({\u0275prov:ze}),L0=ze({\u0275inj:ze}),Ab=ze({ngInjectableDef:ze}),wA=ze({ngInjectorDef:ze}),B=class{_desc;ngMetadataName="InjectionToken";\u0275prov;constructor(e,t){this._desc=e,this.\u0275prov=void 0,typeof t=="number"?this.__NG_ELEMENT_ID__=t:t!==void 0&&(this.\u0275prov=O({token:this,providedIn:t.providedIn||"root",factory:t.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function Rb(n){return n&&!!n.\u0275providers}var CA=ze({\u0275cmp:ze}),EA=ze({\u0275dir:ze}),IA=ze({\u0275pipe:ze}),DA=ze({\u0275mod:ze}),Pu=ze({\u0275fac:ze}),ja=ze({__NG_ELEMENT_ID__:ze}),V0=ze({__NG_ENV_ID__:ze});function ro(n){return typeof n=="string"?n:n==null?"":String(n)}function SA(n){return typeof n=="function"?n.name||n.toString():typeof n=="object"&&n!=null&&typeof n.type=="function"?n.type.name||n.type.toString():ro(n)}function Ob(n,e){throw new V(-200,n)}function ag(n,e){throw new V(-201,!1)}var de=function(n){return n[n.Default=0]="Default",n[n.Host=1]="Host",n[n.Self=2]="Self",n[n.SkipSelf=4]="SkipSelf",n[n.Optional=8]="Optional",n}(de||{}),rm;function kb(){return rm}function en(n){let e=rm;return rm=n,e}function Nb(n,e,t){let r=cd(n);if(r&&r.providedIn=="root")return r.value===void 0?r.value=r.factory():r.value;if(t&de.Optional)return null;if(e!==void 0)return e;ag(n,"Injector")}var TA={},to=TA,im="__NG_DI_FLAG__",Lu=class{injector;constructor(e){this.injector=e}retrieve(e,t){let r=t;return this.injector.get(e,r.optional?Wc:to,r)}},Vu="ngTempTokenPath",xA="ngTokenPath",MA=/\n/gm,AA="\u0275",j0="__source";function RA(n,e=de.Default){if(xa()===void 0)throw new V(-203,!1);if(xa()===null)return Nb(n,void 0,e);{let t=xa(),r;return t instanceof Lu?r=t.injector:r=t,r.get(n,e&de.Optional?null:void 0,e)}}function N(n,e=de.Default){return(kb()||RA)(Wt(n),e)}function E(n,e=de.Default){return N(n,ud(e))}function ud(n){return typeof n>"u"||typeof n=="number"?n:0|(n.optional&&8)|(n.host&&1)|(n.self&&2)|(n.skipSelf&&4)}function om(n){let e=[];for(let t=0;t<n.length;t++){let r=Wt(n[t]);if(Array.isArray(r)){if(r.length===0)throw new V(900,!1);let i,o=de.Default;for(let s=0;s<r.length;s++){let a=r[s],l=OA(a);typeof l=="number"?l===-1?i=a.token:o|=l:i=a}e.push(N(i,o))}else e.push(N(r))}return e}function lg(n,e){return n[im]=e,n.prototype[im]=e,n}function OA(n){return n[im]}function kA(n,e,t,r){let i=n[Vu];throw e[j0]&&i.unshift(e[j0]),n.message=NA(`
`+n.message,i,t,r),n[xA]=i,n[Vu]=null,n}function NA(n,e,t,r=null){n=n&&n.charAt(0)===`
`&&n.charAt(1)==AA?n.slice(2):n;let i=nn(e);if(Array.isArray(e))i=e.map(nn).join(" -> ");else if(typeof e=="object"){let o=[];for(let s in e)if(e.hasOwnProperty(s)){let a=e[s];o.push(s+":"+(typeof a=="string"?JSON.stringify(a):nn(a)))}i=`{${o.join(", ")}}`}return`${t}${r?"("+r+")":""}[${i}]: ${n.replace(MA,`
  `)}`}var Fb=lg(sg("Inject",n=>({token:n})),-1),Za=lg(sg("Optional"),8);var Pb=lg(sg("SkipSelf"),4);function io(n,e){let t=n.hasOwnProperty(Pu);return t?n[Pu]:null}function FA(n,e,t){if(n.length!==e.length)return!1;for(let r=0;r<n.length;r++){let i=n[r],o=e[r];if(t&&(i=t(i),o=t(o)),o!==i)return!1}return!0}function PA(n){return n.flat(Number.POSITIVE_INFINITY)}function cg(n,e){n.forEach(t=>Array.isArray(t)?cg(t,e):e(t))}function Lb(n,e,t){e>=n.length?n.push(t):n.splice(e,0,t)}function ju(n,e){return e>=n.length-1?n.pop():n.splice(e,1)[0]}function LA(n,e){let t=[];for(let r=0;r<n;r++)t.push(e);return t}function VA(n,e,t,r){let i=n.length;if(i==e)n.push(t,r);else if(i===1)n.push(r,n[0]),n[0]=t;else{for(i--,n.push(n[i-1],n[i]);i>e;){let o=i-2;n[i]=n[o],i--}n[e]=t,n[e+1]=r}}function dd(n,e,t){let r=Ya(n,e);return r>=0?n[r|1]=t:(r=~r,VA(n,r,e,t)),r}function Hp(n,e){let t=Ya(n,e);if(t>=0)return n[t|1]}function Ya(n,e){return jA(n,e,1)}function jA(n,e,t){let r=0,i=n.length>>t;for(;i!==r;){let o=r+(i-r>>1),s=n[o<<t];if(e===s)return o<<t;s>e?i=o:r=o+1}return~(i<<t)}var oo={},tn=[],us=new B(""),Vb=new B("",-1),jb=new B(""),Bu=class{get(e,t=to){if(t===to){let r=new Error(`NullInjectorError: No provider for ${nn(e)}!`);throw r.name="NullInjectorError",r}return t}};function Bb(n,e){let t=n[DA]||null;if(!t&&e===!0)throw new Error(`Type ${nn(n)} does not have '\u0275mod' property.`);return t}function so(n){return n[CA]||null}function BA(n){return n[EA]||null}function UA(n){return n[IA]||null}function Gr(n){return{\u0275providers:n}}function $A(...n){return{\u0275providers:Ub(!0,n),\u0275fromNgModule:!0}}function Ub(n,...e){let t=[],r=new Set,i,o=s=>{t.push(s)};return cg(e,s=>{let a=s;sm(a,o,[],r)&&(i||=[],i.push(a))}),i!==void 0&&$b(i,o),t}function $b(n,e){for(let t=0;t<n.length;t++){let{ngModule:r,providers:i}=n[t];ug(i,o=>{e(o,r)})}}function sm(n,e,t,r){if(n=Wt(n),!n)return!1;let i=null,o=P0(n),s=!o&&so(n);if(!o&&!s){let l=n.ngModule;if(o=P0(l),o)i=l;else return!1}else{if(s&&!s.standalone)return!1;i=n}let a=r.has(i);if(s){if(a)return!1;if(r.add(i),s.dependencies){let l=typeof s.dependencies=="function"?s.dependencies():s.dependencies;for(let c of l)sm(c,e,t,r)}}else if(o){if(o.imports!=null&&!a){r.add(i);let c;try{cg(o.imports,u=>{sm(u,e,t,r)&&(c||=[],c.push(u))})}finally{}c!==void 0&&$b(c,e)}if(!a){let c=io(i)||(()=>new i);e({provide:i,useFactory:c,deps:tn},i),e({provide:jb,useValue:i,multi:!0},i),e({provide:us,useValue:()=>N(i),multi:!0},i)}let l=o.providers;if(l!=null&&!a){let c=n;ug(l,u=>{e(u,c)})}}else return!1;return i!==n&&n.providers!==void 0}function ug(n,e){for(let t of n)Rb(t)&&(t=t.\u0275providers),Array.isArray(t)?ug(t,e):e(t)}var HA=ze({provide:String,useValue:ze});function Hb(n){return n!==null&&typeof n=="object"&&HA in n}function zA(n){return!!(n&&n.useExisting)}function GA(n){return!!(n&&n.useFactory)}function ds(n){return typeof n=="function"}function qA(n){return!!n.useClass}var fd=new B(""),Au={},B0={},zp;function dg(){return zp===void 0&&(zp=new Bu),zp}var Zt=class{},Ba=class extends Zt{parent;source;scopes;records=new Map;_ngOnDestroyHooks=new Set;_onDestroyHooks=[];get destroyed(){return this._destroyed}_destroyed=!1;injectorDefTypes;constructor(e,t,r,i){super(),this.parent=t,this.source=r,this.scopes=i,lm(e,s=>this.processProvider(s)),this.records.set(Vb,rs(void 0,this)),i.has("environment")&&this.records.set(Zt,rs(void 0,this));let o=this.records.get(fd);o!=null&&typeof o.value=="string"&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(jb,tn,de.Self))}retrieve(e,t){let r=t;return this.get(e,r.optional?Wc:to,r)}destroy(){La(this),this._destroyed=!0;let e=ve(null);try{for(let r of this._ngOnDestroyHooks)r.ngOnDestroy();let t=this._onDestroyHooks;this._onDestroyHooks=[];for(let r of t)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),ve(e)}}onDestroy(e){return La(this),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){La(this);let t=kr(this),r=en(void 0),i;try{return e()}finally{kr(t),en(r)}}get(e,t=to,r=de.Default){if(La(this),e.hasOwnProperty(V0))return e[V0](this);r=ud(r);let i,o=kr(this),s=en(void 0);try{if(!(r&de.SkipSelf)){let l=this.records.get(e);if(l===void 0){let c=QA(e)&&cd(e);c&&this.injectableDefInScope(c)?l=rs(am(e),Au):l=null,this.records.set(e,l)}if(l!=null)return this.hydrate(e,l,r)}let a=r&de.Self?dg():this.parent;return t=r&de.Optional&&t===to?null:t,a.get(e,t)}catch(a){if(a.name==="NullInjectorError"){if((a[Vu]=a[Vu]||[]).unshift(nn(e)),o)throw a;return kA(a,e,"R3InjectorError",this.source)}else throw a}finally{en(s),kr(o)}}resolveInjectorInitializers(){let e=ve(null),t=kr(this),r=en(void 0),i;try{let o=this.get(us,tn,de.Self);for(let s of o)s()}finally{kr(t),en(r),ve(e)}}toString(){let e=[],t=this.records;for(let r of t.keys())e.push(nn(r));return`R3Injector[${e.join(", ")}]`}processProvider(e){e=Wt(e);let t=ds(e)?e:Wt(e&&e.provide),r=ZA(e);if(!ds(e)&&e.multi===!0){let i=this.records.get(t);i||(i=rs(void 0,Au,!0),i.factory=()=>om(i.multi),this.records.set(t,i)),t=e,i.multi.push(e)}this.records.set(t,r)}hydrate(e,t,r){let i=ve(null);try{return t.value===B0?Ob(nn(e)):t.value===Au&&(t.value=B0,t.value=t.factory(void 0,r)),typeof t.value=="object"&&t.value&&JA(t.value)&&this._ngOnDestroyHooks.add(t.value),t.value}finally{ve(i)}}injectableDefInScope(e){if(!e.providedIn)return!1;let t=Wt(e.providedIn);return typeof t=="string"?t==="any"||this.scopes.has(t):this.injectorDefTypes.has(t)}removeOnDestroy(e){let t=this._onDestroyHooks.indexOf(e);t!==-1&&this._onDestroyHooks.splice(t,1)}};function am(n){let e=cd(n),t=e!==null?e.factory:io(n);if(t!==null)return t;if(n instanceof B)throw new V(204,!1);if(n instanceof Function)return WA(n);throw new V(204,!1)}function WA(n){if(n.length>0)throw new V(204,!1);let t=bA(n);return t!==null?()=>t.factory(n):()=>new n}function ZA(n){if(Hb(n))return rs(void 0,n.useValue);{let e=zb(n);return rs(e,Au)}}function zb(n,e,t){let r;if(ds(n)){let i=Wt(n);return io(i)||am(i)}else if(Hb(n))r=()=>Wt(n.useValue);else if(GA(n))r=()=>n.useFactory(...om(n.deps||[]));else if(zA(n))r=(i,o)=>N(Wt(n.useExisting),o!==void 0&&o&de.Optional?de.Optional:void 0);else{let i=Wt(n&&(n.useClass||n.provide));if(YA(n))r=()=>new i(...om(n.deps));else return io(i)||am(i)}return r}function La(n){if(n.destroyed)throw new V(205,!1)}function rs(n,e,t=!1){return{factory:n,value:e,multi:t?[]:void 0}}function YA(n){return!!n.deps}function JA(n){return n!==null&&typeof n=="object"&&typeof n.ngOnDestroy=="function"}function QA(n){return typeof n=="function"||typeof n=="object"&&n instanceof B}function lm(n,e){for(let t of n)Array.isArray(t)?lm(t,e):t&&Rb(t)?lm(t.\u0275providers,e):e(t)}function hn(n,e){let t;n instanceof Ba?(La(n),t=n):t=new Lu(n);let r,i=kr(t),o=en(void 0);try{return e()}finally{kr(i),en(o)}}function Gb(){return kb()!==void 0||xa()!=null}function KA(n){if(!Gb())throw new V(-203,!1)}function XA(n){return typeof n=="function"}var qr=0,pe=1,se=2,Lt=3,Un=4,an=5,Ua=6,Uu=7,rn=8,fs=9,Br=10,at=11,$a=12,U0=13,ys=14,Sn=15,ao=16,is=17,Ur=18,hd=19,qb=20,gi=21,Gp=22,$u=23,Dn=24,as=25,on=26,Wb=1;var lo=7,Hu=8,hs=9,fn=10;function vi(n){return Array.isArray(n)&&typeof n[Wb]=="object"}function Wr(n){return Array.isArray(n)&&n[Wb]===!0}function Zb(n){return(n.flags&4)!==0}function _s(n){return n.componentOffset>-1}function fg(n){return(n.flags&1)===1}function ur(n){return!!n.template}function zu(n){return(n[se]&512)!==0}function bs(n){return(n[se]&256)===256}var cm=class{previousValue;currentValue;firstChange;constructor(e,t,r){this.previousValue=e,this.currentValue=t,this.firstChange=r}isFirstChange(){return this.firstChange}};function Yb(n,e,t,r){e!==null?e.applyValueToInputSignal(e,r):n[t]=r}var it=(()=>{let n=()=>Jb;return n.ngInherit=!0,n})();function Jb(n){return n.type.prototype.ngOnChanges&&(n.setInput=t1),e1}function e1(){let n=Kb(this),e=n?.current;if(e){let t=n.previous;if(t===oo)n.previous=e;else for(let r in e)t[r]=e[r];n.current=null,this.ngOnChanges(e)}}function t1(n,e,t,r,i){let o=this.declaredInputs[r],s=Kb(n)||n1(n,{previous:oo,current:null}),a=s.current||(s.current={}),l=s.previous,c=l[o];a[o]=new cm(c&&c.currentValue,t,l===oo),Yb(n,e,i,t)}var Qb="__ngSimpleChanges__";function Kb(n){return n[Qb]||null}function n1(n,e){return n[Qb]=e}var $0=null;var je=function(n,e=null,t){$0?.(n,e,t)},Xb="svg",r1="math";function dr(n){for(;Array.isArray(n);)n=n[qr];return n}function ew(n,e){return dr(e[n])}function mr(n,e){return dr(e[n.index])}function tw(n,e){return n.data[e]}function nw(n,e){return n[e]}function i1(n,e,t,r){t>=n.data.length&&(n.data[t]=null,n.blueprint[t]=null),e[t]=r}function fr(n,e){let t=e[n];return vi(t)?t:t[qr]}function o1(n){return(n[se]&4)===4}function hg(n){return(n[se]&128)===128}function s1(n){return Wr(n[Lt])}function Gu(n,e){return e==null?null:n[e]}function rw(n){n[is]=0}function iw(n){n[se]&1024||(n[se]|=1024,hg(n)&&Ja(n))}function a1(n,e){for(;n>0;)e=e[ys],n--;return e}function pd(n){return!!(n[se]&9216||n[Dn]?.dirty)}function um(n){n[Br].changeDetectionScheduler?.notify(8),n[se]&64&&(n[se]|=1024),pd(n)&&Ja(n)}function Ja(n){n[Br].changeDetectionScheduler?.notify(0);let e=co(n);for(;e!==null&&!(e[se]&8192||(e[se]|=8192,!hg(e)));)e=co(e)}function ow(n,e){if(bs(n))throw new V(911,!1);n[gi]===null&&(n[gi]=[]),n[gi].push(e)}function l1(n,e){if(n[gi]===null)return;let t=n[gi].indexOf(e);t!==-1&&n[gi].splice(t,1)}function co(n){let e=n[Lt];return Wr(e)?e[Lt]:e}function pg(n){return n[Uu]??=[]}function mg(n){return n.cleanup??=[]}function c1(n,e,t,r){let i=pg(e);i.push(t),n.firstCreatePass&&mg(n).push(r,i.length-1)}var fe={lFrame:gw(null),bindingsEnabled:!0,skipHydrationRootTNode:null};var dm=!1;function u1(){return fe.lFrame.elementDepthCount}function d1(){fe.lFrame.elementDepthCount++}function f1(){fe.lFrame.elementDepthCount--}function sw(){return fe.bindingsEnabled}function aw(){return fe.skipHydrationRootTNode!==null}function h1(n){return fe.skipHydrationRootTNode===n}function p1(){fe.skipHydrationRootTNode=null}function ge(){return fe.lFrame.lView}function yt(){return fe.lFrame.tView}function F(n){return fe.lFrame.contextLView=n,n[rn]}function P(n){return fe.lFrame.contextLView=null,n}function Yt(){let n=lw();for(;n!==null&&n.type===64;)n=n.parent;return n}function lw(){return fe.lFrame.currentTNode}function m1(){let n=fe.lFrame,e=n.currentTNode;return n.isParent?e:e.parent}function Qa(n,e){let t=fe.lFrame;t.currentTNode=n,t.isParent=e}function cw(){return fe.lFrame.isParent}function uw(){fe.lFrame.isParent=!1}function g1(){return fe.lFrame.contextLView}function dw(){return dm}function H0(n){let e=dm;return dm=n,e}function fw(){let n=fe.lFrame,e=n.bindingRootIndex;return e===-1&&(e=n.bindingRootIndex=n.tView.bindingStartIndex),e}function v1(){return fe.lFrame.bindingIndex}function y1(n){return fe.lFrame.bindingIndex=n}function md(){return fe.lFrame.bindingIndex++}function gg(n){let e=fe.lFrame,t=e.bindingIndex;return e.bindingIndex=e.bindingIndex+n,t}function _1(){return fe.lFrame.inI18n}function b1(n,e){let t=fe.lFrame;t.bindingIndex=t.bindingRootIndex=n,fm(e)}function w1(){return fe.lFrame.currentDirectiveIndex}function fm(n){fe.lFrame.currentDirectiveIndex=n}function C1(n){let e=fe.lFrame.currentDirectiveIndex;return e===-1?null:n[e]}function hw(){return fe.lFrame.currentQueryIndex}function vg(n){fe.lFrame.currentQueryIndex=n}function E1(n){let e=n[pe];return e.type===2?e.declTNode:e.type===1?n[an]:null}function pw(n,e,t){if(t&de.SkipSelf){let i=e,o=n;for(;i=i.parent,i===null&&!(t&de.Host);)if(i=E1(o),i===null||(o=o[ys],i.type&10))break;if(i===null)return!1;e=i,n=o}let r=fe.lFrame=mw();return r.currentTNode=e,r.lView=n,!0}function yg(n){let e=mw(),t=n[pe];fe.lFrame=e,e.currentTNode=t.firstChild,e.lView=n,e.tView=t,e.contextLView=n,e.bindingIndex=t.bindingStartIndex,e.inI18n=!1}function mw(){let n=fe.lFrame,e=n===null?null:n.child;return e===null?gw(n):e}function gw(n){let e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return n!==null&&(n.child=e),e}function vw(){let n=fe.lFrame;return fe.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}var yw=vw;function _g(){let n=vw();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function I1(n){return(fe.lFrame.contextLView=a1(n,fe.lFrame.contextLView))[rn]}function yi(){return fe.lFrame.selectedIndex}function uo(n){fe.lFrame.selectedIndex=n}function bg(){let n=fe.lFrame;return tw(n.tView,n.selectedIndex)}function zn(){fe.lFrame.currentNamespace=Xb}function D1(){return fe.lFrame.currentNamespace}var _w=!0;function wg(){return _w}function Cg(n){_w=n}function S1(n,e,t){let{ngOnChanges:r,ngOnInit:i,ngDoCheck:o}=e.type.prototype;if(r){let s=Jb(e);(t.preOrderHooks??=[]).push(n,s),(t.preOrderCheckHooks??=[]).push(n,s)}i&&(t.preOrderHooks??=[]).push(0-n,i),o&&((t.preOrderHooks??=[]).push(n,o),(t.preOrderCheckHooks??=[]).push(n,o))}function bw(n,e){for(let t=e.directiveStart,r=e.directiveEnd;t<r;t++){let o=n.data[t].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:l,ngAfterViewChecked:c,ngOnDestroy:u}=o;s&&(n.contentHooks??=[]).push(-t,s),a&&((n.contentHooks??=[]).push(t,a),(n.contentCheckHooks??=[]).push(t,a)),l&&(n.viewHooks??=[]).push(-t,l),c&&((n.viewHooks??=[]).push(t,c),(n.viewCheckHooks??=[]).push(t,c)),u!=null&&(n.destroyHooks??=[]).push(t,u)}}function Ru(n,e,t){ww(n,e,3,t)}function Ou(n,e,t,r){(n[se]&3)===t&&ww(n,e,t,r)}function qp(n,e){let t=n[se];(t&3)===e&&(t&=16383,t+=1,n[se]=t)}function ww(n,e,t,r){let i=r!==void 0?n[is]&65535:0,o=r??-1,s=e.length-1,a=0;for(let l=i;l<s;l++)if(typeof e[l+1]=="number"){if(a=e[l],r!=null&&a>=r)break}else e[l]<0&&(n[is]+=65536),(a<o||o==-1)&&(T1(n,t,e,l),n[is]=(n[is]&4294901760)+l+2),l++}function z0(n,e){je(4,n,e);let t=ve(null);try{e.call(n)}finally{ve(t),je(5,n,e)}}function T1(n,e,t,r){let i=t[r]<0,o=t[r+1],s=i?-t[r]:t[r],a=n[s];i?n[se]>>14<n[is]>>16&&(n[se]&3)===e&&(n[se]+=16384,z0(a,o)):z0(a,o)}var ls=-1,fo=class{factory;injectImpl;resolving=!1;canSeeViewProviders;multi;componentProviders;index;providerFactory;constructor(e,t,r){this.factory=e,this.canSeeViewProviders=t,this.injectImpl=r}};function x1(n){return(n.flags&8)!==0}function M1(n){return(n.flags&16)!==0}function A1(n,e,t){let r=0;for(;r<t.length;){let i=t[r];if(typeof i=="number"){if(i!==0)break;r++;let o=t[r++],s=t[r++],a=t[r++];n.setAttribute(e,s,a,o)}else{let o=i,s=t[++r];R1(o)?n.setProperty(e,o,s):n.setAttribute(e,o,s),r++}}return r}function Cw(n){return n===3||n===4||n===6}function R1(n){return n.charCodeAt(0)===64}function Ha(n,e){if(!(e===null||e.length===0))if(n===null||n.length===0)n=e.slice();else{let t=-1;for(let r=0;r<e.length;r++){let i=e[r];typeof i=="number"?t=i:t===0||(t===-1||t===2?G0(n,t,i,null,e[++r]):G0(n,t,i,null,null))}}return n}function G0(n,e,t,r,i){let o=0,s=n.length;if(e===-1)s=-1;else for(;o<n.length;){let a=n[o++];if(typeof a=="number"){if(a===e){s=-1;break}else if(a>e){s=o-1;break}}}for(;o<n.length;){let a=n[o];if(typeof a=="number")break;if(a===t){i!==null&&(n[o+1]=i);return}o++,i!==null&&o++}s!==-1&&(n.splice(s,0,e),o=s+1),n.splice(o++,0,t),i!==null&&n.splice(o++,0,i)}function Ew(n){return n!==ls}function qu(n){return n&32767}function O1(n){return n>>16}function Wu(n,e){let t=O1(n),r=e;for(;t>0;)r=r[ys],t--;return r}var hm=!0;function Zu(n){let e=hm;return hm=n,e}var k1=256,Iw=k1-1,Dw=5,N1=0,cr={};function F1(n,e,t){let r;typeof t=="string"?r=t.charCodeAt(0)||0:t.hasOwnProperty(ja)&&(r=t[ja]),r==null&&(r=t[ja]=N1++);let i=r&Iw,o=1<<i;e.data[n+(i>>Dw)]|=o}function Yu(n,e){let t=Sw(n,e);if(t!==-1)return t;let r=e[pe];r.firstCreatePass&&(n.injectorIndex=e.length,Wp(r.data,n),Wp(e,null),Wp(r.blueprint,null));let i=Eg(n,e),o=n.injectorIndex;if(Ew(i)){let s=qu(i),a=Wu(i,e),l=a[pe].data;for(let c=0;c<8;c++)e[o+c]=a[s+c]|l[s+c]}return e[o+8]=i,o}function Wp(n,e){n.push(0,0,0,0,0,0,0,0,e)}function Sw(n,e){return n.injectorIndex===-1||n.parent&&n.parent.injectorIndex===n.injectorIndex||e[n.injectorIndex+8]===null?-1:n.injectorIndex}function Eg(n,e){if(n.parent&&n.parent.injectorIndex!==-1)return n.parent.injectorIndex;let t=0,r=null,i=e;for(;i!==null;){if(r=Rw(i),r===null)return ls;if(t++,i=i[ys],r.injectorIndex!==-1)return r.injectorIndex|t<<16}return ls}function pm(n,e,t){F1(n,e,t)}function P1(n,e){if(e==="class")return n.classes;if(e==="style")return n.styles;let t=n.attrs;if(t){let r=t.length,i=0;for(;i<r;){let o=t[i];if(Cw(o))break;if(o===0)i=i+2;else if(typeof o=="number")for(i++;i<r&&typeof t[i]=="string";)i++;else{if(o===e)return t[i+1];i=i+2}}}return null}function Tw(n,e,t){if(t&de.Optional||n!==void 0)return n;ag(e,"NodeInjector")}function xw(n,e,t,r){if(t&de.Optional&&r===void 0&&(r=null),(t&(de.Self|de.Host))===0){let i=n[fs],o=en(void 0);try{return i?i.get(e,r,t&de.Optional):Nb(e,r,t&de.Optional)}finally{en(o)}}return Tw(r,e,t)}function Mw(n,e,t,r=de.Default,i){if(n!==null){if(e[se]&2048&&!(r&de.Self)){let s=B1(n,e,t,r,cr);if(s!==cr)return s}let o=Aw(n,e,t,r,cr);if(o!==cr)return o}return xw(e,t,r,i)}function Aw(n,e,t,r,i){let o=V1(t);if(typeof o=="function"){if(!pw(e,n,r))return r&de.Host?Tw(i,t,r):xw(e,t,r,i);try{let s;if(s=o(r),s==null&&!(r&de.Optional))ag(t);else return s}finally{yw()}}else if(typeof o=="number"){let s=null,a=Sw(n,e),l=ls,c=r&de.Host?e[Sn][an]:null;for((a===-1||r&de.SkipSelf)&&(l=a===-1?Eg(n,e):e[a+8],l===ls||!W0(r,!1)?a=-1:(s=e[pe],a=qu(l),e=Wu(l,e)));a!==-1;){let u=e[pe];if(q0(o,a,u.data)){let d=L1(a,e,t,s,r,c);if(d!==cr)return d}l=e[a+8],l!==ls&&W0(r,e[pe].data[a+8]===c)&&q0(o,a,e)?(s=u,a=qu(l),e=Wu(l,e)):a=-1}}return i}function L1(n,e,t,r,i,o){let s=e[pe],a=s.data[n+8],l=r==null?_s(a)&&hm:r!=s&&(a.type&3)!==0,c=i&de.Host&&o===a,u=ku(a,s,t,l,c);return u!==null?za(e,s,u,a,i):cr}function ku(n,e,t,r,i){let o=n.providerIndexes,s=e.data,a=o&1048575,l=n.directiveStart,c=n.directiveEnd,u=o>>20,d=r?a:a+u,p=i?a+u:c;for(let f=d;f<p;f++){let h=s[f];if(f<l&&t===h||f>=l&&h.type===t)return f}if(i){let f=s[l];if(f&&ur(f)&&f.type===t)return l}return null}function za(n,e,t,r,i){let o=n[t],s=e.data;if(o instanceof fo){let a=o;a.resolving&&Ob(SA(s[t]));let l=Zu(a.canSeeViewProviders);a.resolving=!0;let c,u=a.injectImpl?en(a.injectImpl):null,d=pw(n,r,de.Default);try{o=n[t]=a.factory(void 0,i,s,n,r),e.firstCreatePass&&t>=r.directiveStart&&S1(t,s[t],e)}finally{u!==null&&en(u),Zu(l),a.resolving=!1,yw()}}return o}function V1(n){if(typeof n=="string")return n.charCodeAt(0)||0;let e=n.hasOwnProperty(ja)?n[ja]:void 0;return typeof e=="number"?e>=0?e&Iw:j1:e}function q0(n,e,t){let r=1<<n;return!!(t[e+(n>>Dw)]&r)}function W0(n,e){return!(n&de.Self)&&!(n&de.Host&&e)}var no=class{_tNode;_lView;constructor(e,t){this._tNode=e,this._lView=t}get(e,t,r){return Mw(this._tNode,this._lView,e,ud(r),t)}};function j1(){return new no(Yt(),ge())}function Gn(n){return Wa(()=>{let e=n.prototype.constructor,t=e[Pu]||mm(e),r=Object.prototype,i=Object.getPrototypeOf(n.prototype).constructor;for(;i&&i!==r;){let o=i[Pu]||mm(i);if(o&&o!==t)return o;i=Object.getPrototypeOf(i)}return o=>new o})}function mm(n){return Tb(n)?()=>{let e=mm(Wt(n));return e&&e()}:io(n)}function B1(n,e,t,r,i){let o=n,s=e;for(;o!==null&&s!==null&&s[se]&2048&&!zu(s);){let a=Aw(o,s,t,r|de.Self,cr);if(a!==cr)return a;let l=o.parent;if(!l){let c=s[qb];if(c){let u=c.get(t,cr,r);if(u!==cr)return u}l=Rw(s),s=s[ys]}o=l}return i}function Rw(n){let e=n[pe],t=e.type;return t===2?e.declTNode:t===1?n[an]:null}function gd(n){return P1(Yt(),n)}function Z0(n,e=null,t=null,r){let i=Ow(n,e,t,r);return i.resolveInjectorInitializers(),i}function Ow(n,e=null,t=null,r,i=new Set){let o=[t||tn,$A(n)];return r=r||(typeof n=="object"?void 0:nn(n)),new Ba(o,e||dg(),r||null,i)}var Ct=class n{static THROW_IF_NOT_FOUND=to;static NULL=new Bu;static create(e,t){if(Array.isArray(e))return Z0({name:""},t,e,"");{let r=e.name??"";return Z0({name:r},e.parent,e.providers,r)}}static \u0275prov=O({token:n,providedIn:"any",factory:()=>N(Vb)});static __NG_ELEMENT_ID__=-1};var Ju=class{attributeName;constructor(e){this.attributeName=e}__NG_ELEMENT_ID__=()=>gd(this.attributeName);toString(){return`HostAttributeToken ${this.attributeName}`}},U1=new B("");U1.__NG_ELEMENT_ID__=n=>{let e=Yt();if(e===null)throw new V(204,!1);if(e.type&2)return e.value;if(n&de.Optional)return null;throw new V(204,!1)};var kw=!1,ws=(()=>{class n{static __NG_ELEMENT_ID__=$1;static __NG_ENV_ID__=t=>t}return n})(),gm=class extends ws{_lView;constructor(e){super(),this._lView=e}onDestroy(e){let t=this._lView;return bs(t)?(e(),()=>{}):(ow(t,e),()=>l1(t,e))}};function $1(){return new gm(ge())}var ps=class{},vd=new B("",{providedIn:"root",factory:()=>!1});var Nw=new B(""),Fw=new B(""),_i=(()=>{class n{taskId=0;pendingTasks=new Set;get _hasPendingTasks(){return this.hasPendingTasks.value}hasPendingTasks=new be(!1);add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);let t=this.taskId++;return this.pendingTasks.add(t),t}has(t){return this.pendingTasks.has(t)}remove(t){this.pendingTasks.delete(t),this.pendingTasks.size===0&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}static \u0275prov=O({token:n,providedIn:"root",factory:()=>new n})}return n})();var vm=class extends ie{__isAsync;destroyRef=void 0;pendingTasks=void 0;constructor(e=!1){super(),this.__isAsync=e,Gb()&&(this.destroyRef=E(ws,{optional:!0})??void 0,this.pendingTasks=E(_i,{optional:!0})??void 0)}emit(e){let t=ve(null);try{super.next(e)}finally{ve(t)}}subscribe(e,t,r){let i=e,o=t||(()=>null),s=r;if(e&&typeof e=="object"){let l=e;i=l.next?.bind(l),o=l.error?.bind(l),s=l.complete?.bind(l)}this.__isAsync&&(o=this.wrapInTimeout(o),i&&(i=this.wrapInTimeout(i)),s&&(s=this.wrapInTimeout(s)));let a=super.subscribe({next:i,error:o,complete:s});return e instanceof Ve&&e.add(a),a}wrapInTimeout(e){return t=>{let r=this.pendingTasks?.add();setTimeout(()=>{try{e(t)}finally{r!==void 0&&this.pendingTasks?.remove(r)}})}}},Re=vm;function Qu(...n){}function Pw(n){let e,t;function r(){n=Qu;try{t!==void 0&&typeof cancelAnimationFrame=="function"&&cancelAnimationFrame(t),e!==void 0&&clearTimeout(e)}catch{}}return e=setTimeout(()=>{n(),r()}),typeof requestAnimationFrame=="function"&&(t=requestAnimationFrame(()=>{n(),r()})),()=>r()}function Y0(n){return queueMicrotask(()=>n()),()=>{n=Qu}}var Ig="isAngularZone",Ku=Ig+"_ID",H1=0,we=class n{hasPendingMacrotasks=!1;hasPendingMicrotasks=!1;isStable=!0;onUnstable=new Re(!1);onMicrotaskEmpty=new Re(!1);onStable=new Re(!1);onError=new Re(!1);constructor(e){let{enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:r=!1,shouldCoalesceRunChangeDetection:i=!1,scheduleInRootZone:o=kw}=e;if(typeof Zone>"u")throw new V(908,!1);Zone.assertZonePatched();let s=this;s._nesting=0,s._outer=s._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(s._inner=s._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(s._inner=s._inner.fork(Zone.longStackTraceZoneSpec)),s.shouldCoalesceEventChangeDetection=!i&&r,s.shouldCoalesceRunChangeDetection=i,s.callbackScheduled=!1,s.scheduleInRootZone=o,q1(s)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get(Ig)===!0}static assertInAngularZone(){if(!n.isInAngularZone())throw new V(909,!1)}static assertNotInAngularZone(){if(n.isInAngularZone())throw new V(909,!1)}run(e,t,r){return this._inner.run(e,t,r)}runTask(e,t,r,i){let o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+i,e,z1,Qu,Qu);try{return o.runTask(s,t,r)}finally{o.cancelTask(s)}}runGuarded(e,t,r){return this._inner.runGuarded(e,t,r)}runOutsideAngular(e){return this._outer.run(e)}},z1={};function Dg(n){if(n._nesting==0&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function G1(n){if(n.isCheckStableRunning||n.callbackScheduled)return;n.callbackScheduled=!0;function e(){Pw(()=>{n.callbackScheduled=!1,ym(n),n.isCheckStableRunning=!0,Dg(n),n.isCheckStableRunning=!1})}n.scheduleInRootZone?Zone.root.run(()=>{e()}):n._outer.run(()=>{e()}),ym(n)}function q1(n){let e=()=>{G1(n)},t=H1++;n._inner=n._inner.fork({name:"angular",properties:{[Ig]:!0,[Ku]:t,[Ku+t]:!0},onInvokeTask:(r,i,o,s,a,l)=>{if(W1(l))return r.invokeTask(o,s,a,l);try{return J0(n),r.invokeTask(o,s,a,l)}finally{(n.shouldCoalesceEventChangeDetection&&s.type==="eventTask"||n.shouldCoalesceRunChangeDetection)&&e(),Q0(n)}},onInvoke:(r,i,o,s,a,l,c)=>{try{return J0(n),r.invoke(o,s,a,l,c)}finally{n.shouldCoalesceRunChangeDetection&&!n.callbackScheduled&&!Z1(l)&&e(),Q0(n)}},onHasTask:(r,i,o,s)=>{r.hasTask(o,s),i===o&&(s.change=="microTask"?(n._hasPendingMicrotasks=s.microTask,ym(n),Dg(n)):s.change=="macroTask"&&(n.hasPendingMacrotasks=s.macroTask))},onHandleError:(r,i,o,s)=>(r.handleError(o,s),n.runOutsideAngular(()=>n.onError.emit(s)),!1)})}function ym(n){n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&n.callbackScheduled===!0?n.hasPendingMicrotasks=!0:n.hasPendingMicrotasks=!1}function J0(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function Q0(n){n._nesting--,Dg(n)}var _m=class{hasPendingMicrotasks=!1;hasPendingMacrotasks=!1;isStable=!0;onUnstable=new Re;onMicrotaskEmpty=new Re;onStable=new Re;onError=new Re;run(e,t,r){return e.apply(t,r)}runGuarded(e,t,r){return e.apply(t,r)}runOutsideAngular(e){return e()}runTask(e,t,r,i){return e.apply(t,r)}};function W1(n){return Lw(n,"__ignore_ng_zone__")}function Z1(n){return Lw(n,"__scheduler_tick__")}function Lw(n,e){return!Array.isArray(n)||n.length!==1?!1:n[0]?.data?.[e]===!0}var sn=class{_console=console;handleError(e){this._console.error("ERROR",e)}},Y1=new B("",{providedIn:"root",factory:()=>{let n=E(we),e=E(sn);return t=>n.runOutsideAngular(()=>e.handleError(t))}});function K0(n,e){return Sb(n,e)}function J1(n){return Sb(Db,n)}var Vw=(K0.required=J1,K0);function Q1(){return Cs(Yt(),ge())}function Cs(n,e){return new tt(mr(n,e))}var tt=(()=>{class n{nativeElement;constructor(t){this.nativeElement=t}static __NG_ELEMENT_ID__=Q1}return n})();function K1(n){return n instanceof tt?n.nativeElement:n}function Sg(n){return typeof n=="function"&&n[In]!==void 0}function Tn(n,e){let t=yp(n,e?.equal),r=t[In];return t.set=i=>Ta(r,i),t.update=i=>_p(r,i),t.asReadonly=X1.bind(t),t}function X1(){let n=this[In];if(n.readonlyFn===void 0){let e=()=>this();e[In]=n,n.readonlyFn=e}return n.readonlyFn}function jw(n){return Sg(n)&&typeof n.set=="function"}function eR(){return this._results[Symbol.iterator]()}var Xu=class{_emitDistinctChangesOnly;dirty=!0;_onDirty=void 0;_results=[];_changesDetected=!1;_changes=void 0;length=0;first=void 0;last=void 0;get changes(){return this._changes??=new ie}constructor(e=!1){this._emitDistinctChangesOnly=e}get(e){return this._results[e]}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,t){return this._results.reduce(e,t)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e,t){this.dirty=!1;let r=PA(e);(this._changesDetected=!FA(this._results,r,t))&&(this._results=r,this.length=r.length,this.last=r[this.length-1],this.first=r[0])}notifyOnChanges(){this._changes!==void 0&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.next(this)}onDirty(e){this._onDirty=e}setDirty(){this.dirty=!0,this._onDirty?.()}destroy(){this._changes!==void 0&&(this._changes.complete(),this._changes.unsubscribe())}[Symbol.iterator]=eR};function Bw(n){return(n.flags&128)===128}var Uw=function(n){return n[n.OnPush=0]="OnPush",n[n.Default=1]="Default",n}(Uw||{}),$w=new Map,tR=0;function nR(){return tR++}function rR(n){$w.set(n[hd],n)}function bm(n){$w.delete(n[hd])}var X0="__ngContext__";function Ka(n,e){vi(e)?(n[X0]=e[hd],rR(e)):n[X0]=e}function Hw(n){return Gw(n[$a])}function zw(n){return Gw(n[Un])}function Gw(n){for(;n!==null&&!Wr(n);)n=n[Un];return n}var wm;function qw(n){wm=n}function Ww(){if(wm!==void 0)return wm;if(typeof document<"u")return document;throw new V(210,!1)}var yd=new B("",{providedIn:"root",factory:()=>iR}),iR="ng",Tg=new B(""),po=new B("",{providedIn:"platform",factory:()=>"unknown"});var Xa=new B("",{providedIn:"root",factory:()=>Ww().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var oR="h",sR="b";var Zw=!1,aR=new B("",{providedIn:"root",factory:()=>Zw});var xg=function(n){return n[n.CHANGE_DETECTION=0]="CHANGE_DETECTION",n[n.AFTER_NEXT_RENDER=1]="AFTER_NEXT_RENDER",n}(xg||{}),Es=new B(""),eb=new Set;function _d(n){eb.has(n)||(eb.add(n),performance?.mark?.("mark_feature_usage",{detail:{feature:n}}))}var Yw=(()=>{class n{view;node;constructor(t,r){this.view=t,this.node=r}static __NG_ELEMENT_ID__=lR}return n})();function lR(){return new Yw(ge(),Yt())}var os=function(n){return n[n.EarlyRead=0]="EarlyRead",n[n.Write=1]="Write",n[n.MixedReadWrite=2]="MixedReadWrite",n[n.Read=3]="Read",n}(os||{}),Jw=(()=>{class n{impl=null;execute(){this.impl?.execute()}static \u0275prov=O({token:n,providedIn:"root",factory:()=>new n})}return n})(),cR=[os.EarlyRead,os.Write,os.MixedReadWrite,os.Read],uR=(()=>{class n{ngZone=E(we);scheduler=E(ps);errorHandler=E(sn,{optional:!0});sequences=new Set;deferredRegistrations=new Set;executing=!1;constructor(){E(Es,{optional:!0})}execute(){let t=this.sequences.size>0;t&&je(16),this.executing=!0;for(let r of cR)for(let i of this.sequences)if(!(i.erroredOrDestroyed||!i.hooks[r]))try{i.pipelinedValue=this.ngZone.runOutsideAngular(()=>this.maybeTrace(()=>{let o=i.hooks[r];return o(i.pipelinedValue)},i.snapshot))}catch(o){i.erroredOrDestroyed=!0,this.errorHandler?.handleError(o)}this.executing=!1;for(let r of this.sequences)r.afterRun(),r.once&&(this.sequences.delete(r),r.destroy());for(let r of this.deferredRegistrations)this.sequences.add(r);this.deferredRegistrations.size>0&&this.scheduler.notify(7),this.deferredRegistrations.clear(),t&&je(17)}register(t){let{view:r}=t;r!==void 0?((r[as]??=[]).push(t),Ja(r),r[se]|=8192):this.executing?this.deferredRegistrations.add(t):this.addSequence(t)}addSequence(t){this.sequences.add(t),this.scheduler.notify(7)}unregister(t){this.executing&&this.sequences.has(t)?(t.erroredOrDestroyed=!0,t.pipelinedValue=void 0,t.once=!0):(this.sequences.delete(t),this.deferredRegistrations.delete(t))}maybeTrace(t,r){return r?r.run(xg.AFTER_NEXT_RENDER,t):t()}static \u0275prov=O({token:n,providedIn:"root",factory:()=>new n})}return n})(),Cm=class{impl;hooks;view;once;snapshot;erroredOrDestroyed=!1;pipelinedValue=void 0;unregisterOnDestroy;constructor(e,t,r,i,o,s=null){this.impl=e,this.hooks=t,this.view=r,this.once=i,this.snapshot=s,this.unregisterOnDestroy=o?.onDestroy(()=>this.destroy())}afterRun(){this.erroredOrDestroyed=!1,this.pipelinedValue=void 0,this.snapshot?.dispose(),this.snapshot=null}destroy(){this.impl.unregister(this),this.unregisterOnDestroy?.();let e=this.view?.[as];e&&(this.view[as]=e.filter(t=>t!==this))}};function el(n,e){!e?.injector&&KA(el);let t=e?.injector??E(Ct);return _d("NgAfterNextRender"),fR(n,t,e,!0)}function dR(n,e){if(n instanceof Function){let t=[void 0,void 0,void 0,void 0];return t[e]=n,t}else return[n.earlyRead,n.write,n.mixedReadWrite,n.read]}function fR(n,e,t,r){let i=e.get(Jw);i.impl??=e.get(uR);let o=e.get(Es,null,{optional:!0}),s=t?.phase??os.MixedReadWrite,a=t?.manualCleanup!==!0?e.get(ws):null,l=e.get(Yw,null,{optional:!0}),c=new Cm(i.impl,dR(n,s),l?.view,r,a,o?.snapshot(null));return i.impl.register(c),c}var hR=(n,e,t,r)=>{};function pR(n,e,t,r){hR(n,e,t,r)}var mR=()=>null;function Qw(n,e,t=!1){return mR(n,e,t)}function Kw(n,e){let t=n.contentQueries;if(t!==null){let r=ve(null);try{for(let i=0;i<t.length;i+=2){let o=t[i],s=t[i+1];if(s!==-1){let a=n.data[s];vg(o),a.contentQueries(2,e[s],s)}}}finally{ve(r)}}}function Em(n,e,t){vg(0);let r=ve(null);try{e(n,t)}finally{ve(r)}}function Xw(n,e,t){if(Zb(e)){let r=ve(null);try{let i=e.directiveStart,o=e.directiveEnd;for(let s=i;s<o;s++){let a=n.data[s];if(a.contentQueries){let l=t[s];a.contentQueries(1,l,s)}}}finally{ve(r)}}}var hr=function(n){return n[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",n}(hr||{}),Su;function gR(){if(Su===void 0&&(Su=null,cs.trustedTypes))try{Su=cs.trustedTypes.createPolicy("angular",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return Su}function bd(n){return gR()?.createHTML(n)||n}var Tu;function eC(){if(Tu===void 0&&(Tu=null,cs.trustedTypes))try{Tu=cs.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return Tu}function tb(n){return eC()?.createHTML(n)||n}function nb(n){return eC()?.createScriptURL(n)||n}var $r=class{changingThisBreaksApplicationSecurity;constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${Ib})`}},Im=class extends $r{getTypeName(){return"HTML"}},Dm=class extends $r{getTypeName(){return"Style"}},Sm=class extends $r{getTypeName(){return"Script"}},Tm=class extends $r{getTypeName(){return"URL"}},xm=class extends $r{getTypeName(){return"ResourceURL"}};function qn(n){return n instanceof $r?n.changingThisBreaksApplicationSecurity:n}function Zr(n,e){let t=vR(n);if(t!=null&&t!==e){if(t==="ResourceURL"&&e==="URL")return!0;throw new Error(`Required a safe ${e}, got a ${t} (see ${Ib})`)}return t===e}function vR(n){return n instanceof $r&&n.getTypeName()||null}function tC(n){return new Im(n)}function nC(n){return new Dm(n)}function rC(n){return new Sm(n)}function iC(n){return new Tm(n)}function oC(n){return new xm(n)}function yR(n){let e=new Am(n);return _R()?new Mm(e):e}var Mm=class{inertDocumentHelper;constructor(e){this.inertDocumentHelper=e}getInertBodyElement(e){e="<body><remove></remove>"+e;try{let t=new window.DOMParser().parseFromString(bd(e),"text/html").body;return t===null?this.inertDocumentHelper.getInertBodyElement(e):(t.firstChild?.remove(),t)}catch{return null}}},Am=class{defaultDoc;inertDocument;constructor(e){this.defaultDoc=e,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(e){let t=this.inertDocument.createElement("template");return t.innerHTML=bd(e),t}};function _R(){try{return!!new window.DOMParser().parseFromString(bd(""),"text/html")}catch{return!1}}var bR=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function wd(n){return n=String(n),n.match(bR)?n:"unsafe:"+n}function Yr(n){let e={};for(let t of n.split(","))e[t]=!0;return e}function tl(...n){let e={};for(let t of n)for(let r in t)t.hasOwnProperty(r)&&(e[r]=!0);return e}var sC=Yr("area,br,col,hr,img,wbr"),aC=Yr("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),lC=Yr("rp,rt"),wR=tl(lC,aC),CR=tl(aC,Yr("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),ER=tl(lC,Yr("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),rb=tl(sC,CR,ER,wR),cC=Yr("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),IR=Yr("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),DR=Yr("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext"),SR=tl(cC,IR,DR),TR=Yr("script,style,template"),Rm=class{sanitizedSomething=!1;buf=[];sanitizeChildren(e){let t=e.firstChild,r=!0,i=[];for(;t;){if(t.nodeType===Node.ELEMENT_NODE?r=this.startElement(t):t.nodeType===Node.TEXT_NODE?this.chars(t.nodeValue):this.sanitizedSomething=!0,r&&t.firstChild){i.push(t),t=AR(t);continue}for(;t;){t.nodeType===Node.ELEMENT_NODE&&this.endElement(t);let o=MR(t);if(o){t=o;break}t=i.pop()}}return this.buf.join("")}startElement(e){let t=ib(e).toLowerCase();if(!rb.hasOwnProperty(t))return this.sanitizedSomething=!0,!TR.hasOwnProperty(t);this.buf.push("<"),this.buf.push(t);let r=e.attributes;for(let i=0;i<r.length;i++){let o=r.item(i),s=o.name,a=s.toLowerCase();if(!SR.hasOwnProperty(a)){this.sanitizedSomething=!0;continue}let l=o.value;cC[a]&&(l=wd(l)),this.buf.push(" ",s,'="',ob(l),'"')}return this.buf.push(">"),!0}endElement(e){let t=ib(e).toLowerCase();rb.hasOwnProperty(t)&&!sC.hasOwnProperty(t)&&(this.buf.push("</"),this.buf.push(t),this.buf.push(">"))}chars(e){this.buf.push(ob(e))}};function xR(n,e){return(n.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_CONTAINED_BY)!==Node.DOCUMENT_POSITION_CONTAINED_BY}function MR(n){let e=n.nextSibling;if(e&&n!==e.previousSibling)throw uC(e);return e}function AR(n){let e=n.firstChild;if(e&&xR(n,e))throw uC(e);return e}function ib(n){let e=n.nodeName;return typeof e=="string"?e:"FORM"}function uC(n){return new Error(`Failed to sanitize html because the element is clobbered: ${n.outerHTML}`)}var RR=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,OR=/([^\#-~ |!])/g;function ob(n){return n.replace(/&/g,"&amp;").replace(RR,function(e){let t=e.charCodeAt(0),r=e.charCodeAt(1);return"&#"+((t-55296)*1024+(r-56320)+65536)+";"}).replace(OR,function(e){return"&#"+e.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}var xu;function Mg(n,e){let t=null;try{xu=xu||yR(n);let r=e?String(e):"";t=xu.getInertBodyElement(r);let i=5,o=r;do{if(i===0)throw new Error("Failed to sanitize html because the input is unstable");i--,r=o,o=t.innerHTML,t=xu.getInertBodyElement(r)}while(r!==o);let a=new Rm().sanitizeChildren(sb(t)||t);return bd(a)}finally{if(t){let r=sb(t)||t;for(;r.firstChild;)r.firstChild.remove()}}}function sb(n){return"content"in n&&kR(n)?n.content:null}function kR(n){return n.nodeType===Node.ELEMENT_NODE&&n.nodeName==="TEMPLATE"}var At=function(n){return n[n.NONE=0]="NONE",n[n.HTML=1]="HTML",n[n.STYLE=2]="STYLE",n[n.SCRIPT=3]="SCRIPT",n[n.URL=4]="URL",n[n.RESOURCE_URL=5]="RESOURCE_URL",n}(At||{});function Is(n){let e=Rg();return e?tb(e.sanitize(At.HTML,n)||""):Zr(n,"HTML")?tb(qn(n)):Mg(Ww(),ro(n))}function Rt(n){let e=Rg();return e?e.sanitize(At.URL,n)||"":Zr(n,"URL")?qn(n):wd(ro(n))}function Ag(n){let e=Rg();if(e)return nb(e.sanitize(At.RESOURCE_URL,n)||"");if(Zr(n,"ResourceURL"))return nb(qn(n));throw new V(904,!1)}function NR(n,e){return e==="src"&&(n==="embed"||n==="frame"||n==="iframe"||n==="media"||n==="script")||e==="href"&&(n==="base"||n==="link")?Ag:Rt}function dC(n,e,t){return NR(e,t)(n)}function Rg(){let n=ge();return n&&n[Br].sanitizer}function fC(n){return n.ownerDocument}function hC(n){return n instanceof Function?n():n}function FR(n,e,t){let r=n.length;for(;;){let i=n.indexOf(e,t);if(i===-1)return i;if(i===0||n.charCodeAt(i-1)<=32){let o=e.length;if(i+o===r||n.charCodeAt(i+o)<=32)return i}t=i+1}}var pC="ng-template";function PR(n,e,t,r){let i=0;if(r){for(;i<e.length&&typeof e[i]=="string";i+=2)if(e[i]==="class"&&FR(e[i+1].toLowerCase(),t,0)!==-1)return!0}else if(Og(n))return!1;if(i=e.indexOf(1,i),i>-1){let o;for(;++i<e.length&&typeof(o=e[i])=="string";)if(o.toLowerCase()===t)return!0}return!1}function Og(n){return n.type===4&&n.value!==pC}function LR(n,e,t){let r=n.type===4&&!t?pC:n.value;return e===r}function VR(n,e,t){let r=4,i=n.attrs,o=i!==null?UR(i):0,s=!1;for(let a=0;a<e.length;a++){let l=e[a];if(typeof l=="number"){if(!s&&!jn(r)&&!jn(l))return!1;if(s&&jn(l))continue;s=!1,r=l|r&1;continue}if(!s)if(r&4){if(r=2|r&1,l!==""&&!LR(n,l,t)||l===""&&e.length===1){if(jn(r))return!1;s=!0}}else if(r&8){if(i===null||!PR(n,i,l,t)){if(jn(r))return!1;s=!0}}else{let c=e[++a],u=jR(l,i,Og(n),t);if(u===-1){if(jn(r))return!1;s=!0;continue}if(c!==""){let d;if(u>o?d="":d=i[u+1].toLowerCase(),r&2&&c!==d){if(jn(r))return!1;s=!0}}}}return jn(r)||s}function jn(n){return(n&1)===0}function jR(n,e,t,r){if(e===null)return-1;let i=0;if(r||!t){let o=!1;for(;i<e.length;){let s=e[i];if(s===n)return i;if(s===3||s===6)o=!0;else if(s===1||s===2){let a=e[++i];for(;typeof a=="string";)a=e[++i];continue}else{if(s===4)break;if(s===0){i+=4;continue}}i+=o?1:2}return-1}else return $R(e,n)}function mC(n,e,t=!1){for(let r=0;r<e.length;r++)if(VR(n,e[r],t))return!0;return!1}function BR(n){let e=n.attrs;if(e!=null){let t=e.indexOf(5);if((t&1)===0)return e[t+1]}return null}function UR(n){for(let e=0;e<n.length;e++){let t=n[e];if(Cw(t))return e}return n.length}function $R(n,e){let t=n.indexOf(4);if(t>-1)for(t++;t<n.length;){let r=n[t];if(typeof r=="number")return-1;if(r===e)return t;t++}return-1}function HR(n,e){e:for(let t=0;t<e.length;t++){let r=e[t];if(n.length===r.length){for(let i=0;i<n.length;i++)if(n[i]!==r[i])continue e;return!0}}return!1}function ab(n,e){return n?":not("+e.trim()+")":e}function zR(n){let e=n[0],t=1,r=2,i="",o=!1;for(;t<n.length;){let s=n[t];if(typeof s=="string")if(r&2){let a=n[++t];i+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else r&8?i+="."+s:r&4&&(i+=" "+s);else i!==""&&!jn(s)&&(e+=ab(o,i),i=""),r=s,o=o||!jn(r);t++}return i!==""&&(e+=ab(o,i)),e}function GR(n){return n.map(zR).join(",")}function qR(n){let e=[],t=[],r=1,i=2;for(;r<n.length;){let o=n[r];if(typeof o=="string")i===2?o!==""&&e.push(o,n[++r]):i===8&&t.push(o);else{if(!jn(i))break;i=o}r++}return t.length&&e.push(1,...t),e}var xn={};function WR(n,e){return n.createText(e)}function ZR(n,e,t){n.setValue(e,t)}function gC(n,e,t){return n.createElement(e,t)}function ed(n,e,t,r,i){n.insertBefore(e,t,r,i)}function vC(n,e,t){n.appendChild(e,t)}function lb(n,e,t,r,i){r!==null?ed(n,e,t,r,i):vC(n,e,t)}function YR(n,e,t){n.removeChild(null,e,t)}function JR(n,e,t){n.setAttribute(e,"style",t)}function QR(n,e,t){t===""?n.removeAttribute(e,"class"):n.setAttribute(e,"class",t)}function yC(n,e,t){let{mergedAttrs:r,classes:i,styles:o}=t;r!==null&&A1(n,e,r),i!==null&&QR(n,e,i),o!==null&&JR(n,e,o)}function kg(n,e,t,r,i,o,s,a,l,c,u){let d=on+r,p=d+i,f=KR(d,p),h=typeof c=="function"?c():c;return f[pe]={type:n,blueprint:f,template:t,queries:null,viewQuery:a,declTNode:e,data:f.slice().fill(null,d),bindingStartIndex:d,expandoStartIndex:p,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof o=="function"?o():o,pipeRegistry:typeof s=="function"?s():s,firstChild:null,schemas:l,consts:h,incompleteFirstPass:!1,ssrId:u}}function KR(n,e){let t=[];for(let r=0;r<e;r++)t.push(r<n?null:xn);return t}function XR(n){let e=n.tView;return e===null||e.incompleteFirstPass?n.tView=kg(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts,n.id):e}function Ng(n,e,t,r,i,o,s,a,l,c,u){let d=e.blueprint.slice();return d[qr]=i,d[se]=r|4|128|8|64|1024,(c!==null||n&&n[se]&2048)&&(d[se]|=2048),rw(d),d[Lt]=d[ys]=n,d[rn]=t,d[Br]=s||n&&n[Br],d[at]=a||n&&n[at],d[fs]=l||n&&n[fs]||null,d[an]=o,d[hd]=nR(),d[Ua]=u,d[qb]=c,d[Sn]=e.type==2?n[Sn]:d,d}function eO(n,e,t){let r=mr(e,n),i=XR(t),o=n[Br].rendererFactory,s=Fg(n,Ng(n,i,null,_C(t),r,e,null,o.createRenderer(r,t),null,null,null));return n[e.index]=s}function _C(n){let e=16;return n.signals?e=4096:n.onPush&&(e=64),e}function bC(n,e,t,r){if(t===0)return-1;let i=e.length;for(let o=0;o<t;o++)e.push(r),n.blueprint.push(r),n.data.push(null);return i}function Fg(n,e){return n[$a]?n[U0][Un]=e:n[$a]=e,n[U0]=e,e}function _(n=1){wC(yt(),ge(),yi()+n,!1)}function wC(n,e,t,r){if(!r)if((e[se]&3)===3){let o=n.preOrderCheckHooks;o!==null&&Ru(e,o,t)}else{let o=n.preOrderHooks;o!==null&&Ou(e,o,0,t)}uo(t)}var Cd=function(n){return n[n.None=0]="None",n[n.SignalBased=1]="SignalBased",n[n.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",n}(Cd||{});function Om(n,e,t,r){let i=ve(null);try{let[o,s,a]=n.inputs[t],l=null;(s&Cd.SignalBased)!==0&&(l=e[o][In]),l!==null&&l.transformFn!==void 0?r=l.transformFn(r):a!==null&&(r=a.call(e,r)),n.setInput!==null?n.setInput(e,l,r,t,o):Yb(e,l,o,r)}finally{ve(i)}}function CC(n,e,t,r,i){let o=yi(),s=r&2;try{uo(-1),s&&e.length>on&&wC(n,e,on,!1),je(s?2:0,i),t(r,i)}finally{uo(o),je(s?3:1,i)}}function Pg(n,e,t){sO(n,e,t),(t.flags&64)===64&&aO(n,e,t)}function EC(n,e,t=mr){let r=e.localNames;if(r!==null){let i=e.index+1;for(let o=0;o<r.length;o+=2){let s=r[o+1],a=s===-1?t(e,n):n[s];n[i++]=a}}}function tO(n,e,t,r){let o=r.get(aR,Zw)||t===hr.ShadowDom,s=n.selectRootElement(e,o);return nO(s),s}function nO(n){rO(n)}var rO=()=>null;function iO(n){return n==="class"?"className":n==="for"?"htmlFor":n==="formaction"?"formAction":n==="innerHtml"?"innerHTML":n==="readonly"?"readOnly":n==="tabindex"?"tabIndex":n}function IC(n,e,t,r,i,o,s,a){if(!a&&Lg(e,n,t,r,i)){_s(e)&&oO(t,e.index);return}if(e.type&3){let l=mr(e,t);r=iO(r),i=s!=null?s(i,e.value||"",r):i,o.setProperty(l,r,i)}else e.type&12}function oO(n,e){let t=fr(e,n);t[se]&16||(t[se]|=64)}function sO(n,e,t){let r=t.directiveStart,i=t.directiveEnd;_s(t)&&eO(e,t,n.data[r+t.componentOffset]),n.firstCreatePass||Yu(t,e);let o=t.initialInputs;for(let s=r;s<i;s++){let a=n.data[s],l=za(e,n,s,t);if(Ka(l,e),o!==null&&dO(e,s-r,l,a,t,o),ur(a)){let c=fr(t.index,e);c[rn]=za(e,n,s,t)}}}function aO(n,e,t){let r=t.directiveStart,i=t.directiveEnd,o=t.index,s=w1();try{uo(o);for(let a=r;a<i;a++){let l=n.data[a],c=e[a];fm(a),(l.hostBindings!==null||l.hostVars!==0||l.hostAttrs!==null)&&lO(l,c)}}finally{uo(-1),fm(s)}}function lO(n,e){n.hostBindings!==null&&n.hostBindings(1,e)}function DC(n,e){let t=n.directiveRegistry,r=null;if(t)for(let i=0;i<t.length;i++){let o=t[i];mC(e,o.selectors,!1)&&(r??=[],ur(o)?r.unshift(o):r.push(o))}return r}function cO(n,e,t,r,i,o){let s=mr(n,e);uO(e[at],s,o,n.value,t,r,i)}function uO(n,e,t,r,i,o,s){if(o==null)n.removeAttribute(e,i,t);else{let a=s==null?ro(o):s(o,r||"",i);n.setAttribute(e,i,a,t)}}function dO(n,e,t,r,i,o){let s=o[e];if(s!==null)for(let a=0;a<s.length;a+=2){let l=s[a],c=s[a+1];Om(r,t,l,c)}}function fO(n,e){let t=n[fs],r=t?t.get(sn,null):null;r&&r.handleError(e)}function Lg(n,e,t,r,i){let o=n.inputs?.[r],s=n.hostDirectiveInputs?.[r],a=!1;if(s)for(let l=0;l<s.length;l+=2){let c=s[l],u=s[l+1],d=e.data[c];Om(d,t[c],u,i),a=!0}if(o)for(let l of o){let c=t[l],u=e.data[l];Om(u,c,r,i),a=!0}return a}function hO(n,e){let t=fr(e,n),r=t[pe];pO(r,t);let i=t[qr];i!==null&&t[Ua]===null&&(t[Ua]=Qw(i,t[fs])),je(18),Vg(r,t,t[rn]),je(19,t[rn])}function pO(n,e){for(let t=e.length;t<n.blueprint.length;t++)e.push(n.blueprint[t])}function Vg(n,e,t){yg(e);try{let r=n.viewQuery;r!==null&&Em(1,r,t);let i=n.template;i!==null&&CC(n,e,i,1,t),n.firstCreatePass&&(n.firstCreatePass=!1),e[Ur]?.finishViewCreation(n),n.staticContentQueries&&Kw(n,e),n.staticViewQueries&&Em(2,n.viewQuery,t);let o=n.components;o!==null&&mO(e,o)}catch(r){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),r}finally{e[se]&=-5,_g()}}function mO(n,e){for(let t=0;t<e.length;t++)hO(n,e[t])}function SC(n,e,t,r){let i=ve(null);try{let o=e.tView,a=n[se]&4096?4096:16,l=Ng(n,o,t,a,null,e,null,null,r?.injector??null,r?.embeddedViewInjector??null,r?.dehydratedView??null),c=n[e.index];l[ao]=c;let u=n[Ur];return u!==null&&(l[Ur]=u.createEmbeddedView(o)),Vg(o,l,t),l}finally{ve(i)}}function km(n,e){return!e||e.firstChild===null||Bw(n)}var gO;function jg(n,e){return gO(n,e)}var Hr=function(n){return n[n.Important=1]="Important",n[n.DashCase=2]="DashCase",n}(Hr||{});function Bg(n){return(n.flags&32)===32}function ss(n,e,t,r,i){if(r!=null){let o,s=!1;Wr(r)?o=r:vi(r)&&(s=!0,r=r[qr]);let a=dr(r);n===0&&t!==null?i==null?vC(e,t,a):ed(e,t,a,i||null,!0):n===1&&t!==null?ed(e,t,a,i||null,!0):n===2?YR(e,a,s):n===3&&e.destroyNode(a),o!=null&&SO(e,n,o,t,i)}}function vO(n,e){TC(n,e),e[qr]=null,e[an]=null}function yO(n,e,t,r,i,o){r[qr]=i,r[an]=e,Ed(n,r,t,1,i,o)}function TC(n,e){e[Br].changeDetectionScheduler?.notify(9),Ed(n,e,e[at],2,null,null)}function _O(n){let e=n[$a];if(!e)return Zp(n[pe],n);for(;e;){let t=null;if(vi(e))t=e[$a];else{let r=e[fn];r&&(t=r)}if(!t){for(;e&&!e[Un]&&e!==n;)vi(e)&&Zp(e[pe],e),e=e[Lt];e===null&&(e=n),vi(e)&&Zp(e[pe],e),t=e&&e[Un]}e=t}}function Ug(n,e){let t=n[hs],r=t.indexOf(e);t.splice(r,1)}function xC(n,e){if(bs(e))return;let t=e[at];t.destroyNode&&Ed(n,e,t,3,null,null),_O(e)}function Zp(n,e){if(bs(e))return;let t=ve(null);try{e[se]&=-129,e[se]|=256,e[Dn]&&mp(e[Dn]),wO(n,e),bO(n,e),e[pe].type===1&&e[at].destroy();let r=e[ao];if(r!==null&&Wr(e[Lt])){r!==e[Lt]&&Ug(r,e);let i=e[Ur];i!==null&&i.detachView(n)}bm(e)}finally{ve(t)}}function bO(n,e){let t=n.cleanup,r=e[Uu];if(t!==null)for(let s=0;s<t.length-1;s+=2)if(typeof t[s]=="string"){let a=t[s+3];a>=0?r[a]():r[-a].unsubscribe(),s+=2}else{let a=r[t[s+1]];t[s].call(a)}r!==null&&(e[Uu]=null);let i=e[gi];if(i!==null){e[gi]=null;for(let s=0;s<i.length;s++){let a=i[s];a()}}let o=e[$u];if(o!==null){e[$u]=null;for(let s of o)s.destroy()}}function wO(n,e){let t;if(n!=null&&(t=n.destroyHooks)!=null)for(let r=0;r<t.length;r+=2){let i=e[t[r]];if(!(i instanceof fo)){let o=t[r+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){let a=i[o[s]],l=o[s+1];je(4,a,l);try{l.call(a)}finally{je(5,a,l)}}else{je(4,i,o);try{o.call(i)}finally{je(5,i,o)}}}}}function MC(n,e,t){return CO(n,e.parent,t)}function CO(n,e,t){let r=e;for(;r!==null&&r.type&168;)e=r,r=e.parent;if(r===null)return t[qr];if(_s(r)){let{encapsulation:i}=n.data[r.directiveStart+r.componentOffset];if(i===hr.None||i===hr.Emulated)return null}return mr(r,t)}function AC(n,e,t){return IO(n,e,t)}function EO(n,e,t){return n.type&40?mr(n,t):null}var IO=EO,cb;function $g(n,e,t,r){let i=MC(n,r,e),o=e[at],s=r.parent||e[an],a=AC(s,r,e);if(i!=null)if(Array.isArray(t))for(let l=0;l<t.length;l++)lb(o,i,t[l],a,!1);else lb(o,i,t,a,!1);cb!==void 0&&cb(o,r,e,t,i)}function Va(n,e){if(e!==null){let t=e.type;if(t&3)return mr(e,n);if(t&4)return Nm(-1,n[e.index]);if(t&8){let r=e.child;if(r!==null)return Va(n,r);{let i=n[e.index];return Wr(i)?Nm(-1,i):dr(i)}}else{if(t&128)return Va(n,e.next);if(t&32)return jg(e,n)()||dr(n[e.index]);{let r=RC(n,e);if(r!==null){if(Array.isArray(r))return r[0];let i=co(n[Sn]);return Va(i,r)}else return Va(n,e.next)}}}return null}function RC(n,e){if(e!==null){let r=n[Sn][an],i=e.projection;return r.projection[i]}return null}function Nm(n,e){let t=fn+n+1;if(t<e.length){let r=e[t],i=r[pe].firstChild;if(i!==null)return Va(r,i)}return e[lo]}function Hg(n,e,t,r,i,o,s){for(;t!=null;){if(t.type===128){t=t.next;continue}let a=r[t.index],l=t.type;if(s&&e===0&&(a&&Ka(dr(a),r),t.flags|=2),!Bg(t))if(l&8)Hg(n,e,t.child,r,i,o,!1),ss(e,n,i,a,o);else if(l&32){let c=jg(t,r),u;for(;u=c();)ss(e,n,i,u,o);ss(e,n,i,a,o)}else l&16?OC(n,e,r,t,i,o):ss(e,n,i,a,o);t=s?t.projectionNext:t.next}}function Ed(n,e,t,r,i,o){Hg(t,r,n.firstChild,e,i,o,!1)}function DO(n,e,t){let r=e[at],i=MC(n,t,e),o=t.parent||e[an],s=AC(o,t,e);OC(r,0,e,t,i,s)}function OC(n,e,t,r,i,o){let s=t[Sn],l=s[an].projection[r.projection];if(Array.isArray(l))for(let c=0;c<l.length;c++){let u=l[c];ss(e,n,i,u,o)}else{let c=l,u=s[Lt];Bw(r)&&(c.flags|=128),Hg(n,e,c,u,i,o,!0)}}function SO(n,e,t,r,i){let o=t[lo],s=dr(t);o!==s&&ss(e,n,r,o,i);for(let a=fn;a<t.length;a++){let l=t[a];Ed(l[pe],l,n,e,r,o)}}function TO(n,e,t,r,i){if(e)i?n.addClass(t,r):n.removeClass(t,r);else{let o=r.indexOf("-")===-1?void 0:Hr.DashCase;i==null?n.removeStyle(t,r,o):(typeof i=="string"&&i.endsWith("!important")&&(i=i.slice(0,-10),o|=Hr.Important),n.setStyle(t,r,i,o))}}function td(n,e,t,r,i=!1){for(;t!==null;){if(t.type===128){t=i?t.projectionNext:t.next;continue}let o=e[t.index];o!==null&&r.push(dr(o)),Wr(o)&&xO(o,r);let s=t.type;if(s&8)td(n,e,t.child,r);else if(s&32){let a=jg(t,e),l;for(;l=a();)r.push(l)}else if(s&16){let a=RC(e,t);if(Array.isArray(a))r.push(...a);else{let l=co(e[Sn]);td(l[pe],l,a,r,!0)}}t=i?t.projectionNext:t.next}return r}function xO(n,e){for(let t=fn;t<n.length;t++){let r=n[t],i=r[pe].firstChild;i!==null&&td(r[pe],r,i,e)}n[lo]!==n[qr]&&e.push(n[lo])}function kC(n){if(n[as]!==null){for(let e of n[as])e.impl.addSequence(e);n[as].length=0}}var NC=[];function MO(n){return n[Dn]??AO(n)}function AO(n){let e=NC.pop()??Object.create(OO);return e.lView=n,e}function RO(n){n.lView[Dn]!==n&&(n.lView=null,NC.push(n))}var OO=X(T({},Da),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:n=>{Ja(n.lView)},consumerOnSignalRead(){this.lView[Dn]=this}});function kO(n){let e=n[Dn]??Object.create(NO);return e.lView=n,e}var NO=X(T({},Da),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:n=>{let e=co(n.lView);for(;e&&!FC(e[pe]);)e=co(e);e&&iw(e)},consumerOnSignalRead(){this.lView[Dn]=this}});function FC(n){return n.type!==2}function PC(n){if(n[$u]===null)return;let e=!0;for(;e;){let t=!1;for(let r of n[$u])r.dirty&&(t=!0,r.zone===null||Zone.current===r.zone?r.run():r.zone.run(()=>r.run()));e=t&&!!(n[se]&8192)}}var FO=100;function LC(n,e=!0,t=0){let i=n[Br].rendererFactory,o=!1;o||i.begin?.();try{PO(n,t)}catch(s){throw e&&fO(n,s),s}finally{o||i.end?.()}}function PO(n,e){let t=dw();try{H0(!0),Fm(n,e);let r=0;for(;pd(n);){if(r===FO)throw new V(103,!1);r++,Fm(n,1)}}finally{H0(t)}}function LO(n,e,t,r){if(bs(e))return;let i=e[se],o=!1,s=!1;yg(e);let a=!0,l=null,c=null;o||(FC(n)?(c=MO(e),l=Hc(c)):cp()===null?(a=!1,c=kO(e),l=Hc(c)):e[Dn]&&(mp(e[Dn]),e[Dn]=null));try{rw(e),y1(n.bindingStartIndex),t!==null&&CC(n,e,t,2,r);let u=(i&3)===3;if(!o)if(u){let f=n.preOrderCheckHooks;f!==null&&Ru(e,f,null)}else{let f=n.preOrderHooks;f!==null&&Ou(e,f,0,null),qp(e,0)}if(s||VO(e),PC(e),VC(e,0),n.contentQueries!==null&&Kw(n,e),!o)if(u){let f=n.contentCheckHooks;f!==null&&Ru(e,f)}else{let f=n.contentHooks;f!==null&&Ou(e,f,1),qp(e,1)}BO(n,e);let d=n.components;d!==null&&BC(e,d,0);let p=n.viewQuery;if(p!==null&&Em(2,p,r),!o)if(u){let f=n.viewCheckHooks;f!==null&&Ru(e,f)}else{let f=n.viewHooks;f!==null&&Ou(e,f,2),qp(e,2)}if(n.firstUpdatePass===!0&&(n.firstUpdatePass=!1),e[Gp]){for(let f of e[Gp])f();e[Gp]=null}o||(kC(e),e[se]&=-73)}catch(u){throw o||Ja(e),u}finally{c!==null&&(hp(c,l),a&&RO(c)),_g()}}function VC(n,e){for(let t=Hw(n);t!==null;t=zw(t))for(let r=fn;r<t.length;r++){let i=t[r];jC(i,e)}}function VO(n){for(let e=Hw(n);e!==null;e=zw(e)){if(!(e[se]&2))continue;let t=e[hs];for(let r=0;r<t.length;r++){let i=t[r];iw(i)}}}function jO(n,e,t){je(18);let r=fr(e,n);jC(r,t),je(19,r[rn])}function jC(n,e){hg(n)&&Fm(n,e)}function Fm(n,e){let r=n[pe],i=n[se],o=n[Dn],s=!!(e===0&&i&16);if(s||=!!(i&64&&e===0),s||=!!(i&1024),s||=!!(o?.dirty&&pp(o)),s||=!1,o&&(o.dirty=!1),n[se]&=-9217,s)LO(r,n,r.template,n[rn]);else if(i&8192){PC(n),VC(n,1);let a=r.components;a!==null&&BC(n,a,1),kC(n)}}function BC(n,e,t){for(let r=0;r<e.length;r++)jO(n,e[r],t)}function BO(n,e){let t=n.hostBindingOpCodes;if(t!==null)try{for(let r=0;r<t.length;r++){let i=t[r];if(i<0)uo(~i);else{let o=i,s=t[++r],a=t[++r];b1(s,o);let l=e[o];je(24,l),a(2,l),je(25,l)}}}finally{uo(-1)}}function zg(n,e){let t=dw()?64:1088;for(n[Br].changeDetectionScheduler?.notify(e);n;){n[se]|=t;let r=co(n);if(zu(n)&&!r)return n;n=r}return null}function UC(n,e,t,r){return[n,!0,0,e,null,r,null,t,null,null]}function $C(n,e,t,r=!0){let i=e[pe];if(UO(i,e,n,t),r){let s=Nm(t,n),a=e[at],l=a.parentNode(n[lo]);l!==null&&yO(i,n[an],a,e,l,s)}let o=e[Ua];o!==null&&o.firstChild!==null&&(o.firstChild=null)}function Pm(n,e){if(n.length<=fn)return;let t=fn+e,r=n[t];if(r){let i=r[ao];i!==null&&i!==n&&Ug(i,r),e>0&&(n[t-1][Un]=r[Un]);let o=ju(n,fn+e);vO(r[pe],r);let s=o[Ur];s!==null&&s.detachView(o[pe]),r[Lt]=null,r[Un]=null,r[se]&=-129}return r}function UO(n,e,t,r){let i=fn+r,o=t.length;r>0&&(t[i-1][Un]=e),r<o-fn?(e[Un]=t[i],Lb(t,fn+r,e)):(t.push(e),e[Un]=null),e[Lt]=t;let s=e[ao];s!==null&&t!==s&&HC(s,e);let a=e[Ur];a!==null&&a.insertView(n),um(e),e[se]|=128}function HC(n,e){let t=n[hs],r=e[Lt];if(vi(r))n[se]|=2;else{let i=r[Lt][Sn];e[Sn]!==i&&(n[se]|=2)}t===null?n[hs]=[e]:t.push(e)}var Ga=class{_lView;_cdRefInjectingView;notifyErrorHandler;_appRef=null;_attachedToViewContainer=!1;get rootNodes(){let e=this._lView,t=e[pe];return td(t,e,t.firstChild,[])}constructor(e,t,r=!0){this._lView=e,this._cdRefInjectingView=t,this.notifyErrorHandler=r}get context(){return this._lView[rn]}set context(e){this._lView[rn]=e}get destroyed(){return bs(this._lView)}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let e=this._lView[Lt];if(Wr(e)){let t=e[Hu],r=t?t.indexOf(this):-1;r>-1&&(Pm(e,r),ju(t,r))}this._attachedToViewContainer=!1}xC(this._lView[pe],this._lView)}onDestroy(e){ow(this._lView,e)}markForCheck(){zg(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[se]&=-129}reattach(){um(this._lView),this._lView[se]|=128}detectChanges(){this._lView[se]|=1024,LC(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new V(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;let e=zu(this._lView),t=this._lView[ao];t!==null&&!e&&Ug(t,this._lView),TC(this._lView[pe],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new V(902,!1);this._appRef=e;let t=zu(this._lView),r=this._lView[ao];r!==null&&!t&&HC(r,this._lView),um(this._lView)}};var pr=(()=>{class n{static __NG_ELEMENT_ID__=zO}return n})(),$O=pr,HO=class extends $O{_declarationLView;_declarationTContainer;elementRef;constructor(e,t,r){super(),this._declarationLView=e,this._declarationTContainer=t,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(e,t){return this.createEmbeddedViewImpl(e,t)}createEmbeddedViewImpl(e,t,r){let i=SC(this._declarationLView,this._declarationTContainer,e,{embeddedViewInjector:t,dehydratedView:r});return new Ga(i)}};function zO(){return Gg(Yt(),ge())}function Gg(n,e){return n.type&4?new HO(e,n,Cs(n,e)):null}function Id(n,e,t,r,i){let o=n.data[e];if(o===null)o=GO(n,e,t,r,i),_1()&&(o.flags|=32);else if(o.type&64){o.type=t,o.value=r,o.attrs=i;let s=m1();o.injectorIndex=s===null?-1:s.injectorIndex}return Qa(o,!0),o}function GO(n,e,t,r,i){let o=lw(),s=cw(),a=s?o:o&&o.parent,l=n.data[e]=WO(n,a,t,e,r,i);return qO(n,l,o,s),l}function qO(n,e,t,r){n.firstChild===null&&(n.firstChild=e),t!==null&&(r?t.child==null&&e.parent!==null&&(t.child=e):t.next===null&&(t.next=e,e.prev=t))}function WO(n,e,t,r,i,o){let s=e?e.injectorIndex:-1,a=0;return aw()&&(a|=128),{type:t,index:r,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:null,inputs:null,hostDirectiveInputs:null,outputs:null,hostDirectiveOutputs:null,directiveToIndex:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}var d6=new RegExp(`^(\\d+)*(${sR}|${oR})*(.*)`);var ZO=()=>null;function Lm(n,e){return ZO(n,e)}var YO=class{},zC=class{},Vm=class{resolveComponentFactory(e){throw Error(`No component factory found for ${nn(e)}.`)}},Dd=class{static NULL=new Vm},$n=class{},pn=(()=>{class n{destroyNode=null;static __NG_ELEMENT_ID__=()=>JO()}return n})();function JO(){let n=ge(),e=Yt(),t=fr(e.index,n);return(vi(t)?t:n)[at]}var QO=(()=>{class n{static \u0275prov=O({token:n,providedIn:"root",factory:()=>null})}return n})();var Yp={},jm=class{injector;parentInjector;constructor(e,t){this.injector=e,this.parentInjector=t}get(e,t,r){r=ud(r);let i=this.injector.get(e,Yp,r);return i!==Yp||t===Yp?i:this.parentInjector.get(e,t,r)}};function ub(n,e,t){let r=t?n.styles:null,i=t?n.classes:null,o=0;if(e!==null)for(let s=0;s<e.length;s++){let a=e[s];if(typeof a=="number")o=a;else if(o==1)i=nm(i,a);else if(o==2){let l=a,c=e[++s];r=nm(r,l+": "+c+";")}}t?n.styles=r:n.stylesWithoutHost=r,t?n.classes=i:n.classesWithoutHost=i}function I(n,e=de.Default){let t=ge();if(t===null)return N(n,e);let r=Yt();return Mw(r,t,Wt(n),e)}function GC(n,e,t,r,i){let o=r===null?null:{"":-1},s=i(n,t);if(s!==null){let a,l=null,c=null,u=XO(s);u===null?a=s:[a,l,c]=u,nk(n,e,t,a,o,l,c)}o!==null&&r!==null&&KO(t,r,o)}function KO(n,e,t){let r=n.localNames=[];for(let i=0;i<e.length;i+=2){let o=t[e[i+1]];if(o==null)throw new V(-301,!1);r.push(e[i],o)}}function XO(n){let e=null,t=!1;for(let s=0;s<n.length;s++){let a=n[s];if(s===0&&ur(a)&&(e=a),a.findHostDirectiveDefs!==null){t=!0;break}}if(!t)return null;let r=null,i=null,o=null;for(let s of n)s.findHostDirectiveDefs!==null&&(r??=[],i??=new Map,o??=new Map,ek(s,r,o,i)),s===e&&(r??=[],r.push(s));return r!==null?(r.push(...e===null?n:n.slice(1)),[r,i,o]):null}function ek(n,e,t,r){let i=e.length;n.findHostDirectiveDefs(n,e,r),t.set(n,[i,e.length-1])}function tk(n,e,t){e.componentOffset=t,(n.components??=[]).push(e.index)}function nk(n,e,t,r,i,o,s){let a=r.length,l=!1;for(let p=0;p<a;p++){let f=r[p];!l&&ur(f)&&(l=!0,tk(n,t,p)),pm(Yu(t,e),n,f.type)}lk(t,n.data.length,a);for(let p=0;p<a;p++){let f=r[p];f.providersResolver&&f.providersResolver(f)}let c=!1,u=!1,d=bC(n,e,a,null);a>0&&(t.directiveToIndex=new Map);for(let p=0;p<a;p++){let f=r[p];if(t.mergedAttrs=Ha(t.mergedAttrs,f.hostAttrs),ik(n,t,e,d,f),ak(d,f,i),s!==null&&s.has(f)){let[v,y]=s.get(f);t.directiveToIndex.set(f.type,[d,v+t.directiveStart,y+t.directiveStart])}else(o===null||!o.has(f))&&t.directiveToIndex.set(f.type,d);f.contentQueries!==null&&(t.flags|=4),(f.hostBindings!==null||f.hostAttrs!==null||f.hostVars!==0)&&(t.flags|=64);let h=f.type.prototype;!c&&(h.ngOnChanges||h.ngOnInit||h.ngDoCheck)&&((n.preOrderHooks??=[]).push(t.index),c=!0),!u&&(h.ngOnChanges||h.ngDoCheck)&&((n.preOrderCheckHooks??=[]).push(t.index),u=!0),d++}rk(n,t,o)}function rk(n,e,t){for(let r=e.directiveStart;r<e.directiveEnd;r++){let i=n.data[r];if(t===null||!t.has(i))db(0,e,i,r),db(1,e,i,r),hb(e,r,!1);else{let o=t.get(i);fb(0,e,o,r),fb(1,e,o,r),hb(e,r,!0)}}}function db(n,e,t,r){let i=n===0?t.inputs:t.outputs;for(let o in i)if(i.hasOwnProperty(o)){let s;n===0?s=e.inputs??={}:s=e.outputs??={},s[o]??=[],s[o].push(r),qC(e,o)}}function fb(n,e,t,r){let i=n===0?t.inputs:t.outputs;for(let o in i)if(i.hasOwnProperty(o)){let s=i[o],a;n===0?a=e.hostDirectiveInputs??={}:a=e.hostDirectiveOutputs??={},a[s]??=[],a[s].push(r,o),qC(e,s)}}function qC(n,e){e==="class"?n.flags|=8:e==="style"&&(n.flags|=16)}function hb(n,e,t){let{attrs:r,inputs:i,hostDirectiveInputs:o}=n;if(r===null||!t&&i===null||t&&o===null||Og(n)){n.initialInputs??=[],n.initialInputs.push(null);return}let s=null,a=0;for(;a<r.length;){let l=r[a];if(l===0){a+=4;continue}else if(l===5){a+=2;continue}else if(typeof l=="number")break;if(!t&&i.hasOwnProperty(l)){let c=i[l];for(let u of c)if(u===e){s??=[],s.push(l,r[a+1]);break}}else if(t&&o.hasOwnProperty(l)){let c=o[l];for(let u=0;u<c.length;u+=2)if(c[u]===e){s??=[],s.push(c[u+1],r[a+1]);break}}a+=2}n.initialInputs??=[],n.initialInputs.push(s)}function ik(n,e,t,r,i){n.data[r]=i;let o=i.factory||(i.factory=io(i.type,!0)),s=new fo(o,ur(i),I);n.blueprint[r]=s,t[r]=s,ok(n,e,r,bC(n,t,i.hostVars,xn),i)}function ok(n,e,t,r,i){let o=i.hostBindings;if(o){let s=n.hostBindingOpCodes;s===null&&(s=n.hostBindingOpCodes=[]);let a=~e.index;sk(s)!=a&&s.push(a),s.push(t,r,o)}}function sk(n){let e=n.length;for(;e>0;){let t=n[--e];if(typeof t=="number"&&t<0)return t}return 0}function ak(n,e,t){if(t){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)t[e.exportAs[r]]=n;ur(e)&&(t[""]=n)}}function lk(n,e,t){n.flags|=1,n.directiveStart=e,n.directiveEnd=e+t,n.providerIndexes=e}function WC(n,e,t,r,i,o,s,a){let l=e.consts,c=Gu(l,s),u=Id(e,n,2,r,c);return o&&GC(e,t,u,Gu(l,a),i),u.mergedAttrs=Ha(u.mergedAttrs,u.attrs),u.attrs!==null&&ub(u,u.attrs,!1),u.mergedAttrs!==null&&ub(u,u.mergedAttrs,!0),e.queries!==null&&e.queries.elementStart(e,u),u}function ZC(n,e){bw(n,e),Zb(e)&&n.queries.elementEnd(e)}var nd=class extends Dd{ngModule;constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){let t=so(e);return new ms(t,this.ngModule)}};function ck(n){return Object.keys(n).map(e=>{let[t,r,i]=n[e],o={propName:t,templateName:e,isSignal:(r&Cd.SignalBased)!==0};return i&&(o.transform=i),o})}function uk(n){return Object.keys(n).map(e=>({propName:n[e],templateName:e}))}function dk(n,e,t){let r=e instanceof Zt?e:e?.injector;return r&&n.getStandaloneInjector!==null&&(r=n.getStandaloneInjector(r)||r),r?new jm(t,r):t}function fk(n){let e=n.get($n,null);if(e===null)throw new V(407,!1);let t=n.get(QO,null),r=n.get(ps,null);return{rendererFactory:e,sanitizer:t,changeDetectionScheduler:r}}function hk(n,e){let t=(n.selectors[0][0]||"div").toLowerCase();return gC(e,t,t==="svg"?Xb:t==="math"?r1:null)}var ms=class extends zC{componentDef;ngModule;selector;componentType;ngContentSelectors;isBoundToModule;cachedInputs=null;cachedOutputs=null;get inputs(){return this.cachedInputs??=ck(this.componentDef.inputs),this.cachedInputs}get outputs(){return this.cachedOutputs??=uk(this.componentDef.outputs),this.cachedOutputs}constructor(e,t){super(),this.componentDef=e,this.ngModule=t,this.componentType=e.type,this.selector=GR(e.selectors),this.ngContentSelectors=e.ngContentSelectors??[],this.isBoundToModule=!!t}create(e,t,r,i){je(22);let o=ve(null);try{let s=this.componentDef,a=r?["ng-version","19.2.15"]:qR(this.componentDef.selectors[0]),l=kg(0,null,null,1,0,null,null,null,null,[a],null),c=dk(s,i||this.ngModule,e),u=fk(c),d=u.rendererFactory.createRenderer(null,s),p=r?tO(d,r,s.encapsulation,c):hk(s,d),f=Ng(null,l,null,512|_C(s),null,null,u,d,c,null,Qw(p,c,!0));f[on]=p,yg(f);let h=null;try{let v=WC(on,l,f,"#host",()=>[this.componentDef],!0,0);p&&(yC(d,p,v),Ka(p,f)),Pg(l,f,v),Xw(l,v,f),ZC(l,v),t!==void 0&&pk(v,this.ngContentSelectors,t),h=fr(v.index,f),f[rn]=h[rn],Vg(l,f,null)}catch(v){throw h!==null&&bm(h),bm(f),v}finally{je(23),_g()}return new Bm(this.componentType,f)}finally{ve(o)}}},Bm=class extends YO{_rootLView;instance;hostView;changeDetectorRef;componentType;location;previousInputValues=null;_tNode;constructor(e,t){super(),this._rootLView=t,this._tNode=tw(t[pe],on),this.location=Cs(this._tNode,t),this.instance=fr(this._tNode.index,t)[rn],this.hostView=this.changeDetectorRef=new Ga(t,void 0,!1),this.componentType=e}setInput(e,t){let r=this._tNode;if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),t))return;let i=this._rootLView,o=Lg(r,i[pe],i,e,t);this.previousInputValues.set(e,t);let s=fr(r.index,i);zg(s,1)}get injector(){return new no(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}};function pk(n,e,t){let r=n.projection=[];for(let i=0;i<e.length;i++){let o=t[i];r.push(o!=null&&o.length?Array.from(o):null)}}var Wn=(()=>{class n{static __NG_ELEMENT_ID__=mk}return n})();function mk(){let n=Yt();return JC(n,ge())}var gk=Wn,YC=class extends gk{_lContainer;_hostTNode;_hostLView;constructor(e,t,r){super(),this._lContainer=e,this._hostTNode=t,this._hostLView=r}get element(){return Cs(this._hostTNode,this._hostLView)}get injector(){return new no(this._hostTNode,this._hostLView)}get parentInjector(){let e=Eg(this._hostTNode,this._hostLView);if(Ew(e)){let t=Wu(e,this._hostLView),r=qu(e),i=t[pe].data[r+8];return new no(i,t)}else return new no(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){let t=pb(this._lContainer);return t!==null&&t[e]||null}get length(){return this._lContainer.length-fn}createEmbeddedView(e,t,r){let i,o;typeof r=="number"?i=r:r!=null&&(i=r.index,o=r.injector);let s=Lm(this._lContainer,e.ssrId),a=e.createEmbeddedViewImpl(t||{},o,s);return this.insertImpl(a,i,km(this._hostTNode,s)),a}createComponent(e,t,r,i,o){let s=e&&!XA(e),a;if(s)a=t;else{let h=t||{};a=h.index,r=h.injector,i=h.projectableNodes,o=h.environmentInjector||h.ngModuleRef}let l=s?e:new ms(so(e)),c=r||this.parentInjector;if(!o&&l.ngModule==null){let v=(s?c:this.parentInjector).get(Zt,null);v&&(o=v)}let u=so(l.componentType??{}),d=Lm(this._lContainer,u?.id??null),p=d?.firstChild??null,f=l.create(c,i,p,o);return this.insertImpl(f.hostView,a,km(this._hostTNode,d)),f}insert(e,t){return this.insertImpl(e,t,!0)}insertImpl(e,t,r){let i=e._lView;if(s1(i)){let a=this.indexOf(e);if(a!==-1)this.detach(a);else{let l=i[Lt],c=new YC(l,l[an],l[Lt]);c.detach(c.indexOf(e))}}let o=this._adjustIndex(t),s=this._lContainer;return $C(s,i,o,r),e.attachToViewContainerRef(),Lb(Jp(s),o,e),e}move(e,t){return this.insert(e,t)}indexOf(e){let t=pb(this._lContainer);return t!==null?t.indexOf(e):-1}remove(e){let t=this._adjustIndex(e,-1),r=Pm(this._lContainer,t);r&&(ju(Jp(this._lContainer),t),xC(r[pe],r))}detach(e){let t=this._adjustIndex(e,-1),r=Pm(this._lContainer,t);return r&&ju(Jp(this._lContainer),t)!=null?new Ga(r):null}_adjustIndex(e,t=0){return e??this.length+t}};function pb(n){return n[Hu]}function Jp(n){return n[Hu]||(n[Hu]=[])}function JC(n,e){let t,r=e[n.index];return Wr(r)?t=r:(t=UC(r,e,null,n),e[n.index]=t,Fg(e,t)),yk(t,e,n,r),new YC(t,n,e)}function vk(n,e){let t=n[at],r=t.createComment(""),i=mr(e,n),o=t.parentNode(i);return ed(t,o,r,t.nextSibling(i),!1),r}var yk=wk,_k=()=>!1;function bk(n,e,t){return _k(n,e,t)}function wk(n,e,t,r){if(n[lo])return;let i;t.type&8?i=dr(r):i=vk(e,t),n[lo]=i}var Um=class n{queryList;matches=null;constructor(e){this.queryList=e}clone(){return new n(this.queryList)}setDirty(){this.queryList.setDirty()}},$m=class n{queries;constructor(e=[]){this.queries=e}createEmbeddedView(e){let t=e.queries;if(t!==null){let r=e.contentQueries!==null?e.contentQueries[0]:t.length,i=[];for(let o=0;o<r;o++){let s=t.getByIndex(o),a=this.queries[s.indexInDeclarationView];i.push(a.clone())}return new n(i)}return null}insertView(e){this.dirtyQueriesWithMatches(e)}detachView(e){this.dirtyQueriesWithMatches(e)}finishViewCreation(e){this.dirtyQueriesWithMatches(e)}dirtyQueriesWithMatches(e){for(let t=0;t<this.queries.length;t++)qg(e,t).matches!==null&&this.queries[t].setDirty()}},rd=class{flags;read;predicate;constructor(e,t,r=null){this.flags=t,this.read=r,typeof e=="string"?this.predicate=Mk(e):this.predicate=e}},Hm=class n{queries;constructor(e=[]){this.queries=e}elementStart(e,t){for(let r=0;r<this.queries.length;r++)this.queries[r].elementStart(e,t)}elementEnd(e){for(let t=0;t<this.queries.length;t++)this.queries[t].elementEnd(e)}embeddedTView(e){let t=null;for(let r=0;r<this.length;r++){let i=t!==null?t.length:0,o=this.getByIndex(r).embeddedTView(e,i);o&&(o.indexInDeclarationView=r,t!==null?t.push(o):t=[o])}return t!==null?new n(t):null}template(e,t){for(let r=0;r<this.queries.length;r++)this.queries[r].template(e,t)}getByIndex(e){return this.queries[e]}get length(){return this.queries.length}track(e){this.queries.push(e)}},zm=class n{metadata;matches=null;indexInDeclarationView=-1;crossesNgTemplate=!1;_declarationNodeIndex;_appliesToNextNode=!0;constructor(e,t=-1){this.metadata=e,this._declarationNodeIndex=t}elementStart(e,t){this.isApplyingToNode(t)&&this.matchTNode(e,t)}elementEnd(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}template(e,t){this.elementStart(e,t)}embeddedTView(e,t){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,t),new n(this.metadata)):null}isApplyingToNode(e){if(this._appliesToNextNode&&(this.metadata.flags&1)!==1){let t=this._declarationNodeIndex,r=e.parent;for(;r!==null&&r.type&8&&r.index!==t;)r=r.parent;return t===(r!==null?r.index:-1)}return this._appliesToNextNode}matchTNode(e,t){let r=this.metadata.predicate;if(Array.isArray(r))for(let i=0;i<r.length;i++){let o=r[i];this.matchTNodeWithReadOption(e,t,Ck(t,o)),this.matchTNodeWithReadOption(e,t,ku(t,e,o,!1,!1))}else r===pr?t.type&4&&this.matchTNodeWithReadOption(e,t,-1):this.matchTNodeWithReadOption(e,t,ku(t,e,r,!1,!1))}matchTNodeWithReadOption(e,t,r){if(r!==null){let i=this.metadata.read;if(i!==null)if(i===tt||i===Wn||i===pr&&t.type&4)this.addMatch(t.index,-2);else{let o=ku(t,e,i,!1,!1);o!==null&&this.addMatch(t.index,o)}else this.addMatch(t.index,r)}}addMatch(e,t){this.matches===null?this.matches=[e,t]:this.matches.push(e,t)}};function Ck(n,e){let t=n.localNames;if(t!==null){for(let r=0;r<t.length;r+=2)if(t[r]===e)return t[r+1]}return null}function Ek(n,e){return n.type&11?Cs(n,e):n.type&4?Gg(n,e):null}function Ik(n,e,t,r){return t===-1?Ek(e,n):t===-2?Dk(n,e,r):za(n,n[pe],t,e)}function Dk(n,e,t){if(t===tt)return Cs(e,n);if(t===pr)return Gg(e,n);if(t===Wn)return JC(e,n)}function QC(n,e,t,r){let i=e[Ur].queries[r];if(i.matches===null){let o=n.data,s=t.matches,a=[];for(let l=0;s!==null&&l<s.length;l+=2){let c=s[l];if(c<0)a.push(null);else{let u=o[c];a.push(Ik(e,u,s[l+1],t.metadata.read))}}i.matches=a}return i.matches}function Gm(n,e,t,r){let i=n.queries.getByIndex(t),o=i.matches;if(o!==null){let s=QC(n,e,i,t);for(let a=0;a<o.length;a+=2){let l=o[a];if(l>0)r.push(s[a/2]);else{let c=o[a+1],u=e[-l];for(let d=fn;d<u.length;d++){let p=u[d];p[ao]===p[Lt]&&Gm(p[pe],p,c,r)}if(u[hs]!==null){let d=u[hs];for(let p=0;p<d.length;p++){let f=d[p];Gm(f[pe],f,c,r)}}}}}return r}function Sk(n,e){return n[Ur].queries[e].queryList}function KC(n,e,t){let r=new Xu((t&4)===4);return c1(n,e,r,r.destroy),(e[Ur]??=new $m).queries.push(new Um(r))-1}function Tk(n,e,t){let r=yt();return r.firstCreatePass&&(XC(r,new rd(n,e,t),-1),(e&2)===2&&(r.staticViewQueries=!0)),KC(r,ge(),e)}function xk(n,e,t,r){let i=yt();if(i.firstCreatePass){let o=Yt();XC(i,new rd(e,t,r),o.index),Ak(i,n),(t&2)===2&&(i.staticContentQueries=!0)}return KC(i,ge(),t)}function Mk(n){return n.split(",").map(e=>e.trim())}function XC(n,e,t){n.queries===null&&(n.queries=new Hm),n.queries.track(new zm(e,t))}function Ak(n,e){let t=n.contentQueries||(n.contentQueries=[]),r=t.length?t[t.length-1]:-1;e!==r&&t.push(n.queries.length-1,e)}function qg(n,e){return n.queries.getByIndex(e)}function Rk(n,e){let t=n[pe],r=qg(t,e);return r.crossesNgTemplate?Gm(t,n,e,[]):QC(t,n,r,e)}var gs=class{},Wg=class{};var qm=class extends gs{ngModuleType;_parent;_bootstrapComponents=[];_r3Injector;instance;destroyCbs=[];componentFactoryResolver=new nd(this);constructor(e,t,r,i=!0){super(),this.ngModuleType=e,this._parent=t;let o=Bb(e);this._bootstrapComponents=hC(o.bootstrap),this._r3Injector=Ow(e,t,[{provide:gs,useValue:this},{provide:Dd,useValue:this.componentFactoryResolver},...r],nn(e),new Set(["environment"])),i&&this.resolveInjectorInitializers()}resolveInjectorInitializers(){this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(this.ngModuleType)}get injector(){return this._r3Injector}destroy(){let e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}},Wm=class extends Wg{moduleType;constructor(e){super(),this.moduleType=e}create(e){return new qm(this.moduleType,e,[])}};var id=class extends gs{injector;componentFactoryResolver=new nd(this);instance=null;constructor(e){super();let t=new Ba([...e.providers,{provide:gs,useValue:this},{provide:Dd,useValue:this.componentFactoryResolver}],e.parent||dg(),e.debugName,new Set(["environment"]));this.injector=t,e.runEnvironmentInitializers&&t.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}};function Sd(n,e,t=null){return new id({providers:n,parent:e,debugName:t,runEnvironmentInitializers:!0}).injector}var Ok=(()=>{class n{_injector;cachedInjectors=new Map;constructor(t){this._injector=t}getOrCreateStandaloneInjector(t){if(!t.standalone)return null;if(!this.cachedInjectors.has(t)){let r=Ub(!1,t.type),i=r.length>0?Sd([r],this._injector,`Standalone[${t.type.name}]`):null;this.cachedInjectors.set(t,i)}return this.cachedInjectors.get(t)}ngOnDestroy(){try{for(let t of this.cachedInjectors.values())t!==null&&t.destroy()}finally{this.cachedInjectors.clear()}}static \u0275prov=O({token:n,providedIn:"environment",factory:()=>new n(N(Zt))})}return n})();function ae(n){return Wa(()=>{let e=tE(n),t=X(T({},e),{decls:n.decls,vars:n.vars,template:n.template,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,onPush:n.changeDetection===Uw.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&n.dependencies||null,getStandaloneInjector:e.standalone?i=>i.get(Ok).getOrCreateStandaloneInjector(t):null,getExternalStyles:null,signals:n.signals??!1,data:n.data||{},encapsulation:n.encapsulation||hr.Emulated,styles:n.styles||tn,_:null,schemas:n.schemas||null,tView:null,id:""});e.standalone&&_d("NgStandalone"),nE(t);let r=n.dependencies;return t.directiveDefs=mb(r,!1),t.pipeDefs=mb(r,!0),t.id=Lk(t),t})}function kk(n){return so(n)||BA(n)}function Nk(n){return n!==null}function Ke(n){return Wa(()=>({type:n.type,bootstrap:n.bootstrap||tn,declarations:n.declarations||tn,imports:n.imports||tn,exports:n.exports||tn,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null}))}function Fk(n,e){if(n==null)return oo;let t={};for(let r in n)if(n.hasOwnProperty(r)){let i=n[r],o,s,a,l;Array.isArray(i)?(a=i[0],o=i[1],s=i[2]??o,l=i[3]||null):(o=i,s=i,a=Cd.None,l=null),t[o]=[r,a,l],e[o]=s}return t}function Pk(n){if(n==null)return oo;let e={};for(let t in n)n.hasOwnProperty(t)&&(e[n[t]]=t);return e}function he(n){return Wa(()=>{let e=tE(n);return nE(e),e})}function eE(n){return{type:n.type,name:n.name,factory:null,pure:n.pure!==!1,standalone:n.standalone??!0,onDestroy:n.type.prototype.ngOnDestroy||null}}function tE(n){let e={};return{type:n.type,providersResolver:null,factory:null,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:e,inputConfig:n.inputs||oo,exportAs:n.exportAs||null,standalone:n.standalone??!0,signals:n.signals===!0,selectors:n.selectors||tn,viewQuery:n.viewQuery||null,features:n.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:Fk(n.inputs,e),outputs:Pk(n.outputs),debugInfo:null}}function nE(n){n.features?.forEach(e=>e(n))}function mb(n,e){if(!n)return null;let t=e?UA:kk;return()=>(typeof n=="function"?n():n).map(r=>t(r)).filter(Nk)}function Lk(n){let e=0,t=typeof n.consts=="function"?"":n.consts,r=[n.selectors,n.ngContentSelectors,n.hostVars,n.hostAttrs,t,n.vars,n.decls,n.encapsulation,n.standalone,n.signals,n.exportAs,JSON.stringify(n.inputs),JSON.stringify(n.outputs),Object.getOwnPropertyNames(n.type.prototype),!!n.contentQueries,!!n.viewQuery];for(let o of r.join("|"))e=Math.imul(31,e)+o.charCodeAt(0)<<0;return e+=2147483648,"c"+e}function Vk(n){return Object.getPrototypeOf(n.prototype).constructor}function lt(n){let e=Vk(n.type),t=!0,r=[n];for(;e;){let i;if(ur(n))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new V(903,!1);i=e.\u0275dir}if(i){if(t){r.push(i);let s=n;s.inputs=Qp(n.inputs),s.declaredInputs=Qp(n.declaredInputs),s.outputs=Qp(n.outputs);let a=i.hostBindings;a&&Hk(n,a);let l=i.viewQuery,c=i.contentQueries;if(l&&Uk(n,l),c&&$k(n,c),jk(n,i),yA(n.outputs,i.outputs),ur(i)&&i.data.animation){let u=n.data;u.animation=(u.animation||[]).concat(i.data.animation)}}let o=i.features;if(o)for(let s=0;s<o.length;s++){let a=o[s];a&&a.ngInherit&&a(n),a===lt&&(t=!1)}}e=Object.getPrototypeOf(e)}Bk(r)}function jk(n,e){for(let t in e.inputs){if(!e.inputs.hasOwnProperty(t)||n.inputs.hasOwnProperty(t))continue;let r=e.inputs[t];r!==void 0&&(n.inputs[t]=r,n.declaredInputs[t]=e.declaredInputs[t])}}function Bk(n){let e=0,t=null;for(let r=n.length-1;r>=0;r--){let i=n[r];i.hostVars=e+=i.hostVars,i.hostAttrs=Ha(i.hostAttrs,t=Ha(t,i.hostAttrs))}}function Qp(n){return n===oo?{}:n===tn?[]:n}function Uk(n,e){let t=n.viewQuery;t?n.viewQuery=(r,i)=>{e(r,i),t(r,i)}:n.viewQuery=e}function $k(n,e){let t=n.contentQueries;t?n.contentQueries=(r,i,o)=>{e(r,i,o),t(r,i,o)}:n.contentQueries=e}function Hk(n,e){let t=n.hostBindings;t?n.hostBindings=(r,i)=>{e(r,i),t(r,i)}:n.hostBindings=e}function rE(n){return Gk(n)?Array.isArray(n)||!(n instanceof Map)&&Symbol.iterator in n:!1}function zk(n,e){if(Array.isArray(n))for(let t=0;t<n.length;t++)e(n[t]);else{let t=n[Symbol.iterator](),r;for(;!(r=t.next()).done;)e(r.value)}}function Gk(n){return n!==null&&(typeof n=="function"||typeof n=="object")}function iE(n,e,t){return n[e]=t}function qk(n,e){return n[e]}function zr(n,e,t){let r=n[e];return Object.is(r,t)?!1:(n[e]=t,!0)}function Wk(n,e,t,r){let i=zr(n,e,t);return zr(n,e+1,r)||i}function Zk(n,e,t,r,i,o,s,a,l){let c=e.consts,u=Id(e,n,4,s||null,a||null);sw()&&GC(e,t,u,Gu(c,l),DC),u.mergedAttrs=Ha(u.mergedAttrs,u.attrs),bw(e,u);let d=u.tView=kg(2,u,r,i,o,e.directiveRegistry,e.pipeRegistry,null,e.schemas,c,null);return e.queries!==null&&(e.queries.template(e,u),d.queries=e.queries.embeddedTView(u)),u}function oE(n,e,t,r,i,o,s,a,l,c){let u=t+on,d=e.firstCreatePass?Zk(u,e,n,r,i,o,s,a,l):e.data[u];Qa(d,!1);let p=Yk(e,n,d,t);wg()&&$g(e,n,p,d),Ka(p,n);let f=UC(p,n,p,d);return n[u]=f,Fg(n,f),bk(f,d,n),fg(d)&&Pg(e,n,d),l!=null&&EC(n,d,c),d}function $(n,e,t,r,i,o,s,a){let l=ge(),c=yt(),u=Gu(c.consts,o);return oE(l,c,n,e,t,r,i,u,s,a),$}var Yk=Jk;function Jk(n,e,t,r){return Cg(!0),e[at].createComment("")}var Zg=(()=>{class n{log(t){console.log(t)}warn(t){console.warn(t)}static \u0275fac=function(r){return new(r||n)};static \u0275prov=O({token:n,factory:n.\u0275fac,providedIn:"platform"})}return n})();var sE=new B("");var Qk=(()=>{class n{static \u0275prov=O({token:n,providedIn:"root",factory:()=>new Zm})}return n})(),Zm=class{queuedEffectCount=0;queues=new Map;schedule(e){this.enqueue(e)}remove(e){let t=e.zone,r=this.queues.get(t);r.has(e)&&(r.delete(e),this.queuedEffectCount--)}enqueue(e){let t=e.zone;this.queues.has(t)||this.queues.set(t,new Set);let r=this.queues.get(t);r.has(e)||(this.queuedEffectCount++,r.add(e))}flush(){for(;this.queuedEffectCount>0;)for(let[e,t]of this.queues)e===null?this.flushQueue(t):e.run(()=>this.flushQueue(t))}flushQueue(e){for(let t of e)e.delete(t),this.queuedEffectCount--,t.run()}};function bi(n){return!!n&&typeof n.then=="function"}function Yg(n){return!!n&&typeof n.subscribe=="function"}var aE=new B("");function Jg(n){return Gr([{provide:aE,multi:!0,useValue:n}])}var lE=(()=>{class n{resolve;reject;initialized=!1;done=!1;donePromise=new Promise((t,r)=>{this.resolve=t,this.reject=r});appInits=E(aE,{optional:!0})??[];injector=E(Ct);constructor(){}runInitializers(){if(this.initialized)return;let t=[];for(let i of this.appInits){let o=hn(this.injector,i);if(bi(o))t.push(o);else if(Yg(o)){let s=new Promise((a,l)=>{o.subscribe({complete:a,error:l})});t.push(s)}}let r=()=>{this.done=!0,this.resolve()};Promise.all(t).then(()=>{r()}).catch(i=>{this.reject(i)}),t.length===0&&r(),this.initialized=!0}static \u0275fac=function(r){return new(r||n)};static \u0275prov=O({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Qg=new B("");function Kk(){vp(()=>{throw new V(600,!1)})}function Xk(n){return n.isBoundToModule}var eN=10;var Hn=(()=>{class n{_runningTick=!1;_destroyed=!1;_destroyListeners=[];_views=[];internalErrorHandler=E(Y1);afterRenderManager=E(Jw);zonelessEnabled=E(vd);rootEffectScheduler=E(Qk);dirtyFlags=0;tracingSnapshot=null;externalTestViews=new Set;afterTick=new ie;get allViews(){return[...this.externalTestViews.keys(),...this._views]}get destroyed(){return this._destroyed}componentTypes=[];components=[];isStable=E(_i).hasPendingTasks.pipe(J(t=>!t));constructor(){E(Es,{optional:!0})}whenStable(){let t;return new Promise(r=>{t=this.isStable.subscribe({next:i=>{i&&r()}})}).finally(()=>{t.unsubscribe()})}_injector=E(Zt);_rendererFactory=null;get injector(){return this._injector}bootstrap(t,r){return this.bootstrapImpl(t,r)}bootstrapImpl(t,r,i=Ct.NULL){je(10);let o=t instanceof zC;if(!this._injector.get(lE).done){let f="";throw new V(405,f)}let a;o?a=t:a=this._injector.get(Dd).resolveComponentFactory(t),this.componentTypes.push(a.componentType);let l=Xk(a)?void 0:this._injector.get(gs),c=r||a.selector,u=a.create(i,[],c,l),d=u.location.nativeElement,p=u.injector.get(sE,null);return p?.registerApplication(d),u.onDestroy(()=>{this.detachView(u.hostView),Nu(this.components,u),p?.unregisterApplication(d)}),this._loadComponent(u),je(11,u),u}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick(){je(12),this.tracingSnapshot!==null?this.tracingSnapshot.run(xg.CHANGE_DETECTION,this.tickImpl):this.tickImpl()}tickImpl=()=>{if(this._runningTick)throw new V(101,!1);let t=ve(null);try{this._runningTick=!0,this.synchronize()}catch(r){this.internalErrorHandler(r)}finally{this._runningTick=!1,this.tracingSnapshot?.dispose(),this.tracingSnapshot=null,ve(t),this.afterTick.next(),je(13)}};synchronize(){this._rendererFactory===null&&!this._injector.destroyed&&(this._rendererFactory=this._injector.get($n,null,{optional:!0}));let t=0;for(;this.dirtyFlags!==0&&t++<eN;)je(14),this.synchronizeOnce(),je(15)}synchronizeOnce(){if(this.dirtyFlags&16&&(this.dirtyFlags&=-17,this.rootEffectScheduler.flush()),this.dirtyFlags&7){let t=!!(this.dirtyFlags&1);this.dirtyFlags&=-8,this.dirtyFlags|=8;for(let{_lView:r,notifyErrorHandler:i}of this.allViews)tN(r,i,t,this.zonelessEnabled);if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),this.dirtyFlags&23)return}else this._rendererFactory?.begin?.(),this._rendererFactory?.end?.();this.dirtyFlags&8&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){if(this.allViews.some(({_lView:t})=>pd(t))){this.dirtyFlags|=2;return}else this.dirtyFlags&=-8}attachView(t){let r=t;this._views.push(r),r.attachToAppRef(this)}detachView(t){let r=t;Nu(this._views,r),r.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView),this.tick(),this.components.push(t),this._injector.get(Qg,[]).forEach(i=>i(t))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(t=>t()),this._views.slice().forEach(t=>t.destroy())}finally{this._destroyed=!0,this._views=[],this._destroyListeners=[]}}onDestroy(t){return this._destroyListeners.push(t),()=>Nu(this._destroyListeners,t)}destroy(){if(this._destroyed)throw new V(406,!1);let t=this._injector;t.destroy&&!t.destroyed&&t.destroy()}get viewCount(){return this._views.length}static \u0275fac=function(r){return new(r||n)};static \u0275prov=O({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function Nu(n,e){let t=n.indexOf(e);t>-1&&n.splice(t,1)}function tN(n,e,t,r){if(!t&&!pd(n))return;LC(n,e,t&&!r?0:1)}function Jr(n,e,t,r){let i=ge(),o=md();if(zr(i,o,e)){let s=yt(),a=bg();cO(a,i,n,e,t,r)}return Jr}function cE(n,e,t,r){return zr(n,md(),t)?e+ro(t)+r:xn}function nN(n,e,t,r,i,o){let s=v1(),a=Wk(n,s,t,i);return gg(2),a?e+ro(t)+r+ro(i)+o:xn}function Mu(n,e){return n<<17|e<<2}function ho(n){return n>>17&32767}function rN(n){return(n&2)==2}function iN(n,e){return n&131071|e<<17}function Ym(n){return n|2}function vs(n){return(n&131068)>>2}function Kp(n,e){return n&-131069|e<<2}function oN(n){return(n&1)===1}function Jm(n){return n|1}function sN(n,e,t,r,i,o){let s=o?e.classBindings:e.styleBindings,a=ho(s),l=vs(s);n[r]=t;let c=!1,u;if(Array.isArray(t)){let d=t;u=d[1],(u===null||Ya(d,u)>0)&&(c=!0)}else u=t;if(i)if(l!==0){let p=ho(n[a+1]);n[r+1]=Mu(p,a),p!==0&&(n[p+1]=Kp(n[p+1],r)),n[a+1]=iN(n[a+1],r)}else n[r+1]=Mu(a,0),a!==0&&(n[a+1]=Kp(n[a+1],r)),a=r;else n[r+1]=Mu(l,0),a===0?a=r:n[l+1]=Kp(n[l+1],r),l=r;c&&(n[r+1]=Ym(n[r+1])),gb(n,u,r,!0),gb(n,u,r,!1),aN(e,u,n,r,o),s=Mu(a,l),o?e.classBindings=s:e.styleBindings=s}function aN(n,e,t,r,i){let o=i?n.residualClasses:n.residualStyles;o!=null&&typeof e=="string"&&Ya(o,e)>=0&&(t[r+1]=Jm(t[r+1]))}function gb(n,e,t,r){let i=n[t+1],o=e===null,s=r?ho(i):vs(i),a=!1;for(;s!==0&&(a===!1||o);){let l=n[s],c=n[s+1];lN(l,e)&&(a=!0,n[s+1]=r?Jm(c):Ym(c)),s=r?ho(c):vs(c)}a&&(n[t+1]=r?Ym(i):Jm(i))}function lN(n,e){return n===null||e==null||(Array.isArray(n)?n[1]:n)===e?!0:Array.isArray(n)&&typeof e=="string"?Ya(n,e)>=0:!1}var Bn={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function cN(n){return n.substring(Bn.key,Bn.keyEnd)}function uN(n){return dN(n),uE(n,dE(n,0,Bn.textEnd))}function uE(n,e){let t=Bn.textEnd;return t===e?-1:(e=Bn.keyEnd=fN(n,Bn.key=e,t),dE(n,e,t))}function dN(n){Bn.key=0,Bn.keyEnd=0,Bn.value=0,Bn.valueEnd=0,Bn.textEnd=n.length}function dE(n,e,t){for(;e<t&&n.charCodeAt(e)<=32;)e++;return e}function fN(n,e,t){for(;e<t&&n.charCodeAt(e)>32;)e++;return e}function b(n,e,t){let r=ge(),i=md();if(zr(r,i,e)){let o=yt(),s=bg();IC(o,s,r,n,e,r[at],t,!1)}return b}function Qm(n,e,t,r,i){Lg(e,n,t,i?"class":"style",r)}function nl(n,e,t){return hE(n,e,t,!1),nl}function Qr(n,e){return hE(n,e,null,!0),Qr}function Ds(n){pE(yN,fE,n,!0)}function fE(n,e){for(let t=uN(e);t>=0;t=uE(e,t))dd(n,cN(e),!0)}function hE(n,e,t,r){let i=ge(),o=yt(),s=gg(2);if(o.firstUpdatePass&&gE(o,n,s,r),e!==xn&&zr(i,s,e)){let a=o.data[yi()];vE(o,a,i,i[at],n,i[s+1]=bN(e,t),r,s)}}function pE(n,e,t,r){let i=yt(),o=gg(2);i.firstUpdatePass&&gE(i,null,o,r);let s=ge();if(t!==xn&&zr(s,o,t)){let a=i.data[yi()];if(yE(a,r)&&!mE(i,o)){let l=r?a.classesWithoutHost:a.stylesWithoutHost;l!==null&&(t=nm(l,t||"")),Qm(i,a,s,t,r)}else _N(i,a,s,s[at],s[o+1],s[o+1]=vN(n,e,t),r,o)}}function mE(n,e){return e>=n.expandoStartIndex}function gE(n,e,t,r){let i=n.data;if(i[t+1]===null){let o=i[yi()],s=mE(n,t);yE(o,r)&&e===null&&!s&&(e=!1),e=hN(i,o,e,r),sN(i,o,e,t,s,r)}}function hN(n,e,t,r){let i=C1(n),o=r?e.residualClasses:e.residualStyles;if(i===null)(r?e.classBindings:e.styleBindings)===0&&(t=Xp(null,n,e,t,r),t=qa(t,e.attrs,r),o=null);else{let s=e.directiveStylingLast;if(s===-1||n[s]!==i)if(t=Xp(i,n,e,t,r),o===null){let l=pN(n,e,r);l!==void 0&&Array.isArray(l)&&(l=Xp(null,n,e,l[1],r),l=qa(l,e.attrs,r),mN(n,e,r,l))}else o=gN(n,e,r)}return o!==void 0&&(r?e.residualClasses=o:e.residualStyles=o),t}function pN(n,e,t){let r=t?e.classBindings:e.styleBindings;if(vs(r)!==0)return n[ho(r)]}function mN(n,e,t,r){let i=t?e.classBindings:e.styleBindings;n[ho(i)]=r}function gN(n,e,t){let r,i=e.directiveEnd;for(let o=1+e.directiveStylingLast;o<i;o++){let s=n[o].hostAttrs;r=qa(r,s,t)}return qa(r,e.attrs,t)}function Xp(n,e,t,r,i){let o=null,s=t.directiveEnd,a=t.directiveStylingLast;for(a===-1?a=t.directiveStart:a++;a<s&&(o=e[a],r=qa(r,o.hostAttrs,i),o!==n);)a++;return n!==null&&(t.directiveStylingLast=a),r}function qa(n,e,t){let r=t?1:2,i=-1;if(e!==null)for(let o=0;o<e.length;o++){let s=e[o];typeof s=="number"?i=s:i===r&&(Array.isArray(n)||(n=n===void 0?[]:["",n]),dd(n,s,t?!0:e[++o]))}return n===void 0?null:n}function vN(n,e,t){if(t==null||t==="")return tn;let r=[],i=qn(t);if(Array.isArray(i))for(let o=0;o<i.length;o++)n(r,i[o],!0);else if(typeof i=="object")for(let o in i)i.hasOwnProperty(o)&&n(r,o,i[o]);else typeof i=="string"&&e(r,i);return r}function yN(n,e,t){let r=String(e);r!==""&&!r.includes(" ")&&dd(n,r,t)}function _N(n,e,t,r,i,o,s,a){i===xn&&(i=tn);let l=0,c=0,u=0<i.length?i[0]:null,d=0<o.length?o[0]:null;for(;u!==null||d!==null;){let p=l<i.length?i[l+1]:void 0,f=c<o.length?o[c+1]:void 0,h=null,v;u===d?(l+=2,c+=2,p!==f&&(h=d,v=f)):d===null||u!==null&&u<d?(l+=2,h=u):(c+=2,h=d,v=f),h!==null&&vE(n,e,t,r,h,v,s,a),u=l<i.length?i[l]:null,d=c<o.length?o[c]:null}}function vE(n,e,t,r,i,o,s,a){if(!(e.type&3))return;let l=n.data,c=l[a+1],u=oN(c)?vb(l,e,t,i,vs(c),s):void 0;if(!od(u)){od(o)||rN(c)&&(o=vb(l,null,t,i,a,s));let d=ew(yi(),t);TO(r,s,d,i,o)}}function vb(n,e,t,r,i,o){let s=e===null,a;for(;i>0;){let l=n[i],c=Array.isArray(l),u=c?l[1]:l,d=u===null,p=t[i+1];p===xn&&(p=d?tn:void 0);let f=d?Hp(p,r):u===r?p:void 0;if(c&&!od(f)&&(f=Hp(l,r)),od(f)&&(a=f,s))return a;let h=n[i+1];i=s?ho(h):vs(h)}if(e!==null){let l=o?e.residualClasses:e.residualStyles;l!=null&&(a=Hp(l,r))}return a}function od(n){return n!==void 0}function bN(n,e){return n==null||n===""||(typeof e=="string"?n=n+e:typeof n=="object"&&(n=nn(qn(n)))),n}function yE(n,e){return(n.flags&(e?8:16))!==0}function rl(n,e,t){let r=ge(),i=cE(r,n,e,t);pE(dd,fE,i,!0)}function m(n,e,t,r){let i=ge(),o=yt(),s=on+n,a=i[at],l=o.firstCreatePass?WC(s,o,i,e,DC,sw(),t,r):o.data[s],c=wN(o,i,l,a,e,n);i[s]=c;let u=fg(l);return Qa(l,!0),yC(a,c,l),!Bg(l)&&wg()&&$g(o,i,c,l),(u1()===0||u)&&Ka(c,i),d1(),u&&(Pg(o,i,l),Xw(o,l,i)),r!==null&&EC(i,l),m}function g(){let n=Yt();cw()?uw():(n=n.parent,Qa(n,!1));let e=n;h1(e)&&p1(),f1();let t=yt();return t.firstCreatePass&&ZC(t,e),e.classesWithoutHost!=null&&x1(e)&&Qm(t,e,ge(),e.classesWithoutHost,!0),e.stylesWithoutHost!=null&&M1(e)&&Qm(t,e,ge(),e.stylesWithoutHost,!1),g}function L(n,e,t,r){return m(n,e,t,r),g(),L}var wN=(n,e,t,r,i,o)=>(Cg(!0),gC(r,i,D1()));function ne(){return ge()}var sd="en-US";var CN=sd;function EN(n){typeof n=="string"&&(CN=n.toLowerCase().replace(/_/g,"-"))}function yb(n,e,t){return function r(i){if(i===Function)return t;let o=_s(n)?fr(n.index,e):e;zg(o,5);let s=e[rn],a=_b(e,s,t,i),l=r.__ngNextListenerFn__;for(;l;)a=_b(e,s,l,i)&&a,l=l.__ngNextListenerFn__;return a}}function _b(n,e,t,r){let i=ve(null);try{return je(6,e,t),t(r)!==!1}catch(o){return IN(n,o),!1}finally{je(7,e,t),ve(i)}}function IN(n,e){let t=n[fs],r=t?t.get(sn,null):null;r&&r.handleError(e)}function bb(n,e,t,r,i,o){let s=e[t],a=e[pe],c=a.data[t].outputs[r],u=s[c],d=a.firstCreatePass?mg(a):null,p=pg(e),f=u.subscribe(o),h=p.length;p.push(o,f),d&&d.push(i,n.index,h,-(h+1))}function M(n,e,t,r){let i=ge(),o=yt(),s=Yt();return _E(o,i,i[at],s,n,e,r),M}function DN(n,e,t,r){let i=n.cleanup;if(i!=null)for(let o=0;o<i.length-1;o+=2){let s=i[o];if(s===t&&i[o+1]===r){let a=e[Uu],l=i[o+2];return a.length>l?a[l]:null}typeof s=="string"&&(o+=2)}return null}function _E(n,e,t,r,i,o,s){let a=fg(r),c=n.firstCreatePass?mg(n):null,u=pg(e),d=!0;if(r.type&3||s){let p=mr(r,e),f=s?s(p):p,h=u.length,v=s?x=>s(dr(x[r.index])):r.index,y=null;if(!s&&a&&(y=DN(n,e,i,r.index)),y!==null){let x=y.__ngLastListenerFn__||y;x.__ngNextListenerFn__=o,y.__ngLastListenerFn__=o,d=!1}else{o=yb(r,e,o),pR(e,f,i,o);let x=t.listen(f,i,o);u.push(o,x),c&&c.push(i,v,h,h+1)}}else o=yb(r,e,o);if(d){let p=r.outputs?.[i],f=r.hostDirectiveOutputs?.[i];if(f&&f.length)for(let h=0;h<f.length;h+=2){let v=f[h],y=f[h+1];bb(r,e,v,y,i,o)}if(p&&p.length)for(let h of p)bb(r,e,h,i,i,o)}}function D(n=1){return I1(n)}function SN(n,e){let t=null,r=BR(n);for(let i=0;i<e.length;i++){let o=e[i];if(o==="*"){t=i;continue}if(r===null?mC(n,o,!0):HR(r,o))return i}return t}function mo(n){let e=ge()[Sn][an];if(!e.projection){let t=n?n.length:1,r=e.projection=LA(t,null),i=r.slice(),o=e.child;for(;o!==null;){if(o.type!==128){let s=n?SN(o,n):0;s!==null&&(i[s]?i[s].projectionNext=o:r[s]=o,i[s]=o)}o=o.next}}}function go(n,e=0,t,r,i,o){let s=ge(),a=yt(),l=r?n+1:null;l!==null&&oE(s,a,l,r,i,o,null,t);let c=Id(a,on+n,16,null,t||null);c.projection===null&&(c.projection=e),uw();let d=!s[Ua]||aw();s[Sn][an].projection[c.projection]===null&&l!==null?TN(s,a,l):d&&!Bg(c)&&DO(a,s,c)}function TN(n,e,t){let r=on+t,i=e.data[r],o=n[r],s=Lm(o,i.tView.ssrId),a=SC(n,i,void 0,{dehydratedView:s});$C(o,a,0,km(i,s))}function bE(n,e,t,r){xk(n,e,t,r)}function Me(n,e,t){Tk(n,e,t)}function Ce(n){let e=ge(),t=yt(),r=hw();vg(r+1);let i=qg(t,r);if(n.dirty&&o1(e)===((i.metadata.flags&2)===2)){if(i.matches===null)n.reset([]);else{let o=Rk(e,r);n.reset(o,K1),n.notifyOnChanges()}return!0}return!1}function Ee(){return Sk(ge(),hw())}function Ss(n){let e=g1();return nw(e,on+n)}function C(n,e=""){let t=ge(),r=yt(),i=n+on,o=r.firstCreatePass?Id(r,i,1,e,null):r.data[i],s=xN(r,t,o,e,n);t[i]=s,wg()&&$g(r,t,s,o),Qa(o,!1)}var xN=(n,e,t,r,i)=>(Cg(!0),WR(e[at],r));function Fe(n){return Pe("",n,""),Fe}function Pe(n,e,t){let r=ge(),i=cE(r,n,e,t);return i!==xn&&wE(r,yi(),i),Pe}function il(n,e,t,r,i){let o=ge(),s=nN(o,n,e,t,r,i);return s!==xn&&wE(o,yi(),s),il}function wE(n,e,t){let r=ew(e,n);ZR(n[at],r,t)}function wi(n,e,t){jw(e)&&(e=e());let r=ge(),i=md();if(zr(r,i,e)){let o=yt(),s=bg();IC(o,s,r,n,e,r[at],t,!1)}return wi}function vo(n,e){let t=jw(n);return t&&n.set(e),t}function Ci(n,e){let t=ge(),r=yt(),i=Yt();return _E(r,t,t[at],i,n,e),Ci}function MN(n,e,t){let r=yt();if(r.firstCreatePass){let i=ur(n);Km(t,r.data,r.blueprint,i,!0),Km(e,r.data,r.blueprint,i,!1)}}function Km(n,e,t,r,i){if(n=Wt(n),Array.isArray(n))for(let o=0;o<n.length;o++)Km(n[o],e,t,r,i);else{let o=yt(),s=ge(),a=Yt(),l=ds(n)?n:Wt(n.provide),c=zb(n),u=a.providerIndexes&1048575,d=a.directiveStart,p=a.providerIndexes>>20;if(ds(n)||!n.multi){let f=new fo(c,i,I),h=tm(l,e,i?u:u+p,d);h===-1?(pm(Yu(a,s),o,l),em(o,n,e.length),e.push(l),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),t.push(f),s.push(f)):(t[h]=f,s[h]=f)}else{let f=tm(l,e,u+p,d),h=tm(l,e,u,u+p),v=f>=0&&t[f],y=h>=0&&t[h];if(i&&!y||!i&&!v){pm(Yu(a,s),o,l);let x=ON(i?RN:AN,t.length,i,r,c);!i&&y&&(t[h].providerFactory=x),em(o,n,e.length,0),e.push(l),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),t.push(x),s.push(x)}else{let x=CE(t[i?h:f],c,!i&&r);em(o,n,f>-1?f:h,x)}!i&&r&&y&&t[h].componentProviders++}}}function em(n,e,t,r){let i=ds(e),o=qA(e);if(i||o){let l=(o?Wt(e.useClass):e).prototype.ngOnDestroy;if(l){let c=n.destroyHooks||(n.destroyHooks=[]);if(!i&&e.multi){let u=c.indexOf(t);u===-1?c.push(t,[r,l]):c[u+1].push(r,l)}else c.push(t,l)}}}function CE(n,e,t){return t&&n.componentProviders++,n.multi.push(e)-1}function tm(n,e,t,r){for(let i=t;i<r;i++)if(e[i]===n)return i;return-1}function AN(n,e,t,r,i){return Xm(this.multi,[])}function RN(n,e,t,r,i){let o=this.multi,s;if(this.providerFactory){let a=this.providerFactory.componentProviders,l=za(r,r[pe],this.providerFactory.index,i);s=l.slice(0,a),Xm(o,s);for(let c=a;c<l.length;c++)s.push(l[c])}else s=[],Xm(o,s);return s}function Xm(n,e){for(let t=0;t<n.length;t++){let r=n[t];e.push(r())}return e}function ON(n,e,t,r,i){let o=new fo(n,t,I);return o.multi=[],o.index=e,o.componentProviders=0,CE(o,i,r&&!t),o}function _t(n,e=[]){return t=>{t.providersResolver=(r,i)=>MN(r,i?i(n):n,e)}}function EE(n,e,t){let r=fw()+n,i=ge();return i[r]===xn?iE(i,r,t?e.call(t):e()):qk(i,r)}function kN(n,e){let t=n[e];return t===xn?void 0:t}function NN(n,e,t,r,i,o){let s=e+t;return zr(n,s,i)?iE(n,s+1,o?r.call(o,i):r(i)):kN(n,s+1)}function Td(n,e){let t=yt(),r,i=n+on;t.firstCreatePass?(r=FN(e,t.pipeRegistry),t.data[i]=r,r.onDestroy&&(t.destroyHooks??=[]).push(i,r.onDestroy)):r=t.data[i];let o=r.factory||(r.factory=io(r.type,!0)),s,a=en(I);try{let l=Zu(!1),c=o();return Zu(l),i1(t,ge(),i,c),c}finally{en(a)}}function FN(n,e){if(e)for(let t=e.length-1;t>=0;t--){let r=e[t];if(n===r.name)return r}}function xd(n,e,t){let r=n+on,i=ge(),o=nw(i,r);return PN(i,r)?NN(i,fw(),e,o.transform,t,o):o.transform(t)}function PN(n,e){return n[pe].data[e].pure}var eg=class{ngModuleFactory;componentFactories;constructor(e,t){this.ngModuleFactory=e,this.componentFactories=t}},IE=(()=>{class n{compileModuleSync(t){return new Wm(t)}compileModuleAsync(t){return Promise.resolve(this.compileModuleSync(t))}compileModuleAndAllComponentsSync(t){let r=this.compileModuleSync(t),i=Bb(t),o=hC(i.declarations).reduce((s,a)=>{let l=so(a);return l&&s.push(new ms(l)),s},[]);return new eg(r,o)}compileModuleAndAllComponentsAsync(t){return Promise.resolve(this.compileModuleAndAllComponentsSync(t))}clearCache(){}clearCacheFor(t){}getModuleId(t){}static \u0275fac=function(r){return new(r||n)};static \u0275prov=O({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var LN=(()=>{class n{zone=E(we);changeDetectionScheduler=E(ps);applicationRef=E(Hn);_onMicrotaskEmptySubscription;initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static \u0275fac=function(r){return new(r||n)};static \u0275prov=O({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),VN=new B("",{factory:()=>!1});function DE({ngZoneFactory:n,ignoreChangesOutsideZone:e,scheduleInRootZone:t}){return n??=()=>new we(X(T({},TE()),{scheduleInRootZone:t})),[{provide:we,useFactory:n},{provide:us,multi:!0,useFactory:()=>{let r=E(LN,{optional:!0});return()=>r.initialize()}},{provide:us,multi:!0,useFactory:()=>{let r=E(jN);return()=>{r.initialize()}}},e===!0?{provide:Nw,useValue:!0}:[],{provide:Fw,useValue:t??kw}]}function SE(n){let e=n?.ignoreChangesOutsideZone,t=n?.scheduleInRootZone,r=DE({ngZoneFactory:()=>{let i=TE(n);return i.scheduleInRootZone=t,i.shouldCoalesceEventChangeDetection&&_d("NgZone_CoalesceEvent"),new we(i)},ignoreChangesOutsideZone:e,scheduleInRootZone:t});return Gr([{provide:VN,useValue:!0},{provide:vd,useValue:!1},r])}function TE(n){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:n?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:n?.runCoalescing??!1}}var jN=(()=>{class n{subscription=new Ve;initialized=!1;zone=E(we);pendingTasks=E(_i);initialize(){if(this.initialized)return;this.initialized=!0;let t=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(t=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{we.assertNotInAngularZone(),queueMicrotask(()=>{t!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(t),t=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{we.assertInAngularZone(),t??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static \u0275fac=function(r){return new(r||n)};static \u0275prov=O({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var BN=(()=>{class n{appRef=E(Hn);taskService=E(_i);ngZone=E(we);zonelessEnabled=E(vd);tracing=E(Es,{optional:!0});disableScheduling=E(Nw,{optional:!0})??!1;zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run;schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}];subscriptions=new Ve;angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(Ku):null;scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&(E(Fw,{optional:!0})??!1);cancelScheduledCallback=null;useMicrotaskScheduler=!1;runningTick=!1;pendingRenderTaskId=null;constructor(){this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof _m||!this.zoneIsDefined)}notify(t){if(!this.zonelessEnabled&&t===5)return;let r=!1;switch(t){case 0:{this.appRef.dirtyFlags|=2;break}case 3:case 2:case 4:case 5:case 1:{this.appRef.dirtyFlags|=4;break}case 6:{this.appRef.dirtyFlags|=2,r=!0;break}case 12:{this.appRef.dirtyFlags|=16,r=!0;break}case 13:{this.appRef.dirtyFlags|=2,r=!0;break}case 11:{r=!0;break}case 9:case 8:case 7:case 10:default:this.appRef.dirtyFlags|=8}if(this.appRef.tracingSnapshot=this.tracing?.snapshot(this.appRef.tracingSnapshot)??null,!this.shouldScheduleTick(r))return;let i=this.useMicrotaskScheduler?Y0:Pw;this.pendingRenderTaskId=this.taskService.add(),this.scheduleInRootZone?this.cancelScheduledCallback=Zone.root.run(()=>i(()=>this.tick())):this.cancelScheduledCallback=this.ngZone.runOutsideAngular(()=>i(()=>this.tick()))}shouldScheduleTick(t){return!(this.disableScheduling&&!t||this.appRef.destroyed||this.pendingRenderTaskId!==null||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(Ku+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;if(this.appRef.dirtyFlags===0){this.cleanup();return}!this.zonelessEnabled&&this.appRef.dirtyFlags&7&&(this.appRef.dirtyFlags|=1);let t=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(r){throw this.taskService.remove(t),r}finally{this.cleanup()}this.useMicrotaskScheduler=!0,Y0(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(t)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,this.pendingRenderTaskId!==null){let t=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(t)}}static \u0275fac=function(r){return new(r||n)};static \u0275prov=O({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function UN(){return typeof $localize<"u"&&$localize.locale||sd}var Md=new B("",{providedIn:"root",factory:()=>E(Md,de.Optional|de.SkipSelf)||UN()});var tg=new B(""),$N=new B("");function Pa(n){return!n.moduleRef}function HN(n){let e=Pa(n)?n.r3Injector:n.moduleRef.injector,t=e.get(we);return t.run(()=>{Pa(n)?n.r3Injector.resolveInjectorInitializers():n.moduleRef.resolveInjectorInitializers();let r=e.get(sn,null),i;if(t.runOutsideAngular(()=>{i=t.onError.subscribe({next:o=>{r.handleError(o)}})}),Pa(n)){let o=()=>e.destroy(),s=n.platformInjector.get(tg);s.add(o),e.onDestroy(()=>{i.unsubscribe(),s.delete(o)})}else{let o=()=>n.moduleRef.destroy(),s=n.platformInjector.get(tg);s.add(o),n.moduleRef.onDestroy(()=>{Nu(n.allPlatformModules,n.moduleRef),i.unsubscribe(),s.delete(o)})}return GN(r,t,()=>{let o=e.get(lE);return o.runInitializers(),o.donePromise.then(()=>{let s=e.get(Md,sd);if(EN(s||sd),!e.get($N,!0))return Pa(n)?e.get(Hn):(n.allPlatformModules.push(n.moduleRef),n.moduleRef);if(Pa(n)){let l=e.get(Hn);return n.rootComponent!==void 0&&l.bootstrap(n.rootComponent),l}else return zN(n.moduleRef,n.allPlatformModules),n.moduleRef})})})}function zN(n,e){let t=n.injector.get(Hn);if(n._bootstrapComponents.length>0)n._bootstrapComponents.forEach(r=>t.bootstrap(r));else if(n.instance.ngDoBootstrap)n.instance.ngDoBootstrap(t);else throw new V(-403,!1);e.push(n)}function GN(n,e,t){try{let r=t();return bi(r)?r.catch(i=>{throw e.runOutsideAngular(()=>n.handleError(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>n.handleError(r)),r}}var Fu=null;function qN(n=[],e){return Ct.create({name:e,providers:[{provide:fd,useValue:"platform"},{provide:tg,useValue:new Set([()=>Fu=null])},...n]})}function WN(n=[]){if(Fu)return Fu;let e=qN(n);return Fu=e,Kk(),ZN(e),e}function ZN(n){let e=n.get(Tg,null);hn(n,()=>{e?.forEach(t=>t())})}function xE(){return!1}var Vt=(()=>{class n{static __NG_ELEMENT_ID__=YN}return n})();function YN(n){return JN(Yt(),ge(),(n&16)===16)}function JN(n,e,t){if(_s(n)&&!t){let r=fr(n.index,e);return new Ga(r,r)}else if(n.type&175){let r=e[Sn];return new Ga(r,e)}return null}var ng=class{constructor(){}supports(e){return rE(e)}create(e){return new rg(e)}},QN=(n,e)=>e,rg=class{length=0;collection;_linkedRecords=null;_unlinkedRecords=null;_previousItHead=null;_itHead=null;_itTail=null;_additionsHead=null;_additionsTail=null;_movesHead=null;_movesTail=null;_removalsHead=null;_removalsTail=null;_identityChangesHead=null;_identityChangesTail=null;_trackByFn;constructor(e){this._trackByFn=e||QN}forEachItem(e){let t;for(t=this._itHead;t!==null;t=t._next)e(t)}forEachOperation(e){let t=this._itHead,r=this._removalsHead,i=0,o=null;for(;t||r;){let s=!r||t&&t.currentIndex<wb(r,i,o)?t:r,a=wb(s,i,o),l=s.currentIndex;if(s===r)i--,r=r._nextRemoved;else if(t=t._next,s.previousIndex==null)i++;else{o||(o=[]);let c=a-i,u=l-i;if(c!=u){for(let p=0;p<c;p++){let f=p<o.length?o[p]:o[p]=0,h=f+p;u<=h&&h<c&&(o[p]=f+1)}let d=s.previousIndex;o[d]=u-c}}a!==l&&e(s,a,l)}}forEachPreviousItem(e){let t;for(t=this._previousItHead;t!==null;t=t._nextPrevious)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;t!==null;t=t._nextAdded)e(t)}forEachMovedItem(e){let t;for(t=this._movesHead;t!==null;t=t._nextMoved)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;t!==null;t=t._nextRemoved)e(t)}forEachIdentityChange(e){let t;for(t=this._identityChangesHead;t!==null;t=t._nextIdentityChange)e(t)}diff(e){if(e==null&&(e=[]),!rE(e))throw new V(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let t=this._itHead,r=!1,i,o,s;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)o=e[a],s=this._trackByFn(a,o),t===null||!Object.is(t.trackById,s)?(t=this._mismatch(t,o,s,a),r=!0):(r&&(t=this._verifyReinsertion(t,o,s,a)),Object.is(t.item,o)||this._addIdentityChange(t,o)),t=t._next}else i=0,zk(e,a=>{s=this._trackByFn(i,a),t===null||!Object.is(t.trackById,s)?(t=this._mismatch(t,a,s,i),r=!0):(r&&(t=this._verifyReinsertion(t,a,s,i)),Object.is(t.item,a)||this._addIdentityChange(t,a)),t=t._next,i++}),this.length=i;return this._truncate(t),this.collection=e,this.isDirty}get isDirty(){return this._additionsHead!==null||this._movesHead!==null||this._removalsHead!==null||this._identityChangesHead!==null}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;e!==null;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;e!==null;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;e!==null;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,t,r,i){let o;return e===null?o=this._itTail:(o=e._prev,this._remove(e)),e=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null),e!==null?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._reinsertAfter(e,o,i)):(e=this._linkedRecords===null?null:this._linkedRecords.get(r,i),e!==null?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._moveAfter(e,o,i)):e=this._addAfter(new ig(t,r),o,i)),e}_verifyReinsertion(e,t,r,i){let o=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null);return o!==null?e=this._reinsertAfter(o,e._prev,i):e.currentIndex!=i&&(e.currentIndex=i,this._addToMoves(e,i)),e}_truncate(e){for(;e!==null;){let t=e._next;this._addToRemovals(this._unlink(e)),e=t}this._unlinkedRecords!==null&&this._unlinkedRecords.clear(),this._additionsTail!==null&&(this._additionsTail._nextAdded=null),this._movesTail!==null&&(this._movesTail._nextMoved=null),this._itTail!==null&&(this._itTail._next=null),this._removalsTail!==null&&(this._removalsTail._nextRemoved=null),this._identityChangesTail!==null&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,t,r){this._unlinkedRecords!==null&&this._unlinkedRecords.remove(e);let i=e._prevRemoved,o=e._nextRemoved;return i===null?this._removalsHead=o:i._nextRemoved=o,o===null?this._removalsTail=i:o._prevRemoved=i,this._insertAfter(e,t,r),this._addToMoves(e,r),e}_moveAfter(e,t,r){return this._unlink(e),this._insertAfter(e,t,r),this._addToMoves(e,r),e}_addAfter(e,t,r){return this._insertAfter(e,t,r),this._additionsTail===null?this._additionsTail=this._additionsHead=e:this._additionsTail=this._additionsTail._nextAdded=e,e}_insertAfter(e,t,r){let i=t===null?this._itHead:t._next;return e._next=i,e._prev=t,i===null?this._itTail=e:i._prev=e,t===null?this._itHead=e:t._next=e,this._linkedRecords===null&&(this._linkedRecords=new ad),this._linkedRecords.put(e),e.currentIndex=r,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){this._linkedRecords!==null&&this._linkedRecords.remove(e);let t=e._prev,r=e._next;return t===null?this._itHead=r:t._next=r,r===null?this._itTail=t:r._prev=t,e}_addToMoves(e,t){return e.previousIndex===t||(this._movesTail===null?this._movesTail=this._movesHead=e:this._movesTail=this._movesTail._nextMoved=e),e}_addToRemovals(e){return this._unlinkedRecords===null&&(this._unlinkedRecords=new ad),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,this._removalsTail===null?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,t){return e.item=t,this._identityChangesTail===null?this._identityChangesTail=this._identityChangesHead=e:this._identityChangesTail=this._identityChangesTail._nextIdentityChange=e,e}},ig=class{item;trackById;currentIndex=null;previousIndex=null;_nextPrevious=null;_prev=null;_next=null;_prevDup=null;_nextDup=null;_prevRemoved=null;_nextRemoved=null;_nextAdded=null;_nextMoved=null;_nextIdentityChange=null;constructor(e,t){this.item=e,this.trackById=t}},og=class{_head=null;_tail=null;add(e){this._head===null?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,t){let r;for(r=this._head;r!==null;r=r._nextDup)if((t===null||t<=r.currentIndex)&&Object.is(r.trackById,e))return r;return null}remove(e){let t=e._prevDup,r=e._nextDup;return t===null?this._head=r:t._nextDup=r,r===null?this._tail=t:r._prevDup=t,this._head===null}},ad=class{map=new Map;put(e){let t=e.trackById,r=this.map.get(t);r||(r=new og,this.map.set(t,r)),r.add(e)}get(e,t){let r=e,i=this.map.get(r);return i?i.get(e,t):null}remove(e){let t=e.trackById;return this.map.get(t).remove(e)&&this.map.delete(t),e}get isEmpty(){return this.map.size===0}clear(){this.map.clear()}};function wb(n,e,t){let r=n.previousIndex;if(r===null)return r;let i=0;return t&&r<t.length&&(i=t[r]),r+e+i}function Cb(){return new ol([new ng])}var ol=(()=>{class n{factories;static \u0275prov=O({token:n,providedIn:"root",factory:Cb});constructor(t){this.factories=t}static create(t,r){if(r!=null){let i=r.factories.slice();t=t.concat(i)}return new n(t)}static extend(t){return{provide:n,useFactory:r=>n.create(t,r||Cb()),deps:[[n,new Pb,new Za]]}}find(t){let r=this.factories.find(i=>i.supports(t));if(r!=null)return r;throw new V(901,!1)}}return n})();function ME(n){let{rootComponent:e,appProviders:t,platformProviders:r,platformRef:i}=n;je(8);try{let o=i?.injector??WN(r),s=[DE({}),{provide:ps,useExisting:BN},...t||[]],a=new id({providers:s,parent:o,debugName:"",runEnvironmentInitializers:!1});return HN({r3Injector:a.injector,platformInjector:o,rootComponent:e})}catch(o){return Promise.reject(o)}finally{je(9)}}function mn(n){return typeof n=="boolean"?n:n!=null&&n!=="false"}function Zn(n){return bp(n)}function sl(n,e){return gp(n,e?.equal)}var Eb=class{[In];constructor(e){this[In]=e}destroy(){this[In].destroy()}};function AE(n){let e=so(n);if(!e)return null;let t=new ms(e);return{get selector(){return t.selector},get type(){return t.componentType},get inputs(){return t.inputs},get outputs(){return t.outputs},get ngContentSelectors(){return t.ngContentSelectors},get isStandalone(){return e.standalone},get isSignal(){return e.signals}}}var Be=new B("");var kE=null;function Mn(){return kE}function Kg(n){kE??=n}var al=class{},Xg=(()=>{class n{historyGo(t){throw new Error("")}static \u0275fac=function(r){return new(r||n)};static \u0275prov=O({token:n,factory:()=>E(NE),providedIn:"platform"})}return n})();var NE=(()=>{class n extends Xg{_location;_history;_doc=E(Be);constructor(){super(),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Mn().getBaseHref(this._doc)}onPopState(t){let r=Mn().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",t,!1),()=>r.removeEventListener("popstate",t)}onHashChange(t){let r=Mn().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",t,!1),()=>r.removeEventListener("hashchange",t)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(t){this._location.pathname=t}pushState(t,r,i){this._history.pushState(t,r,i)}replaceState(t,r,i){this._history.replaceState(t,r,i)}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}static \u0275fac=function(r){return new(r||n)};static \u0275prov=O({token:n,factory:()=>new n,providedIn:"platform"})}return n})();function FE(n,e){return n?e?n.endsWith("/")?e.startsWith("/")?n+e.slice(1):n+e:e.startsWith("/")?n+e:`${n}/${e}`:n:e}function RE(n){let e=n.search(/#|\?|$/);return n[e-1]==="/"?n.slice(0,e-1)+n.slice(e):n}function Ei(n){return n&&n[0]!=="?"?`?${n}`:n}var Ts=(()=>{class n{historyGo(t){throw new Error("")}static \u0275fac=function(r){return new(r||n)};static \u0275prov=O({token:n,factory:()=>E(PE),providedIn:"root"})}return n})(),Yn=new B(""),PE=(()=>{class n extends Ts{_platformLocation;_baseHref;_removeListenerFns=[];constructor(t,r){super(),this._platformLocation=t,this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??E(Be).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return FE(this._baseHref,t)}path(t=!1){let r=this._platformLocation.pathname+Ei(this._platformLocation.search),i=this._platformLocation.hash;return i&&t?`${r}${i}`:r}pushState(t,r,i,o){let s=this.prepareExternalUrl(i+Ei(o));this._platformLocation.pushState(t,r,s)}replaceState(t,r,i,o){let s=this.prepareExternalUrl(i+Ei(o));this._platformLocation.replaceState(t,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}static \u0275fac=function(r){return new(r||n)(N(Xg),N(Yn,8))};static \u0275prov=O({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),xs=(()=>{class n{_subject=new ie;_basePath;_locationStrategy;_urlChangeListeners=[];_urlChangeSubscription=null;constructor(t){this._locationStrategy=t;let r=this._locationStrategy.getBaseHref();this._basePath=eF(RE(OE(r))),this._locationStrategy.onPopState(i=>{this._subject.next({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(t=!1){return this.normalize(this._locationStrategy.path(t))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(t,r=""){return this.path()==this.normalize(t+Ei(r))}normalize(t){return n.stripTrailingSlash(XN(this._basePath,OE(t)))}prepareExternalUrl(t){return t&&t[0]!=="/"&&(t="/"+t),this._locationStrategy.prepareExternalUrl(t)}go(t,r="",i=null){this._locationStrategy.pushState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Ei(r)),i)}replaceState(t,r="",i=null){this._locationStrategy.replaceState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Ei(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(t=0){this._locationStrategy.historyGo?.(t)}onUrlChange(t){return this._urlChangeListeners.push(t),this._urlChangeSubscription??=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}),()=>{let r=this._urlChangeListeners.indexOf(t);this._urlChangeListeners.splice(r,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(t="",r){this._urlChangeListeners.forEach(i=>i(t,r))}subscribe(t,r,i){return this._subject.subscribe({next:t,error:r??void 0,complete:i??void 0})}static normalizeQueryParams=Ei;static joinWithSlash=FE;static stripTrailingSlash=RE;static \u0275fac=function(r){return new(r||n)(N(Ts))};static \u0275prov=O({token:n,factory:()=>KN(),providedIn:"root"})}return n})();function KN(){return new xs(N(Ts))}function XN(n,e){if(!n||!e.startsWith(n))return e;let t=e.substring(n.length);return t===""||["/",";","?","#"].includes(t[0])?t:e}function OE(n){return n.replace(/\/index.html$/,"")}function eF(n){if(new RegExp("^(https?:)?//").test(n)){let[,t]=n.split(/\/\/[^\/]+/);return t}return n}var ev=/\s+/,LE=[],Jt=(()=>{class n{_ngEl;_renderer;initialClasses=LE;rawClass;stateMap=new Map;constructor(t,r){this._ngEl=t,this._renderer=r}set klass(t){this.initialClasses=t!=null?t.trim().split(ev):LE}set ngClass(t){this.rawClass=typeof t=="string"?t.trim().split(ev):t}ngDoCheck(){for(let r of this.initialClasses)this._updateState(r,!0);let t=this.rawClass;if(Array.isArray(t)||t instanceof Set)for(let r of t)this._updateState(r,!0);else if(t!=null)for(let r of Object.keys(t))this._updateState(r,!!t[r]);this._applyStateDiff()}_updateState(t,r){let i=this.stateMap.get(t);i!==void 0?(i.enabled!==r&&(i.changed=!0,i.enabled=r),i.touched=!0):this.stateMap.set(t,{enabled:r,changed:!0,touched:!0})}_applyStateDiff(){for(let t of this.stateMap){let r=t[0],i=t[1];i.changed?(this._toggleClass(r,i.enabled),i.changed=!1):i.touched||(i.enabled&&this._toggleClass(r,!1),this.stateMap.delete(r)),i.touched=!1}}_toggleClass(t,r){t=t.trim(),t.length>0&&t.split(ev).forEach(i=>{r?this._renderer.addClass(this._ngEl.nativeElement,i):this._renderer.removeClass(this._ngEl.nativeElement,i)})}static \u0275fac=function(r){return new(r||n)(I(tt),I(pn))};static \u0275dir=he({type:n,selectors:[["","ngClass",""]],inputs:{klass:[0,"class","klass"],ngClass:"ngClass"}})}return n})();var Ad=class{$implicit;ngForOf;index;count;constructor(e,t,r,i){this.$implicit=e,this.ngForOf=t,this.index=r,this.count=i}get first(){return this.index===0}get last(){return this.index===this.count-1}get even(){return this.index%2===0}get odd(){return!this.even}},ft=(()=>{class n{_viewContainer;_template;_differs;set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}_ngForOf=null;_ngForOfDirty=!0;_differ=null;_trackByFn;constructor(t,r,i){this._viewContainer=t,this._template=r,this._differs=i}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;let t=this._ngForOf;!this._differ&&t&&(this._differ=this._differs.find(t).create(this.ngForTrackBy))}if(this._differ){let t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){let r=this._viewContainer;t.forEachOperation((i,o,s)=>{if(i.previousIndex==null)r.createEmbeddedView(this._template,new Ad(i.item,this._ngForOf,-1,-1),s===null?void 0:s);else if(s==null)r.remove(o===null?void 0:o);else if(o!==null){let a=r.get(o);r.move(a,s),VE(a,i)}});for(let i=0,o=r.length;i<o;i++){let a=r.get(i).context;a.index=i,a.count=o,a.ngForOf=this._ngForOf}t.forEachIdentityChange(i=>{let o=r.get(i.currentIndex);VE(o,i)})}static ngTemplateContextGuard(t,r){return!0}static \u0275fac=function(r){return new(r||n)(I(Wn),I(pr),I(ol))};static \u0275dir=he({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}})}return n})();function VE(n,e){n.context.$implicit=e.item}var Ge=(()=>{class n{_viewContainer;_context=new Rd;_thenTemplateRef=null;_elseTemplateRef=null;_thenViewRef=null;_elseViewRef=null;constructor(t,r){this._viewContainer=t,this._thenTemplateRef=r}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){jE(t,!1),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){jE(t,!1),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngIfUseIfTypeGuard;static ngTemplateGuard_ngIf;static ngTemplateContextGuard(t,r){return!0}static \u0275fac=function(r){return new(r||n)(I(Wn),I(pr))};static \u0275dir=he({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}})}return n})(),Rd=class{$implicit=null;ngIf=null};function jE(n,e){if(n&&!n.createEmbeddedView)throw new V(2020,!1)}var tv=class{_viewContainerRef;_templateRef;_created=!1;constructor(e,t){this._viewContainerRef=e,this._templateRef=t}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(e){e&&!this._created?this.create():!e&&this._created&&this.destroy()}},Od=(()=>{class n{_defaultViews=[];_defaultUsed=!1;_caseCount=0;_lastCaseCheckIndex=0;_lastCasesMatched=!1;_ngSwitch;set ngSwitch(t){this._ngSwitch=t,this._caseCount===0&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(t){this._defaultViews.push(t)}_matchCase(t){let r=t===this._ngSwitch;return this._lastCasesMatched||=r,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),r}_updateDefaultCases(t){if(this._defaultViews.length>0&&t!==this._defaultUsed){this._defaultUsed=t;for(let r of this._defaultViews)r.enforceState(t)}}static \u0275fac=function(r){return new(r||n)};static \u0275dir=he({type:n,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"}})}return n})(),iv=(()=>{class n{ngSwitch;_view;ngSwitchCase;constructor(t,r,i){this.ngSwitch=i,i._addCase(),this._view=new tv(t,r)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}static \u0275fac=function(r){return new(r||n)(I(Wn),I(pr),I(Od,9))};static \u0275dir=he({type:n,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"}})}return n})();function tF(n,e){return new V(2100,!1)}var nv=class{createSubscription(e,t){return Zn(()=>e.subscribe({next:t,error:r=>{throw r}}))}dispose(e){Zn(()=>e.unsubscribe())}},rv=class{createSubscription(e,t){return e.then(r=>t?.(r),r=>{throw r}),{unsubscribe:()=>{t=null}}}dispose(e){e.unsubscribe()}},nF=new rv,rF=new nv,ll=(()=>{class n{_ref;_latestValue=null;markForCheckOnValueUpdate=!0;_subscription=null;_obj=null;_strategy=null;constructor(t){this._ref=t}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(t){if(!this._obj){if(t)try{this.markForCheckOnValueUpdate=!1,this._subscribe(t)}finally{this.markForCheckOnValueUpdate=!0}return this._latestValue}return t!==this._obj?(this._dispose(),this.transform(t)):this._latestValue}_subscribe(t){this._obj=t,this._strategy=this._selectStrategy(t),this._subscription=this._strategy.createSubscription(t,r=>this._updateLatestValue(t,r))}_selectStrategy(t){if(bi(t))return nF;if(Yg(t))return rF;throw tF(n,t)}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(t,r){t===this._obj&&(this._latestValue=r,this.markForCheckOnValueUpdate&&this._ref?.markForCheck())}static \u0275fac=function(r){return new(r||n)(I(Vt,16))};static \u0275pipe=eE({name:"async",type:n,pure:!1})}return n})();var Ae=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275mod=Ke({type:n});static \u0275inj=Qe({})}return n})();function cl(n,e){e=encodeURIComponent(e);for(let t of n.split(";")){let r=t.indexOf("="),[i,o]=r==-1?[t,""]:[t.slice(0,r),t.slice(r+1)];if(i.trim()===e)return decodeURIComponent(o)}return null}var kd="browser",BE="server";function ov(n){return n===kd}function Nd(n){return n===BE}var yo=class{};var Ld=new B(""),cv=(()=>{class n{_zone;_plugins;_eventNameToPlugin=new Map;constructor(t,r){this._zone=r,t.forEach(i=>{i.manager=this}),this._plugins=t.slice().reverse()}addEventListener(t,r,i,o){return this._findPluginFor(r).addEventListener(t,r,i,o)}getZone(){return this._zone}_findPluginFor(t){let r=this._eventNameToPlugin.get(t);if(r)return r;if(r=this._plugins.find(o=>o.supports(t)),!r)throw new V(5101,!1);return this._eventNameToPlugin.set(t,r),r}static \u0275fac=function(r){return new(r||n)(N(Ld),N(we))};static \u0275prov=O({token:n,factory:n.\u0275fac})}return n})(),ul=class{_doc;constructor(e){this._doc=e}manager},Fd="ng-app-id";function UE(n){for(let e of n)e.remove()}function $E(n,e){let t=e.createElement("style");return t.textContent=n,t}function iF(n,e,t,r){let i=n.head?.querySelectorAll(`style[${Fd}="${e}"],link[${Fd}="${e}"]`);if(i)for(let o of i)o.removeAttribute(Fd),o instanceof HTMLLinkElement?r.set(o.href.slice(o.href.lastIndexOf("/")+1),{usage:0,elements:[o]}):o.textContent&&t.set(o.textContent,{usage:0,elements:[o]})}function av(n,e){let t=e.createElement("link");return t.setAttribute("rel","stylesheet"),t.setAttribute("href",n),t}var uv=(()=>{class n{doc;appId;nonce;inline=new Map;external=new Map;hosts=new Set;isServer;constructor(t,r,i,o={}){this.doc=t,this.appId=r,this.nonce=i,this.isServer=Nd(o),iF(t,r,this.inline,this.external),this.hosts.add(t.head)}addStyles(t,r){for(let i of t)this.addUsage(i,this.inline,$E);r?.forEach(i=>this.addUsage(i,this.external,av))}removeStyles(t,r){for(let i of t)this.removeUsage(i,this.inline);r?.forEach(i=>this.removeUsage(i,this.external))}addUsage(t,r,i){let o=r.get(t);o?o.usage++:r.set(t,{usage:1,elements:[...this.hosts].map(s=>this.addElement(s,i(t,this.doc)))})}removeUsage(t,r){let i=r.get(t);i&&(i.usage--,i.usage<=0&&(UE(i.elements),r.delete(t)))}ngOnDestroy(){for(let[,{elements:t}]of[...this.inline,...this.external])UE(t);this.hosts.clear()}addHost(t){this.hosts.add(t);for(let[r,{elements:i}]of this.inline)i.push(this.addElement(t,$E(r,this.doc)));for(let[r,{elements:i}]of this.external)i.push(this.addElement(t,av(r,this.doc)))}removeHost(t){this.hosts.delete(t)}addElement(t,r){return this.nonce&&r.setAttribute("nonce",this.nonce),this.isServer&&r.setAttribute(Fd,this.appId),t.appendChild(r)}static \u0275fac=function(r){return new(r||n)(N(Be),N(yd),N(Xa,8),N(po))};static \u0275prov=O({token:n,factory:n.\u0275fac})}return n})(),sv={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},dv=/%COMP%/g;var zE="%COMP%",oF=`_nghost-${zE}`,sF=`_ngcontent-${zE}`,aF=!0,lF=new B("",{providedIn:"root",factory:()=>aF});function cF(n){return sF.replace(dv,n)}function uF(n){return oF.replace(dv,n)}function GE(n,e){return e.map(t=>t.replace(dv,n))}var fv=(()=>{class n{eventManager;sharedStylesHost;appId;removeStylesOnCompDestroy;doc;platformId;ngZone;nonce;tracingService;rendererByCompId=new Map;defaultRenderer;platformIsServer;constructor(t,r,i,o,s,a,l,c=null,u=null){this.eventManager=t,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestroy=o,this.doc=s,this.platformId=a,this.ngZone=l,this.nonce=c,this.tracingService=u,this.platformIsServer=Nd(a),this.defaultRenderer=new dl(t,s,l,this.platformIsServer,this.tracingService)}createRenderer(t,r){if(!t||!r)return this.defaultRenderer;this.platformIsServer&&r.encapsulation===hr.ShadowDom&&(r=X(T({},r),{encapsulation:hr.Emulated}));let i=this.getOrCreateRenderer(t,r);return i instanceof Pd?i.applyToHost(t):i instanceof fl&&i.applyStyles(),i}getOrCreateRenderer(t,r){let i=this.rendererByCompId,o=i.get(r.id);if(!o){let s=this.doc,a=this.ngZone,l=this.eventManager,c=this.sharedStylesHost,u=this.removeStylesOnCompDestroy,d=this.platformIsServer,p=this.tracingService;switch(r.encapsulation){case hr.Emulated:o=new Pd(l,c,r,this.appId,u,s,a,d,p);break;case hr.ShadowDom:return new lv(l,c,t,r,s,a,this.nonce,d,p);default:o=new fl(l,c,r,u,s,a,d,p);break}i.set(r.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}componentReplaced(t){this.rendererByCompId.delete(t)}static \u0275fac=function(r){return new(r||n)(N(cv),N(uv),N(yd),N(lF),N(Be),N(po),N(we),N(Xa),N(Es,8))};static \u0275prov=O({token:n,factory:n.\u0275fac})}return n})(),dl=class{eventManager;doc;ngZone;platformIsServer;tracingService;data=Object.create(null);throwOnSyntheticProps=!0;constructor(e,t,r,i,o){this.eventManager=e,this.doc=t,this.ngZone=r,this.platformIsServer=i,this.tracingService=o}destroy(){}destroyNode=null;createElement(e,t){return t?this.doc.createElementNS(sv[t]||t,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,t){(HE(e)?e.content:e).appendChild(t)}insertBefore(e,t,r){e&&(HE(e)?e.content:e).insertBefore(t,r)}removeChild(e,t){t.remove()}selectRootElement(e,t){let r=typeof e=="string"?this.doc.querySelector(e):e;if(!r)throw new V(-5104,!1);return t||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,r,i){if(i){t=i+":"+t;let o=sv[i];o?e.setAttributeNS(o,t,r):e.setAttribute(t,r)}else e.setAttribute(t,r)}removeAttribute(e,t,r){if(r){let i=sv[r];i?e.removeAttributeNS(i,t):e.removeAttribute(`${r}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,r,i){i&(Hr.DashCase|Hr.Important)?e.style.setProperty(t,r,i&Hr.Important?"important":""):e.style[t]=r}removeStyle(e,t,r){r&Hr.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,r){e!=null&&(e[t]=r)}setValue(e,t){e.nodeValue=t}listen(e,t,r,i){if(typeof e=="string"&&(e=Mn().getGlobalEventTarget(this.doc,e),!e))throw new V(5102,!1);let o=this.decoratePreventDefault(r);return this.tracingService?.wrapEventListener&&(o=this.tracingService.wrapEventListener(e,t,o)),this.eventManager.addEventListener(e,t,o,i)}decoratePreventDefault(e){return t=>{if(t==="__ngUnwrap__")return e;(this.platformIsServer?this.ngZone.runGuarded(()=>e(t)):e(t))===!1&&t.preventDefault()}}};function HE(n){return n.tagName==="TEMPLATE"&&n.content!==void 0}var lv=class extends dl{sharedStylesHost;hostEl;shadowRoot;constructor(e,t,r,i,o,s,a,l,c){super(e,o,s,l,c),this.sharedStylesHost=t,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let u=i.styles;u=GE(i.id,u);for(let p of u){let f=document.createElement("style");a&&f.setAttribute("nonce",a),f.textContent=p,this.shadowRoot.appendChild(f)}let d=i.getExternalStyles?.();if(d)for(let p of d){let f=av(p,o);a&&f.setAttribute("nonce",a),this.shadowRoot.appendChild(f)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,r){return super.insertBefore(this.nodeOrShadowRoot(e),t,r)}removeChild(e,t){return super.removeChild(null,t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},fl=class extends dl{sharedStylesHost;removeStylesOnCompDestroy;styles;styleUrls;constructor(e,t,r,i,o,s,a,l,c){super(e,o,s,a,l),this.sharedStylesHost=t,this.removeStylesOnCompDestroy=i;let u=r.styles;this.styles=c?GE(c,u):u,this.styleUrls=r.getExternalStyles?.(c)}applyStyles(){this.sharedStylesHost.addStyles(this.styles,this.styleUrls)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles,this.styleUrls)}},Pd=class extends fl{contentAttr;hostAttr;constructor(e,t,r,i,o,s,a,l,c){let u=i+"-"+r.id;super(e,t,r,o,s,a,l,c,u),this.contentAttr=cF(u),this.hostAttr=uF(u)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,t){let r=super.createElement(e,t);return super.setAttribute(r,this.contentAttr,""),r}};var Vd=class n extends al{supportsDOMEvents=!0;static makeCurrent(){Kg(new n)}onAndCancel(e,t,r,i){return e.addEventListener(t,r,i),()=>{e.removeEventListener(t,r,i)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.remove()}createElement(e,t){return t=t||this.getDefaultDocument(),t.createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return t==="window"?window:t==="document"?e:t==="body"?e.body:null}getBaseHref(e){let t=dF();return t==null?null:fF(t)}resetBaseElement(){hl=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return cl(document.cookie,e)}},hl=null;function dF(){return hl=hl||document.head.querySelector("base"),hl?hl.getAttribute("href"):null}function fF(n){return new URL(n,document.baseURI).pathname}var hF=(()=>{class n{build(){return new XMLHttpRequest}static \u0275fac=function(r){return new(r||n)};static \u0275prov=O({token:n,factory:n.\u0275fac})}return n})(),WE=(()=>{class n extends ul{constructor(t){super(t)}supports(t){return!0}addEventListener(t,r,i,o){return t.addEventListener(r,i,o),()=>this.removeEventListener(t,r,i,o)}removeEventListener(t,r,i,o){return t.removeEventListener(r,i,o)}static \u0275fac=function(r){return new(r||n)(N(Be))};static \u0275prov=O({token:n,factory:n.\u0275fac})}return n})(),qE=["alt","control","meta","shift"],pF={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},mF={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey},ZE=(()=>{class n extends ul{constructor(t){super(t)}supports(t){return n.parseEventName(t)!=null}addEventListener(t,r,i,o){let s=n.parseEventName(r),a=n.eventCallback(s.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Mn().onAndCancel(t,s.domEventName,a,o))}static parseEventName(t){let r=t.toLowerCase().split("."),i=r.shift();if(r.length===0||!(i==="keydown"||i==="keyup"))return null;let o=n._normalizeKey(r.pop()),s="",a=r.indexOf("code");if(a>-1&&(r.splice(a,1),s="code."),qE.forEach(c=>{let u=r.indexOf(c);u>-1&&(r.splice(u,1),s+=c+".")}),s+=o,r.length!=0||o.length===0)return null;let l={};return l.domEventName=i,l.fullKey=s,l}static matchEventFullKeyCode(t,r){let i=pF[t.key]||t.key,o="";return r.indexOf("code.")>-1&&(i=t.code,o="code."),i==null||!i?!1:(i=i.toLowerCase(),i===" "?i="space":i==="."&&(i="dot"),qE.forEach(s=>{if(s!==i){let a=mF[s];a(t)&&(o+=s+".")}}),o+=i,o===r)}static eventCallback(t,r,i){return o=>{n.matchEventFullKeyCode(o,t)&&i.runGuarded(()=>r(o))}}static _normalizeKey(t){return t==="esc"?"escape":t}static \u0275fac=function(r){return new(r||n)(N(Be))};static \u0275prov=O({token:n,factory:n.\u0275fac})}return n})();function hv(n,e,t){return ME(T({rootComponent:n,platformRef:t?.platformRef},gF(e)))}function gF(n){return{appProviders:[...wF,...n?.providers??[]],platformProviders:bF}}function vF(){Vd.makeCurrent()}function yF(){return new sn}function _F(){return qw(document),document}var bF=[{provide:po,useValue:kd},{provide:Tg,useValue:vF,multi:!0},{provide:Be,useFactory:_F}];var wF=[{provide:fd,useValue:"root"},{provide:sn,useFactory:yF},{provide:Ld,useClass:WE,multi:!0,deps:[Be]},{provide:Ld,useClass:ZE,multi:!0,deps:[Be]},fv,uv,cv,{provide:$n,useExisting:fv},{provide:yo,useClass:hF},[]];var As=class{},pl=class{},Ii=class n{headers;normalizedNames=new Map;lazyInit;lazyUpdate=null;constructor(e){e?typeof e=="string"?this.lazyInit=()=>{this.headers=new Map,e.split(`
`).forEach(t=>{let r=t.indexOf(":");if(r>0){let i=t.slice(0,r),o=t.slice(r+1).trim();this.addHeaderEntry(i,o)}})}:typeof Headers<"u"&&e instanceof Headers?(this.headers=new Map,e.forEach((t,r)=>{this.addHeaderEntry(r,t)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(e).forEach(([t,r])=>{this.setHeaderEntries(t,r)})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();let t=this.headers.get(e.toLowerCase());return t&&t.length>0?t[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,t){return this.clone({name:e,value:t,op:"a"})}set(e,t){return this.clone({name:e,value:t,op:"s"})}delete(e,t){return this.clone({name:e,value:t,op:"d"})}maybeSetNormalizedName(e,t){this.normalizedNames.has(t)||this.normalizedNames.set(t,e)}init(){this.lazyInit&&(this.lazyInit instanceof n?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(t=>{this.headers.set(t,e.headers.get(t)),this.normalizedNames.set(t,e.normalizedNames.get(t))})}clone(e){let t=new n;return t.lazyInit=this.lazyInit&&this.lazyInit instanceof n?this.lazyInit:this,t.lazyUpdate=(this.lazyUpdate||[]).concat([e]),t}applyUpdate(e){let t=e.name.toLowerCase();switch(e.op){case"a":case"s":let r=e.value;if(typeof r=="string"&&(r=[r]),r.length===0)return;this.maybeSetNormalizedName(e.name,t);let i=(e.op==="a"?this.headers.get(t):void 0)||[];i.push(...r),this.headers.set(t,i);break;case"d":let o=e.value;if(!o)this.headers.delete(t),this.normalizedNames.delete(t);else{let s=this.headers.get(t);if(!s)return;s=s.filter(a=>o.indexOf(a)===-1),s.length===0?(this.headers.delete(t),this.normalizedNames.delete(t)):this.headers.set(t,s)}break}}addHeaderEntry(e,t){let r=e.toLowerCase();this.maybeSetNormalizedName(e,r),this.headers.has(r)?this.headers.get(r).push(t):this.headers.set(r,[t])}setHeaderEntries(e,t){let r=(Array.isArray(t)?t:[t]).map(o=>o.toString()),i=e.toLowerCase();this.headers.set(i,r),this.maybeSetNormalizedName(e,i)}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(t=>e(this.normalizedNames.get(t),this.headers.get(t)))}};var Bd=class{encodeKey(e){return YE(e)}encodeValue(e){return YE(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}};function CF(n,e){let t=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(i=>{let o=i.indexOf("="),[s,a]=o==-1?[e.decodeKey(i),""]:[e.decodeKey(i.slice(0,o)),e.decodeValue(i.slice(o+1))],l=t.get(s)||[];l.push(a),t.set(s,l)}),t}var EF=/%(\d[a-f0-9])/gi,IF={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function YE(n){return encodeURIComponent(n).replace(EF,(e,t)=>IF[t]??e)}function jd(n){return`${n}`}var Kr=class n{map;encoder;updates=null;cloneFrom=null;constructor(e={}){if(this.encoder=e.encoder||new Bd,e.fromString){if(e.fromObject)throw new V(2805,!1);this.map=CF(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(t=>{let r=e.fromObject[t],i=Array.isArray(r)?r.map(jd):[jd(r)];this.map.set(t,i)})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();let t=this.map.get(e);return t?t[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,t){return this.clone({param:e,value:t,op:"a"})}appendAll(e){let t=[];return Object.keys(e).forEach(r=>{let i=e[r];Array.isArray(i)?i.forEach(o=>{t.push({param:r,value:o,op:"a"})}):t.push({param:r,value:i,op:"a"})}),this.clone(t)}set(e,t){return this.clone({param:e,value:t,op:"s"})}delete(e,t){return this.clone({param:e,value:t,op:"d"})}toString(){return this.init(),this.keys().map(e=>{let t=this.encoder.encodeKey(e);return this.map.get(e).map(r=>t+"="+this.encoder.encodeValue(r)).join("&")}).filter(e=>e!=="").join("&")}clone(e){let t=new n({encoder:this.encoder});return t.cloneFrom=this.cloneFrom||this,t.updates=(this.updates||[]).concat(e),t}init(){this.map===null&&(this.map=new Map),this.cloneFrom!==null&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":let t=(e.op==="a"?this.map.get(e.param):void 0)||[];t.push(jd(e.value)),this.map.set(e.param,t);break;case"d":if(e.value!==void 0){let r=this.map.get(e.param)||[],i=r.indexOf(jd(e.value));i!==-1&&r.splice(i,1),r.length>0?this.map.set(e.param,r):this.map.delete(e.param)}else{this.map.delete(e.param);break}}}),this.cloneFrom=this.updates=null)}};var Ud=class{map=new Map;set(e,t){return this.map.set(e,t),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}};function DF(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}function JE(n){return typeof ArrayBuffer<"u"&&n instanceof ArrayBuffer}function QE(n){return typeof Blob<"u"&&n instanceof Blob}function KE(n){return typeof FormData<"u"&&n instanceof FormData}function SF(n){return typeof URLSearchParams<"u"&&n instanceof URLSearchParams}var XE="Content-Type",eI="Accept",tI="X-Request-URL",nI="text/plain",rI="application/json",TF=`${rI}, ${nI}, */*`,Ms=class n{url;body=null;headers;context;reportProgress=!1;withCredentials=!1;responseType="json";method;params;urlWithParams;transferCache;constructor(e,t,r,i){this.url=t,this.method=e.toUpperCase();let o;if(DF(this.method)||i?(this.body=r!==void 0?r:null,o=i):o=r,o&&(this.reportProgress=!!o.reportProgress,this.withCredentials=!!o.withCredentials,o.responseType&&(this.responseType=o.responseType),o.headers&&(this.headers=o.headers),o.context&&(this.context=o.context),o.params&&(this.params=o.params),this.transferCache=o.transferCache),this.headers??=new Ii,this.context??=new Ud,!this.params)this.params=new Kr,this.urlWithParams=t;else{let s=this.params.toString();if(s.length===0)this.urlWithParams=t;else{let a=t.indexOf("?"),l=a===-1?"?":a<t.length-1?"&":"";this.urlWithParams=t+l+s}}}serializeBody(){return this.body===null?null:typeof this.body=="string"||JE(this.body)||QE(this.body)||KE(this.body)||SF(this.body)?this.body:this.body instanceof Kr?this.body.toString():typeof this.body=="object"||typeof this.body=="boolean"||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return this.body===null||KE(this.body)?null:QE(this.body)?this.body.type||null:JE(this.body)?null:typeof this.body=="string"?nI:this.body instanceof Kr?"application/x-www-form-urlencoded;charset=UTF-8":typeof this.body=="object"||typeof this.body=="number"||typeof this.body=="boolean"?rI:null}clone(e={}){let t=e.method||this.method,r=e.url||this.url,i=e.responseType||this.responseType,o=e.transferCache??this.transferCache,s=e.body!==void 0?e.body:this.body,a=e.withCredentials??this.withCredentials,l=e.reportProgress??this.reportProgress,c=e.headers||this.headers,u=e.params||this.params,d=e.context??this.context;return e.setHeaders!==void 0&&(c=Object.keys(e.setHeaders).reduce((p,f)=>p.set(f,e.setHeaders[f]),c)),e.setParams&&(u=Object.keys(e.setParams).reduce((p,f)=>p.set(f,e.setParams[f]),u)),new n(t,r,s,{params:u,headers:c,context:d,reportProgress:l,responseType:i,withCredentials:a,transferCache:o})}},_o=function(n){return n[n.Sent=0]="Sent",n[n.UploadProgress=1]="UploadProgress",n[n.ResponseHeader=2]="ResponseHeader",n[n.DownloadProgress=3]="DownloadProgress",n[n.Response=4]="Response",n[n.User=5]="User",n}(_o||{}),Rs=class{headers;status;statusText;url;ok;type;constructor(e,t=200,r="OK"){this.headers=e.headers||new Ii,this.status=e.status!==void 0?e.status:t,this.statusText=e.statusText||r,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}},$d=class n extends Rs{constructor(e={}){super(e)}type=_o.ResponseHeader;clone(e={}){return new n({headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}},ml=class n extends Rs{body;constructor(e={}){super(e),this.body=e.body!==void 0?e.body:null}type=_o.Response;clone(e={}){return new n({body:e.body!==void 0?e.body:this.body,headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}},gl=class extends Rs{name="HttpErrorResponse";message;error;ok=!1;constructor(e){super(e,0,"Unknown Error"),this.status>=200&&this.status<300?this.message=`Http failure during parsing for ${e.url||"(unknown url)"}`:this.message=`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}},xF=200,MF=204;function pv(n,e){return{body:e,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials,transferCache:n.transferCache}}var zd=(()=>{class n{handler;constructor(t){this.handler=t}request(t,r,i={}){let o;if(t instanceof Ms)o=t;else{let l;i.headers instanceof Ii?l=i.headers:l=new Ii(i.headers);let c;i.params&&(i.params instanceof Kr?c=i.params:c=new Kr({fromObject:i.params})),o=new Ms(t,r,i.body!==void 0?i.body:null,{headers:l,context:i.context,params:c,reportProgress:i.reportProgress,responseType:i.responseType||"json",withCredentials:i.withCredentials,transferCache:i.transferCache})}let s=z(o).pipe(Pr(l=>this.handler.handle(l)));if(t instanceof Ms||i.observe==="events")return s;let a=s.pipe(et(l=>l instanceof ml));switch(i.observe||"body"){case"body":switch(o.responseType){case"arraybuffer":return a.pipe(J(l=>{if(l.body!==null&&!(l.body instanceof ArrayBuffer))throw new V(2806,!1);return l.body}));case"blob":return a.pipe(J(l=>{if(l.body!==null&&!(l.body instanceof Blob))throw new V(2807,!1);return l.body}));case"text":return a.pipe(J(l=>{if(l.body!==null&&typeof l.body!="string")throw new V(2808,!1);return l.body}));case"json":default:return a.pipe(J(l=>l.body))}case"response":return a;default:throw new V(2809,!1)}}delete(t,r={}){return this.request("DELETE",t,r)}get(t,r={}){return this.request("GET",t,r)}head(t,r={}){return this.request("HEAD",t,r)}jsonp(t,r){return this.request("JSONP",t,{params:new Kr().append(r,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,r={}){return this.request("OPTIONS",t,r)}patch(t,r,i={}){return this.request("PATCH",t,pv(i,r))}post(t,r,i={}){return this.request("POST",t,pv(i,r))}put(t,r,i={}){return this.request("PUT",t,pv(i,r))}static \u0275fac=function(r){return new(r||n)(N(As))};static \u0275prov=O({token:n,factory:n.\u0275fac})}return n})();var AF=new B("");function RF(n,e){return e(n)}function OF(n,e,t){return(r,i)=>hn(t,()=>e(r,o=>n(o,i)))}var iI=new B(""),oI=new B(""),sI=new B("",{providedIn:"root",factory:()=>!0});var Hd=(()=>{class n extends As{backend;injector;chain=null;pendingTasks=E(_i);contributeToStability=E(sI);constructor(t,r){super(),this.backend=t,this.injector=r}handle(t){if(this.chain===null){let r=Array.from(new Set([...this.injector.get(iI),...this.injector.get(oI,[])]));this.chain=r.reduceRight((i,o)=>OF(i,o,this.injector),RF)}if(this.contributeToStability){let r=this.pendingTasks.add();return this.chain(t,i=>this.backend.handle(i)).pipe(Lr(()=>this.pendingTasks.remove(r)))}else return this.chain(t,r=>this.backend.handle(r))}static \u0275fac=function(r){return new(r||n)(N(pl),N(Zt))};static \u0275prov=O({token:n,factory:n.\u0275fac})}return n})();var kF=/^\)\]\}',?\n/,NF=RegExp(`^${tI}:`,"m");function FF(n){return"responseURL"in n&&n.responseURL?n.responseURL:NF.test(n.getAllResponseHeaders())?n.getResponseHeader(tI):null}var mv=(()=>{class n{xhrFactory;constructor(t){this.xhrFactory=t}handle(t){if(t.method==="JSONP")throw new V(-2800,!1);let r=this.xhrFactory;return(r.\u0275loadImpl?He(r.\u0275loadImpl()):z(null)).pipe(xe(()=>new Z(o=>{let s=r.build();if(s.open(t.method,t.urlWithParams),t.withCredentials&&(s.withCredentials=!0),t.headers.forEach((v,y)=>s.setRequestHeader(v,y.join(","))),t.headers.has(eI)||s.setRequestHeader(eI,TF),!t.headers.has(XE)){let v=t.detectContentTypeHeader();v!==null&&s.setRequestHeader(XE,v)}if(t.responseType){let v=t.responseType.toLowerCase();s.responseType=v!=="json"?v:"text"}let a=t.serializeBody(),l=null,c=()=>{if(l!==null)return l;let v=s.statusText||"OK",y=new Ii(s.getAllResponseHeaders()),x=FF(s)||t.url;return l=new $d({headers:y,status:s.status,statusText:v,url:x}),l},u=()=>{let{headers:v,status:y,statusText:x,url:U}=c(),j=null;y!==MF&&(j=typeof s.response>"u"?s.responseText:s.response),y===0&&(y=j?xF:0);let S=y>=200&&y<300;if(t.responseType==="json"&&typeof j=="string"){let H=j;j=j.replace(kF,"");try{j=j!==""?JSON.parse(j):null}catch(q){j=H,S&&(S=!1,j={error:q,text:j})}}S?(o.next(new ml({body:j,headers:v,status:y,statusText:x,url:U||void 0})),o.complete()):o.error(new gl({error:j,headers:v,status:y,statusText:x,url:U||void 0}))},d=v=>{let{url:y}=c(),x=new gl({error:v,status:s.status||0,statusText:s.statusText||"Unknown Error",url:y||void 0});o.error(x)},p=!1,f=v=>{p||(o.next(c()),p=!0);let y={type:_o.DownloadProgress,loaded:v.loaded};v.lengthComputable&&(y.total=v.total),t.responseType==="text"&&s.responseText&&(y.partialText=s.responseText),o.next(y)},h=v=>{let y={type:_o.UploadProgress,loaded:v.loaded};v.lengthComputable&&(y.total=v.total),o.next(y)};return s.addEventListener("load",u),s.addEventListener("error",d),s.addEventListener("timeout",d),s.addEventListener("abort",d),t.reportProgress&&(s.addEventListener("progress",f),a!==null&&s.upload&&s.upload.addEventListener("progress",h)),s.send(a),o.next({type:_o.Sent}),()=>{s.removeEventListener("error",d),s.removeEventListener("abort",d),s.removeEventListener("load",u),s.removeEventListener("timeout",d),t.reportProgress&&(s.removeEventListener("progress",f),a!==null&&s.upload&&s.upload.removeEventListener("progress",h)),s.readyState!==s.DONE&&s.abort()}})))}static \u0275fac=function(r){return new(r||n)(N(yo))};static \u0275prov=O({token:n,factory:n.\u0275fac})}return n})(),aI=new B(""),PF="XSRF-TOKEN",LF=new B("",{providedIn:"root",factory:()=>PF}),VF="X-XSRF-TOKEN",jF=new B("",{providedIn:"root",factory:()=>VF}),vl=class{},BF=(()=>{class n{doc;cookieName;lastCookieString="";lastToken=null;parseCount=0;constructor(t,r){this.doc=t,this.cookieName=r}getToken(){let t=this.doc.cookie||"";return t!==this.lastCookieString&&(this.parseCount++,this.lastToken=cl(t,this.cookieName),this.lastCookieString=t),this.lastToken}static \u0275fac=function(r){return new(r||n)(N(Be),N(LF))};static \u0275prov=O({token:n,factory:n.\u0275fac})}return n})();function UF(n,e){let t=n.url.toLowerCase();if(!E(aI)||n.method==="GET"||n.method==="HEAD"||t.startsWith("http://")||t.startsWith("https://"))return e(n);let r=E(vl).getToken(),i=E(jF);return r!=null&&!n.headers.has(i)&&(n=n.clone({headers:n.headers.set(i,r)})),e(n)}function gv(...n){let e=[zd,mv,Hd,{provide:As,useExisting:Hd},{provide:pl,useFactory:()=>E(AF,{optional:!0})??E(mv)},{provide:iI,useValue:UF,multi:!0},{provide:aI,useValue:!0},{provide:vl,useClass:BF}];for(let t of n)e.push(...t.\u0275providers);return Gr(e)}var cI=(()=>{class n{_doc;constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}static \u0275fac=function(r){return new(r||n)(N(Be))};static \u0275prov=O({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var Jn=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275prov=O({token:n,factory:function(r){let i=null;return r?i=new(r||n):i=N(HF),i},providedIn:"root"})}return n})(),HF=(()=>{class n extends Jn{_doc;constructor(t){super(),this._doc=t}sanitize(t,r){if(r==null)return null;switch(t){case At.NONE:return r;case At.HTML:return Zr(r,"HTML")?qn(r):Mg(this._doc,String(r)).toString();case At.STYLE:return Zr(r,"Style")?qn(r):r;case At.SCRIPT:if(Zr(r,"Script"))return qn(r);throw new V(5200,!1);case At.URL:return Zr(r,"URL")?qn(r):wd(String(r));case At.RESOURCE_URL:if(Zr(r,"ResourceURL"))return qn(r);throw new V(5201,!1);default:throw new V(5202,!1)}}bypassSecurityTrustHtml(t){return tC(t)}bypassSecurityTrustStyle(t){return nC(t)}bypassSecurityTrustScript(t){return rC(t)}bypassSecurityTrustUrl(t){return iC(t)}bypassSecurityTrustResourceUrl(t){return oC(t)}static \u0275fac=function(r){return new(r||n)(N(Be))};static \u0275prov=O({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var ue="primary",Rl=Symbol("RouteTitle"),wv=class{params;constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){let t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){let t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}};function Co(n){return new wv(n)}function vI(n,e,t){let r=t.path.split("/");if(r.length>n.length||t.pathMatch==="full"&&(e.hasChildren()||r.length<n.length))return null;let i={};for(let o=0;o<r.length;o++){let s=r[o],a=n[o];if(s[0]===":")i[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:n.slice(0,r.length),posParams:i}}function zF(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!gr(n[t],e[t]))return!1;return!0}function gr(n,e){let t=n?Cv(n):void 0,r=e?Cv(e):void 0;if(!t||!r||t.length!=r.length)return!1;let i;for(let o=0;o<t.length;o++)if(i=t[o],!yI(n[i],e[i]))return!1;return!0}function Cv(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}function yI(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;let t=[...n].sort(),r=[...e].sort();return t.every((i,o)=>r[o]===i)}else return n===e}function _I(n){return n.length>0?n[n.length-1]:null}function Ti(n){return Ki(n)?n:bi(n)?He(Promise.resolve(n)):z(n)}var GF={exact:wI,subset:CI},bI={exact:qF,subset:WF,ignored:()=>!0};function uI(n,e,t){return GF[t.paths](n.root,e.root,t.matrixParams)&&bI[t.queryParams](n.queryParams,e.queryParams)&&!(t.fragment==="exact"&&n.fragment!==e.fragment)}function qF(n,e){return gr(n,e)}function wI(n,e,t){if(!bo(n.segments,e.segments)||!Wd(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(let r in e.children)if(!n.children[r]||!wI(n.children[r],e.children[r],t))return!1;return!0}function WF(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>yI(n[t],e[t]))}function CI(n,e,t){return EI(n,e,e.segments,t)}function EI(n,e,t,r){if(n.segments.length>t.length){let i=n.segments.slice(0,t.length);return!(!bo(i,t)||e.hasChildren()||!Wd(i,t,r))}else if(n.segments.length===t.length){if(!bo(n.segments,t)||!Wd(n.segments,t,r))return!1;for(let i in e.children)if(!n.children[i]||!CI(n.children[i],e.children[i],r))return!1;return!0}else{let i=t.slice(0,n.segments.length),o=t.slice(n.segments.length);return!bo(n.segments,i)||!Wd(n.segments,i,r)||!n.children[ue]?!1:EI(n.children[ue],e,o,r)}}function Wd(n,e,t){return e.every((r,i)=>bI[t](n[i].parameters,r.parameters))}var yr=class{root;queryParams;fragment;_queryParamMap;constructor(e=new Oe([],{}),t={},r=null){this.root=e,this.queryParams=t,this.fragment=r}get queryParamMap(){return this._queryParamMap??=Co(this.queryParams),this._queryParamMap}toString(){return JF.serialize(this)}},Oe=class{segments;children;parent=null;constructor(e,t){this.segments=e,this.children=t,Object.values(t).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Zd(this)}},Di=class{path;parameters;_parameterMap;constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap??=Co(this.parameters),this._parameterMap}toString(){return DI(this)}};function ZF(n,e){return bo(n,e)&&n.every((t,r)=>gr(t.parameters,e[r].parameters))}function bo(n,e){return n.length!==e.length?!1:n.every((t,r)=>t.path===e[r].path)}function YF(n,e){let t=[];return Object.entries(n.children).forEach(([r,i])=>{r===ue&&(t=t.concat(e(i,r)))}),Object.entries(n.children).forEach(([r,i])=>{r!==ue&&(t=t.concat(e(i,r)))}),t}var Ol=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275prov=O({token:n,factory:()=>new Eo,providedIn:"root"})}return n})(),Eo=class{parse(e){let t=new Iv(e);return new yr(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){let t=`/${yl(e.root,!0)}`,r=XF(e.queryParams),i=typeof e.fragment=="string"?`#${QF(e.fragment)}`:"";return`${t}${r}${i}`}},JF=new Eo;function Zd(n){return n.segments.map(e=>DI(e)).join("/")}function yl(n,e){if(!n.hasChildren())return Zd(n);if(e){let t=n.children[ue]?yl(n.children[ue],!1):"",r=[];return Object.entries(n.children).forEach(([i,o])=>{i!==ue&&r.push(`${i}:${yl(o,!1)}`)}),r.length>0?`${t}(${r.join("//")})`:t}else{let t=YF(n,(r,i)=>i===ue?[yl(n.children[ue],!1)]:[`${i}:${yl(r,!1)}`]);return Object.keys(n.children).length===1&&n.children[ue]!=null?`${Zd(n)}/${t[0]}`:`${Zd(n)}/(${t.join("//")})`}}function II(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Gd(n){return II(n).replace(/%3B/gi,";")}function QF(n){return encodeURI(n)}function Ev(n){return II(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Yd(n){return decodeURIComponent(n)}function dI(n){return Yd(n.replace(/\+/g,"%20"))}function DI(n){return`${Ev(n.path)}${KF(n.parameters)}`}function KF(n){return Object.entries(n).map(([e,t])=>`;${Ev(e)}=${Ev(t)}`).join("")}function XF(n){let e=Object.entries(n).map(([t,r])=>Array.isArray(r)?r.map(i=>`${Gd(t)}=${Gd(i)}`).join("&"):`${Gd(t)}=${Gd(r)}`).filter(t=>t);return e.length?`?${e.join("&")}`:""}var eP=/^[^\/()?;#]+/;function vv(n){let e=n.match(eP);return e?e[0]:""}var tP=/^[^\/()?;=#]+/;function nP(n){let e=n.match(tP);return e?e[0]:""}var rP=/^[^=?&#]+/;function iP(n){let e=n.match(rP);return e?e[0]:""}var oP=/^[^&#]+/;function sP(n){let e=n.match(oP);return e?e[0]:""}var Iv=class{url;remaining;constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new Oe([],{}):new Oe([],this.parseChildren())}parseQueryParams(){let e={};if(this.consumeOptional("?"))do this.parseQueryParam(e);while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(r[ue]=new Oe(e,t)),r}parseSegment(){let e=vv(this.remaining);if(e===""&&this.peekStartsWith(";"))throw new V(4009,!1);return this.capture(e),new Di(Yd(e),this.parseMatrixParams())}parseMatrixParams(){let e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){let t=nP(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){let i=vv(this.remaining);i&&(r=i,this.capture(r))}e[Yd(t)]=Yd(r)}parseQueryParam(e){let t=iP(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){let s=sP(this.remaining);s&&(r=s,this.capture(r))}let i=dI(t),o=dI(r);if(e.hasOwnProperty(i)){let s=e[i];Array.isArray(s)||(s=[s],e[i]=s),s.push(o)}else e[i]=o}parseParens(e){let t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let r=vv(this.remaining),i=this.remaining[r.length];if(i!=="/"&&i!==")"&&i!==";")throw new V(4010,!1);let o;r.indexOf(":")>-1?(o=r.slice(0,r.indexOf(":")),this.capture(o),this.capture(":")):e&&(o=ue);let s=this.parseChildren();t[o]=Object.keys(s).length===1?s[ue]:new Oe([],s),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return this.peekStartsWith(e)?(this.remaining=this.remaining.substring(e.length),!0):!1}capture(e){if(!this.consumeOptional(e))throw new V(4011,!1)}};function SI(n){return n.segments.length>0?new Oe([],{[ue]:n}):n}function TI(n){let e={};for(let[r,i]of Object.entries(n.children)){let o=TI(i);if(r===ue&&o.segments.length===0&&o.hasChildren())for(let[s,a]of Object.entries(o.children))e[s]=a;else(o.segments.length>0||o.hasChildren())&&(e[r]=o)}let t=new Oe(n.segments,e);return aP(t)}function aP(n){if(n.numberOfChildren===1&&n.children[ue]){let e=n.children[ue];return new Oe(n.segments.concat(e.segments),e.children)}return n}function Si(n){return n instanceof yr}function xI(n,e,t=null,r=null){let i=MI(n);return AI(i,e,t,r)}function MI(n){let e;function t(o){let s={};for(let l of o.children){let c=t(l);s[l.outlet]=c}let a=new Oe(o.url,s);return o===n&&(e=a),a}let r=t(n.root),i=SI(r);return e??i}function AI(n,e,t,r){let i=n;for(;i.parent;)i=i.parent;if(e.length===0)return yv(i,i,i,t,r);let o=lP(e);if(o.toRoot())return yv(i,i,new Oe([],{}),t,r);let s=cP(o,i,n),a=s.processChildren?bl(s.segmentGroup,s.index,o.commands):OI(s.segmentGroup,s.index,o.commands);return yv(i,s.segmentGroup,a,t,r)}function Qd(n){return typeof n=="object"&&n!=null&&!n.outlets&&!n.segmentPath}function Cl(n){return typeof n=="object"&&n!=null&&n.outlets}function yv(n,e,t,r,i){let o={};r&&Object.entries(r).forEach(([l,c])=>{o[l]=Array.isArray(c)?c.map(u=>`${u}`):`${c}`});let s;n===e?s=t:s=RI(n,e,t);let a=SI(TI(s));return new yr(a,o,i)}function RI(n,e,t){let r={};return Object.entries(n.children).forEach(([i,o])=>{o===e?r[i]=t:r[i]=RI(o,e,t)}),new Oe(n.segments,r)}var Kd=class{isAbsolute;numberOfDoubleDots;commands;constructor(e,t,r){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=r,e&&r.length>0&&Qd(r[0]))throw new V(4003,!1);let i=r.find(Cl);if(i&&i!==_I(r))throw new V(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function lP(n){if(typeof n[0]=="string"&&n.length===1&&n[0]==="/")return new Kd(!0,0,n);let e=0,t=!1,r=n.reduce((i,o,s)=>{if(typeof o=="object"&&o!=null){if(o.outlets){let a={};return Object.entries(o.outlets).forEach(([l,c])=>{a[l]=typeof c=="string"?c.split("/"):c}),[...i,{outlets:a}]}if(o.segmentPath)return[...i,o.segmentPath]}return typeof o!="string"?[...i,o]:s===0?(o.split("/").forEach((a,l)=>{l==0&&a==="."||(l==0&&a===""?t=!0:a===".."?e++:a!=""&&i.push(a))}),i):[...i,o]},[]);return new Kd(t,e,r)}var Fs=class{segmentGroup;processChildren;index;constructor(e,t,r){this.segmentGroup=e,this.processChildren=t,this.index=r}};function cP(n,e,t){if(n.isAbsolute)return new Fs(e,!0,0);if(!t)return new Fs(e,!1,NaN);if(t.parent===null)return new Fs(t,!0,0);let r=Qd(n.commands[0])?0:1,i=t.segments.length-1+r;return uP(t,i,n.numberOfDoubleDots)}function uP(n,e,t){let r=n,i=e,o=t;for(;o>i;){if(o-=i,r=r.parent,!r)throw new V(4005,!1);i=r.segments.length}return new Fs(r,!1,i-o)}function dP(n){return Cl(n[0])?n[0].outlets:{[ue]:n}}function OI(n,e,t){if(n??=new Oe([],{}),n.segments.length===0&&n.hasChildren())return bl(n,e,t);let r=fP(n,e,t),i=t.slice(r.commandIndex);if(r.match&&r.pathIndex<n.segments.length){let o=new Oe(n.segments.slice(0,r.pathIndex),{});return o.children[ue]=new Oe(n.segments.slice(r.pathIndex),n.children),bl(o,0,i)}else return r.match&&i.length===0?new Oe(n.segments,{}):r.match&&!n.hasChildren()?Dv(n,e,t):r.match?bl(n,0,i):Dv(n,e,t)}function bl(n,e,t){if(t.length===0)return new Oe(n.segments,{});{let r=dP(t),i={};if(Object.keys(r).some(o=>o!==ue)&&n.children[ue]&&n.numberOfChildren===1&&n.children[ue].segments.length===0){let o=bl(n.children[ue],e,t);return new Oe(n.segments,o.children)}return Object.entries(r).forEach(([o,s])=>{typeof s=="string"&&(s=[s]),s!==null&&(i[o]=OI(n.children[o],e,s))}),Object.entries(n.children).forEach(([o,s])=>{r[o]===void 0&&(i[o]=s)}),new Oe(n.segments,i)}}function fP(n,e,t){let r=0,i=e,o={match:!1,pathIndex:0,commandIndex:0};for(;i<n.segments.length;){if(r>=t.length)return o;let s=n.segments[i],a=t[r];if(Cl(a))break;let l=`${a}`,c=r<t.length-1?t[r+1]:null;if(i>0&&l===void 0)break;if(l&&c&&typeof c=="object"&&c.outlets===void 0){if(!hI(l,c,s))return o;r+=2}else{if(!hI(l,{},s))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}function Dv(n,e,t){let r=n.segments.slice(0,e),i=0;for(;i<t.length;){let o=t[i];if(Cl(o)){let l=hP(o.outlets);return new Oe(r,l)}if(i===0&&Qd(t[0])){let l=n.segments[e];r.push(new Di(l.path,fI(t[0]))),i++;continue}let s=Cl(o)?o.outlets[ue]:`${o}`,a=i<t.length-1?t[i+1]:null;s&&a&&Qd(a)?(r.push(new Di(s,fI(a))),i+=2):(r.push(new Di(s,{})),i++)}return new Oe(r,{})}function hP(n){let e={};return Object.entries(n).forEach(([t,r])=>{typeof r=="string"&&(r=[r]),r!==null&&(e[t]=Dv(new Oe([],{}),0,r))}),e}function fI(n){let e={};return Object.entries(n).forEach(([t,r])=>e[t]=`${r}`),e}function hI(n,e,t){return n==t.path&&gr(e,t.parameters)}var Jd="imperative",Et=function(n){return n[n.NavigationStart=0]="NavigationStart",n[n.NavigationEnd=1]="NavigationEnd",n[n.NavigationCancel=2]="NavigationCancel",n[n.NavigationError=3]="NavigationError",n[n.RoutesRecognized=4]="RoutesRecognized",n[n.ResolveStart=5]="ResolveStart",n[n.ResolveEnd=6]="ResolveEnd",n[n.GuardsCheckStart=7]="GuardsCheckStart",n[n.GuardsCheckEnd=8]="GuardsCheckEnd",n[n.RouteConfigLoadStart=9]="RouteConfigLoadStart",n[n.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",n[n.ChildActivationStart=11]="ChildActivationStart",n[n.ChildActivationEnd=12]="ChildActivationEnd",n[n.ActivationStart=13]="ActivationStart",n[n.ActivationEnd=14]="ActivationEnd",n[n.Scroll=15]="Scroll",n[n.NavigationSkipped=16]="NavigationSkipped",n}(Et||{}),vn=class{id;url;constructor(e,t){this.id=e,this.url=t}},Io=class extends vn{type=Et.NavigationStart;navigationTrigger;restoredState;constructor(e,t,r="imperative",i=null){super(e,t),this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},yn=class extends vn{urlAfterRedirects;type=Et.NavigationEnd;constructor(e,t,r){super(e,t),this.urlAfterRedirects=r}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},ln=function(n){return n[n.Redirect=0]="Redirect",n[n.SupersededByNewNavigation=1]="SupersededByNewNavigation",n[n.NoDataFromResolver=2]="NoDataFromResolver",n[n.GuardRejected=3]="GuardRejected",n}(ln||{}),El=function(n){return n[n.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",n[n.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",n}(El||{}),vr=class extends vn{reason;code;type=Et.NavigationCancel;constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},Xr=class extends vn{reason;code;type=Et.NavigationSkipped;constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i}},Ls=class extends vn{error;target;type=Et.NavigationError;constructor(e,t,r,i){super(e,t),this.error=r,this.target=i}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},Il=class extends vn{urlAfterRedirects;state;type=Et.RoutesRecognized;constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Xd=class extends vn{urlAfterRedirects;state;type=Et.GuardsCheckStart;constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},ef=class extends vn{urlAfterRedirects;state;shouldActivate;type=Et.GuardsCheckEnd;constructor(e,t,r,i,o){super(e,t),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=o}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},tf=class extends vn{urlAfterRedirects;state;type=Et.ResolveStart;constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},nf=class extends vn{urlAfterRedirects;state;type=Et.ResolveEnd;constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},rf=class{route;type=Et.RouteConfigLoadStart;constructor(e){this.route=e}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},of=class{route;type=Et.RouteConfigLoadEnd;constructor(e){this.route=e}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},sf=class{snapshot;type=Et.ChildActivationStart;constructor(e){this.snapshot=e}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},af=class{snapshot;type=Et.ChildActivationEnd;constructor(e){this.snapshot=e}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},lf=class{snapshot;type=Et.ActivationStart;constructor(e){this.snapshot=e}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},cf=class{snapshot;type=Et.ActivationEnd;constructor(e){this.snapshot=e}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}};var Dl=class{},Vs=class{url;navigationBehaviorOptions;constructor(e,t){this.url=e,this.navigationBehaviorOptions=t}};function pP(n,e){return n.providers&&!n._injector&&(n._injector=Sd(n.providers,e,`Route: ${n.path}`)),n._injector??e}function Qn(n){return n.outlet||ue}function mP(n,e){let t=n.filter(r=>Qn(r)===e);return t.push(...n.filter(r=>Qn(r)!==e)),t}function kl(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let e=n.parent;e;e=e.parent){let t=e.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}var uf=class{rootInjector;outlet=null;route=null;children;attachRef=null;get injector(){return kl(this.route?.snapshot)??this.rootInjector}constructor(e){this.rootInjector=e,this.children=new Us(this.rootInjector)}},Us=(()=>{class n{rootInjector;contexts=new Map;constructor(t){this.rootInjector=t}onChildOutletCreated(t,r){let i=this.getOrCreateContext(t);i.outlet=r,this.contexts.set(t,i)}onChildOutletDestroyed(t){let r=this.getContext(t);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){let t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let r=this.getContext(t);return r||(r=new uf(this.rootInjector),this.contexts.set(t,r)),r}getContext(t){return this.contexts.get(t)||null}static \u0275fac=function(r){return new(r||n)(N(Zt))};static \u0275prov=O({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),df=class{_root;constructor(e){this._root=e}get root(){return this._root.value}parent(e){let t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){let t=Sv(e,this._root);return t?t.children.map(r=>r.value):[]}firstChild(e){let t=Sv(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){let t=Tv(e,this._root);return t.length<2?[]:t[t.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return Tv(e,this._root).map(t=>t.value)}};function Sv(n,e){if(n===e.value)return e;for(let t of e.children){let r=Sv(n,t);if(r)return r}return null}function Tv(n,e){if(n===e.value)return[e];for(let t of e.children){let r=Tv(n,t);if(r.length)return r.unshift(e),r}return[]}var gn=class{value;children;constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}};function Ns(n){let e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}var Sl=class extends df{snapshot;constructor(e,t){super(e),this.snapshot=t,Fv(this,e)}toString(){return this.snapshot.toString()}};function kI(n){let e=gP(n),t=new be([new Di("",{})]),r=new be({}),i=new be({}),o=new be({}),s=new be(""),a=new ct(t,r,o,s,i,ue,n,e.root);return a.snapshot=e.root,new Sl(new gn(a,[]),e)}function gP(n){let e={},t={},r={},i="",o=new wo([],e,r,i,t,ue,n,null,{});return new Tl("",new gn(o,[]))}var ct=class{urlSubject;paramsSubject;queryParamsSubject;fragmentSubject;dataSubject;outlet;component;snapshot;_futureSnapshot;_routerState;_paramMap;_queryParamMap;title;url;params;queryParams;fragment;data;constructor(e,t,r,i,o,s,a,l){this.urlSubject=e,this.paramsSubject=t,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=o,this.outlet=s,this.component=a,this._futureSnapshot=l,this.title=this.dataSubject?.pipe(J(c=>c[Rl]))??z(void 0),this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(J(e=>Co(e))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(J(e=>Co(e))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function ff(n,e,t="emptyOnly"){let r,{routeConfig:i}=n;return e!==null&&(t==="always"||i?.path===""||!e.component&&!e.routeConfig?.loadComponent)?r={params:T(T({},e.params),n.params),data:T(T({},e.data),n.data),resolve:T(T(T(T({},n.data),e.data),i?.data),n._resolvedData)}:r={params:T({},n.params),data:T({},n.data),resolve:T(T({},n.data),n._resolvedData??{})},i&&FI(i)&&(r.resolve[Rl]=i.title),r}var wo=class{url;params;queryParams;fragment;data;outlet;component;routeConfig;_resolve;_resolvedData;_routerState;_paramMap;_queryParamMap;get title(){return this.data?.[Rl]}constructor(e,t,r,i,o,s,a,l,c){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=s,this.component=a,this.routeConfig=l,this._resolve=c}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=Co(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=Co(this.queryParams),this._queryParamMap}toString(){let e=this.url.map(r=>r.toString()).join("/"),t=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${e}', path:'${t}')`}},Tl=class extends df{url;constructor(e,t){super(t),this.url=e,Fv(this,t)}toString(){return NI(this._root)}};function Fv(n,e){e.value._routerState=n,e.children.forEach(t=>Fv(n,t))}function NI(n){let e=n.children.length>0?` { ${n.children.map(NI).join(", ")} } `:"";return`${n.value}${e}`}function _v(n){if(n.snapshot){let e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,gr(e.queryParams,t.queryParams)||n.queryParamsSubject.next(t.queryParams),e.fragment!==t.fragment&&n.fragmentSubject.next(t.fragment),gr(e.params,t.params)||n.paramsSubject.next(t.params),zF(e.url,t.url)||n.urlSubject.next(t.url),gr(e.data,t.data)||n.dataSubject.next(t.data)}else n.snapshot=n._futureSnapshot,n.dataSubject.next(n._futureSnapshot.data)}function xv(n,e){let t=gr(n.params,e.params)&&ZF(n.url,e.url),r=!n.parent!=!e.parent;return t&&!r&&(!n.parent||xv(n.parent,e.parent))}function FI(n){return typeof n.title=="string"||n.title===null}var PI=new B(""),Nl=(()=>{class n{activated=null;get activatedComponentRef(){return this.activated}_activatedRoute=null;name=ue;activateEvents=new Re;deactivateEvents=new Re;attachEvents=new Re;detachEvents=new Re;routerOutletData=Vw(void 0);parentContexts=E(Us);location=E(Wn);changeDetector=E(Vt);inputBinder=E(Fl,{optional:!0});supportsBindingToComponentInputs=!0;ngOnChanges(t){if(t.name){let{firstChange:r,previousValue:i}=t.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(t){return this.parentContexts.getContext(t)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let t=this.parentContexts.getContext(this.name);t?.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new V(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new V(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new V(4012,!1);this.location.detach();let t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,r){this.activated=t,this._activatedRoute=r,this.location.insert(t.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){let t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,r){if(this.isActivated)throw new V(4013,!1);this._activatedRoute=t;let i=this.location,s=t.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,l=new Mv(t,a,i.injector,this.routerOutletData);this.activated=i.createComponent(s,{index:i.length,injector:l,environmentInjector:r}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static \u0275fac=function(r){return new(r||n)};static \u0275dir=he({type:n,selectors:[["router-outlet"]],inputs:{name:"name",routerOutletData:[1,"routerOutletData"]},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],features:[it]})}return n})(),Mv=class{route;childContexts;parent;outletData;constructor(e,t,r,i){this.route=e,this.childContexts=t,this.parent=r,this.outletData=i}get(e,t){return e===ct?this.route:e===Us?this.childContexts:e===PI?this.outletData:this.parent.get(e,t)}},Fl=new B(""),Pv=(()=>{class n{outletDataSubscriptions=new Map;bindActivatedRouteToOutletComponent(t){this.unsubscribeFromRouteData(t),this.subscribeToRouteData(t)}unsubscribeFromRouteData(t){this.outletDataSubscriptions.get(t)?.unsubscribe(),this.outletDataSubscriptions.delete(t)}subscribeToRouteData(t){let{activatedRoute:r}=t,i=Xi([r.queryParams,r.params,r.data]).pipe(xe(([o,s,a],l)=>(a=T(T(T({},o),s),a),l===0?z(a):Promise.resolve(a)))).subscribe(o=>{if(!t.isActivated||!t.activatedComponentRef||t.activatedRoute!==r||r.component===null){this.unsubscribeFromRouteData(t);return}let s=AE(r.component);if(!s){this.unsubscribeFromRouteData(t);return}for(let{templateName:a}of s.inputs)t.activatedComponentRef.setInput(a,o[a])});this.outletDataSubscriptions.set(t,i)}static \u0275fac=function(r){return new(r||n)};static \u0275prov=O({token:n,factory:n.\u0275fac})}return n})(),Lv=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275cmp=ae({type:n,selectors:[["ng-component"]],exportAs:["emptyRouterOutlet"],decls:1,vars:0,template:function(r,i){r&1&&L(0,"router-outlet")},dependencies:[Nl],encapsulation:2})}return n})();function Vv(n){let e=n.children&&n.children.map(Vv),t=e?X(T({},n),{children:e}):T({},n);return!t.component&&!t.loadComponent&&(e||t.loadChildren)&&t.outlet&&t.outlet!==ue&&(t.component=Lv),t}function vP(n,e,t){let r=xl(n,e._root,t?t._root:void 0);return new Sl(r,e)}function xl(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){let r=t.value;r._futureSnapshot=e.value;let i=yP(n,e,t);return new gn(r,i)}else{if(n.shouldAttach(e.value)){let o=n.retrieve(e.value);if(o!==null){let s=o.route;return s.value._futureSnapshot=e.value,s.children=e.children.map(a=>xl(n,a)),s}}let r=_P(e.value),i=e.children.map(o=>xl(n,o));return new gn(r,i)}}function yP(n,e,t){return e.children.map(r=>{for(let i of t.children)if(n.shouldReuseRoute(r.value,i.value.snapshot))return xl(n,r,i);return xl(n,r)})}function _P(n){return new ct(new be(n.url),new be(n.params),new be(n.queryParams),new be(n.fragment),new be(n.data),n.outlet,n.component,n)}var js=class{redirectTo;navigationBehaviorOptions;constructor(e,t){this.redirectTo=e,this.navigationBehaviorOptions=t}},LI="ngNavigationCancelingError";function hf(n,e){let{redirectTo:t,navigationBehaviorOptions:r}=Si(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=VI(!1,ln.Redirect);return i.url=t,i.navigationBehaviorOptions=r,i}function VI(n,e){let t=new Error(`NavigationCancelingError: ${n||""}`);return t[LI]=!0,t.cancellationCode=e,t}function bP(n){return jI(n)&&Si(n.url)}function jI(n){return!!n&&n[LI]}var wP=(n,e,t,r)=>J(i=>(new Av(e,i.targetRouterState,i.currentRouterState,t,r).activate(n),i)),Av=class{routeReuseStrategy;futureState;currState;forwardEvent;inputBindingEnabled;constructor(e,t,r,i,o){this.routeReuseStrategy=e,this.futureState=t,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=o}activate(e){let t=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,r,e),_v(this.futureState.root),this.activateChildRoutes(t,r,e)}deactivateChildRoutes(e,t,r){let i=Ns(t);e.children.forEach(o=>{let s=o.value.outlet;this.deactivateRoutes(o,i[s],r),delete i[s]}),Object.values(i).forEach(o=>{this.deactivateRouteAndItsChildren(o,r)})}deactivateRoutes(e,t,r){let i=e.value,o=t?t.value:null;if(i===o)if(i.component){let s=r.getContext(i.outlet);s&&this.deactivateChildRoutes(e,t,s.children)}else this.deactivateChildRoutes(e,t,r);else o&&this.deactivateRouteAndItsChildren(t,r)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){let r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,o=Ns(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);if(r&&r.outlet){let s=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:s,route:e,contexts:a})}}deactivateRouteAndOutlet(e,t){let r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,o=Ns(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,t,r){let i=Ns(t);e.children.forEach(o=>{this.activateRoutes(o,i[o.value.outlet],r),this.forwardEvent(new cf(o.value.snapshot))}),e.children.length&&this.forwardEvent(new af(e.value.snapshot))}activateRoutes(e,t,r){let i=e.value,o=t?t.value:null;if(_v(i),i===o)if(i.component){let s=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,t,s.children)}else this.activateChildRoutes(e,t,r);else if(i.component){let s=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){let a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),_v(a.route.value),this.activateChildRoutes(e,null,s.children)}else s.attachRef=null,s.route=i,s.outlet&&s.outlet.activateWith(i,s.injector),this.activateChildRoutes(e,null,s.children)}else this.activateChildRoutes(e,null,r)}},pf=class{path;route;constructor(e){this.path=e,this.route=this.path[this.path.length-1]}},Ps=class{component;route;constructor(e,t){this.component=e,this.route=t}};function CP(n,e,t){let r=n._root,i=e?e._root:null;return _l(r,i,t,[r.value])}function EP(n){let e=n.routeConfig?n.routeConfig.canActivateChild:null;return!e||e.length===0?null:{node:n,guards:e}}function $s(n,e){let t=Symbol(),r=e.get(n,t);return r===t?typeof n=="function"&&!xb(n)?n:e.get(n):r}function _l(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=Ns(e);return n.children.forEach(s=>{IP(s,o[s.value.outlet],t,r.concat([s.value]),i),delete o[s.value.outlet]}),Object.entries(o).forEach(([s,a])=>wl(a,t.getContext(s),i)),i}function IP(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=n.value,s=e?e.value:null,a=t?t.getContext(n.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){let l=DP(s,o,o.routeConfig.runGuardsAndResolvers);l?i.canActivateChecks.push(new pf(r)):(o.data=s.data,o._resolvedData=s._resolvedData),o.component?_l(n,e,a?a.children:null,r,i):_l(n,e,t,r,i),l&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new Ps(a.outlet.component,s))}else s&&wl(e,a,i),i.canActivateChecks.push(new pf(r)),o.component?_l(n,null,a?a.children:null,r,i):_l(n,null,t,r,i);return i}function DP(n,e,t){if(typeof t=="function")return t(n,e);switch(t){case"pathParamsChange":return!bo(n.url,e.url);case"pathParamsOrQueryParamsChange":return!bo(n.url,e.url)||!gr(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!xv(n,e)||!gr(n.queryParams,e.queryParams);case"paramsChange":default:return!xv(n,e)}}function wl(n,e,t){let r=Ns(n),i=n.value;Object.entries(r).forEach(([o,s])=>{i.component?e?wl(s,e.children.getContext(o),t):wl(s,null,t):wl(s,e,t)}),i.component?e&&e.outlet&&e.outlet.isActivated?t.canDeactivateChecks.push(new Ps(e.outlet.component,i)):t.canDeactivateChecks.push(new Ps(null,i)):t.canDeactivateChecks.push(new Ps(null,i))}function Pl(n){return typeof n=="function"}function SP(n){return typeof n=="boolean"}function TP(n){return n&&Pl(n.canLoad)}function xP(n){return n&&Pl(n.canActivate)}function MP(n){return n&&Pl(n.canActivateChild)}function AP(n){return n&&Pl(n.canDeactivate)}function RP(n){return n&&Pl(n.canMatch)}function BI(n){return n instanceof Fr||n?.name==="EmptyError"}var qd=Symbol("INITIAL_VALUE");function Bs(){return xe(n=>Xi(n.map(e=>e.pipe(vt(1),mi(qd)))).pipe(J(e=>{for(let t of e)if(t!==!0){if(t===qd)return qd;if(t===!1||OP(t))return t}return!0}),et(e=>e!==qd),vt(1)))}function OP(n){return Si(n)||n instanceof js}function kP(n,e){return Je(t=>{let{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:o,canDeactivateChecks:s}}=t;return s.length===0&&o.length===0?z(X(T({},t),{guardsResult:!0})):NP(s,r,i,n).pipe(Je(a=>a&&SP(a)?FP(r,o,n,e):z(a)),J(a=>X(T({},t),{guardsResult:a})))})}function NP(n,e,t,r){return He(n).pipe(Je(i=>BP(i.component,i.route,t,e,r)),Vr(i=>i!==!0,!0))}function FP(n,e,t,r){return He(e).pipe(Pr(i=>hi(LP(i.route.parent,r),PP(i.route,r),jP(n,i.path,t),VP(n,i.route,t))),Vr(i=>i!==!0,!0))}function PP(n,e){return n!==null&&e&&e(new lf(n)),z(!0)}function LP(n,e){return n!==null&&e&&e(new sf(n)),z(!0)}function VP(n,e,t){let r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||r.length===0)return z(!0);let i=r.map(o=>Cu(()=>{let s=kl(e)??t,a=$s(o,s),l=xP(a)?a.canActivate(e,n):hn(s,()=>a(e,n));return Ti(l).pipe(Vr())}));return z(i).pipe(Bs())}function jP(n,e,t){let r=e[e.length-1],o=e.slice(0,e.length-1).reverse().map(s=>EP(s)).filter(s=>s!==null).map(s=>Cu(()=>{let a=s.guards.map(l=>{let c=kl(s.node)??t,u=$s(l,c),d=MP(u)?u.canActivateChild(r,n):hn(c,()=>u(r,n));return Ti(d).pipe(Vr())});return z(a).pipe(Bs())}));return z(o).pipe(Bs())}function BP(n,e,t,r,i){let o=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!o||o.length===0)return z(!0);let s=o.map(a=>{let l=kl(e)??i,c=$s(a,l),u=AP(c)?c.canDeactivate(n,e,t,r):hn(l,()=>c(n,e,t,r));return Ti(u).pipe(Vr())});return z(s).pipe(Bs())}function UP(n,e,t,r){let i=e.canLoad;if(i===void 0||i.length===0)return z(!0);let o=i.map(s=>{let a=$s(s,n),l=TP(a)?a.canLoad(e,t):hn(n,()=>a(e,t));return Ti(l)});return z(o).pipe(Bs(),UI(r))}function UI(n){return Tp(We(e=>{if(typeof e!="boolean")throw hf(n,e)}),J(e=>e===!0))}function $P(n,e,t,r){let i=e.canMatch;if(!i||i.length===0)return z(!0);let o=i.map(s=>{let a=$s(s,n),l=RP(a)?a.canMatch(e,t):hn(n,()=>a(e,t));return Ti(l)});return z(o).pipe(Bs(),UI(r))}var Ml=class{segmentGroup;constructor(e){this.segmentGroup=e||null}},Al=class extends Error{urlTree;constructor(e){super(),this.urlTree=e}};function ks(n){return fi(new Ml(n))}function HP(n){return fi(new V(4e3,!1))}function zP(n){return fi(VI(!1,ln.GuardRejected))}var Rv=class{urlSerializer;urlTree;constructor(e,t){this.urlSerializer=e,this.urlTree=t}lineralizeSegments(e,t){let r=[],i=t.root;for(;;){if(r=r.concat(i.segments),i.numberOfChildren===0)return z(r);if(i.numberOfChildren>1||!i.children[ue])return HP(`${e.redirectTo}`);i=i.children[ue]}}applyRedirectCommands(e,t,r,i,o){if(typeof t!="string"){let a=t,{queryParams:l,fragment:c,routeConfig:u,url:d,outlet:p,params:f,data:h,title:v}=i,y=hn(o,()=>a({params:f,data:h,queryParams:l,fragment:c,routeConfig:u,url:d,outlet:p,title:v}));if(y instanceof yr)throw new Al(y);t=y}let s=this.applyRedirectCreateUrlTree(t,this.urlSerializer.parse(t),e,r);if(t[0]==="/")throw new Al(s);return s}applyRedirectCreateUrlTree(e,t,r,i){let o=this.createSegmentGroup(e,t.root,r,i);return new yr(o,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){let r={};return Object.entries(e).forEach(([i,o])=>{if(typeof o=="string"&&o[0]===":"){let a=o.substring(1);r[i]=t[a]}else r[i]=o}),r}createSegmentGroup(e,t,r,i){let o=this.createSegments(e,t.segments,r,i),s={};return Object.entries(t.children).forEach(([a,l])=>{s[a]=this.createSegmentGroup(e,l,r,i)}),new Oe(o,s)}createSegments(e,t,r,i){return t.map(o=>o.path[0]===":"?this.findPosParam(e,o,i):this.findOrReturn(o,r))}findPosParam(e,t,r){let i=r[t.path.substring(1)];if(!i)throw new V(4001,!1);return i}findOrReturn(e,t){let r=0;for(let i of t){if(i.path===e.path)return t.splice(r),i;r++}return e}},Ov={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function GP(n,e,t,r,i){let o=$I(n,e,t);return o.matched?(r=pP(e,r),$P(r,e,t,i).pipe(J(s=>s===!0?o:T({},Ov)))):z(o)}function $I(n,e,t){if(e.path==="**")return qP(t);if(e.path==="")return e.pathMatch==="full"&&(n.hasChildren()||t.length>0)?T({},Ov):{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};let i=(e.matcher||vI)(t,n,e);if(!i)return T({},Ov);let o={};Object.entries(i.posParams??{}).forEach(([a,l])=>{o[a]=l.path});let s=i.consumed.length>0?T(T({},o),i.consumed[i.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:i.consumed,remainingSegments:t.slice(i.consumed.length),parameters:s,positionalParamSegments:i.posParams??{}}}function qP(n){return{matched:!0,parameters:n.length>0?_I(n).parameters:{},consumedSegments:n,remainingSegments:[],positionalParamSegments:{}}}function pI(n,e,t,r){return t.length>0&&YP(n,t,r)?{segmentGroup:new Oe(e,ZP(r,new Oe(t,n.children))),slicedSegments:[]}:t.length===0&&JP(n,t,r)?{segmentGroup:new Oe(n.segments,WP(n,t,r,n.children)),slicedSegments:t}:{segmentGroup:new Oe(n.segments,n.children),slicedSegments:t}}function WP(n,e,t,r){let i={};for(let o of t)if(gf(n,e,o)&&!r[Qn(o)]){let s=new Oe([],{});i[Qn(o)]=s}return T(T({},r),i)}function ZP(n,e){let t={};t[ue]=e;for(let r of n)if(r.path===""&&Qn(r)!==ue){let i=new Oe([],{});t[Qn(r)]=i}return t}function YP(n,e,t){return t.some(r=>gf(n,e,r)&&Qn(r)!==ue)}function JP(n,e,t){return t.some(r=>gf(n,e,r))}function gf(n,e,t){return(n.hasChildren()||e.length>0)&&t.pathMatch==="full"?!1:t.path===""}function QP(n,e,t){return e.length===0&&!n.children[t]}var kv=class{};function KP(n,e,t,r,i,o,s="emptyOnly"){return new Nv(n,e,t,r,i,s,o).recognize()}var XP=31,Nv=class{injector;configLoader;rootComponentType;config;urlTree;paramsInheritanceStrategy;urlSerializer;applyRedirects;absoluteRedirectCount=0;allowRedirects=!0;constructor(e,t,r,i,o,s,a){this.injector=e,this.configLoader=t,this.rootComponentType=r,this.config=i,this.urlTree=o,this.paramsInheritanceStrategy=s,this.urlSerializer=a,this.applyRedirects=new Rv(this.urlSerializer,this.urlTree)}noMatchError(e){return new V(4002,`'${e.segmentGroup}'`)}recognize(){let e=pI(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(e).pipe(J(({children:t,rootSnapshot:r})=>{let i=new gn(r,t),o=new Tl("",i),s=xI(r,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(s),{state:o,tree:s}}))}match(e){let t=new wo([],Object.freeze({}),Object.freeze(T({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),ue,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,e,ue,t).pipe(J(r=>({children:r,rootSnapshot:t})),Vn(r=>{if(r instanceof Al)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof Ml?this.noMatchError(r):r}))}processSegmentGroup(e,t,r,i,o){return r.segments.length===0&&r.hasChildren()?this.processChildren(e,t,r,o):this.processSegment(e,t,r,r.segments,i,!0,o).pipe(J(s=>s instanceof gn?[s]:[]))}processChildren(e,t,r,i){let o=[];for(let s of Object.keys(r.children))s==="primary"?o.unshift(s):o.push(s);return He(o).pipe(Pr(s=>{let a=r.children[s],l=mP(t,s);return this.processSegmentGroup(e,l,a,s,i)}),jp((s,a)=>(s.push(...a),s)),pi(null),Lp(),Je(s=>{if(s===null)return ks(r);let a=HI(s);return eL(a),z(a)}))}processSegment(e,t,r,i,o,s,a){return He(t).pipe(Pr(l=>this.processSegmentAgainstRoute(l._injector??e,t,l,r,i,o,s,a).pipe(Vn(c=>{if(c instanceof Ml)return z(null);throw c}))),Vr(l=>!!l),Vn(l=>{if(BI(l))return QP(r,i,o)?z(new kv):ks(r);throw l}))}processSegmentAgainstRoute(e,t,r,i,o,s,a,l){return Qn(r)!==s&&(s===ue||!gf(i,o,r))?ks(i):r.redirectTo===void 0?this.matchSegmentAgainstRoute(e,i,r,o,s,l):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(e,i,t,r,o,s,l):ks(i)}expandSegmentAgainstRouteUsingRedirect(e,t,r,i,o,s,a){let{matched:l,parameters:c,consumedSegments:u,positionalParamSegments:d,remainingSegments:p}=$I(t,i,o);if(!l)return ks(t);typeof i.redirectTo=="string"&&i.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>XP&&(this.allowRedirects=!1));let f=new wo(o,c,Object.freeze(T({},this.urlTree.queryParams)),this.urlTree.fragment,mI(i),Qn(i),i.component??i._loadedComponent??null,i,gI(i)),h=ff(f,a,this.paramsInheritanceStrategy);f.params=Object.freeze(h.params),f.data=Object.freeze(h.data);let v=this.applyRedirects.applyRedirectCommands(u,i.redirectTo,d,f,e);return this.applyRedirects.lineralizeSegments(i,v).pipe(Je(y=>this.processSegment(e,r,t,y.concat(p),s,!1,a)))}matchSegmentAgainstRoute(e,t,r,i,o,s){let a=GP(t,r,i,e,this.urlSerializer);return r.path==="**"&&(t.children={}),a.pipe(xe(l=>l.matched?(e=r._injector??e,this.getChildConfig(e,r,i).pipe(xe(({routes:c})=>{let u=r._loadedInjector??e,{parameters:d,consumedSegments:p,remainingSegments:f}=l,h=new wo(p,d,Object.freeze(T({},this.urlTree.queryParams)),this.urlTree.fragment,mI(r),Qn(r),r.component??r._loadedComponent??null,r,gI(r)),v=ff(h,s,this.paramsInheritanceStrategy);h.params=Object.freeze(v.params),h.data=Object.freeze(v.data);let{segmentGroup:y,slicedSegments:x}=pI(t,p,f,c);if(x.length===0&&y.hasChildren())return this.processChildren(u,c,y,h).pipe(J(j=>new gn(h,j)));if(c.length===0&&x.length===0)return z(new gn(h,[]));let U=Qn(r)===o;return this.processSegment(u,c,y,x,U?ue:o,!0,h).pipe(J(j=>new gn(h,j instanceof gn?[j]:[])))}))):ks(t)))}getChildConfig(e,t,r){return t.children?z({routes:t.children,injector:e}):t.loadChildren?t._loadedRoutes!==void 0?z({routes:t._loadedRoutes,injector:t._loadedInjector}):UP(e,t,r,this.urlSerializer).pipe(Je(i=>i?this.configLoader.loadChildren(e,t).pipe(We(o=>{t._loadedRoutes=o.routes,t._loadedInjector=o.injector})):zP(t))):z({routes:[],injector:e})}};function eL(n){n.sort((e,t)=>e.value.outlet===ue?-1:t.value.outlet===ue?1:e.value.outlet.localeCompare(t.value.outlet))}function tL(n){let e=n.value.routeConfig;return e&&e.path===""}function HI(n){let e=[],t=new Set;for(let r of n){if(!tL(r)){e.push(r);continue}let i=e.find(o=>r.value.routeConfig===o.value.routeConfig);i!==void 0?(i.children.push(...r.children),t.add(i)):e.push(r)}for(let r of t){let i=HI(r.children);e.push(new gn(r.value,i))}return e.filter(r=>!t.has(r))}function mI(n){return n.data||{}}function gI(n){return n.resolve||{}}function nL(n,e,t,r,i,o){return Je(s=>KP(n,e,t,r,s.extractedUrl,i,o).pipe(J(({state:a,tree:l})=>X(T({},s),{targetSnapshot:a,urlAfterRedirects:l}))))}function rL(n,e){return Je(t=>{let{targetSnapshot:r,guards:{canActivateChecks:i}}=t;if(!i.length)return z(t);let o=new Set(i.map(l=>l.route)),s=new Set;for(let l of o)if(!s.has(l))for(let c of zI(l))s.add(c);let a=0;return He(s).pipe(Pr(l=>o.has(l)?iL(l,r,n,e):(l.data=ff(l,l.parent,n).resolve,z(void 0))),We(()=>a++),ns(1),Je(l=>a===s.size?z(t):Kt))})}function zI(n){let e=n.children.map(t=>zI(t)).flat();return[n,...e]}function iL(n,e,t,r){let i=n.routeConfig,o=n._resolve;return i?.title!==void 0&&!FI(i)&&(o[Rl]=i.title),oL(o,n,e,r).pipe(J(s=>(n._resolvedData=s,n.data=ff(n,n.parent,t).resolve,null)))}function oL(n,e,t,r){let i=Cv(n);if(i.length===0)return z({});let o={};return He(i).pipe(Je(s=>sL(n[s],e,t,r).pipe(Vr(),We(a=>{if(a instanceof js)throw hf(new Eo,a);o[s]=a}))),ns(1),J(()=>o),Vn(s=>BI(s)?Kt:fi(s)))}function sL(n,e,t,r){let i=kl(e)??r,o=$s(n,i),s=o.resolve?o.resolve(e,t):hn(i,()=>o(e,t));return Ti(s)}function bv(n){return xe(e=>{let t=n(e);return t?He(t).pipe(J(()=>e)):z(e)})}var jv=(()=>{class n{buildTitle(t){let r,i=t.root;for(;i!==void 0;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(o=>o.outlet===ue);return r}getResolvedTitleForRoute(t){return t.data[Rl]}static \u0275fac=function(r){return new(r||n)};static \u0275prov=O({token:n,factory:()=>E(GI),providedIn:"root"})}return n})(),GI=(()=>{class n extends jv{title;constructor(t){super(),this.title=t}updateTitle(t){let r=this.buildTitle(t);r!==void 0&&this.title.setTitle(r)}static \u0275fac=function(r){return new(r||n)(N(cI))};static \u0275prov=O({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Ll=new B("",{providedIn:"root",factory:()=>({})}),Vl=new B(""),qI=(()=>{class n{componentLoaders=new WeakMap;childrenLoaders=new WeakMap;onLoadStartListener;onLoadEndListener;compiler=E(IE);loadComponent(t){if(this.componentLoaders.get(t))return this.componentLoaders.get(t);if(t._loadedComponent)return z(t._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(t);let r=Ti(t.loadComponent()).pipe(J(ZI),We(o=>{this.onLoadEndListener&&this.onLoadEndListener(t),t._loadedComponent=o}),Lr(()=>{this.componentLoaders.delete(t)})),i=new li(r,()=>new ie).pipe(Ko());return this.componentLoaders.set(t,i),i}loadChildren(t,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return z({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);let o=WI(r,this.compiler,t,this.onLoadEndListener).pipe(Lr(()=>{this.childrenLoaders.delete(r)})),s=new li(o,()=>new ie).pipe(Ko());return this.childrenLoaders.set(r,s),s}static \u0275fac=function(r){return new(r||n)};static \u0275prov=O({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function WI(n,e,t,r){return Ti(n.loadChildren()).pipe(J(ZI),Je(i=>i instanceof Wg||Array.isArray(i)?z(i):He(e.compileModuleAsync(i))),J(i=>{r&&r(n);let o,s,a=!1;return Array.isArray(i)?(s=i,a=!0):(o=i.create(t).injector,s=o.get(Vl,[],{optional:!0,self:!0}).flat()),{routes:s.map(Vv),injector:o}}))}function aL(n){return n&&typeof n=="object"&&"default"in n}function ZI(n){return aL(n)?n.default:n}var vf=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275prov=O({token:n,factory:()=>E(lL),providedIn:"root"})}return n})(),lL=(()=>{class n{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,r){return t}static \u0275fac=function(r){return new(r||n)};static \u0275prov=O({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),YI=new B("");var JI=new B(""),QI=(()=>{class n{currentNavigation=null;currentTransition=null;lastSuccessfulNavigation=null;events=new ie;transitionAbortSubject=new ie;configLoader=E(qI);environmentInjector=E(Zt);destroyRef=E(ws);urlSerializer=E(Ol);rootContexts=E(Us);location=E(xs);inputBindingEnabled=E(Fl,{optional:!0})!==null;titleStrategy=E(jv);options=E(Ll,{optional:!0})||{};paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly";urlHandlingStrategy=E(vf);createViewTransition=E(YI,{optional:!0});navigationErrorHandler=E(JI,{optional:!0});navigationId=0;get hasRequestedNavigation(){return this.navigationId!==0}transitions;afterPreactivation=()=>z(void 0);rootComponentType=null;destroyed=!1;constructor(){let t=i=>this.events.next(new rf(i)),r=i=>this.events.next(new of(i));this.configLoader.onLoadEndListener=r,this.configLoader.onLoadStartListener=t,this.destroyRef.onDestroy(()=>{this.destroyed=!0})}complete(){this.transitions?.complete()}handleNavigationRequest(t){let r=++this.navigationId;this.transitions?.next(X(T({},t),{extractedUrl:this.urlHandlingStrategy.extract(t.rawUrl),targetSnapshot:null,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null,id:r}))}setupNavigations(t){return this.transitions=new be(null),this.transitions.pipe(et(r=>r!==null),xe(r=>{let i=!1,o=!1;return z(r).pipe(xe(s=>{if(this.navigationId>r.id)return this.cancelNavigationTransition(r,"",ln.SupersededByNewNavigation),Kt;this.currentTransition=r,this.currentNavigation={id:s.id,initialUrl:s.rawUrl,extractedUrl:s.extractedUrl,targetBrowserUrl:typeof s.extras.browserUrl=="string"?this.urlSerializer.parse(s.extras.browserUrl):s.extras.browserUrl,trigger:s.source,extras:s.extras,previousNavigation:this.lastSuccessfulNavigation?X(T({},this.lastSuccessfulNavigation),{previousNavigation:null}):null};let a=!t.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),l=s.extras.onSameUrlNavigation??t.onSameUrlNavigation;if(!a&&l!=="reload"){let c="";return this.events.next(new Xr(s.id,this.urlSerializer.serialize(s.rawUrl),c,El.IgnoredSameUrlNavigation)),s.resolve(!1),Kt}if(this.urlHandlingStrategy.shouldProcessUrl(s.rawUrl))return z(s).pipe(xe(c=>(this.events.next(new Io(c.id,this.urlSerializer.serialize(c.extractedUrl),c.source,c.restoredState)),c.id!==this.navigationId?Kt:Promise.resolve(c))),nL(this.environmentInjector,this.configLoader,this.rootComponentType,t.config,this.urlSerializer,this.paramsInheritanceStrategy),We(c=>{r.targetSnapshot=c.targetSnapshot,r.urlAfterRedirects=c.urlAfterRedirects,this.currentNavigation=X(T({},this.currentNavigation),{finalUrl:c.urlAfterRedirects});let u=new Il(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(u)}));if(a&&this.urlHandlingStrategy.shouldProcessUrl(s.currentRawUrl)){let{id:c,extractedUrl:u,source:d,restoredState:p,extras:f}=s,h=new Io(c,this.urlSerializer.serialize(u),d,p);this.events.next(h);let v=kI(this.rootComponentType).snapshot;return this.currentTransition=r=X(T({},s),{targetSnapshot:v,urlAfterRedirects:u,extras:X(T({},f),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=u,z(r)}else{let c="";return this.events.next(new Xr(s.id,this.urlSerializer.serialize(s.extractedUrl),c,El.IgnoredByUrlHandlingStrategy)),s.resolve(!1),Kt}}),We(s=>{let a=new Xd(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects),s.targetSnapshot);this.events.next(a)}),J(s=>(this.currentTransition=r=X(T({},s),{guards:CP(s.targetSnapshot,s.currentSnapshot,this.rootContexts)}),r)),kP(this.environmentInjector,s=>this.events.next(s)),We(s=>{if(r.guardsResult=s.guardsResult,s.guardsResult&&typeof s.guardsResult!="boolean")throw hf(this.urlSerializer,s.guardsResult);let a=new ef(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects),s.targetSnapshot,!!s.guardsResult);this.events.next(a)}),et(s=>s.guardsResult?!0:(this.cancelNavigationTransition(s,"",ln.GuardRejected),!1)),bv(s=>{if(s.guards.canActivateChecks.length!==0)return z(s).pipe(We(a=>{let l=new tf(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot);this.events.next(l)}),xe(a=>{let l=!1;return z(a).pipe(rL(this.paramsInheritanceStrategy,this.environmentInjector),We({next:()=>l=!0,complete:()=>{l||this.cancelNavigationTransition(a,"",ln.NoDataFromResolver)}}))}),We(a=>{let l=new nf(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot);this.events.next(l)}))}),bv(s=>{let a=l=>{let c=[];l.routeConfig?.loadComponent&&!l.routeConfig._loadedComponent&&c.push(this.configLoader.loadComponent(l.routeConfig).pipe(We(u=>{l.component=u}),J(()=>{})));for(let u of l.children)c.push(...a(u));return c};return Xi(a(s.targetSnapshot.root)).pipe(pi(null),vt(1))}),bv(()=>this.afterPreactivation()),xe(()=>{let{currentSnapshot:s,targetSnapshot:a}=r,l=this.createViewTransition?.(this.environmentInjector,s.root,a.root);return l?He(l).pipe(J(()=>r)):z(r)}),J(s=>{let a=vP(t.routeReuseStrategy,s.targetSnapshot,s.currentRouterState);return this.currentTransition=r=X(T({},s),{targetRouterState:a}),this.currentNavigation.targetRouterState=a,r}),We(()=>{this.events.next(new Dl)}),wP(this.rootContexts,t.routeReuseStrategy,s=>this.events.next(s),this.inputBindingEnabled),vt(1),We({next:s=>{i=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new yn(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects))),this.titleStrategy?.updateTitle(s.targetRouterState.snapshot),s.resolve(!0)},complete:()=>{i=!0}}),jr(this.transitionAbortSubject.pipe(We(s=>{throw s}))),Lr(()=>{!i&&!o&&this.cancelNavigationTransition(r,"",ln.SupersededByNewNavigation),this.currentTransition?.id===r.id&&(this.currentNavigation=null,this.currentTransition=null)}),Vn(s=>{if(this.destroyed)return r.resolve(!1),Kt;if(o=!0,jI(s))this.events.next(new vr(r.id,this.urlSerializer.serialize(r.extractedUrl),s.message,s.cancellationCode)),bP(s)?this.events.next(new Vs(s.url,s.navigationBehaviorOptions)):r.resolve(!1);else{let a=new Ls(r.id,this.urlSerializer.serialize(r.extractedUrl),s,r.targetSnapshot??void 0);try{let l=hn(this.environmentInjector,()=>this.navigationErrorHandler?.(a));if(l instanceof js){let{message:c,cancellationCode:u}=hf(this.urlSerializer,l);this.events.next(new vr(r.id,this.urlSerializer.serialize(r.extractedUrl),c,u)),this.events.next(new Vs(l.redirectTo,l.navigationBehaviorOptions))}else throw this.events.next(a),s}catch(l){this.options.resolveNavigationPromiseOnError?r.resolve(!1):r.reject(l)}}return Kt}))}))}cancelNavigationTransition(t,r,i){let o=new vr(t.id,this.urlSerializer.serialize(t.extractedUrl),r,i);this.events.next(o),t.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){let t=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),r=this.currentNavigation?.targetBrowserUrl??this.currentNavigation?.extractedUrl;return t.toString()!==r?.toString()&&!this.currentNavigation?.extras.skipLocationChange}static \u0275fac=function(r){return new(r||n)};static \u0275prov=O({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function cL(n){return n!==Jd}var KI=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275prov=O({token:n,factory:()=>E(uL),providedIn:"root"})}return n})(),mf=class{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}},uL=(()=>{class n extends mf{static \u0275fac=(()=>{let t;return function(i){return(t||(t=Gn(n)))(i||n)}})();static \u0275prov=O({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),XI=(()=>{class n{urlSerializer=E(Ol);options=E(Ll,{optional:!0})||{};canceledNavigationResolution=this.options.canceledNavigationResolution||"replace";location=E(xs);urlHandlingStrategy=E(vf);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";currentUrlTree=new yr;getCurrentUrlTree(){return this.currentUrlTree}rawUrlTree=this.currentUrlTree;getRawUrlTree(){return this.rawUrlTree}createBrowserPath({finalUrl:t,initialUrl:r,targetBrowserUrl:i}){let o=t!==void 0?this.urlHandlingStrategy.merge(t,r):r,s=i??o;return s instanceof yr?this.urlSerializer.serialize(s):s}commitTransition({targetRouterState:t,finalUrl:r,initialUrl:i}){r&&t?(this.currentUrlTree=r,this.rawUrlTree=this.urlHandlingStrategy.merge(r,i),this.routerState=t):this.rawUrlTree=i}routerState=kI(null);getRouterState(){return this.routerState}stateMemento=this.createStateMemento();updateStateMemento(){this.stateMemento=this.createStateMemento()}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}resetInternalState({finalUrl:t}){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t??this.rawUrlTree)}static \u0275fac=function(r){return new(r||n)};static \u0275prov=O({token:n,factory:()=>E(dL),providedIn:"root"})}return n})(),dL=(()=>{class n extends XI{currentPageId=0;lastSuccessfulId=-1;restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}registerNonRouterCurrentEntryChangeListener(t){return this.location.subscribe(r=>{r.type==="popstate"&&setTimeout(()=>{t(r.url,r.state,"popstate")})})}handleRouterEvent(t,r){t instanceof Io?this.updateStateMemento():t instanceof Xr?this.commitTransition(r):t instanceof Il?this.urlUpdateStrategy==="eager"&&(r.extras.skipLocationChange||this.setBrowserUrl(this.createBrowserPath(r),r)):t instanceof Dl?(this.commitTransition(r),this.urlUpdateStrategy==="deferred"&&!r.extras.skipLocationChange&&this.setBrowserUrl(this.createBrowserPath(r),r)):t instanceof vr&&(t.code===ln.GuardRejected||t.code===ln.NoDataFromResolver)?this.restoreHistory(r):t instanceof Ls?this.restoreHistory(r,!0):t instanceof yn&&(this.lastSuccessfulId=t.id,this.currentPageId=this.browserPageId)}setBrowserUrl(t,{extras:r,id:i}){let{replaceUrl:o,state:s}=r;if(this.location.isCurrentPathEqualTo(t)||o){let a=this.browserPageId,l=T(T({},s),this.generateNgRouterState(i,a));this.location.replaceState(t,"",l)}else{let a=T(T({},s),this.generateNgRouterState(i,this.browserPageId+1));this.location.go(t,"",a)}}restoreHistory(t,r=!1){if(this.canceledNavigationResolution==="computed"){let i=this.browserPageId,o=this.currentPageId-i;o!==0?this.location.historyGo(o):this.getCurrentUrlTree()===t.finalUrl&&o===0&&(this.resetInternalState(t),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(r&&this.resetInternalState(t),this.resetUrlToCurrentUrlTree())}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.getRawUrlTree()),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(t,r){return this.canceledNavigationResolution==="computed"?{navigationId:t,\u0275routerPageId:r}:{navigationId:t}}static \u0275fac=(()=>{let t;return function(i){return(t||(t=Gn(n)))(i||n)}})();static \u0275prov=O({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function Bv(n,e){n.events.pipe(et(t=>t instanceof yn||t instanceof vr||t instanceof Ls||t instanceof Xr),J(t=>t instanceof yn||t instanceof Xr?0:(t instanceof vr?t.code===ln.Redirect||t.code===ln.SupersededByNewNavigation:!1)?2:1),et(t=>t!==2),vt(1)).subscribe(()=>{e()})}var fL={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},hL={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},ke=(()=>{class n{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}disposed=!1;nonRouterCurrentEntryChangeSubscription;console=E(Zg);stateManager=E(XI);options=E(Ll,{optional:!0})||{};pendingTasks=E(_i);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";navigationTransitions=E(QI);urlSerializer=E(Ol);location=E(xs);urlHandlingStrategy=E(vf);_events=new ie;get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}navigated=!1;routeReuseStrategy=E(KI);onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore";config=E(Vl,{optional:!0})?.flat()??[];componentInputBindingEnabled=!!E(Fl,{optional:!0});constructor(){this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this).subscribe({error:t=>{this.console.warn(t)}}),this.subscribeToNavigationEvents()}eventsSubscription=new Ve;subscribeToNavigationEvents(){let t=this.navigationTransitions.events.subscribe(r=>{try{let i=this.navigationTransitions.currentTransition,o=this.navigationTransitions.currentNavigation;if(i!==null&&o!==null){if(this.stateManager.handleRouterEvent(r,o),r instanceof vr&&r.code!==ln.Redirect&&r.code!==ln.SupersededByNewNavigation)this.navigated=!0;else if(r instanceof yn)this.navigated=!0;else if(r instanceof Vs){let s=r.navigationBehaviorOptions,a=this.urlHandlingStrategy.merge(r.url,i.currentRawUrl),l=T({browserUrl:i.extras.browserUrl,info:i.extras.info,skipLocationChange:i.extras.skipLocationChange,replaceUrl:i.extras.replaceUrl||this.urlUpdateStrategy==="eager"||cL(i.source)},s);this.scheduleNavigation(a,Jd,null,l,{resolve:i.resolve,reject:i.reject,promise:i.promise})}}mL(r)&&this._events.next(r)}catch(i){this.navigationTransitions.transitionAbortSubject.next(i)}});this.eventsSubscription.add(t)}resetRootComponentType(t){this.routerState.root.component=t,this.navigationTransitions.rootComponentType=t}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),Jd,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((t,r,i)=>{this.navigateToSyncWithBrowser(t,i,r)})}navigateToSyncWithBrowser(t,r,i){let o={replaceUrl:!0},s=i?.navigationId?i:null;if(i){let l=T({},i);delete l.navigationId,delete l.\u0275routerPageId,Object.keys(l).length!==0&&(o.state=l)}let a=this.parseUrl(t);this.scheduleNavigation(a,r,s,o)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(t){this.config=t.map(Vv),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this._events.unsubscribe(),this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(t,r={}){let{relativeTo:i,queryParams:o,fragment:s,queryParamsHandling:a,preserveFragment:l}=r,c=l?this.currentUrlTree.fragment:s,u=null;switch(a??this.options.defaultQueryParamsHandling){case"merge":u=T(T({},this.currentUrlTree.queryParams),o);break;case"preserve":u=this.currentUrlTree.queryParams;break;default:u=o||null}u!==null&&(u=this.removeEmptyProps(u));let d;try{let p=i?i.snapshot:this.routerState.snapshot.root;d=MI(p)}catch{(typeof t[0]!="string"||t[0][0]!=="/")&&(t=[]),d=this.currentUrlTree.root}return AI(d,t,u,c??null)}navigateByUrl(t,r={skipLocationChange:!1}){let i=Si(t)?t:this.parseUrl(t),o=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(o,Jd,null,r)}navigate(t,r={skipLocationChange:!1}){return pL(t),this.navigateByUrl(this.createUrlTree(t,r),r)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){try{return this.urlSerializer.parse(t)}catch{return this.urlSerializer.parse("/")}}isActive(t,r){let i;if(r===!0?i=T({},fL):r===!1?i=T({},hL):i=r,Si(t))return uI(this.currentUrlTree,t,i);let o=this.parseUrl(t);return uI(this.currentUrlTree,o,i)}removeEmptyProps(t){return Object.entries(t).reduce((r,[i,o])=>(o!=null&&(r[i]=o),r),{})}scheduleNavigation(t,r,i,o,s){if(this.disposed)return Promise.resolve(!1);let a,l,c;s?(a=s.resolve,l=s.reject,c=s.promise):c=new Promise((d,p)=>{a=d,l=p});let u=this.pendingTasks.add();return Bv(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(u))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:t,extras:o,resolve:a,reject:l,promise:c,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),c.catch(d=>Promise.reject(d))}static \u0275fac=function(r){return new(r||n)};static \u0275prov=O({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function pL(n){for(let e=0;e<n.length;e++)if(n[e]==null)throw new V(4008,!1)}function mL(n){return!(n instanceof Dl)&&!(n instanceof Vs)}var _r=(()=>{class n{router;route;tabIndexAttribute;renderer;el;locationStrategy;href=null;target;queryParams;fragment;queryParamsHandling;state;info;relativeTo;isAnchorElement;subscription;onChanges=new ie;constructor(t,r,i,o,s,a){this.router=t,this.route=r,this.tabIndexAttribute=i,this.renderer=o,this.el=s,this.locationStrategy=a;let l=s.nativeElement.tagName?.toLowerCase();this.isAnchorElement=l==="a"||l==="area",this.isAnchorElement?this.subscription=t.events.subscribe(c=>{c instanceof yn&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}preserveFragment=!1;skipLocationChange=!1;replaceUrl=!1;setTabIndexIfNotOnNativeEl(t){this.tabIndexAttribute!=null||this.isAnchorElement||this.applyAttributeValue("tabindex",t)}ngOnChanges(t){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}routerLinkInput=null;set routerLink(t){t==null?(this.routerLinkInput=null,this.setTabIndexIfNotOnNativeEl(null)):(Si(t)?this.routerLinkInput=t:this.routerLinkInput=Array.isArray(t)?t:[t],this.setTabIndexIfNotOnNativeEl("0"))}onClick(t,r,i,o,s){let a=this.urlTree;if(a===null||this.isAnchorElement&&(t!==0||r||i||o||s||typeof this.target=="string"&&this.target!="_self"))return!0;let l={skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info};return this.router.navigateByUrl(a,l),!this.isAnchorElement}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){let t=this.urlTree;this.href=t!==null&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(t)):null;let r=this.href===null?null:dC(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",r)}applyAttributeValue(t,r){let i=this.renderer,o=this.el.nativeElement;r!==null?i.setAttribute(o,t,r):i.removeAttribute(o,t)}get urlTree(){return this.routerLinkInput===null?null:Si(this.routerLinkInput)?this.routerLinkInput:this.router.createUrlTree(this.routerLinkInput,{relativeTo:this.relativeTo!==void 0?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static \u0275fac=function(r){return new(r||n)(I(ke),I(ct),gd("tabindex"),I(pn),I(tt),I(Ts))};static \u0275dir=he({type:n,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(r,i){r&1&&M("click",function(s){return i.onClick(s.button,s.ctrlKey,s.shiftKey,s.altKey,s.metaKey)}),r&2&&Jr("target",i.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[2,"preserveFragment","preserveFragment",mn],skipLocationChange:[2,"skipLocationChange","skipLocationChange",mn],replaceUrl:[2,"replaceUrl","replaceUrl",mn],routerLink:"routerLink"},features:[it]})}return n})(),jl=(()=>{class n{router;element;renderer;cdr;link;links;classes=[];routerEventsSubscription;linkInputChangesSubscription;_isActive=!1;get isActive(){return this._isActive}routerLinkActiveOptions={exact:!1};ariaCurrentWhenActive;isActiveChange=new Re;constructor(t,r,i,o,s){this.router=t,this.element=r,this.renderer=i,this.cdr=o,this.link=s,this.routerEventsSubscription=t.events.subscribe(a=>{a instanceof yn&&this.update()})}ngAfterContentInit(){z(this.links.changes,z(null)).pipe(ts()).subscribe(t=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){this.linkInputChangesSubscription?.unsubscribe();let t=[...this.links.toArray(),this.link].filter(r=>!!r).map(r=>r.onChanges);this.linkInputChangesSubscription=He(t).pipe(ts()).subscribe(r=>{this._isActive!==this.isLinkActive(this.router)(r)&&this.update()})}set routerLinkActive(t){let r=Array.isArray(t)?t:t.split(" ");this.classes=r.filter(i=>!!i)}ngOnChanges(t){this.update()}ngOnDestroy(){this.routerEventsSubscription.unsubscribe(),this.linkInputChangesSubscription?.unsubscribe()}update(){!this.links||!this.router.navigated||queueMicrotask(()=>{let t=this.hasActiveLinks();this.classes.forEach(r=>{t?this.renderer.addClass(this.element.nativeElement,r):this.renderer.removeClass(this.element.nativeElement,r)}),t&&this.ariaCurrentWhenActive!==void 0?this.renderer.setAttribute(this.element.nativeElement,"aria-current",this.ariaCurrentWhenActive.toString()):this.renderer.removeAttribute(this.element.nativeElement,"aria-current"),this._isActive!==t&&(this._isActive=t,this.cdr.markForCheck(),this.isActiveChange.emit(t))})}isLinkActive(t){let r=vL(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return i=>{let o=i.urlTree;return o?t.isActive(o,r):!1}}hasActiveLinks(){let t=this.isLinkActive(this.router);return this.link&&t(this.link)||this.links.some(t)}static \u0275fac=function(r){return new(r||n)(I(ke),I(tt),I(pn),I(Vt),I(_r,8))};static \u0275dir=he({type:n,selectors:[["","routerLinkActive",""]],contentQueries:function(r,i,o){if(r&1&&bE(o,_r,5),r&2){let s;Ce(s=Ee())&&(i.links=s)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",ariaCurrentWhenActive:"ariaCurrentWhenActive",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],features:[it]})}return n})();function vL(n){return!!n.paths}var yL=new B("");function Uv(n,...e){return Gr([{provide:Vl,multi:!0,useValue:n},[],{provide:ct,useFactory:_L,deps:[ke]},{provide:Qg,multi:!0,useFactory:wL},e.map(t=>t.\u0275providers)])}function _L(n){return n.routerState.root}function bL(n,e){return{\u0275kind:n,\u0275providers:e}}function wL(){let n=E(Ct);return e=>{let t=n.get(Hn);if(e!==t.components[0])return;let r=n.get(ke),i=n.get(CL);n.get(EL)===1&&r.initialNavigation(),n.get(IL,null,de.Optional)?.setUpPreloading(),n.get(yL,null,de.Optional)?.init(),r.resetRootComponentType(t.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}var CL=new B("",{factory:()=>new ie}),EL=new B("",{providedIn:"root",factory:()=>1});var IL=new B("");function $v(){return bL(8,[Pv,{provide:Fl,useExisting:Pv}])}var Hv;try{Hv=typeof Intl<"u"&&Intl.v8BreakIterator}catch{Hv=!1}var xi=(()=>{class n{_platformId=E(po);isBrowser=this._platformId?ov(this._platformId):typeof document=="object"&&!!document;EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent);TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent);BLINK=this.isBrowser&&!!(window.chrome||Hv)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT;WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT;IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window);FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent);ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT;SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT;constructor(){}static \u0275fac=function(r){return new(r||n)};static \u0275prov=O({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var Kn=function(n){return n[n.NORMAL=0]="NORMAL",n[n.NEGATED=1]="NEGATED",n[n.INVERTED=2]="INVERTED",n}(Kn||{}),yf,Do;function eD(){if(Do==null){if(typeof document!="object"||!document||typeof Element!="function"||!Element)return Do=!1,Do;if("scrollBehavior"in document.documentElement.style)Do=!0;else{let n=Element.prototype.scrollTo;n?Do=!/\{\s*\[native code\]\s*\}/.test(n.toString()):Do=!1}}return Do}function Hs(){if(typeof document!="object"||!document)return Kn.NORMAL;if(yf==null){let n=document.createElement("div"),e=n.style;n.dir="rtl",e.width="1px",e.overflow="auto",e.visibility="hidden",e.pointerEvents="none",e.position="absolute";let t=document.createElement("div"),r=t.style;r.width="2px",r.height="1px",n.appendChild(t),document.body.appendChild(n),yf=Kn.NORMAL,n.scrollLeft===0&&(n.scrollLeft=1,yf=n.scrollLeft===0?Kn.NEGATED:Kn.INVERTED),n.remove()}return yf}function Bl(n,e=0){return DL(n)?Number(n):arguments.length===2?e:0}function DL(n){return!isNaN(parseFloat(n))&&!isNaN(Number(n))}function zv(n){return Array.isArray(n)?n:[n]}function tD(n){return n instanceof tt?n.nativeElement:n}var nD=new Set,So,SL=(()=>{class n{_platform=E(xi);_nonce=E(Xa,{optional:!0});_matchMedia;constructor(){this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):xL}matchMedia(t){return(this._platform.WEBKIT||this._platform.BLINK)&&TL(t,this._nonce),this._matchMedia(t)}static \u0275fac=function(r){return new(r||n)};static \u0275prov=O({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function TL(n,e){if(!nD.has(n))try{So||(So=document.createElement("style"),e&&So.setAttribute("nonce",e),So.setAttribute("type","text/css"),document.head.appendChild(So)),So.sheet&&(So.sheet.insertRule(`@media ${n} {body{ }}`,0),nD.add(n))}catch(t){console.error(t)}}function xL(n){return{matches:n==="all"||n==="",media:n,addListener:()=>{},removeListener:()=>{}}}var iD=(()=>{class n{_mediaMatcher=E(SL);_zone=E(we);_queries=new Map;_destroySubject=new ie;constructor(){}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(t){return rD(zv(t)).some(i=>this._registerQuery(i).mql.matches)}observe(t){let i=rD(zv(t)).map(s=>this._registerQuery(s).observable),o=Xi(i);return o=hi(o.pipe(vt(1)),o.pipe($p(1),lr(0))),o.pipe(J(s=>{let a={matches:!1,breakpoints:{}};return s.forEach(({matches:l,query:c})=>{a.matches=a.matches||l,a.breakpoints[c]=l}),a}))}_registerQuery(t){if(this._queries.has(t))return this._queries.get(t);let r=this._mediaMatcher.matchMedia(t),o={observable:new Z(s=>{let a=l=>this._zone.run(()=>s.next(l));return r.addListener(a),()=>{r.removeListener(a)}}).pipe(mi(r),J(({matches:s})=>({query:t,matches:s})),jr(this._destroySubject)),mql:r};return this._queries.set(t,o),o}static \u0275fac=function(r){return new(r||n)};static \u0275prov=O({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function rD(n){return n.map(e=>e.split(",")).reduce((e,t)=>e.concat(t)).map(e=>e.trim())}var To=function(n){return n[n.NONE=0]="NONE",n[n.BLACK_ON_WHITE=1]="BLACK_ON_WHITE",n[n.WHITE_ON_BLACK=2]="WHITE_ON_BLACK",n}(To||{}),oD="cdk-high-contrast-black-on-white",sD="cdk-high-contrast-white-on-black",Gv="cdk-high-contrast-active",aD=(()=>{class n{_platform=E(xi);_hasCheckedHighContrastMode;_document=E(Be);_breakpointSubscription;constructor(){this._breakpointSubscription=E(iD).observe("(forced-colors: active)").subscribe(()=>{this._hasCheckedHighContrastMode&&(this._hasCheckedHighContrastMode=!1,this._applyBodyHighContrastModeCssClasses())})}getHighContrastMode(){if(!this._platform.isBrowser)return To.NONE;let t=this._document.createElement("div");t.style.backgroundColor="rgb(1,2,3)",t.style.position="absolute",this._document.body.appendChild(t);let r=this._document.defaultView||window,i=r&&r.getComputedStyle?r.getComputedStyle(t):null,o=(i&&i.backgroundColor||"").replace(/ /g,"");switch(t.remove(),o){case"rgb(0,0,0)":case"rgb(45,50,54)":case"rgb(32,32,32)":return To.WHITE_ON_BLACK;case"rgb(255,255,255)":case"rgb(255,250,239)":return To.BLACK_ON_WHITE}return To.NONE}ngOnDestroy(){this._breakpointSubscription.unsubscribe()}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){let t=this._document.body.classList;t.remove(Gv,oD,sD),this._hasCheckedHighContrastMode=!0;let r=this.getHighContrastMode();r===To.BLACK_ON_WHITE?t.add(Gv,oD):r===To.WHITE_ON_BLACK&&t.add(Gv,sD)}}static \u0275fac=function(r){return new(r||n)};static \u0275prov=O({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var ML=new B("cdk-dir-doc",{providedIn:"root",factory:AL});function AL(){return E(Be)}var RL=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;function OL(n){let e=n?.toLowerCase()||"";return e==="auto"&&typeof navigator<"u"&&navigator?.language?RL.test(navigator.language)?"rtl":"ltr":e==="rtl"?"rtl":"ltr"}var lD=(()=>{class n{value="ltr";change=new Re;constructor(){let t=E(ML,{optional:!0});if(t){let r=t.body?t.body.dir:null,i=t.documentElement?t.documentElement.dir:null;this.value=OL(r||i||"ltr")}}ngOnDestroy(){this.change.complete()}static \u0275fac=function(r){return new(r||n)};static \u0275prov=O({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var zs=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275mod=Ke({type:n});static \u0275inj=Qe({})}return n})();var qv=(()=>{class n{constructor(){E(aD)._applyBodyHighContrastModeCssClasses()}static \u0275fac=function(r){return new(r||n)};static \u0275mod=Ke({type:n});static \u0275inj=Qe({imports:[zs,zs]})}return n})();var kL=["*"],_f;function NL(){if(_f===void 0&&(_f=null,typeof window<"u")){let n=window;n.trustedTypes!==void 0&&(_f=n.trustedTypes.createPolicy("angular#components",{createHTML:e=>e}))}return _f}function Ul(n){return NL()?.createHTML(n)||n}function cD(n){return Error(`Unable to find icon with the name "${n}"`)}function FL(){return Error("Could not find HttpClient for use with Angular Material icons. Please add provideHttpClient() to your providers.")}function uD(n){return Error(`The URL provided to MatIconRegistry was not trusted as a resource URL via Angular's DomSanitizer. Attempted URL was "${n}".`)}function dD(n){return Error(`The literal provided to MatIconRegistry was not trusted as safe HTML by Angular's DomSanitizer. Attempted literal was "${n}".`)}var ei=class{url;svgText;options;svgElement;constructor(e,t,r){this.url=e,this.svgText=t,this.options=r}},PL=(()=>{class n{_httpClient;_sanitizer;_errorHandler;_document;_svgIconConfigs=new Map;_iconSetConfigs=new Map;_cachedIconsByUrl=new Map;_inProgressUrlFetches=new Map;_fontCssClassesByAlias=new Map;_resolvers=[];_defaultFontSetClass=["material-icons","mat-ligature-font"];constructor(t,r,i,o){this._httpClient=t,this._sanitizer=r,this._errorHandler=o,this._document=i}addSvgIcon(t,r,i){return this.addSvgIconInNamespace("",t,r,i)}addSvgIconLiteral(t,r,i){return this.addSvgIconLiteralInNamespace("",t,r,i)}addSvgIconInNamespace(t,r,i,o){return this._addSvgIconConfig(t,r,new ei(i,null,o))}addSvgIconResolver(t){return this._resolvers.push(t),this}addSvgIconLiteralInNamespace(t,r,i,o){let s=this._sanitizer.sanitize(At.HTML,i);if(!s)throw dD(i);let a=Ul(s);return this._addSvgIconConfig(t,r,new ei("",a,o))}addSvgIconSet(t,r){return this.addSvgIconSetInNamespace("",t,r)}addSvgIconSetLiteral(t,r){return this.addSvgIconSetLiteralInNamespace("",t,r)}addSvgIconSetInNamespace(t,r,i){return this._addSvgIconSetConfig(t,new ei(r,null,i))}addSvgIconSetLiteralInNamespace(t,r,i){let o=this._sanitizer.sanitize(At.HTML,r);if(!o)throw dD(r);let s=Ul(o);return this._addSvgIconSetConfig(t,new ei("",s,i))}registerFontClassAlias(t,r=t){return this._fontCssClassesByAlias.set(t,r),this}classNameForFontAlias(t){return this._fontCssClassesByAlias.get(t)||t}setDefaultFontSetClass(...t){return this._defaultFontSetClass=t,this}getDefaultFontSetClass(){return this._defaultFontSetClass}getSvgIconFromUrl(t){let r=this._sanitizer.sanitize(At.RESOURCE_URL,t);if(!r)throw uD(t);let i=this._cachedIconsByUrl.get(r);return i?z(bf(i)):this._loadSvgIconFromConfig(new ei(t,null)).pipe(We(o=>this._cachedIconsByUrl.set(r,o)),J(o=>bf(o)))}getNamedSvgIcon(t,r=""){let i=fD(r,t),o=this._svgIconConfigs.get(i);if(o)return this._getSvgFromConfig(o);if(o=this._getIconConfigFromResolvers(r,t),o)return this._svgIconConfigs.set(i,o),this._getSvgFromConfig(o);let s=this._iconSetConfigs.get(r);return s?this._getSvgFromIconSetConfigs(t,s):fi(cD(i))}ngOnDestroy(){this._resolvers=[],this._svgIconConfigs.clear(),this._iconSetConfigs.clear(),this._cachedIconsByUrl.clear()}_getSvgFromConfig(t){return t.svgText?z(bf(this._svgElementFromConfig(t))):this._loadSvgIconFromConfig(t).pipe(J(r=>bf(r)))}_getSvgFromIconSetConfigs(t,r){let i=this._extractIconWithNameFromAnySet(t,r);if(i)return z(i);let o=r.filter(s=>!s.svgText).map(s=>this._loadSvgIconSetFromConfig(s).pipe(Vn(a=>{let c=`Loading icon set URL: ${this._sanitizer.sanitize(At.RESOURCE_URL,s.url)} failed: ${a.message}`;return this._errorHandler.handleError(new Error(c)),z(null)})));return ka(o).pipe(J(()=>{let s=this._extractIconWithNameFromAnySet(t,r);if(!s)throw cD(t);return s}))}_extractIconWithNameFromAnySet(t,r){for(let i=r.length-1;i>=0;i--){let o=r[i];if(o.svgText&&o.svgText.toString().indexOf(t)>-1){let s=this._svgElementFromConfig(o),a=this._extractSvgIconFromSet(s,t,o.options);if(a)return a}}return null}_loadSvgIconFromConfig(t){return this._fetchIcon(t).pipe(We(r=>t.svgText=r),J(()=>this._svgElementFromConfig(t)))}_loadSvgIconSetFromConfig(t){return t.svgText?z(null):this._fetchIcon(t).pipe(We(r=>t.svgText=r))}_extractSvgIconFromSet(t,r,i){let o=t.querySelector(`[id="${r}"]`);if(!o)return null;let s=o.cloneNode(!0);if(s.removeAttribute("id"),s.nodeName.toLowerCase()==="svg")return this._setSvgAttributes(s,i);if(s.nodeName.toLowerCase()==="symbol")return this._setSvgAttributes(this._toSvgElement(s),i);let a=this._svgElementFromString(Ul("<svg></svg>"));return a.appendChild(s),this._setSvgAttributes(a,i)}_svgElementFromString(t){let r=this._document.createElement("DIV");r.innerHTML=t;let i=r.querySelector("svg");if(!i)throw Error("<svg> tag not found");return i}_toSvgElement(t){let r=this._svgElementFromString(Ul("<svg></svg>")),i=t.attributes;for(let o=0;o<i.length;o++){let{name:s,value:a}=i[o];s!=="id"&&r.setAttribute(s,a)}for(let o=0;o<t.childNodes.length;o++)t.childNodes[o].nodeType===this._document.ELEMENT_NODE&&r.appendChild(t.childNodes[o].cloneNode(!0));return r}_setSvgAttributes(t,r){return t.setAttribute("fit",""),t.setAttribute("height","100%"),t.setAttribute("width","100%"),t.setAttribute("preserveAspectRatio","xMidYMid meet"),t.setAttribute("focusable","false"),r&&r.viewBox&&t.setAttribute("viewBox",r.viewBox),t}_fetchIcon(t){let{url:r,options:i}=t,o=i?.withCredentials??!1;if(!this._httpClient)throw FL();if(r==null)throw Error(`Cannot fetch icon from URL "${r}".`);let s=this._sanitizer.sanitize(At.RESOURCE_URL,r);if(!s)throw uD(r);let a=this._inProgressUrlFetches.get(s);if(a)return a;let l=this._httpClient.get(s,{responseType:"text",withCredentials:o}).pipe(J(c=>Ul(c)),Lr(()=>this._inProgressUrlFetches.delete(s)),Fa());return this._inProgressUrlFetches.set(s,l),l}_addSvgIconConfig(t,r,i){return this._svgIconConfigs.set(fD(t,r),i),this}_addSvgIconSetConfig(t,r){let i=this._iconSetConfigs.get(t);return i?i.push(r):this._iconSetConfigs.set(t,[r]),this}_svgElementFromConfig(t){if(!t.svgElement){let r=this._svgElementFromString(t.svgText);this._setSvgAttributes(r,t.options),t.svgElement=r}return t.svgElement}_getIconConfigFromResolvers(t,r){for(let i=0;i<this._resolvers.length;i++){let o=this._resolvers[i](r,t);if(o)return LL(o)?new ei(o.url,null,o.options):new ei(o,null)}}static \u0275fac=function(r){return new(r||n)(N(zd,8),N(Jn),N(Be,8),N(sn))};static \u0275prov=O({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function bf(n){return n.cloneNode(!0)}function fD(n,e){return n+":"+e}function LL(n){return!!(n.url&&n.options)}var VL=new B("MAT_ICON_DEFAULT_OPTIONS"),jL=new B("mat-icon-location",{providedIn:"root",factory:BL});function BL(){let n=E(Be),e=n?n.location:null;return{getPathname:()=>e?e.pathname+e.search:""}}var hD=["clip-path","color-profile","src","cursor","fill","filter","marker","marker-start","marker-mid","marker-end","mask","stroke"],UL=hD.map(n=>`[${n}]`).join(", "),$L=/^url\(['"]?#(.*?)['"]?\)$/,ht=(()=>{class n{_elementRef=E(tt);_iconRegistry=E(PL);_location=E(jL);_errorHandler=E(sn);_defaultColor;get color(){return this._color||this._defaultColor}set color(t){this._color=t}_color;inline=!1;get svgIcon(){return this._svgIcon}set svgIcon(t){t!==this._svgIcon&&(t?this._updateSvgIcon(t):this._svgIcon&&this._clearSvgElement(),this._svgIcon=t)}_svgIcon;get fontSet(){return this._fontSet}set fontSet(t){let r=this._cleanupFontValue(t);r!==this._fontSet&&(this._fontSet=r,this._updateFontIconClasses())}_fontSet;get fontIcon(){return this._fontIcon}set fontIcon(t){let r=this._cleanupFontValue(t);r!==this._fontIcon&&(this._fontIcon=r,this._updateFontIconClasses())}_fontIcon;_previousFontSetClass=[];_previousFontIconClass;_svgName;_svgNamespace;_previousPath;_elementsWithExternalReferences;_currentIconFetch=Ve.EMPTY;constructor(){let t=E(new Ju("aria-hidden"),{optional:!0}),r=E(VL,{optional:!0});r&&(r.color&&(this.color=this._defaultColor=r.color),r.fontSet&&(this.fontSet=r.fontSet)),t||this._elementRef.nativeElement.setAttribute("aria-hidden","true")}_splitIconName(t){if(!t)return["",""];let r=t.split(":");switch(r.length){case 1:return["",r[0]];case 2:return r;default:throw Error(`Invalid icon name: "${t}"`)}}ngOnInit(){this._updateFontIconClasses()}ngAfterViewChecked(){let t=this._elementsWithExternalReferences;if(t&&t.size){let r=this._location.getPathname();r!==this._previousPath&&(this._previousPath=r,this._prependPathToReferences(r))}}ngOnDestroy(){this._currentIconFetch.unsubscribe(),this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear()}_usingFontIcon(){return!this.svgIcon}_setSvgElement(t){this._clearSvgElement();let r=this._location.getPathname();this._previousPath=r,this._cacheChildrenWithExternalReferences(t),this._prependPathToReferences(r),this._elementRef.nativeElement.appendChild(t)}_clearSvgElement(){let t=this._elementRef.nativeElement,r=t.childNodes.length;for(this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear();r--;){let i=t.childNodes[r];(i.nodeType!==1||i.nodeName.toLowerCase()==="svg")&&i.remove()}}_updateFontIconClasses(){if(!this._usingFontIcon())return;let t=this._elementRef.nativeElement,r=(this.fontSet?this._iconRegistry.classNameForFontAlias(this.fontSet).split(/ +/):this._iconRegistry.getDefaultFontSetClass()).filter(i=>i.length>0);this._previousFontSetClass.forEach(i=>t.classList.remove(i)),r.forEach(i=>t.classList.add(i)),this._previousFontSetClass=r,this.fontIcon!==this._previousFontIconClass&&!r.includes("mat-ligature-font")&&(this._previousFontIconClass&&t.classList.remove(this._previousFontIconClass),this.fontIcon&&t.classList.add(this.fontIcon),this._previousFontIconClass=this.fontIcon)}_cleanupFontValue(t){return typeof t=="string"?t.trim().split(" ")[0]:t}_prependPathToReferences(t){let r=this._elementsWithExternalReferences;r&&r.forEach((i,o)=>{i.forEach(s=>{o.setAttribute(s.name,`url('${t}#${s.value}')`)})})}_cacheChildrenWithExternalReferences(t){let r=t.querySelectorAll(UL),i=this._elementsWithExternalReferences=this._elementsWithExternalReferences||new Map;for(let o=0;o<r.length;o++)hD.forEach(s=>{let a=r[o],l=a.getAttribute(s),c=l?l.match($L):null;if(c){let u=i.get(a);u||(u=[],i.set(a,u)),u.push({name:s,value:c[1]})}})}_updateSvgIcon(t){if(this._svgNamespace=null,this._svgName=null,this._currentIconFetch.unsubscribe(),t){let[r,i]=this._splitIconName(t);r&&(this._svgNamespace=r),i&&(this._svgName=i),this._currentIconFetch=this._iconRegistry.getNamedSvgIcon(i,r).pipe(vt(1)).subscribe(o=>this._setSvgElement(o),o=>{let s=`Error retrieving icon ${r}:${i}! ${o.message}`;this._errorHandler.handleError(new Error(s))})}}static \u0275fac=function(r){return new(r||n)};static \u0275cmp=ae({type:n,selectors:[["mat-icon"]],hostAttrs:["role","img",1,"mat-icon","notranslate"],hostVars:10,hostBindings:function(r,i){r&2&&(Jr("data-mat-icon-type",i._usingFontIcon()?"font":"svg")("data-mat-icon-name",i._svgName||i.fontIcon)("data-mat-icon-namespace",i._svgNamespace||i.fontSet)("fontIcon",i._usingFontIcon()?i.fontIcon:null),Ds(i.color?"mat-"+i.color:""),Qr("mat-icon-inline",i.inline)("mat-icon-no-color",i.color!=="primary"&&i.color!=="accent"&&i.color!=="warn"))},inputs:{color:"color",inline:[2,"inline","inline",mn],svgIcon:"svgIcon",fontSet:"fontSet",fontIcon:"fontIcon"},exportAs:["matIcon"],ngContentSelectors:kL,decls:1,vars:0,template:function(r,i){r&1&&(mo(),go(0))},styles:["mat-icon,mat-icon.mat-primary,mat-icon.mat-accent,mat-icon.mat-warn{color:var(--mat-icon-color, inherit)}.mat-icon{-webkit-user-select:none;user-select:none;background-repeat:no-repeat;display:inline-block;fill:currentColor;height:24px;width:24px;overflow:hidden}.mat-icon.mat-icon-inline{font-size:inherit;height:inherit;line-height:inherit;width:inherit}.mat-icon.mat-ligature-font[fontIcon]::before{content:attr(fontIcon)}[dir=rtl] .mat-icon-rtl-mirror{transform:scale(-1, 1)}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon{display:block}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button .mat-icon{margin:auto}"],encapsulation:2,changeDetection:0})}return n})(),cn=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275mod=Ke({type:n});static \u0275inj=Qe({imports:[qv,qv]})}return n})();function Jv(){return{async:!1,breaks:!1,extensions:null,gfm:!0,hooks:null,pedantic:!1,renderer:null,silent:!1,tokenizer:null,walkTokens:null}}var Ao=Jv();function _D(n){Ao=n}var zl={exec:()=>null};function Ne(n,e=""){let t=typeof n=="string"?n:n.source,r={replace:(i,o)=>{let s=typeof o=="string"?o:o.source;return s=s.replace(Qt.caret,"$1"),t=t.replace(i,s),r},getRegex:()=>new RegExp(t,e)};return r}var Qt={codeRemoveIndent:/^(?: {1,4}| {0,3}\t)/gm,outputLinkReplace:/\\([\[\]])/g,indentCodeCompensation:/^(\s+)(?:```)/,beginningSpace:/^\s+/,endingHash:/#$/,startingSpaceChar:/^ /,endingSpaceChar:/ $/,nonSpaceChar:/[^ ]/,newLineCharGlobal:/\n/g,tabCharGlobal:/\t/g,multipleSpaceGlobal:/\s+/g,blankLine:/^[ \t]*$/,doubleBlankLine:/\n[ \t]*\n[ \t]*$/,blockquoteStart:/^ {0,3}>/,blockquoteSetextReplace:/\n {0,3}((?:=+|-+) *)(?=\n|$)/g,blockquoteSetextReplace2:/^ {0,3}>[ \t]?/gm,listReplaceTabs:/^\t+/,listReplaceNesting:/^ {1,4}(?=( {4})*[^ ])/g,listIsTask:/^\[[ xX]\] /,listReplaceTask:/^\[[ xX]\] +/,anyLine:/\n.*\n/,hrefBrackets:/^<(.*)>$/,tableDelimiter:/[:|]/,tableAlignChars:/^\||\| *$/g,tableRowBlankLine:/\n[ \t]*$/,tableAlignRight:/^ *-+: *$/,tableAlignCenter:/^ *:-+: *$/,tableAlignLeft:/^ *:-+ *$/,startATag:/^<a /i,endATag:/^<\/a>/i,startPreScriptTag:/^<(pre|code|kbd|script)(\s|>)/i,endPreScriptTag:/^<\/(pre|code|kbd|script)(\s|>)/i,startAngleBracket:/^</,endAngleBracket:/>$/,pedanticHrefTitle:/^([^'"]*[^\s])\s+(['"])(.*)\2/,unicodeAlphaNumeric:/[\p{L}\p{N}]/u,escapeTest:/[&<>"']/,escapeReplace:/[&<>"']/g,escapeTestNoEncode:/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/,escapeReplaceNoEncode:/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/g,unescapeTest:/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/ig,caret:/(^|[^\[])\^/g,percentDecode:/%25/g,findPipe:/\|/g,splitPipe:/ \|/,slashPipe:/\\\|/g,carriageReturn:/\r\n|\r/g,spaceLine:/^ +$/gm,notSpaceStart:/^\S*/,endingNewline:/\n$/,listItemRegex:n=>new RegExp(`^( {0,3}${n})((?:[	 ][^\\n]*)?(?:\\n|$))`),nextBulletRegex:n=>new RegExp(`^ {0,${Math.min(3,n-1)}}(?:[*+-]|\\d{1,9}[.)])((?:[ 	][^\\n]*)?(?:\\n|$))`),hrRegex:n=>new RegExp(`^ {0,${Math.min(3,n-1)}}((?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$)`),fencesBeginRegex:n=>new RegExp(`^ {0,${Math.min(3,n-1)}}(?:\`\`\`|~~~)`),headingBeginRegex:n=>new RegExp(`^ {0,${Math.min(3,n-1)}}#`),htmlBeginRegex:n=>new RegExp(`^ {0,${Math.min(3,n-1)}}<(?:[a-z].*>|!--)`,"i")},HL=/^(?:[ \t]*(?:\n|$))+/,zL=/^((?: {4}| {0,3}\t)[^\n]+(?:\n(?:[ \t]*(?:\n|$))*)?)+/,GL=/^ {0,3}(`{3,}(?=[^`\n]*(?:\n|$))|~{3,})([^\n]*)(?:\n|$)(?:|([\s\S]*?)(?:\n|$))(?: {0,3}\1[~`]* *(?=\n|$)|$)/,Gl=/^ {0,3}((?:-[\t ]*){3,}|(?:_[ \t]*){3,}|(?:\*[ \t]*){3,})(?:\n+|$)/,qL=/^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/,Qv=/(?:[*+-]|\d{1,9}[.)])/,bD=/^(?!bull |blockCode|fences|blockquote|heading|html|table)((?:.|\n(?!\s*?\n|bull |blockCode|fences|blockquote|heading|html|table))+?)\n {0,3}(=+|-+) *(?:\n+|$)/,wD=Ne(bD).replace(/bull/g,Qv).replace(/blockCode/g,/(?: {4}| {0,3}\t)/).replace(/fences/g,/ {0,3}(?:`{3,}|~{3,})/).replace(/blockquote/g,/ {0,3}>/).replace(/heading/g,/ {0,3}#{1,6}/).replace(/html/g,/ {0,3}<[^\n>]+>\n/).replace(/\|table/g,"").getRegex(),WL=Ne(bD).replace(/bull/g,Qv).replace(/blockCode/g,/(?: {4}| {0,3}\t)/).replace(/fences/g,/ {0,3}(?:`{3,}|~{3,})/).replace(/blockquote/g,/ {0,3}>/).replace(/heading/g,/ {0,3}#{1,6}/).replace(/html/g,/ {0,3}<[^\n>]+>\n/).replace(/table/g,/ {0,3}\|?(?:[:\- ]*\|)+[\:\- ]*\n/).getRegex(),Kv=/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html|table| +\n)[^\n]+)*)/,ZL=/^[^\n]+/,Xv=/(?!\s*\])(?:\\.|[^\[\]\\])+/,YL=Ne(/^ {0,3}\[(label)\]: *(?:\n[ \t]*)?([^<\s][^\s]*|<.*?>)(?:(?: +(?:\n[ \t]*)?| *\n[ \t]*)(title))? *(?:\n+|$)/).replace("label",Xv).replace("title",/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/).getRegex(),JL=Ne(/^( {0,3}bull)([ \t][^\n]+?)?(?:\n|$)/).replace(/bull/g,Qv).getRegex(),Sf="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|search|section|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul",ey=/<!--(?:-?>|[\s\S]*?(?:-->|$))/,QL=Ne("^ {0,3}(?:<(script|pre|style|textarea)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?(?:\\?>\\n*|$)|<![A-Z][\\s\\S]*?(?:>\\n*|$)|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:(?:\\n[ 	]*)+\\n|$)|<(?!script|pre|style|textarea)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n[ 	]*)+\\n|$)|</(?!script|pre|style|textarea)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n[ 	]*)+\\n|$))","i").replace("comment",ey).replace("tag",Sf).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex(),CD=Ne(Kv).replace("hr",Gl).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("|table","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",Sf).getRegex(),KL=Ne(/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/).replace("paragraph",CD).getRegex(),ty={blockquote:KL,code:zL,def:YL,fences:GL,heading:qL,hr:Gl,html:QL,lheading:wD,list:JL,newline:HL,paragraph:CD,table:zl,text:ZL},pD=Ne("^ *([^\\n ].*)\\n {0,3}((?:\\| *)?:?-+:? *(?:\\| *:?-+:? *)*(?:\\| *)?)(?:\\n((?:(?! *\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)").replace("hr",Gl).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("blockquote"," {0,3}>").replace("code","(?: {4}| {0,3}	)[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",Sf).getRegex(),XL=X(T({},ty),{lheading:WL,table:pD,paragraph:Ne(Kv).replace("hr",Gl).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("table",pD).replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",Sf).getRegex()}),e2=X(T({},ty),{html:Ne(`^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:"[^"]*"|'[^']*'|\\s[^'"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))`).replace("comment",ey).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^(#{1,6})(.*)(?:\n+|$)/,fences:zl,lheading:/^(.+?)\n {0,3}(=+|-+) *(?:\n+|$)/,paragraph:Ne(Kv).replace("hr",Gl).replace("heading",` *#{1,6} *[^
]`).replace("lheading",wD).replace("|table","").replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").replace("|tag","").getRegex()}),t2=/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,n2=/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,ED=/^( {2,}|\\)\n(?!\s*$)/,r2=/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*_]|\b_|$)|[^ ](?= {2,}\n)))/,Tf=/[\p{P}\p{S}]/u,ny=/[\s\p{P}\p{S}]/u,ID=/[^\s\p{P}\p{S}]/u,i2=Ne(/^((?![*_])punctSpace)/,"u").replace(/punctSpace/g,ny).getRegex(),DD=/(?!~)[\p{P}\p{S}]/u,o2=/(?!~)[\s\p{P}\p{S}]/u,s2=/(?:[^\s\p{P}\p{S}]|~)/u,a2=/\[[^[\]]*?\]\((?:\\.|[^\\\(\)]|\((?:\\.|[^\\\(\)])*\))*\)|`[^`]*?`|<[^<>]*?>/g,SD=/^(?:\*+(?:((?!\*)punct)|[^\s*]))|^_+(?:((?!_)punct)|([^\s_]))/,l2=Ne(SD,"u").replace(/punct/g,Tf).getRegex(),c2=Ne(SD,"u").replace(/punct/g,DD).getRegex(),TD="^[^_*]*?__[^_*]*?\\*[^_*]*?(?=__)|[^*]+(?=[^*])|(?!\\*)punct(\\*+)(?=[\\s]|$)|notPunctSpace(\\*+)(?!\\*)(?=punctSpace|$)|(?!\\*)punctSpace(\\*+)(?=notPunctSpace)|[\\s](\\*+)(?!\\*)(?=punct)|(?!\\*)punct(\\*+)(?!\\*)(?=punct)|notPunctSpace(\\*+)(?=notPunctSpace)",u2=Ne(TD,"gu").replace(/notPunctSpace/g,ID).replace(/punctSpace/g,ny).replace(/punct/g,Tf).getRegex(),d2=Ne(TD,"gu").replace(/notPunctSpace/g,s2).replace(/punctSpace/g,o2).replace(/punct/g,DD).getRegex(),f2=Ne("^[^_*]*?\\*\\*[^_*]*?_[^_*]*?(?=\\*\\*)|[^_]+(?=[^_])|(?!_)punct(_+)(?=[\\s]|$)|notPunctSpace(_+)(?!_)(?=punctSpace|$)|(?!_)punctSpace(_+)(?=notPunctSpace)|[\\s](_+)(?!_)(?=punct)|(?!_)punct(_+)(?!_)(?=punct)","gu").replace(/notPunctSpace/g,ID).replace(/punctSpace/g,ny).replace(/punct/g,Tf).getRegex(),h2=Ne(/\\(punct)/,"gu").replace(/punct/g,Tf).getRegex(),p2=Ne(/^<(scheme:[^\s\x00-\x1f<>]*|email)>/).replace("scheme",/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/).replace("email",/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/).getRegex(),m2=Ne(ey).replace("(?:-->|$)","-->").getRegex(),g2=Ne("^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>").replace("comment",m2).replace("attribute",/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/).getRegex(),Ef=/(?:\[(?:\\.|[^\[\]\\])*\]|\\.|`[^`]*`|[^\[\]\\`])*?/,v2=Ne(/^!?\[(label)\]\(\s*(href)(?:(?:[ \t]*(?:\n[ \t]*)?)(title))?\s*\)/).replace("label",Ef).replace("href",/<(?:\\.|[^\n<>\\])+>|[^ \t\n\x00-\x1f]*/).replace("title",/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/).getRegex(),xD=Ne(/^!?\[(label)\]\[(ref)\]/).replace("label",Ef).replace("ref",Xv).getRegex(),MD=Ne(/^!?\[(ref)\](?:\[\])?/).replace("ref",Xv).getRegex(),y2=Ne("reflink|nolink(?!\\()","g").replace("reflink",xD).replace("nolink",MD).getRegex(),ry={_backpedal:zl,anyPunctuation:h2,autolink:p2,blockSkip:a2,br:ED,code:n2,del:zl,emStrongLDelim:l2,emStrongRDelimAst:u2,emStrongRDelimUnd:f2,escape:t2,link:v2,nolink:MD,punctuation:i2,reflink:xD,reflinkSearch:y2,tag:g2,text:r2,url:zl},_2=X(T({},ry),{link:Ne(/^!?\[(label)\]\((.*?)\)/).replace("label",Ef).getRegex(),reflink:Ne(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",Ef).getRegex()}),Wv=X(T({},ry),{emStrongRDelimAst:d2,emStrongLDelim:c2,url:Ne(/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/,"i").replace("email",/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/).getRegex(),_backpedal:/(?:[^?!.,:;*_'"~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_'"~)]+(?!$))+/,del:/^(~~?)(?=[^\s~])((?:\\.|[^\\])*?(?:\\.|[^\s~\\]))\1(?=[^~]|$)/,text:/^([`~]+|[^`~])(?:(?= {2,}\n)|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)|[\s\S]*?(?:(?=[\\<!\[`*~_]|\b_|https?:\/\/|ftp:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)))/}),b2=X(T({},Wv),{br:Ne(ED).replace("{2,}","*").getRegex(),text:Ne(Wv.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()}),wf={normal:ty,gfm:XL,pedantic:e2},$l={normal:ry,gfm:Wv,breaks:b2,pedantic:_2},w2={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},mD=n=>w2[n];function br(n,e){if(e){if(Qt.escapeTest.test(n))return n.replace(Qt.escapeReplace,mD)}else if(Qt.escapeTestNoEncode.test(n))return n.replace(Qt.escapeReplaceNoEncode,mD);return n}function gD(n){try{n=encodeURI(n).replace(Qt.percentDecode,"%")}catch{return null}return n}function vD(n,e){let t=n.replace(Qt.findPipe,(o,s,a)=>{let l=!1,c=s;for(;--c>=0&&a[c]==="\\";)l=!l;return l?"|":" |"}),r=t.split(Qt.splitPipe),i=0;if(r[0].trim()||r.shift(),r.length>0&&!r.at(-1)?.trim()&&r.pop(),e)if(r.length>e)r.splice(e);else for(;r.length<e;)r.push("");for(;i<r.length;i++)r[i]=r[i].trim().replace(Qt.slashPipe,"|");return r}function Hl(n,e,t){let r=n.length;if(r===0)return"";let i=0;for(;i<r;){let o=n.charAt(r-i-1);if(o===e&&!t)i++;else if(o!==e&&t)i++;else break}return n.slice(0,r-i)}function C2(n,e){if(n.indexOf(e[1])===-1)return-1;let t=0;for(let r=0;r<n.length;r++)if(n[r]==="\\")r++;else if(n[r]===e[0])t++;else if(n[r]===e[1]&&(t--,t<0))return r;return t>0?-2:-1}function yD(n,e,t,r,i){let o=e.href,s=e.title||null,a=n[1].replace(i.other.outputLinkReplace,"$1");r.state.inLink=!0;let l={type:n[0].charAt(0)==="!"?"image":"link",raw:t,href:o,title:s,text:a,tokens:r.inlineTokens(a)};return r.state.inLink=!1,l}function E2(n,e,t){let r=n.match(t.other.indentCodeCompensation);if(r===null)return e;let i=r[1];return e.split(`
`).map(o=>{let s=o.match(t.other.beginningSpace);if(s===null)return o;let[a]=s;return a.length>=i.length?o.slice(i.length):o}).join(`
`)}var If=class{options;rules;lexer;constructor(n){this.options=n||Ao}space(n){let e=this.rules.block.newline.exec(n);if(e&&e[0].length>0)return{type:"space",raw:e[0]}}code(n){let e=this.rules.block.code.exec(n);if(e){let t=e[0].replace(this.rules.other.codeRemoveIndent,"");return{type:"code",raw:e[0],codeBlockStyle:"indented",text:this.options.pedantic?t:Hl(t,`
`)}}}fences(n){let e=this.rules.block.fences.exec(n);if(e){let t=e[0],r=E2(t,e[3]||"",this.rules);return{type:"code",raw:t,lang:e[2]?e[2].trim().replace(this.rules.inline.anyPunctuation,"$1"):e[2],text:r}}}heading(n){let e=this.rules.block.heading.exec(n);if(e){let t=e[2].trim();if(this.rules.other.endingHash.test(t)){let r=Hl(t,"#");(this.options.pedantic||!r||this.rules.other.endingSpaceChar.test(r))&&(t=r.trim())}return{type:"heading",raw:e[0],depth:e[1].length,text:t,tokens:this.lexer.inline(t)}}}hr(n){let e=this.rules.block.hr.exec(n);if(e)return{type:"hr",raw:Hl(e[0],`
`)}}blockquote(n){let e=this.rules.block.blockquote.exec(n);if(e){let t=Hl(e[0],`
`).split(`
`),r="",i="",o=[];for(;t.length>0;){let s=!1,a=[],l;for(l=0;l<t.length;l++)if(this.rules.other.blockquoteStart.test(t[l]))a.push(t[l]),s=!0;else if(!s)a.push(t[l]);else break;t=t.slice(l);let c=a.join(`
`),u=c.replace(this.rules.other.blockquoteSetextReplace,`
    $1`).replace(this.rules.other.blockquoteSetextReplace2,"");r=r?`${r}
${c}`:c,i=i?`${i}
${u}`:u;let d=this.lexer.state.top;if(this.lexer.state.top=!0,this.lexer.blockTokens(u,o,!0),this.lexer.state.top=d,t.length===0)break;let p=o.at(-1);if(p?.type==="code")break;if(p?.type==="blockquote"){let f=p,h=f.raw+`
`+t.join(`
`),v=this.blockquote(h);o[o.length-1]=v,r=r.substring(0,r.length-f.raw.length)+v.raw,i=i.substring(0,i.length-f.text.length)+v.text;break}else if(p?.type==="list"){let f=p,h=f.raw+`
`+t.join(`
`),v=this.list(h);o[o.length-1]=v,r=r.substring(0,r.length-p.raw.length)+v.raw,i=i.substring(0,i.length-f.raw.length)+v.raw,t=h.substring(o.at(-1).raw.length).split(`
`);continue}}return{type:"blockquote",raw:r,tokens:o,text:i}}}list(n){let e=this.rules.block.list.exec(n);if(e){let t=e[1].trim(),r=t.length>1,i={type:"list",raw:"",ordered:r,start:r?+t.slice(0,-1):"",loose:!1,items:[]};t=r?`\\d{1,9}\\${t.slice(-1)}`:`\\${t}`,this.options.pedantic&&(t=r?t:"[*+-]");let o=this.rules.other.listItemRegex(t),s=!1;for(;n;){let l=!1,c="",u="";if(!(e=o.exec(n))||this.rules.block.hr.test(n))break;c=e[0],n=n.substring(c.length);let d=e[2].split(`
`,1)[0].replace(this.rules.other.listReplaceTabs,x=>" ".repeat(3*x.length)),p=n.split(`
`,1)[0],f=!d.trim(),h=0;if(this.options.pedantic?(h=2,u=d.trimStart()):f?h=e[1].length+1:(h=e[2].search(this.rules.other.nonSpaceChar),h=h>4?1:h,u=d.slice(h),h+=e[1].length),f&&this.rules.other.blankLine.test(p)&&(c+=p+`
`,n=n.substring(p.length+1),l=!0),!l){let x=this.rules.other.nextBulletRegex(h),U=this.rules.other.hrRegex(h),j=this.rules.other.fencesBeginRegex(h),S=this.rules.other.headingBeginRegex(h),H=this.rules.other.htmlBeginRegex(h);for(;n;){let q=n.split(`
`,1)[0],Q;if(p=q,this.options.pedantic?(p=p.replace(this.rules.other.listReplaceNesting,"  "),Q=p):Q=p.replace(this.rules.other.tabCharGlobal,"    "),j.test(p)||S.test(p)||H.test(p)||x.test(p)||U.test(p))break;if(Q.search(this.rules.other.nonSpaceChar)>=h||!p.trim())u+=`
`+Q.slice(h);else{if(f||d.replace(this.rules.other.tabCharGlobal,"    ").search(this.rules.other.nonSpaceChar)>=4||j.test(d)||S.test(d)||U.test(d))break;u+=`
`+p}!f&&!p.trim()&&(f=!0),c+=q+`
`,n=n.substring(q.length+1),d=Q.slice(h)}}i.loose||(s?i.loose=!0:this.rules.other.doubleBlankLine.test(c)&&(s=!0));let v=null,y;this.options.gfm&&(v=this.rules.other.listIsTask.exec(u),v&&(y=v[0]!=="[ ] ",u=u.replace(this.rules.other.listReplaceTask,""))),i.items.push({type:"list_item",raw:c,task:!!v,checked:y,loose:!1,text:u,tokens:[]}),i.raw+=c}let a=i.items.at(-1);if(a)a.raw=a.raw.trimEnd(),a.text=a.text.trimEnd();else return;i.raw=i.raw.trimEnd();for(let l=0;l<i.items.length;l++)if(this.lexer.state.top=!1,i.items[l].tokens=this.lexer.blockTokens(i.items[l].text,[]),!i.loose){let c=i.items[l].tokens.filter(d=>d.type==="space"),u=c.length>0&&c.some(d=>this.rules.other.anyLine.test(d.raw));i.loose=u}if(i.loose)for(let l=0;l<i.items.length;l++)i.items[l].loose=!0;return i}}html(n){let e=this.rules.block.html.exec(n);if(e)return{type:"html",block:!0,raw:e[0],pre:e[1]==="pre"||e[1]==="script"||e[1]==="style",text:e[0]}}def(n){let e=this.rules.block.def.exec(n);if(e){let t=e[1].toLowerCase().replace(this.rules.other.multipleSpaceGlobal," "),r=e[2]?e[2].replace(this.rules.other.hrefBrackets,"$1").replace(this.rules.inline.anyPunctuation,"$1"):"",i=e[3]?e[3].substring(1,e[3].length-1).replace(this.rules.inline.anyPunctuation,"$1"):e[3];return{type:"def",tag:t,raw:e[0],href:r,title:i}}}table(n){let e=this.rules.block.table.exec(n);if(!e||!this.rules.other.tableDelimiter.test(e[2]))return;let t=vD(e[1]),r=e[2].replace(this.rules.other.tableAlignChars,"").split("|"),i=e[3]?.trim()?e[3].replace(this.rules.other.tableRowBlankLine,"").split(`
`):[],o={type:"table",raw:e[0],header:[],align:[],rows:[]};if(t.length===r.length){for(let s of r)this.rules.other.tableAlignRight.test(s)?o.align.push("right"):this.rules.other.tableAlignCenter.test(s)?o.align.push("center"):this.rules.other.tableAlignLeft.test(s)?o.align.push("left"):o.align.push(null);for(let s=0;s<t.length;s++)o.header.push({text:t[s],tokens:this.lexer.inline(t[s]),header:!0,align:o.align[s]});for(let s of i)o.rows.push(vD(s,o.header.length).map((a,l)=>({text:a,tokens:this.lexer.inline(a),header:!1,align:o.align[l]})));return o}}lheading(n){let e=this.rules.block.lheading.exec(n);if(e)return{type:"heading",raw:e[0],depth:e[2].charAt(0)==="="?1:2,text:e[1],tokens:this.lexer.inline(e[1])}}paragraph(n){let e=this.rules.block.paragraph.exec(n);if(e){let t=e[1].charAt(e[1].length-1)===`
`?e[1].slice(0,-1):e[1];return{type:"paragraph",raw:e[0],text:t,tokens:this.lexer.inline(t)}}}text(n){let e=this.rules.block.text.exec(n);if(e)return{type:"text",raw:e[0],text:e[0],tokens:this.lexer.inline(e[0])}}escape(n){let e=this.rules.inline.escape.exec(n);if(e)return{type:"escape",raw:e[0],text:e[1]}}tag(n){let e=this.rules.inline.tag.exec(n);if(e)return!this.lexer.state.inLink&&this.rules.other.startATag.test(e[0])?this.lexer.state.inLink=!0:this.lexer.state.inLink&&this.rules.other.endATag.test(e[0])&&(this.lexer.state.inLink=!1),!this.lexer.state.inRawBlock&&this.rules.other.startPreScriptTag.test(e[0])?this.lexer.state.inRawBlock=!0:this.lexer.state.inRawBlock&&this.rules.other.endPreScriptTag.test(e[0])&&(this.lexer.state.inRawBlock=!1),{type:"html",raw:e[0],inLink:this.lexer.state.inLink,inRawBlock:this.lexer.state.inRawBlock,block:!1,text:e[0]}}link(n){let e=this.rules.inline.link.exec(n);if(e){let t=e[2].trim();if(!this.options.pedantic&&this.rules.other.startAngleBracket.test(t)){if(!this.rules.other.endAngleBracket.test(t))return;let o=Hl(t.slice(0,-1),"\\");if((t.length-o.length)%2===0)return}else{let o=C2(e[2],"()");if(o===-2)return;if(o>-1){let a=(e[0].indexOf("!")===0?5:4)+e[1].length+o;e[2]=e[2].substring(0,o),e[0]=e[0].substring(0,a).trim(),e[3]=""}}let r=e[2],i="";if(this.options.pedantic){let o=this.rules.other.pedanticHrefTitle.exec(r);o&&(r=o[1],i=o[3])}else i=e[3]?e[3].slice(1,-1):"";return r=r.trim(),this.rules.other.startAngleBracket.test(r)&&(this.options.pedantic&&!this.rules.other.endAngleBracket.test(t)?r=r.slice(1):r=r.slice(1,-1)),yD(e,{href:r&&r.replace(this.rules.inline.anyPunctuation,"$1"),title:i&&i.replace(this.rules.inline.anyPunctuation,"$1")},e[0],this.lexer,this.rules)}}reflink(n,e){let t;if((t=this.rules.inline.reflink.exec(n))||(t=this.rules.inline.nolink.exec(n))){let r=(t[2]||t[1]).replace(this.rules.other.multipleSpaceGlobal," "),i=e[r.toLowerCase()];if(!i){let o=t[0].charAt(0);return{type:"text",raw:o,text:o}}return yD(t,i,t[0],this.lexer,this.rules)}}emStrong(n,e,t=""){let r=this.rules.inline.emStrongLDelim.exec(n);if(!r||r[3]&&t.match(this.rules.other.unicodeAlphaNumeric))return;if(!(r[1]||r[2]||"")||!t||this.rules.inline.punctuation.exec(t)){let o=[...r[0]].length-1,s,a,l=o,c=0,u=r[0][0]==="*"?this.rules.inline.emStrongRDelimAst:this.rules.inline.emStrongRDelimUnd;for(u.lastIndex=0,e=e.slice(-1*n.length+o);(r=u.exec(e))!=null;){if(s=r[1]||r[2]||r[3]||r[4]||r[5]||r[6],!s)continue;if(a=[...s].length,r[3]||r[4]){l+=a;continue}else if((r[5]||r[6])&&o%3&&!((o+a)%3)){c+=a;continue}if(l-=a,l>0)continue;a=Math.min(a,a+l+c);let d=[...r[0]][0].length,p=n.slice(0,o+r.index+d+a);if(Math.min(o,a)%2){let h=p.slice(1,-1);return{type:"em",raw:p,text:h,tokens:this.lexer.inlineTokens(h)}}let f=p.slice(2,-2);return{type:"strong",raw:p,text:f,tokens:this.lexer.inlineTokens(f)}}}}codespan(n){let e=this.rules.inline.code.exec(n);if(e){let t=e[2].replace(this.rules.other.newLineCharGlobal," "),r=this.rules.other.nonSpaceChar.test(t),i=this.rules.other.startingSpaceChar.test(t)&&this.rules.other.endingSpaceChar.test(t);return r&&i&&(t=t.substring(1,t.length-1)),{type:"codespan",raw:e[0],text:t}}}br(n){let e=this.rules.inline.br.exec(n);if(e)return{type:"br",raw:e[0]}}del(n){let e=this.rules.inline.del.exec(n);if(e)return{type:"del",raw:e[0],text:e[2],tokens:this.lexer.inlineTokens(e[2])}}autolink(n){let e=this.rules.inline.autolink.exec(n);if(e){let t,r;return e[2]==="@"?(t=e[1],r="mailto:"+t):(t=e[1],r=t),{type:"link",raw:e[0],text:t,href:r,tokens:[{type:"text",raw:t,text:t}]}}}url(n){let e;if(e=this.rules.inline.url.exec(n)){let t,r;if(e[2]==="@")t=e[0],r="mailto:"+t;else{let i;do i=e[0],e[0]=this.rules.inline._backpedal.exec(e[0])?.[0]??"";while(i!==e[0]);t=e[0],e[1]==="www."?r="http://"+e[0]:r=e[0]}return{type:"link",raw:e[0],text:t,href:r,tokens:[{type:"text",raw:t,text:t}]}}}inlineText(n){let e=this.rules.inline.text.exec(n);if(e){let t=this.lexer.state.inRawBlock;return{type:"text",raw:e[0],text:e[0],escaped:t}}}},ti=class Zv{tokens;options;state;tokenizer;inlineQueue;constructor(e){this.tokens=[],this.tokens.links=Object.create(null),this.options=e||Ao,this.options.tokenizer=this.options.tokenizer||new If,this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options,this.tokenizer.lexer=this,this.inlineQueue=[],this.state={inLink:!1,inRawBlock:!1,top:!0};let t={other:Qt,block:wf.normal,inline:$l.normal};this.options.pedantic?(t.block=wf.pedantic,t.inline=$l.pedantic):this.options.gfm&&(t.block=wf.gfm,this.options.breaks?t.inline=$l.breaks:t.inline=$l.gfm),this.tokenizer.rules=t}static get rules(){return{block:wf,inline:$l}}static lex(e,t){return new Zv(t).lex(e)}static lexInline(e,t){return new Zv(t).inlineTokens(e)}lex(e){e=e.replace(Qt.carriageReturn,`
`),this.blockTokens(e,this.tokens);for(let t=0;t<this.inlineQueue.length;t++){let r=this.inlineQueue[t];this.inlineTokens(r.src,r.tokens)}return this.inlineQueue=[],this.tokens}blockTokens(e,t=[],r=!1){for(this.options.pedantic&&(e=e.replace(Qt.tabCharGlobal,"    ").replace(Qt.spaceLine,""));e;){let i;if(this.options.extensions?.block?.some(s=>(i=s.call({lexer:this},e,t))?(e=e.substring(i.raw.length),t.push(i),!0):!1))continue;if(i=this.tokenizer.space(e)){e=e.substring(i.raw.length);let s=t.at(-1);i.raw.length===1&&s!==void 0?s.raw+=`
`:t.push(i);continue}if(i=this.tokenizer.code(e)){e=e.substring(i.raw.length);let s=t.at(-1);s?.type==="paragraph"||s?.type==="text"?(s.raw+=`
`+i.raw,s.text+=`
`+i.text,this.inlineQueue.at(-1).src=s.text):t.push(i);continue}if(i=this.tokenizer.fences(e)){e=e.substring(i.raw.length),t.push(i);continue}if(i=this.tokenizer.heading(e)){e=e.substring(i.raw.length),t.push(i);continue}if(i=this.tokenizer.hr(e)){e=e.substring(i.raw.length),t.push(i);continue}if(i=this.tokenizer.blockquote(e)){e=e.substring(i.raw.length),t.push(i);continue}if(i=this.tokenizer.list(e)){e=e.substring(i.raw.length),t.push(i);continue}if(i=this.tokenizer.html(e)){e=e.substring(i.raw.length),t.push(i);continue}if(i=this.tokenizer.def(e)){e=e.substring(i.raw.length);let s=t.at(-1);s?.type==="paragraph"||s?.type==="text"?(s.raw+=`
`+i.raw,s.text+=`
`+i.raw,this.inlineQueue.at(-1).src=s.text):this.tokens.links[i.tag]||(this.tokens.links[i.tag]={href:i.href,title:i.title});continue}if(i=this.tokenizer.table(e)){e=e.substring(i.raw.length),t.push(i);continue}if(i=this.tokenizer.lheading(e)){e=e.substring(i.raw.length),t.push(i);continue}let o=e;if(this.options.extensions?.startBlock){let s=1/0,a=e.slice(1),l;this.options.extensions.startBlock.forEach(c=>{l=c.call({lexer:this},a),typeof l=="number"&&l>=0&&(s=Math.min(s,l))}),s<1/0&&s>=0&&(o=e.substring(0,s+1))}if(this.state.top&&(i=this.tokenizer.paragraph(o))){let s=t.at(-1);r&&s?.type==="paragraph"?(s.raw+=`
`+i.raw,s.text+=`
`+i.text,this.inlineQueue.pop(),this.inlineQueue.at(-1).src=s.text):t.push(i),r=o.length!==e.length,e=e.substring(i.raw.length);continue}if(i=this.tokenizer.text(e)){e=e.substring(i.raw.length);let s=t.at(-1);s?.type==="text"?(s.raw+=`
`+i.raw,s.text+=`
`+i.text,this.inlineQueue.pop(),this.inlineQueue.at(-1).src=s.text):t.push(i);continue}if(e){let s="Infinite loop on byte: "+e.charCodeAt(0);if(this.options.silent){console.error(s);break}else throw new Error(s)}}return this.state.top=!0,t}inline(e,t=[]){return this.inlineQueue.push({src:e,tokens:t}),t}inlineTokens(e,t=[]){let r=e,i=null;if(this.tokens.links){let a=Object.keys(this.tokens.links);if(a.length>0)for(;(i=this.tokenizer.rules.inline.reflinkSearch.exec(r))!=null;)a.includes(i[0].slice(i[0].lastIndexOf("[")+1,-1))&&(r=r.slice(0,i.index)+"["+"a".repeat(i[0].length-2)+"]"+r.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))}for(;(i=this.tokenizer.rules.inline.anyPunctuation.exec(r))!=null;)r=r.slice(0,i.index)+"++"+r.slice(this.tokenizer.rules.inline.anyPunctuation.lastIndex);for(;(i=this.tokenizer.rules.inline.blockSkip.exec(r))!=null;)r=r.slice(0,i.index)+"["+"a".repeat(i[0].length-2)+"]"+r.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);let o=!1,s="";for(;e;){o||(s=""),o=!1;let a;if(this.options.extensions?.inline?.some(c=>(a=c.call({lexer:this},e,t))?(e=e.substring(a.raw.length),t.push(a),!0):!1))continue;if(a=this.tokenizer.escape(e)){e=e.substring(a.raw.length),t.push(a);continue}if(a=this.tokenizer.tag(e)){e=e.substring(a.raw.length),t.push(a);continue}if(a=this.tokenizer.link(e)){e=e.substring(a.raw.length),t.push(a);continue}if(a=this.tokenizer.reflink(e,this.tokens.links)){e=e.substring(a.raw.length);let c=t.at(-1);a.type==="text"&&c?.type==="text"?(c.raw+=a.raw,c.text+=a.text):t.push(a);continue}if(a=this.tokenizer.emStrong(e,r,s)){e=e.substring(a.raw.length),t.push(a);continue}if(a=this.tokenizer.codespan(e)){e=e.substring(a.raw.length),t.push(a);continue}if(a=this.tokenizer.br(e)){e=e.substring(a.raw.length),t.push(a);continue}if(a=this.tokenizer.del(e)){e=e.substring(a.raw.length),t.push(a);continue}if(a=this.tokenizer.autolink(e)){e=e.substring(a.raw.length),t.push(a);continue}if(!this.state.inLink&&(a=this.tokenizer.url(e))){e=e.substring(a.raw.length),t.push(a);continue}let l=e;if(this.options.extensions?.startInline){let c=1/0,u=e.slice(1),d;this.options.extensions.startInline.forEach(p=>{d=p.call({lexer:this},u),typeof d=="number"&&d>=0&&(c=Math.min(c,d))}),c<1/0&&c>=0&&(l=e.substring(0,c+1))}if(a=this.tokenizer.inlineText(l)){e=e.substring(a.raw.length),a.raw.slice(-1)!=="_"&&(s=a.raw.slice(-1)),o=!0;let c=t.at(-1);c?.type==="text"?(c.raw+=a.raw,c.text+=a.text):t.push(a);continue}if(e){let c="Infinite loop on byte: "+e.charCodeAt(0);if(this.options.silent){console.error(c);break}else throw new Error(c)}}return t}},Df=class{options;parser;constructor(n){this.options=n||Ao}space(n){return""}code({text:n,lang:e,escaped:t}){let r=(e||"").match(Qt.notSpaceStart)?.[0],i=n.replace(Qt.endingNewline,"")+`
`;return r?'<pre><code class="language-'+br(r)+'">'+(t?i:br(i,!0))+`</code></pre>
`:"<pre><code>"+(t?i:br(i,!0))+`</code></pre>
`}blockquote({tokens:n}){return`<blockquote>
${this.parser.parse(n)}</blockquote>
`}html({text:n}){return n}heading({tokens:n,depth:e}){return`<h${e}>${this.parser.parseInline(n)}</h${e}>
`}hr(n){return`<hr>
`}list(n){let e=n.ordered,t=n.start,r="";for(let s=0;s<n.items.length;s++){let a=n.items[s];r+=this.listitem(a)}let i=e?"ol":"ul",o=e&&t!==1?' start="'+t+'"':"";return"<"+i+o+`>
`+r+"</"+i+`>
`}listitem(n){let e="";if(n.task){let t=this.checkbox({checked:!!n.checked});n.loose?n.tokens[0]?.type==="paragraph"?(n.tokens[0].text=t+" "+n.tokens[0].text,n.tokens[0].tokens&&n.tokens[0].tokens.length>0&&n.tokens[0].tokens[0].type==="text"&&(n.tokens[0].tokens[0].text=t+" "+br(n.tokens[0].tokens[0].text),n.tokens[0].tokens[0].escaped=!0)):n.tokens.unshift({type:"text",raw:t+" ",text:t+" ",escaped:!0}):e+=t+" "}return e+=this.parser.parse(n.tokens,!!n.loose),`<li>${e}</li>
`}checkbox({checked:n}){return"<input "+(n?'checked="" ':"")+'disabled="" type="checkbox">'}paragraph({tokens:n}){return`<p>${this.parser.parseInline(n)}</p>
`}table(n){let e="",t="";for(let i=0;i<n.header.length;i++)t+=this.tablecell(n.header[i]);e+=this.tablerow({text:t});let r="";for(let i=0;i<n.rows.length;i++){let o=n.rows[i];t="";for(let s=0;s<o.length;s++)t+=this.tablecell(o[s]);r+=this.tablerow({text:t})}return r&&(r=`<tbody>${r}</tbody>`),`<table>
<thead>
`+e+`</thead>
`+r+`</table>
`}tablerow({text:n}){return`<tr>
${n}</tr>
`}tablecell(n){let e=this.parser.parseInline(n.tokens),t=n.header?"th":"td";return(n.align?`<${t} align="${n.align}">`:`<${t}>`)+e+`</${t}>
`}strong({tokens:n}){return`<strong>${this.parser.parseInline(n)}</strong>`}em({tokens:n}){return`<em>${this.parser.parseInline(n)}</em>`}codespan({text:n}){return`<code>${br(n,!0)}</code>`}br(n){return"<br>"}del({tokens:n}){return`<del>${this.parser.parseInline(n)}</del>`}link({href:n,title:e,tokens:t}){let r=this.parser.parseInline(t),i=gD(n);if(i===null)return r;n=i;let o='<a href="'+n+'"';return e&&(o+=' title="'+br(e)+'"'),o+=">"+r+"</a>",o}image({href:n,title:e,text:t,tokens:r}){r&&(t=this.parser.parseInline(r,this.parser.textRenderer));let i=gD(n);if(i===null)return br(t);n=i;let o=`<img src="${n}" alt="${t}"`;return e&&(o+=` title="${br(e)}"`),o+=">",o}text(n){return"tokens"in n&&n.tokens?this.parser.parseInline(n.tokens):"escaped"in n&&n.escaped?n.text:br(n.text)}},iy=class{strong({text:n}){return n}em({text:n}){return n}codespan({text:n}){return n}del({text:n}){return n}html({text:n}){return n}text({text:n}){return n}link({text:n}){return""+n}image({text:n}){return""+n}br(){return""}},ni=class Yv{options;renderer;textRenderer;constructor(e){this.options=e||Ao,this.options.renderer=this.options.renderer||new Df,this.renderer=this.options.renderer,this.renderer.options=this.options,this.renderer.parser=this,this.textRenderer=new iy}static parse(e,t){return new Yv(t).parse(e)}static parseInline(e,t){return new Yv(t).parseInline(e)}parse(e,t=!0){let r="";for(let i=0;i<e.length;i++){let o=e[i];if(this.options.extensions?.renderers?.[o.type]){let a=o,l=this.options.extensions.renderers[a.type].call({parser:this},a);if(l!==!1||!["space","hr","heading","code","table","blockquote","list","html","paragraph","text"].includes(a.type)){r+=l||"";continue}}let s=o;switch(s.type){case"space":{r+=this.renderer.space(s);continue}case"hr":{r+=this.renderer.hr(s);continue}case"heading":{r+=this.renderer.heading(s);continue}case"code":{r+=this.renderer.code(s);continue}case"table":{r+=this.renderer.table(s);continue}case"blockquote":{r+=this.renderer.blockquote(s);continue}case"list":{r+=this.renderer.list(s);continue}case"html":{r+=this.renderer.html(s);continue}case"paragraph":{r+=this.renderer.paragraph(s);continue}case"text":{let a=s,l=this.renderer.text(a);for(;i+1<e.length&&e[i+1].type==="text";)a=e[++i],l+=`
`+this.renderer.text(a);t?r+=this.renderer.paragraph({type:"paragraph",raw:l,text:l,tokens:[{type:"text",raw:l,text:l,escaped:!0}]}):r+=l;continue}default:{let a='Token with "'+s.type+'" type was not found.';if(this.options.silent)return console.error(a),"";throw new Error(a)}}}return r}parseInline(e,t=this.renderer){let r="";for(let i=0;i<e.length;i++){let o=e[i];if(this.options.extensions?.renderers?.[o.type]){let a=this.options.extensions.renderers[o.type].call({parser:this},o);if(a!==!1||!["escape","html","link","image","strong","em","codespan","br","del","text"].includes(o.type)){r+=a||"";continue}}let s=o;switch(s.type){case"escape":{r+=t.text(s);break}case"html":{r+=t.html(s);break}case"link":{r+=t.link(s);break}case"image":{r+=t.image(s);break}case"strong":{r+=t.strong(s);break}case"em":{r+=t.em(s);break}case"codespan":{r+=t.codespan(s);break}case"br":{r+=t.br(s);break}case"del":{r+=t.del(s);break}case"text":{r+=t.text(s);break}default:{let a='Token with "'+s.type+'" type was not found.';if(this.options.silent)return console.error(a),"";throw new Error(a)}}}return r}},Cf=class{options;block;constructor(e){this.options=e||Ao}static passThroughHooks=new Set(["preprocess","postprocess","processAllTokens"]);preprocess(e){return e}postprocess(e){return e}processAllTokens(e){return e}provideLexer(){return this.block?ti.lex:ti.lexInline}provideParser(){return this.block?ni.parse:ni.parseInline}},I2=class{defaults=Jv();options=this.setOptions;parse=this.parseMarkdown(!0);parseInline=this.parseMarkdown(!1);Parser=ni;Renderer=Df;TextRenderer=iy;Lexer=ti;Tokenizer=If;Hooks=Cf;constructor(...n){this.use(...n)}walkTokens(n,e){let t=[];for(let r of n)switch(t=t.concat(e.call(this,r)),r.type){case"table":{let i=r;for(let o of i.header)t=t.concat(this.walkTokens(o.tokens,e));for(let o of i.rows)for(let s of o)t=t.concat(this.walkTokens(s.tokens,e));break}case"list":{let i=r;t=t.concat(this.walkTokens(i.items,e));break}default:{let i=r;this.defaults.extensions?.childTokens?.[i.type]?this.defaults.extensions.childTokens[i.type].forEach(o=>{let s=i[o].flat(1/0);t=t.concat(this.walkTokens(s,e))}):i.tokens&&(t=t.concat(this.walkTokens(i.tokens,e)))}}return t}use(...n){let e=this.defaults.extensions||{renderers:{},childTokens:{}};return n.forEach(t=>{let r=T({},t);if(r.async=this.defaults.async||r.async||!1,t.extensions&&(t.extensions.forEach(i=>{if(!i.name)throw new Error("extension name required");if("renderer"in i){let o=e.renderers[i.name];o?e.renderers[i.name]=function(...s){let a=i.renderer.apply(this,s);return a===!1&&(a=o.apply(this,s)),a}:e.renderers[i.name]=i.renderer}if("tokenizer"in i){if(!i.level||i.level!=="block"&&i.level!=="inline")throw new Error("extension level must be 'block' or 'inline'");let o=e[i.level];o?o.unshift(i.tokenizer):e[i.level]=[i.tokenizer],i.start&&(i.level==="block"?e.startBlock?e.startBlock.push(i.start):e.startBlock=[i.start]:i.level==="inline"&&(e.startInline?e.startInline.push(i.start):e.startInline=[i.start]))}"childTokens"in i&&i.childTokens&&(e.childTokens[i.name]=i.childTokens)}),r.extensions=e),t.renderer){let i=this.defaults.renderer||new Df(this.defaults);for(let o in t.renderer){if(!(o in i))throw new Error(`renderer '${o}' does not exist`);if(["options","parser"].includes(o))continue;let s=o,a=t.renderer[s],l=i[s];i[s]=(...c)=>{let u=a.apply(i,c);return u===!1&&(u=l.apply(i,c)),u||""}}r.renderer=i}if(t.tokenizer){let i=this.defaults.tokenizer||new If(this.defaults);for(let o in t.tokenizer){if(!(o in i))throw new Error(`tokenizer '${o}' does not exist`);if(["options","rules","lexer"].includes(o))continue;let s=o,a=t.tokenizer[s],l=i[s];i[s]=(...c)=>{let u=a.apply(i,c);return u===!1&&(u=l.apply(i,c)),u}}r.tokenizer=i}if(t.hooks){let i=this.defaults.hooks||new Cf;for(let o in t.hooks){if(!(o in i))throw new Error(`hook '${o}' does not exist`);if(["options","block"].includes(o))continue;let s=o,a=t.hooks[s],l=i[s];Cf.passThroughHooks.has(o)?i[s]=c=>{if(this.defaults.async)return Promise.resolve(a.call(i,c)).then(d=>l.call(i,d));let u=a.call(i,c);return l.call(i,u)}:i[s]=(...c)=>{let u=a.apply(i,c);return u===!1&&(u=l.apply(i,c)),u}}r.hooks=i}if(t.walkTokens){let i=this.defaults.walkTokens,o=t.walkTokens;r.walkTokens=function(s){let a=[];return a.push(o.call(this,s)),i&&(a=a.concat(i.call(this,s))),a}}this.defaults=T(T({},this.defaults),r)}),this}setOptions(n){return this.defaults=T(T({},this.defaults),n),this}lexer(n,e){return ti.lex(n,e??this.defaults)}parser(n,e){return ni.parse(n,e??this.defaults)}parseMarkdown(n){return(t,r)=>{let i=T({},r),o=T(T({},this.defaults),i),s=this.onError(!!o.silent,!!o.async);if(this.defaults.async===!0&&i.async===!1)return s(new Error("marked(): The async option was set to true by an extension. Remove async: false from the parse options object to return a Promise."));if(typeof t>"u"||t===null)return s(new Error("marked(): input parameter is undefined or null"));if(typeof t!="string")return s(new Error("marked(): input parameter is of type "+Object.prototype.toString.call(t)+", string expected"));o.hooks&&(o.hooks.options=o,o.hooks.block=n);let a=o.hooks?o.hooks.provideLexer():n?ti.lex:ti.lexInline,l=o.hooks?o.hooks.provideParser():n?ni.parse:ni.parseInline;if(o.async)return Promise.resolve(o.hooks?o.hooks.preprocess(t):t).then(c=>a(c,o)).then(c=>o.hooks?o.hooks.processAllTokens(c):c).then(c=>o.walkTokens?Promise.all(this.walkTokens(c,o.walkTokens)).then(()=>c):c).then(c=>l(c,o)).then(c=>o.hooks?o.hooks.postprocess(c):c).catch(s);try{o.hooks&&(t=o.hooks.preprocess(t));let c=a(t,o);o.hooks&&(c=o.hooks.processAllTokens(c)),o.walkTokens&&this.walkTokens(c,o.walkTokens);let u=l(c,o);return o.hooks&&(u=o.hooks.postprocess(u)),u}catch(c){return s(c)}}}onError(n,e){return t=>{if(t.message+=`
Please report this to https://github.com/markedjs/marked.`,n){let r="<p>An error occurred:</p><pre>"+br(t.message+"",!0)+"</pre>";return e?Promise.resolve(r):r}if(e)return Promise.reject(t);throw t}}},Mo=new I2;function Le(n,e){return Mo.parse(n,e)}Le.options=Le.setOptions=function(n){return Mo.setOptions(n),Le.defaults=Mo.defaults,_D(Le.defaults),Le};Le.getDefaults=Jv;Le.defaults=Ao;Le.use=function(...n){return Mo.use(...n),Le.defaults=Mo.defaults,_D(Le.defaults),Le};Le.walkTokens=function(n,e){return Mo.walkTokens(n,e)};Le.parseInline=Mo.parseInline;Le.Parser=ni;Le.parser=ni.parse;Le.Renderer=Df;Le.TextRenderer=iy;Le.Lexer=ti;Le.lexer=ti.lex;Le.Tokenizer=If;Le.Hooks=Cf;Le.parse=Le;var jY=Le.options,BY=Le.setOptions,UY=Le.use,$Y=Le.walkTokens,HY=Le.parseInline,Gs=Le,zY=ni.parse,GY=ti.lex;var jD=(()=>{class n{_renderer;_elementRef;onChange=t=>{};onTouched=()=>{};constructor(t,r){this._renderer=t,this._elementRef=r}setProperty(t,r){this._renderer.setProperty(this._elementRef.nativeElement,t,r)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}static \u0275fac=function(r){return new(r||n)(I(pn),I(tt))};static \u0275dir=he({type:n})}return n})(),Ys=(()=>{class n extends jD{static \u0275fac=(()=>{let t;return function(i){return(t||(t=Gn(n)))(i||n)}})();static \u0275dir=he({type:n,features:[lt]})}return n})(),Ri=new B(""),D2={provide:Ri,useExisting:Mt(()=>Ql),multi:!0},Ql=(()=>{class n extends Ys{writeValue(t){this.setProperty("checked",t)}static \u0275fac=(()=>{let t;return function(i){return(t||(t=Gn(n)))(i||n)}})();static \u0275dir=he({type:n,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(r,i){r&1&&M("change",function(s){return i.onChange(s.target.checked)})("blur",function(){return i.onTouched()})},standalone:!1,features:[_t([D2]),lt]})}return n})(),S2={provide:Ri,useExisting:Mt(()=>Rn),multi:!0};function T2(){let n=Mn()?Mn().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}var x2=new B(""),Rn=(()=>{class n extends jD{_compositionMode;_composing=!1;constructor(t,r,i){super(t,r),this._compositionMode=i,this._compositionMode==null&&(this._compositionMode=!T2())}writeValue(t){let r=t??"";this.setProperty("value",r)}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}static \u0275fac=function(r){return new(r||n)(I(pn),I(tt),I(x2,8))};static \u0275dir=he({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(r,i){r&1&&M("input",function(s){return i._handleInput(s.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(s){return i._compositionEnd(s.target.value)})},standalone:!1,features:[_t([S2]),lt]})}return n})();function fy(n){return n==null||hy(n)===0}function hy(n){return n==null?null:Array.isArray(n)||typeof n=="string"?n.length:n instanceof Set?n.size:null}var Js=new B(""),Kl=new B(""),M2=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,Ot=class{static min(e){return A2(e)}static max(e){return R2(e)}static required(e){return BD(e)}static requiredTrue(e){return O2(e)}static email(e){return k2(e)}static minLength(e){return N2(e)}static maxLength(e){return F2(e)}static pattern(e){return P2(e)}static nullValidator(e){return Mf()}static compose(e){return qD(e)}static composeAsync(e){return ZD(e)}};function A2(n){return e=>{if(e.value==null||n==null)return null;let t=parseFloat(e.value);return!isNaN(t)&&t<n?{min:{min:n,actual:e.value}}:null}}function R2(n){return e=>{if(e.value==null||n==null)return null;let t=parseFloat(e.value);return!isNaN(t)&&t>n?{max:{max:n,actual:e.value}}:null}}function BD(n){return fy(n.value)?{required:!0}:null}function O2(n){return n.value===!0?null:{required:!0}}function k2(n){return fy(n.value)||M2.test(n.value)?null:{email:!0}}function N2(n){return e=>{let t=e.value?.length??hy(e.value);return t===null||t===0?null:t<n?{minlength:{requiredLength:n,actualLength:t}}:null}}function F2(n){return e=>{let t=e.value?.length??hy(e.value);return t!==null&&t>n?{maxlength:{requiredLength:n,actualLength:t}}:null}}function P2(n){if(!n)return Mf;let e,t;return typeof n=="string"?(t="",n.charAt(0)!=="^"&&(t+="^"),t+=n,n.charAt(n.length-1)!=="$"&&(t+="$"),e=new RegExp(t)):(t=n.toString(),e=n),r=>{if(fy(r.value))return null;let i=r.value;return e.test(i)?null:{pattern:{requiredPattern:t,actualValue:i}}}}function Mf(n){return null}function UD(n){return n!=null}function $D(n){return bi(n)?He(n):n}function HD(n){let e={};return n.forEach(t=>{e=t!=null?T(T({},e),t):e}),Object.keys(e).length===0?null:e}function zD(n,e){return e.map(t=>t(n))}function L2(n){return!n.validate}function GD(n){return n.map(e=>L2(e)?e:t=>e.validate(t))}function qD(n){if(!n)return null;let e=n.filter(UD);return e.length==0?null:function(t){return HD(zD(t,e))}}function WD(n){return n!=null?qD(GD(n)):null}function ZD(n){if(!n)return null;let e=n.filter(UD);return e.length==0?null:function(t){let r=zD(t,e).map($D);return ka(r).pipe(J(HD))}}function YD(n){return n!=null?ZD(GD(n)):null}function AD(n,e){return n===null?[e]:Array.isArray(n)?[...n,e]:[n,e]}function JD(n){return n._rawValidators}function QD(n){return n._rawAsyncValidators}function sy(n){return n?Array.isArray(n)?n:[n]:[]}function Af(n,e){return Array.isArray(n)?n.includes(e):n===e}function RD(n,e){let t=sy(e);return sy(n).forEach(i=>{Af(t,i)||t.push(i)}),t}function OD(n,e){return sy(e).filter(t=>!Af(n,t))}var Rf=class{get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators=[];_rawAsyncValidators=[];_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=WD(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=YD(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_onDestroyCallbacks=[];_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,t){return this.control?this.control.hasError(e,t):!1}getError(e,t){return this.control?this.control.getError(e,t):null}},_n=class extends Rf{name;get formDirective(){return null}get path(){return null}},Mi=class extends Rf{_parent=null;name=null;valueAccessor=null},Of=class{_cd;constructor(e){this._cd=e}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}},V2={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},hJ=X(T({},V2),{"[class.ng-submitted]":"isSubmitted"}),wr=(()=>{class n extends Of{constructor(t){super(t)}static \u0275fac=function(r){return new(r||n)(I(Mi,2))};static \u0275dir=he({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(r,i){r&2&&Qr("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)},standalone:!1,features:[lt]})}return n})(),Qs=(()=>{class n extends Of{constructor(t){super(t)}static \u0275fac=function(r){return new(r||n)(I(_n,10))};static \u0275dir=he({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(r,i){r&2&&Qr("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)("ng-submitted",i.isSubmitted)},standalone:!1,features:[lt]})}return n})();var ql="VALID",xf="INVALID",qs="PENDING",Wl="DISABLED",Ai=class{},kf=class extends Ai{value;source;constructor(e,t){super(),this.value=e,this.source=t}},Zl=class extends Ai{pristine;source;constructor(e,t){super(),this.pristine=e,this.source=t}},Yl=class extends Ai{touched;source;constructor(e,t){super(),this.touched=e,this.source=t}},Ws=class extends Ai{status;source;constructor(e,t){super(),this.status=e,this.source=t}},ay=class extends Ai{source;constructor(e){super(),this.source=e}},ly=class extends Ai{source;constructor(e){super(),this.source=e}};function py(n){return(Lf(n)?n.validators:n)||null}function j2(n){return Array.isArray(n)?WD(n):n||null}function my(n,e){return(Lf(e)?e.asyncValidators:n)||null}function B2(n){return Array.isArray(n)?YD(n):n||null}function Lf(n){return n!=null&&!Array.isArray(n)&&typeof n=="object"}function KD(n,e,t){let r=n.controls;if(!(e?Object.keys(r):r).length)throw new V(1e3,"");if(!r[t])throw new V(1001,"")}function XD(n,e,t){n._forEachChild((r,i)=>{if(t[i]===void 0)throw new V(1002,"")})}var Zs=class{_pendingDirty=!1;_hasOwnPendingAsyncValidator=null;_pendingTouched=!1;_onCollectionChange=()=>{};_updateOn;_parent=null;_asyncValidationSubscription;_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators;_rawAsyncValidators;value;constructor(e,t){this._assignValidators(e),this._assignAsyncValidators(t)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get status(){return Zn(this.statusReactive)}set status(e){Zn(()=>this.statusReactive.set(e))}_status=sl(()=>this.statusReactive());statusReactive=Tn(void 0);get valid(){return this.status===ql}get invalid(){return this.status===xf}get pending(){return this.status==qs}get disabled(){return this.status===Wl}get enabled(){return this.status!==Wl}errors;get pristine(){return Zn(this.pristineReactive)}set pristine(e){Zn(()=>this.pristineReactive.set(e))}_pristine=sl(()=>this.pristineReactive());pristineReactive=Tn(!0);get dirty(){return!this.pristine}get touched(){return Zn(this.touchedReactive)}set touched(e){Zn(()=>this.touchedReactive.set(e))}_touched=sl(()=>this.touchedReactive());touchedReactive=Tn(!1);get untouched(){return!this.touched}_events=new ie;events=this._events.asObservable();valueChanges;statusChanges;get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(RD(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(RD(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(OD(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(OD(e,this._rawAsyncValidators))}hasValidator(e){return Af(this._rawValidators,e)}hasAsyncValidator(e){return Af(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){let t=this.touched===!1;this.touched=!0;let r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsTouched(X(T({},e),{sourceControl:r})),t&&e.emitEvent!==!1&&this._events.next(new Yl(!0,r))}markAllAsTouched(e={}){this.markAsTouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:this}),this._forEachChild(t=>t.markAllAsTouched(e))}markAsUntouched(e={}){let t=this.touched===!0;this.touched=!1,this._pendingTouched=!1;let r=e.sourceControl??this;this._forEachChild(i=>{i.markAsUntouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:r})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,r),t&&e.emitEvent!==!1&&this._events.next(new Yl(!1,r))}markAsDirty(e={}){let t=this.pristine===!0;this.pristine=!1;let r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsDirty(X(T({},e),{sourceControl:r})),t&&e.emitEvent!==!1&&this._events.next(new Zl(!1,r))}markAsPristine(e={}){let t=this.pristine===!1;this.pristine=!0,this._pendingDirty=!1;let r=e.sourceControl??this;this._forEachChild(i=>{i.markAsPristine({onlySelf:!0,emitEvent:e.emitEvent})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e,r),t&&e.emitEvent!==!1&&this._events.next(new Zl(!0,r))}markAsPending(e={}){this.status=qs;let t=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new Ws(this.status,t)),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.markAsPending(X(T({},e),{sourceControl:t}))}disable(e={}){let t=this._parentMarkedDirty(e.onlySelf);this.status=Wl,this.errors=null,this._forEachChild(i=>{i.disable(X(T({},e),{onlySelf:!0}))}),this._updateValue();let r=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new kf(this.value,r)),this._events.next(new Ws(this.status,r)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(X(T({},e),{skipPristineCheck:t}),this),this._onDisabledChange.forEach(i=>i(!0))}enable(e={}){let t=this._parentMarkedDirty(e.onlySelf);this.status=ql,this._forEachChild(r=>{r.enable(X(T({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(X(T({},e),{skipPristineCheck:t}),this),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e,t){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine({},t),this._parent._updateTouched({},t))}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){let r=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===ql||this.status===qs)&&this._runAsyncValidator(r,e.emitEvent)}let t=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new kf(this.value,t)),this._events.next(new Ws(this.status,t)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(X(T({},e),{sourceControl:t}))}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Wl:ql}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e,t){if(this.asyncValidator){this.status=qs,this._hasOwnPendingAsyncValidator={emitEvent:t!==!1};let r=$D(this.asyncValidator(this));this._asyncValidationSubscription=r.subscribe(i=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(i,{emitEvent:t,shouldHaveEmitted:e})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();let e=this._hasOwnPendingAsyncValidator?.emitEvent??!1;return this._hasOwnPendingAsyncValidator=null,e}return!1}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(t.emitEvent!==!1,this,t.shouldHaveEmitted)}get(e){let t=e;return t==null||(Array.isArray(t)||(t=t.split(".")),t.length===0)?null:t.reduce((r,i)=>r&&r._find(i),this)}getError(e,t){let r=t?this.get(t):this;return r&&r.errors?r.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e,t,r){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),(e||r)&&this._events.next(new Ws(this.status,t)),this._parent&&this._parent._updateControlsErrors(e,t,r)}_initObservables(){this.valueChanges=new Re,this.statusChanges=new Re}_calculateStatus(){return this._allControlsDisabled()?Wl:this.errors?xf:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(qs)?qs:this._anyControlsHaveStatus(xf)?xf:ql}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e,t){let r=!this._anyControlsDirty(),i=this.pristine!==r;this.pristine=r,this._parent&&!e.onlySelf&&this._parent._updatePristine(e,t),i&&this._events.next(new Zl(this.pristine,t))}_updateTouched(e={},t){this.touched=this._anyControlsTouched(),this._events.next(new Yl(this.touched,t)),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,t)}_onDisabledChange=[];_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){Lf(e)&&e.updateOn!=null&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){let t=this._parent&&this._parent.dirty;return!e&&!!t&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=j2(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=B2(this._rawAsyncValidators)}},Nf=class extends Zs{constructor(e,t,r){super(py(t),my(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}controls;registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,r={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){XD(this,!0,e),Object.keys(e).forEach(r=>{KD(this,!0,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){e!=null&&(Object.keys(e).forEach(r=>{let i=this.controls[r];i&&i.patchValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((r,i)=>{r.reset(e?e[i]:null,{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t,this),this._updateTouched(t,this),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,r)=>(e[r]=t.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,r)=>r._syncPendingControls()?!0:t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(t=>{let r=this.controls[t];r&&e(r,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(let[t,r]of Object.entries(this.controls))if(this.contains(t)&&e(r))return!0;return!1}_reduceValue(){let e={};return this._reduceChildren(e,(t,r,i)=>((r.enabled||this.disabled)&&(t[i]=r.value),t))}_reduceChildren(e,t){let r=e;return this._forEachChild((i,o)=>{r=t(r,i,o)}),r}_allControlsDisabled(){for(let e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}};var cy=class extends Nf{};var Xl=new B("",{providedIn:"root",factory:()=>ec}),ec="always";function Vf(n,e){return[...e.path,n]}function uy(n,e,t=ec){gy(n,e),e.valueAccessor.writeValue(n.value),(n.disabled||t==="always")&&e.valueAccessor.setDisabledState?.(n.disabled),$2(n,e),z2(n,e),H2(n,e),U2(n,e)}function kD(n,e,t=!0){let r=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(r),e.valueAccessor.registerOnTouched(r)),Pf(n,e),n&&(e._invokeOnDestroyCallbacks(),n._registerOnCollectionChange(()=>{}))}function Ff(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function U2(n,e){if(e.valueAccessor.setDisabledState){let t=r=>{e.valueAccessor.setDisabledState(r)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}function gy(n,e){let t=JD(n);e.validator!==null?n.setValidators(AD(t,e.validator)):typeof t=="function"&&n.setValidators([t]);let r=QD(n);e.asyncValidator!==null?n.setAsyncValidators(AD(r,e.asyncValidator)):typeof r=="function"&&n.setAsyncValidators([r]);let i=()=>n.updateValueAndValidity();Ff(e._rawValidators,i),Ff(e._rawAsyncValidators,i)}function Pf(n,e){let t=!1;if(n!==null){if(e.validator!==null){let i=JD(n);if(Array.isArray(i)&&i.length>0){let o=i.filter(s=>s!==e.validator);o.length!==i.length&&(t=!0,n.setValidators(o))}}if(e.asyncValidator!==null){let i=QD(n);if(Array.isArray(i)&&i.length>0){let o=i.filter(s=>s!==e.asyncValidator);o.length!==i.length&&(t=!0,n.setAsyncValidators(o))}}}let r=()=>{};return Ff(e._rawValidators,r),Ff(e._rawAsyncValidators,r),t}function $2(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,n.updateOn==="change"&&eS(n,e)})}function H2(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,n.updateOn==="blur"&&n._pendingChange&&eS(n,e),n.updateOn!=="submit"&&n.markAsTouched()})}function eS(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function z2(n,e){let t=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}function G2(n,e){n==null,gy(n,e)}function q2(n,e){return Pf(n,e)}function tS(n,e){if(!n.hasOwnProperty("model"))return!1;let t=n.model;return t.isFirstChange()?!0:!Object.is(e,t.currentValue)}function W2(n){return Object.getPrototypeOf(n.constructor)===Ys}function Z2(n,e){n._syncPendingControls(),e.forEach(t=>{let r=t.control;r.updateOn==="submit"&&r._pendingChange&&(t.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}function nS(n,e){if(!e)return null;Array.isArray(e);let t,r,i;return e.forEach(o=>{o.constructor===Rn?t=o:W2(o)?r=o:i=o}),i||r||t||null}function Y2(n,e){let t=n.indexOf(e);t>-1&&n.splice(t,1)}function ND(n,e){let t=n.indexOf(e);t>-1&&n.splice(t,1)}function FD(n){return typeof n=="object"&&n!==null&&Object.keys(n).length===2&&"value"in n&&"disabled"in n}var Jl=class extends Zs{defaultValue=null;_onChange=[];_pendingValue;_pendingChange=!1;constructor(e=null,t,r){super(py(t),my(r,t)),this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Lf(t)&&(t.nonNullable||t.initialValueIsDefault)&&(FD(e)?this.defaultValue=e.value:this.defaultValue=e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&t.emitModelToViewChange!==!1&&this._onChange.forEach(r=>r(this.value,t.emitViewToModelChange!==!1)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){ND(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){ND(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(e){FD(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};var J2=n=>n instanceof Jl,Q2=(()=>{class n extends _n{_parent;ngOnInit(){this._checkParentType(),this.formDirective.addFormGroup(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormGroup(this)}get control(){return this.formDirective.getFormGroup(this)}get path(){return Vf(this.name==null?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}static \u0275fac=(()=>{let t;return function(i){return(t||(t=Gn(n)))(i||n)}})();static \u0275dir=he({type:n,standalone:!1,features:[lt]})}return n})();var K2={provide:Mi,useExisting:Mt(()=>tc)},PD=Promise.resolve(),tc=(()=>{class n extends Mi{_changeDetectorRef;callSetDisabledState;control=new Jl;static ngAcceptInputType_isDisabled;_registered=!1;viewModel;name="";isDisabled;model;options;update=new Re;constructor(t,r,i,o,s,a){super(),this._changeDetectorRef=s,this.callSetDisabledState=a,this._parent=t,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=nS(this,o)}ngOnChanges(t){if(this._checkForErrors(),!this._registered||"name"in t){if(this._registered&&(this._checkName(),this.formDirective)){let r=t.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in t&&this._updateDisabled(t),tS(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!!(this.options&&this.options.standalone)}_setUpStandalone(){uy(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._checkName()}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(t){PD.then(()=>{this.control.setValue(t,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(t){let r=t.isDisabled.currentValue,i=r!==0&&mn(r);PD.then(()=>{i&&!this.control.disabled?this.control.disable():!i&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(t){return this._parent?Vf(t,this._parent):[t]}static \u0275fac=function(r){return new(r||n)(I(_n,9),I(Js,10),I(Kl,10),I(Ri,10),I(Vt,8),I(Xl,8))};static \u0275dir=he({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"],options:[0,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],standalone:!1,features:[_t([K2]),lt,it]})}return n})();var jf=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275dir=he({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""],standalone:!1})}return n})();var X2={provide:Ri,useExisting:Mt(()=>vy),multi:!0};var eV=(()=>{class n{_accessors=[];add(t,r){this._accessors.push([t,r])}remove(t){for(let r=this._accessors.length-1;r>=0;--r)if(this._accessors[r][1]===t){this._accessors.splice(r,1);return}}select(t){this._accessors.forEach(r=>{this._isSameGroup(r,t)&&r[1]!==t&&r[1].fireUncheck(t.value)})}_isSameGroup(t,r){return t[0].control?t[0]._parent===r._control._parent&&t[1].name===r.name:!1}static \u0275fac=function(r){return new(r||n)};static \u0275prov=O({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),vy=(()=>{class n extends Ys{_registry;_injector;_state;_control;_fn;setDisabledStateFired=!1;onChange=()=>{};name;formControlName;value;callSetDisabledState=E(Xl,{optional:!0})??ec;constructor(t,r,i,o){super(t,r),this._registry=i,this._injector=o}ngOnInit(){this._control=this._injector.get(Mi),this._checkName(),this._registry.add(this._control,this)}ngOnDestroy(){this._registry.remove(this)}writeValue(t){this._state=t===this.value,this.setProperty("checked",this._state)}registerOnChange(t){this._fn=t,this.onChange=()=>{t(this.value),this._registry.select(this)}}setDisabledState(t){(this.setDisabledStateFired||t||this.callSetDisabledState==="whenDisabledForLegacyCode")&&this.setProperty("disabled",t),this.setDisabledStateFired=!0}fireUncheck(t){this.writeValue(t)}_checkName(){this.name&&this.formControlName&&(this.name,this.formControlName),!this.name&&this.formControlName&&(this.name=this.formControlName)}static \u0275fac=function(r){return new(r||n)(I(pn),I(tt),I(eV),I(Ct))};static \u0275dir=he({type:n,selectors:[["input","type","radio","formControlName",""],["input","type","radio","formControl",""],["input","type","radio","ngModel",""]],hostBindings:function(r,i){r&1&&M("change",function(){return i.onChange()})("blur",function(){return i.onTouched()})},inputs:{name:"name",formControlName:"formControlName",value:"value"},standalone:!1,features:[_t([X2]),lt]})}return n})(),tV={provide:Ri,useExisting:Mt(()=>yy),multi:!0},yy=(()=>{class n extends Ys{writeValue(t){this.setProperty("value",parseFloat(t))}registerOnChange(t){this.onChange=r=>{t(r==""?null:parseFloat(r))}}static \u0275fac=(()=>{let t;return function(i){return(t||(t=Gn(n)))(i||n)}})();static \u0275dir=he({type:n,selectors:[["input","type","range","formControlName",""],["input","type","range","formControl",""],["input","type","range","ngModel",""]],hostBindings:function(r,i){r&1&&M("change",function(s){return i.onChange(s.target.value)})("input",function(s){return i.onChange(s.target.value)})("blur",function(){return i.onTouched()})},standalone:!1,features:[_t([tV]),lt]})}return n})(),rS=new B("");var nV={provide:_n,useExisting:Mt(()=>Oi)},Oi=(()=>{class n extends _n{callSetDisabledState;get submitted(){return Zn(this._submittedReactive)}set submitted(t){this._submittedReactive.set(t)}_submitted=sl(()=>this._submittedReactive());_submittedReactive=Tn(!1);_oldForm;_onCollectionChange=()=>this._updateDomValue();directives=[];form=null;ngSubmit=new Re;constructor(t,r,i){super(),this.callSetDisabledState=i,this._setValidators(t),this._setAsyncValidators(r)}ngOnChanges(t){t.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(Pf(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(t){let r=this.form.get(t.path);return uy(r,t,this.callSetDisabledState),r.updateValueAndValidity({emitEvent:!1}),this.directives.push(t),r}getControl(t){return this.form.get(t.path)}removeControl(t){kD(t.control||null,t,!1),Y2(this.directives,t)}addFormGroup(t){this._setUpFormContainer(t)}removeFormGroup(t){this._cleanUpFormContainer(t)}getFormGroup(t){return this.form.get(t.path)}addFormArray(t){this._setUpFormContainer(t)}removeFormArray(t){this._cleanUpFormContainer(t)}getFormArray(t){return this.form.get(t.path)}updateModel(t,r){this.form.get(t.path).setValue(r)}onSubmit(t){return this._submittedReactive.set(!0),Z2(this.form,this.directives),this.ngSubmit.emit(t),this.form._events.next(new ay(this.control)),t?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(t=void 0){this.form.reset(t),this._submittedReactive.set(!1),this.form._events.next(new ly(this.form))}_updateDomValue(){this.directives.forEach(t=>{let r=t.control,i=this.form.get(t.path);r!==i&&(kD(r||null,t),J2(i)&&(uy(i,t,this.callSetDisabledState),t.control=i))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(t){let r=this.form.get(t.path);G2(r,t),r.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(t){if(this.form){let r=this.form.get(t.path);r&&q2(r,t)&&r.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){gy(this.form,this),this._oldForm&&Pf(this._oldForm,this)}static \u0275fac=function(r){return new(r||n)(I(Js,10),I(Kl,10),I(Xl,8))};static \u0275dir=he({type:n,selectors:[["","formGroup",""]],hostBindings:function(r,i){r&1&&M("submit",function(s){return i.onSubmit(s)})("reset",function(){return i.onReset()})},inputs:{form:[0,"formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],standalone:!1,features:[_t([nV]),lt,it]})}return n})(),rV={provide:_n,useExisting:Mt(()=>iS)},iS=(()=>{class n extends Q2{name=null;constructor(t,r,i){super(),this._parent=t,this._setValidators(r),this._setAsyncValidators(i)}_checkParentType(){oS(this._parent)}static \u0275fac=function(r){return new(r||n)(I(_n,13),I(Js,10),I(Kl,10))};static \u0275dir=he({type:n,selectors:[["","formGroupName",""]],inputs:{name:[0,"formGroupName","name"]},standalone:!1,features:[_t([rV]),lt]})}return n})(),iV={provide:_n,useExisting:Mt(()=>Bf)},Bf=(()=>{class n extends _n{_parent;name=null;constructor(t,r,i){super(),this._parent=t,this._setValidators(r),this._setAsyncValidators(i)}ngOnInit(){oS(this._parent),this.formDirective.addFormArray(this)}ngOnDestroy(){this.formDirective?.removeFormArray(this)}get control(){return this.formDirective.getFormArray(this)}get formDirective(){return this._parent?this._parent.formDirective:null}get path(){return Vf(this.name==null?this.name:this.name.toString(),this._parent)}static \u0275fac=function(r){return new(r||n)(I(_n,13),I(Js,10),I(Kl,10))};static \u0275dir=he({type:n,selectors:[["","formArrayName",""]],inputs:{name:[0,"formArrayName","name"]},standalone:!1,features:[_t([iV]),lt]})}return n})();function oS(n){return!(n instanceof iS)&&!(n instanceof Oi)&&!(n instanceof Bf)}var oV={provide:Mi,useExisting:Mt(()=>Ro)},Ro=(()=>{class n extends Mi{_ngModelWarningConfig;_added=!1;viewModel;control;name=null;set isDisabled(t){}model;update=new Re;static _ngModelWarningSentOnce=!1;_ngModelWarningSent=!1;constructor(t,r,i,o,s){super(),this._ngModelWarningConfig=s,this._parent=t,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=nS(this,o)}ngOnChanges(t){this._added||this._setUpControl(),tS(t,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}get path(){return Vf(this.name==null?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_setUpControl(){this.control=this.formDirective.addControl(this),this._added=!0}static \u0275fac=function(r){return new(r||n)(I(_n,13),I(Js,10),I(Kl,10),I(Ri,10),I(rS,8))};static \u0275dir=he({type:n,selectors:[["","formControlName",""]],inputs:{name:[0,"formControlName","name"],isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"]},outputs:{update:"ngModelChange"},standalone:!1,features:[_t([oV]),lt,it]})}return n})();var sV={provide:Ri,useExisting:Mt(()=>ki),multi:!0};function sS(n,e){return n==null?`${e}`:(e&&typeof e=="object"&&(e="Object"),`${n}: ${e}`.slice(0,50))}function aV(n){return n.split(":")[0]}var ki=(()=>{class n extends Ys{value;_optionMap=new Map;_idCounter=0;set compareWith(t){this._compareWith=t}_compareWith=Object.is;writeValue(t){this.value=t;let r=this._getOptionId(t),i=sS(r,t);this.setProperty("value",i)}registerOnChange(t){this.onChange=r=>{this.value=this._getOptionValue(r),t(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(t){for(let r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r),t))return r;return null}_getOptionValue(t){let r=aV(t);return this._optionMap.has(r)?this._optionMap.get(r):t}static \u0275fac=(()=>{let t;return function(i){return(t||(t=Gn(n)))(i||n)}})();static \u0275dir=he({type:n,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(r,i){r&1&&M("change",function(s){return i.onChange(s.target.value)})("blur",function(){return i.onTouched()})},inputs:{compareWith:"compareWith"},standalone:!1,features:[_t([sV]),lt]})}return n})(),Ks=(()=>{class n{_element;_renderer;_select;id;constructor(t,r,i){this._element=t,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption())}set ngValue(t){this._select!=null&&(this._select._optionMap.set(this.id,t),this._setElementValue(sS(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._setElementValue(t),this._select&&this._select.writeValue(this._select.value)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static \u0275fac=function(r){return new(r||n)(I(tt),I(pn),I(ki,9))};static \u0275dir=he({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"},standalone:!1})}return n})(),lV={provide:Ri,useExisting:Mt(()=>aS),multi:!0};function LD(n,e){return n==null?`${e}`:(typeof e=="string"&&(e=`'${e}'`),e&&typeof e=="object"&&(e="Object"),`${n}: ${e}`.slice(0,50))}function cV(n){return n.split(":")[0]}var aS=(()=>{class n extends Ys{value;_optionMap=new Map;_idCounter=0;set compareWith(t){this._compareWith=t}_compareWith=Object.is;writeValue(t){this.value=t;let r;if(Array.isArray(t)){let i=t.map(o=>this._getOptionId(o));r=(o,s)=>{o._setSelected(i.indexOf(s.toString())>-1)}}else r=(i,o)=>{i._setSelected(!1)};this._optionMap.forEach(r)}registerOnChange(t){this.onChange=r=>{let i=[],o=r.selectedOptions;if(o!==void 0){let s=o;for(let a=0;a<s.length;a++){let l=s[a],c=this._getOptionValue(l.value);i.push(c)}}else{let s=r.options;for(let a=0;a<s.length;a++){let l=s[a];if(l.selected){let c=this._getOptionValue(l.value);i.push(c)}}}this.value=i,t(i)}}_registerOption(t){let r=(this._idCounter++).toString();return this._optionMap.set(r,t),r}_getOptionId(t){for(let r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r)._value,t))return r;return null}_getOptionValue(t){let r=cV(t);return this._optionMap.has(r)?this._optionMap.get(r)._value:t}static \u0275fac=(()=>{let t;return function(i){return(t||(t=Gn(n)))(i||n)}})();static \u0275dir=he({type:n,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(r,i){r&1&&M("change",function(s){return i.onChange(s.target)})("blur",function(){return i.onTouched()})},inputs:{compareWith:"compareWith"},standalone:!1,features:[_t([lV]),lt]})}return n})(),Xs=(()=>{class n{_element;_renderer;_select;id;_value;constructor(t,r,i){this._element=t,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption(this))}set ngValue(t){this._select!=null&&(this._value=t,this._setElementValue(LD(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._select?(this._value=t,this._setElementValue(LD(this.id,t)),this._select.writeValue(this._select.value)):this._setElementValue(t)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}_setSelected(t){this._renderer.setProperty(this._element.nativeElement,"selected",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static \u0275fac=function(r){return new(r||n)(I(tt),I(pn),I(aS,9))};static \u0275dir=he({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"},standalone:!1})}return n})();var uV=(()=>{class n{_validator=Mf;_onChange;_enabled;ngOnChanges(t){if(this.inputName in t){let r=this.normalizeInput(t[this.inputName].currentValue);this._enabled=this.enabled(r),this._validator=this._enabled?this.createValidator(r):Mf,this._onChange&&this._onChange()}}validate(t){return this._validator(t)}registerOnValidatorChange(t){this._onChange=t}enabled(t){return t!=null}static \u0275fac=function(r){return new(r||n)};static \u0275dir=he({type:n,features:[it]})}return n})();var dV={provide:Js,useExisting:Mt(()=>_y),multi:!0};var _y=(()=>{class n extends uV{required;inputName="required";normalizeInput=mn;createValidator=t=>BD;enabled(t){return t}static \u0275fac=(()=>{let t;return function(i){return(t||(t=Gn(n)))(i||n)}})();static \u0275dir=he({type:n,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(r,i){r&2&&Jr("required",i._enabled?"":null)},inputs:{required:"required"},standalone:!1,features:[_t([dV]),lt]})}return n})();var lS=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275mod=Ke({type:n});static \u0275inj=Qe({})}return n})(),dy=class extends Zs{constructor(e,t,r){super(py(t),my(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}controls;at(e){return this.controls[this._adjustIndex(e)]}push(e,t={}){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}insert(e,t,r={}){this.controls.splice(e,0,t),this._registerControl(t),this.updateValueAndValidity({emitEvent:r.emitEvent})}removeAt(e,t={}){let r=this._adjustIndex(e);r<0&&(r=0),this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),this.controls.splice(r,1),this.updateValueAndValidity({emitEvent:t.emitEvent})}setControl(e,t,r={}){let i=this._adjustIndex(e);i<0&&(i=0),this.controls[i]&&this.controls[i]._registerOnCollectionChange(()=>{}),this.controls.splice(i,1),t&&(this.controls.splice(i,0,t),this._registerControl(t)),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,t={}){XD(this,!1,e),e.forEach((r,i)=>{KD(this,!1,i),this.at(i).setValue(r,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){e!=null&&(e.forEach((r,i)=>{this.at(i)&&this.at(i).patchValue(r,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e=[],t={}){this._forEachChild((r,i)=>{r.reset(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t,this),this._updateTouched(t,this),this.updateValueAndValidity(t)}getRawValue(){return this.controls.map(e=>e.getRawValue())}clear(e={}){this.controls.length<1||(this._forEachChild(t=>t._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:e.emitEvent}))}_adjustIndex(e){return e<0?e+this.length:e}_syncPendingControls(){let e=this.controls.reduce((t,r)=>r._syncPendingControls()?!0:t,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){this.controls.forEach((t,r)=>{e(t,r)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(t=>t.enabled&&e(t))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_allControlsDisabled(){for(let e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}_find(e){return this.at(e)??null}};function VD(n){return!!n&&(n.asyncValidators!==void 0||n.validators!==void 0||n.updateOn!==void 0)}var ea=(()=>{class n{useNonNullable=!1;get nonNullable(){let t=new n;return t.useNonNullable=!0,t}group(t,r=null){let i=this._reduceControls(t),o={};return VD(r)?o=r:r!==null&&(o.validators=r.validator,o.asyncValidators=r.asyncValidator),new Nf(i,o)}record(t,r=null){let i=this._reduceControls(t);return new cy(i,r)}control(t,r,i){let o={};return this.useNonNullable?(VD(r)?o=r:(o.validators=r,o.asyncValidators=i),new Jl(t,X(T({},o),{nonNullable:!0}))):new Jl(t,r,i)}array(t,r,i){let o=t.map(s=>this._createControl(s));return new dy(o,r,i)}_reduceControls(t){let r={};return Object.keys(t).forEach(i=>{r[i]=this._createControl(t[i])}),r}_createControl(t){if(t instanceof Jl)return t;if(t instanceof Zs)return t;if(Array.isArray(t)){let r=t[0],i=t.length>1?t[1]:null,o=t.length>2?t[2]:null;return this.control(r,i,o)}else return this.control(t)}static \u0275fac=function(r){return new(r||n)};static \u0275prov=O({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var Cr=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:Xl,useValue:t.callSetDisabledState??ec}]}}static \u0275fac=function(r){return new(r||n)};static \u0275mod=Ke({type:n});static \u0275inj=Qe({imports:[lS]})}return n})(),ta=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:rS,useValue:t.warnOnNgModelWithFormControl??"always"},{provide:Xl,useValue:t.callSetDisabledState??ec}]}}static \u0275fac=function(r){return new(r||n)};static \u0275mod=Ke({type:n});static \u0275inj=Qe({imports:[lS]})}return n})();var fV=["progressBar"],hV=["progressBarCover"];function pV(n,e){n&1&&(m(0,"i",12),zn(),m(1,"svg",13),L(2,"path",14),g()())}function mV(n,e){n&1&&(m(0,"i",12),zn(),m(1,"svg",15),L(2,"path",14),g()())}function gV(n,e){n&1&&(m(0,"i",12),zn(),m(1,"svg",13),L(2,"path",16),g()())}function vV(n,e){n&1&&(m(0,"i",12),zn(),m(1,"svg",13),L(2,"path",17),g()())}function yV(n,e){n&1&&(m(0,"i",12),zn(),m(1,"svg",13),L(2,"path",18),g()())}function _V(n,e){if(n&1&&(m(0,"span",10),$(1,pV,3,0,"i",11)(2,mV,3,0,"i",11)(3,gV,3,0,"i",11)(4,vV,3,0,"i",11)(5,yV,3,0,"i",11),g()),n&2){let t=D();b("ngSwitch",t.toast.type),_(),b("ngSwitchCase",t.ToastType.info),_(),b("ngSwitchCase",t.ToastType.default),_(),b("ngSwitchCase",t.ToastType.warning),_(),b("ngSwitchCase",t.ToastType.error),_(),b("ngSwitchCase",t.ToastType.success)}}function bV(n,e){n&1&&(m(0,"i",12),zn(),m(1,"svg",19),C(2,"> "),L(3,"path",20),g()())}function wV(n,e){n&1&&(m(0,"i",12),zn(),m(1,"svg",21),C(2,"> "),L(3,"path",20),g()())}function CV(n,e){n&1&&(m(0,"i",12),zn(),m(1,"svg",22),C(2,"> "),L(3,"path",23),g()())}function EV(n,e){n&1&&(m(0,"i",12),zn(),m(1,"svg",24),L(2,"path",25),g()())}function IV(n,e){n&1&&(m(0,"i",12),zn(),m(1,"svg",26),C(2,"> "),L(3,"path",27),g()())}function DV(n,e){if(n&1&&(m(0,"span",10),$(1,bV,4,0,"i",11)(2,wV,4,0,"i",11)(3,CV,4,0,"i",11)(4,EV,3,0,"i",11)(5,IV,4,0,"i",11),g()),n&2){let t=D();b("ngSwitch",t.toast.type),_(),b("ngSwitchCase",t.ToastType.info),_(),b("ngSwitchCase",t.ToastType.default),_(),b("ngSwitchCase",t.ToastType.warning),_(),b("ngSwitchCase",t.ToastType.error),_(),b("ngSwitchCase",t.ToastType.success)}}function SV(n,e){if(n&1&&L(0,"div",28,0),n&2){let t=D();rl("angular-toastify-progress-bar angular-toastify-progress-bar--",t.ToastType[t.toast.type],"")}}function TV(n,e){if(n&1&&L(0,"div",null,1),n&2){let t=D();rl("angular-toastify-progress-bar-cover angular-toastify-toast--",t.ToastType[t.toast.type],""),nl("animation-duration",t.autoCloseAfterSpecificChange()+"ms")("animation-play-state",t.running?"running":"paused")}}function xV(n,e){if(n&1){let t=ne();m(0,"lib-toastify-toast",1),M("dismissEvent",function(){let i=F(t).$implicit,o=D();return P(o.dismiss(i))}),g()}if(n&2){let t=e.$implicit,r=D();Ds(r.getClass(t)),b("autoClose",r.autoClose)("autoCloseSuccess",r.autoCloseSuccess)("autoCloseError",r.autoCloseError)("autoCloseWarn",r.autoCloseWarn)("autoCloseInfo",r.autoCloseInfo)("toast",t)("hideProgressBar",r.hideProgressBar)("pauseOnHover",r.pauseOnHover)("pauseOnVisibilityChange",r.pauseOnVisibilityChange)("closeOnClick",r.closeOnClick)("iconLibrary",r.iconLibrary)}}var MV=0,Oo=class{constructor(e,t){this.message=e,this.type=t,this.time=new Date().getTime(),this.id=MV++,this.$resetToast=new ie}},bn=function(n){return n[n.info=0]="info",n[n.success=1]="success",n[n.warning=2]="warning",n[n.error=3]="error",n[n.default=4]="default",n}(bn||{}),bt=(()=>{class n{constructor(){this.toastAddedEvent=new Re,this.dismissAllEvent=new Re}dismissAll(){this.dismissAllEvent.emit()}info(t){let r=new Oo(t,bn.info);this.toastAddedEvent.emit(r)}success(t){let r=new Oo(t,bn.success);this.toastAddedEvent.emit(r)}warn(t){let r=new Oo(t,bn.warning);this.toastAddedEvent.emit(r)}error(t){let r=new Oo(t,bn.error);this.toastAddedEvent.emit(r)}default(t){let r=new Oo(t,bn.default);this.toastAddedEvent.emit(r)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=O({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),AV=(()=>{class n{constructor(t,r){this._cd=t,this._zone=r,this.autoClose=5e3,this.autoCloseError=void 0,this.autoCloseSuccess=void 0,this.autoCloseInfo=void 0,this.autoCloseWarn=void 0,this.hideProgressBar=!1,this.pauseOnHover=!0,this.pauseOnVisibilityChange=!0,this.closeOnClick=!0,this.dismissEvent=new Re,this.ToastType=bn,this.running=!1}ngOnInit(){this.autoCloseRemaining=this.autoCloseAfterSpecificChange(),this.startTime=this.toast.time,this.toast.$resetToast.subscribe(()=>this.resetToastTimer()),this.handleVisibilityChange&&document.visibilityState==="visible"&&this.startCloseTimer(),this.triggerProgressBarAnimation()}triggerProgressBarAnimation(){this._progressBarAnimation!==void 0&&cancelAnimationFrame(this._progressBarAnimation);let t=()=>{if(this.running){let i=100-Math.max(0,this.expectedAutoDismissTime-new Date().getTime())/this.autoCloseAfterSpecificChange()*100;if(this.progressBarCover.nativeElement.style.width=i+"%",i<=0)return}this._progressBarAnimation=requestAnimationFrame(t)};this._progressBarAnimation=requestAnimationFrame(t)}ngOnDestroy(){var t,r;this._progressBarAnimation&&(cancelAnimationFrame(this._progressBarAnimation),this._progressBarAnimation=void 0),this.clearTimerTimeout(),(t=this.toast.$resetToast)===null||t===void 0||t.complete(),this.toast.$resetToast=null,(r=this._$updateTimer)===null||r===void 0||r.complete(),this._$updateTimer=null}startCloseTimer(){this.running||!this.autoCloseAfterSpecificChange()||(this.running=!0,this.expectedAutoDismissTime=new Date().getTime()+this.autoCloseRemaining,this.autoDismissTimeout=this._zone.runOutsideAngular(()=>setTimeout(()=>{this._zone.run(()=>{this.dismissEvent.emit(),this._cd.markForCheck()})},this.autoCloseRemaining)))}autoCloseAfterSpecificChange(){let t=(()=>{switch(this.toast.type){case bn.success:return this.autoCloseSuccess;case bn.error:return this.autoCloseError;case bn.warning:return this.autoCloseWarn;case bn.info:return this.autoCloseInfo;default:return}})();return t===void 0?this.autoClose:t}pauseCloseTimer(){this.running=!1,this.clearTimerTimeout(),this.pauseTime=new Date().getTime();let t=this.pauseTime-this.startTime;this.autoCloseRemaining=this.autoCloseAfterSpecificChange()-t}resetToastTimer(){this.clearTimerTimeout(),this.running=!1,this.startTime=new Date().getTime(),this.autoCloseRemaining=this.autoCloseAfterSpecificChange(),this.startCloseTimer()}clearTimerTimeout(){this.autoDismissTimeout!==void 0&&(this.expectedAutoDismissTime=void 0,clearTimeout(this.autoDismissTimeout))}handleDismissButtonAction(){this.closeOnClick||(this.clearTimerTimeout(),this.dismissEvent.emit())}handleHostClick(){this.closeOnClick&&(this.clearTimerTimeout(),this.dismissEvent.emit())}handleMouseEnter(){this.pauseOnHover&&this.pauseCloseTimer()}handleMouseLeave(){this.pauseOnHover&&(this.startCloseTimer(),this.startTime=new Date().getTime()+(this.startTime-this.pauseTime))}handleVisibilityChange(){this.pauseOnVisibilityChange&&(document.visibilityState!=="visible"?(this.pauseCloseTimer(),this._cd.detectChanges()):this.startCloseTimer())}}return n.\u0275fac=function(t){return new(t||n)(I(Vt),I(we))},n.\u0275cmp=ae({type:n,selectors:[["lib-toastify-toast"]],viewQuery:function(t,r){if(t&1&&(Me(fV,5),Me(hV,5)),t&2){let i;Ce(i=Ee())&&(r.progressBar=i.first),Ce(i=Ee())&&(r.progressBarCover=i.first)}},hostBindings:function(t,r){t&1&&M("click",function(){return r.handleHostClick()})("mouseenter",function(){return r.handleMouseEnter()})("mouseleave",function(){return r.handleMouseLeave()})("visibilitychange",function(){return r.handleVisibilityChange()},!1,fC)},inputs:{autoClose:"autoClose",autoCloseError:"autoCloseError",autoCloseSuccess:"autoCloseSuccess",autoCloseInfo:"autoCloseInfo",autoCloseWarn:"autoCloseWarn",hideProgressBar:"hideProgressBar",pauseOnHover:"pauseOnHover",pauseOnVisibilityChange:"pauseOnVisibilityChange",closeOnClick:"closeOnClick",toast:"toast",iconLibrary:"iconLibrary"},outputs:{dismissEvent:"dismissEvent"},standalone:!1,decls:12,vars:8,consts:[["progressBar",""],["progressBarCover",""],["role","alert",1,"angular-toastify-toast-body"],[1,"angular-toastify-icon-container"],[3,"ngSwitch",4,"ngIf"],[1,"angular-toastify-toast-container"],[1,"close-container"],["type","button","aria-label","close",3,"click"],["style","opacity: 1;",3,"class",4,"ngIf"],[3,"class","animation-duration","animation-play-state",4,"ngIf"],[3,"ngSwitch"],["class","angular-toastify-toast-icon",4,"ngSwitchCase"],[1,"angular-toastify-toast-icon"],["xmlns","http://www.w3.org/2000/svg","height","20px","viewBox","0 -960 960 960","width","20px","fill","#fff"],["d","M430.09-270.8h101.34V-528H430.09v257.2Zm49.52-338.03q20.94 0 35.34-14.01 14.4-14.01 14.4-34.95 0-20.94-14.01-35.34-14.01-14.39-34.95-14.39-20.94 0-35.34 14.01-14.4 14.01-14.4 34.95 0 20.94 14.01 35.34 14.01 14.39 34.95 14.39Zm.67 548.18q-86.64 0-163.19-32.66-76.56-32.66-133.84-89.94t-89.94-133.8q-32.66-76.51-32.66-163.41 0-87.15 32.72-163.31t90.14-133.61q57.42-57.44 133.79-89.7 76.38-32.27 163.16-32.27 87.14 0 163.31 32.26 76.16 32.26 133.61 89.71 57.45 57.45 89.71 133.86 32.26 76.42 32.26 163.33 0 86.91-32.27 163.08-32.26 76.18-89.7 133.6-57.45 57.42-133.83 90.14-76.39 32.72-163.27 32.72Zm-.33-105.18q131.13 0 222.68-91.49 91.54-91.49 91.54-222.63 0-131.13-91.49-222.68-91.49-91.54-222.63-91.54-131.13 0-222.68 91.49-91.54 91.49-91.54 222.63 0 131.13 91.49 222.68 91.49 91.54 222.63 91.54ZM480-480Z"],["xmlns","http://www.w3.org/2000/svg","height","20px","viewBox","0 -960 960 960","width","20px","fill","#aaa"],["d","M-3.28-104.15 480-911.43l483.28 807.28H-3.28Zm483.83-137.63q19.97 0 34.23-14.05 14.26-14.05 14.26-34.02 0-19.74-14.05-34-14.05-14.26-34.02-14.26-19.73 0-34.11 14.05-14.38 14.05-14.38 33.78 0 19.98 14.17 34.24 14.17 14.26 33.9 14.26Zm-46.88-138.7h94.18v-192.89h-94.18v192.89Z"],["d","M479.56-266.26q21.83 0 36.89-14.61 15.05-14.62 15.05-36.45 0-21.83-14.61-37.01-14.62-15.17-36.45-15.17-21.83 0-36.89 14.79-15.05 14.79-15.05 36.62t14.61 36.83q14.62 15 36.45 15Zm-51.39-167.02h105.18v-250.55H428.17v250.55Zm52.11 372.63q-86.64 0-163.19-32.66-76.56-32.66-133.84-89.94t-89.94-133.8q-32.66-76.51-32.66-163.41 0-87.15 32.72-163.31t90.14-133.61q57.42-57.44 133.79-89.7 76.38-32.27 163.16-32.27 87.14 0 163.31 32.26 76.16 32.26 133.61 89.71 57.45 57.45 89.71 133.86 32.26 76.42 32.26 163.33 0 86.91-32.27 163.08-32.26 76.18-89.7 133.6-57.45 57.42-133.83 90.14-76.39 32.72-163.27 32.72Zm-.33-105.18q131.13 0 222.68-91.49 91.54-91.49 91.54-222.63 0-131.13-91.49-222.68-91.49-91.54-222.63-91.54-131.13 0-222.68 91.49-91.54 91.49-91.54 222.63 0 131.13 91.49 222.68 91.49 91.54 222.63 91.54ZM480-480Z"],["d","M389-240.7 166.93-461.76l74.27-75.26L389-388.98l331.57-330.56 74.26 74.02L389-240.7Z"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 0 192 512","height","18","fill","#fff"],["d","M48 80a48 48 0 1 1 96 0A48 48 0 1 1 48 80zM0 224c0-17.7 14.3-32 32-32l64 0c17.7 0 32 14.3 32 32l0 224 32 0c17.7 0 32 14.3 32 32s-14.3 32-32 32L32 512c-17.7 0-32-14.3-32-32s14.3-32 32-32l32 0 0-192-32 0c-17.7 0-32-14.3-32-32z"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 0 192 512","height","18","fill","#aaa"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 0 512 512","height","18","fill","#fff"],["d","M256 32c14.2 0 27.3 7.5 34.5 19.8l216 368c7.3 12.4 7.3 27.7 .2 40.1S486.3 480 472 480L40 480c-14.3 0-27.6-7.7-34.7-20.1s-7-27.8 .2-40.1l216-368C228.7 39.5 241.8 32 256 32zm0 128c-13.3 0-24 10.7-24 24l0 112c0 13.3 10.7 24 24 24s24-10.7 24-24l0-112c0-13.3-10.7-24-24-24zm32 224a32 32 0 1 0 -64 0 32 32 0 1 0 64 0z"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 0 128 512","height","18","fill","#fff"],["d","M96 64c0-17.7-14.3-32-32-32S32 46.3 32 64l0 256c0 17.7 14.3 32 32 32s32-14.3 32-32L96 64zM64 480a40 40 0 1 0 0-80 40 40 0 1 0 0 80z"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 0 448 512","height","18","fill","#fff"],["d","M438.6 105.4c12.5 12.5 12.5 32.8 0 45.3l-256 256c-12.5 12.5-32.8 12.5-45.3 0l-128-128c-12.5-12.5-12.5-32.8 0-45.3s32.8-12.5 45.3 0L160 338.7 393.4 105.4c12.5-12.5 32.8-12.5 45.3 0z"],[2,"opacity","1"]],template:function(t,r){t&1&&(m(0,"div",2)(1,"div",3),$(2,_V,6,6,"span",4)(3,DV,6,6,"span",4),g(),m(4,"div",5)(5,"div"),C(6),g()(),m(7,"div",6)(8,"button",7),M("click",function(){return r.handleDismissButtonAction()}),C(9,"\u2716 "),g()()(),$(10,SV,2,3,"div",8)(11,TV,2,7,"div",9)),t&2&&(_(2),b("ngIf",r.iconLibrary=="material"),_(),b("ngIf",r.iconLibrary=="font-awesome"),_(3),Fe(r.toast.message),_(2),rl("angular-toastify-close-button angular-toastify-close-button--",r.ToastType[r.toast.type],""),_(2),b("ngIf",!r.hideProgressBar),_(),b("ngIf",!r.hideProgressBar))},dependencies:[Ge,Od,iv],styles:[".angular-toastify-toast[_ngcontent-%COMP%]{position:relative;min-height:64px;box-sizing:border-box;margin-bottom:1rem;padding:8px;border-radius:1px;box-shadow:0 1px 10px 0 rgba(0,0,0,.1),0 2px 15px 0 rgba(0,0,0,.05);display:flex;justify-content:space-between;max-height:800px;overflow:hidden;font-family:sans-serif;cursor:pointer;direction:ltr}.angular-toastify-toast--rtl[_ngcontent-%COMP%]{direction:rtl}.angular-toastify-toast--default[_ngcontent-%COMP%]{background:#fff;color:#aaa}.angular-toastify-toast--info[_ngcontent-%COMP%]{background:#3498db}.angular-toastify-toast--success[_ngcontent-%COMP%]{background:#07bc0c}.angular-toastify-toast--warning[_ngcontent-%COMP%]{background:#f1c40f}.angular-toastify-toast--error[_ngcontent-%COMP%]{background:#e74c3c}.angular-toastify-toast-body[_ngcontent-%COMP%]{margin:auto 0;flex:1}@media only screen and (max-width:480px){.angular-toastify-toast[_ngcontent-%COMP%]{margin-bottom:0}}.angular-toastify-close-button[_ngcontent-%COMP%]{color:#fff;font-weight:700;font-size:14px;background:transparent;outline:none;border:none;padding:0;cursor:pointer;opacity:.7;transition:.3s ease;align-self:flex-start}.angular-toastify-close-button--default[_ngcontent-%COMP%]{color:#000;opacity:.3}.angular-toastify-close-button[_ngcontent-%COMP%]:focus, .angular-toastify-close-button[_ngcontent-%COMP%]:hover{opacity:1}.angular-toastify-progress-bar-cover[_ngcontent-%COMP%]{right:0;z-index:100;direction:rtl}.angular-toastify-progress-bar[_ngcontent-%COMP%], .angular-toastify-progress-bar-cover[_ngcontent-%COMP%]{position:absolute;bottom:0;width:100%;height:5px;transform-origin:left}.angular-toastify-progress-bar[_ngcontent-%COMP%]{left:0;z-index:99;opacity:.7;background-color:hsla(0,0%,100%,.7)}.angular-toastify-progress-bar--controlled[_ngcontent-%COMP%]{transition:transform .2s}.angular-toastify-progress-bar--rtl[_ngcontent-%COMP%]{right:0;left:auto;transform-origin:right}.angular-toastify-progress-bar--default[_ngcontent-%COMP%]{background:linear-gradient(90deg,#4cd964,#5ac8fa,#007aff,#34aadc,#5856d6,#ff2d55)}.angular-toastify-toast-body[_ngcontent-%COMP%]{min-width:0;min-height:0;vertical-align:middle;display:flex}.angular-toastify-icon-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;width:25px;vertical-align:middle}.angular-toastify-icon-container[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{margin-right:.5rem;display:inline-block;text-align:center;width:20px}.angular-toastify-icon-container[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{vertical-align:middle}.angular-toastify-toast-icon[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;align-items:center;font-size:18px}.angular-toastify-toast-container[_ngcontent-%COMP%]{width:calc(100% - 25px);overflow-y:auto;display:flex;flex-direction:column;min-height:0}.angular-toastify-toast-container[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{display:flex;flex:1;flex-direction:column;justify-content:center}"]}),n})(),cS=(()=>{class n{constructor(t,r){this._toastService=t,this._cd=r,this.transitionDurations=400,this.position="top-right",this.transition="bounce",this.autoClose=5e3,this.autoCloseError=void 0,this.autoCloseSuccess=void 0,this.autoCloseInfo=void 0,this.autoCloseWarn=void 0,this.hideProgressBar=!1,this.pauseOnHover=!0,this.pauseOnVisibilityChange=!0,this.closeOnClick=!0,this.newestOnTop=!1,this.preventDuplicates=!1,this.iconLibrary="none",this.ToastType=bn,this.toasts=new Array,this.toastTransitionDict={}}ngOnChanges(){this._cd.markForCheck()}dismiss(t){this.toastTransitionDict[t.id]=na.exiting,setTimeout(()=>{let r=this.toasts.indexOf(t);this.toasts.splice(r,1),this._cd.markForCheck()},this.transitionDurations)}getClass(t){let r=`angular-toastify-toast angular-toastify-toast--${bn[t.type]} `,i=this.toastTransitionDict[t.id];return i===na.entering?r+=`angular-toastify-${this.transition}-enter angular-toastify-${this.transition}-enter--${this.position}`:i===na.exiting&&(r+=`angular-toastify-${this.transition}-exit angular-toastify-${this.transition}-exit--${this.position}`),r}ngOnInit(){this._toastService.dismissAllEvent.subscribe(()=>{this.toasts=new Array,this._cd.markForCheck()}),this._toastService.toastAddedEvent.subscribe(t=>this.handleToastAddedEvent(t))}handleToastAddedEvent(t){if(this.preventDuplicates===!0){let r=this.toasts.find(i=>i.message===t.message);if(r){r.$resetToast.next(),this._cd.markForCheck();return}}this.toastTransitionDict[t.id]=na.entering,setTimeout(()=>{this.toastTransitionDict[t.id]=na.noTransition,this._cd.markForCheck()},this.transitionDurations),this.newestOnTop?this.toasts.unshift(t):this.toasts.push(t),this._cd.markForCheck()}}return n.\u0275fac=function(t){return new(t||n)(I(bt),I(Vt))},n.\u0275cmp=ae({type:n,selectors:[["lib-toastify-toast-container"]],inputs:{position:"position",transition:"transition",autoClose:"autoClose",autoCloseError:"autoCloseError",autoCloseSuccess:"autoCloseSuccess",autoCloseInfo:"autoCloseInfo",autoCloseWarn:"autoCloseWarn",hideProgressBar:"hideProgressBar",pauseOnHover:"pauseOnHover",pauseOnVisibilityChange:"pauseOnVisibilityChange",closeOnClick:"closeOnClick",newestOnTop:"newestOnTop",preventDuplicates:"preventDuplicates",iconLibrary:"iconLibrary"},standalone:!1,features:[it],decls:2,vars:4,consts:[["style","animation-fill-mode: both; animation-duration: 0.75s; flex-direction: column;",3,"class","autoClose","autoCloseSuccess","autoCloseError","autoCloseWarn","autoCloseInfo","toast","hideProgressBar","pauseOnHover","pauseOnVisibilityChange","closeOnClick","iconLibrary","dismissEvent",4,"ngFor","ngForOf"],[2,"animation-fill-mode","both","animation-duration","0.75s","flex-direction","column",3,"dismissEvent","autoClose","autoCloseSuccess","autoCloseError","autoCloseWarn","autoCloseInfo","toast","hideProgressBar","pauseOnHover","pauseOnVisibilityChange","closeOnClick","iconLibrary"]],template:function(t,r){t&1&&(m(0,"div"),$(1,xV,1,13,"lib-toastify-toast",0),g()),t&2&&(rl("angular-toastify-toast-container angular-toastify-toast-container--",r.position,""),_(),b("ngForOf",r.toasts))},dependencies:[AV,ft],styles:[".angular-toastify-toast-container[_ngcontent-%COMP%]{word-break:break-word;z-index:9999;-webkit-transform:translateZ(9999px);position:fixed;padding:4px;width:320px;box-sizing:border-box;color:#fff}.angular-toastify-toast-container--top-left[_ngcontent-%COMP%]{top:1em;left:1em}.angular-toastify-toast-container--top-center[_ngcontent-%COMP%]{top:1em;left:50%;margin-left:-160px}.angular-toastify-toast-container--top-right[_ngcontent-%COMP%]{top:1em;right:1em}.angular-toastify-toast-container--bottom-left[_ngcontent-%COMP%]{bottom:1em;left:1em}.angular-toastify-toast-container--bottom-center[_ngcontent-%COMP%]{bottom:1em;left:50%;margin-left:-160px}.angular-toastify-toast-container--bottom-right[_ngcontent-%COMP%]{bottom:1em;right:1em}@media only screen and (max-width:480px){.angular-toastify-toast-container[_ngcontent-%COMP%]{width:100vw;padding:0;left:0;margin:0}.angular-toastify-toast-container--top-center[_ngcontent-%COMP%], .angular-toastify-toast-container--top-left[_ngcontent-%COMP%], .angular-toastify-toast-container--top-right[_ngcontent-%COMP%]{top:0}.angular-toastify-toast-container--bottom-center[_ngcontent-%COMP%], .angular-toastify-toast-container--bottom-left[_ngcontent-%COMP%], .angular-toastify-toast-container--bottom-right[_ngcontent-%COMP%]{bottom:0}.angular-toastify-toast-container--rtl[_ngcontent-%COMP%]{right:0;left:auto}}.angular-toastify-toast[_ngcontent-%COMP%]{position:relative;min-height:64px;box-sizing:border-box;margin-bottom:1rem;padding:8px;border-radius:1px;box-shadow:0 1px 10px 0 rgba(0,0,0,.1),0 2px 15px 0 rgba(0,0,0,.05);display:flex;justify-content:space-between;max-height:800px;overflow:hidden;font-family:sans-serif;cursor:pointer;direction:ltr}.angular-toastify-toast--rtl[_ngcontent-%COMP%]{direction:rtl}.angular-toastify-toast--default[_ngcontent-%COMP%]{background:#fff;color:#aaa}.angular-toastify-toast--info[_ngcontent-%COMP%]{background:#3498db}.angular-toastify-toast--success[_ngcontent-%COMP%]{background:#07bc0c}.angular-toastify-toast--warning[_ngcontent-%COMP%]{background:#f1c40f}.angular-toastify-toast--error[_ngcontent-%COMP%]{background:#e74c3c}.angular-toastify-toast-body[_ngcontent-%COMP%]{margin:auto 0;flex:1}@media only screen and (max-width:480px){.angular-toastify-toast[_ngcontent-%COMP%]{margin-bottom:0}}@keyframes _ngcontent-%COMP%_angular-toastify-bounceInRight{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(3000px,0,0)}60%{opacity:1;transform:translate3d(-25px,0,0)}75%{transform:translate3d(10px,0,0)}90%{transform:translate3d(-5px,0,0)}to{transform:none}}@keyframes _ngcontent-%COMP%_angular-toastify-bounceOutRight{20%{opacity:1;transform:translate3d(-20px,0,0)}to{opacity:0;transform:translate3d(2000px,0,0)}}@keyframes _ngcontent-%COMP%_angular-toastify-bounceInLeft{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(-3000px,0,0)}60%{opacity:1;transform:translate3d(25px,0,0)}75%{transform:translate3d(-10px,0,0)}90%{transform:translate3d(5px,0,0)}to{transform:none}}@keyframes _ngcontent-%COMP%_angular-toastify-bounceOutLeft{20%{opacity:1;transform:translate3d(20px,0,0)}to{opacity:0;transform:translate3d(-2000px,0,0)}}@keyframes _ngcontent-%COMP%_angular-toastify-bounceInUp{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,3000px,0)}60%{opacity:1;transform:translate3d(0,-20px,0)}75%{transform:translate3d(0,10px,0)}90%{transform:translate3d(0,-5px,0)}to{transform:translateZ(0)}}@keyframes _ngcontent-%COMP%_angular-toastify-bounceOutUp{20%{transform:translate3d(0,-10px,0)}40%,45%{opacity:1;transform:translate3d(0,20px,0)}to{opacity:0;transform:translate3d(0,-2000px,0)}}@keyframes _ngcontent-%COMP%_angular-toastify-bounceInDown{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,-3000px,0)}60%{opacity:1;transform:translate3d(0,25px,0)}75%{transform:translate3d(0,-10px,0)}90%{transform:translate3d(0,5px,0)}to{transform:none}}@keyframes _ngcontent-%COMP%_angular-toastify-bounceOutDown{20%{transform:translate3d(0,10px,0)}40%,45%{opacity:1;transform:translate3d(0,-20px,0)}to{opacity:0;transform:translate3d(0,2000px,0)}}.angular-toastify-bounce-enter--bottom-left[_ngcontent-%COMP%], .angular-toastify-bounce-enter--top-left[_ngcontent-%COMP%]{animation-name:_ngcontent-%COMP%_angular-toastify-bounceInLeft}.angular-toastify-bounce-enter--bottom-right[_ngcontent-%COMP%], .angular-toastify-bounce-enter--top-right[_ngcontent-%COMP%]{animation-name:_ngcontent-%COMP%_angular-toastify-bounceInRight}.angular-toastify-bounce-enter--top-center[_ngcontent-%COMP%]{animation-name:_ngcontent-%COMP%_angular-toastify-bounceInDown}.angular-toastify-bounce-enter--bottom-center[_ngcontent-%COMP%]{animation-name:_ngcontent-%COMP%_angular-toastify-bounceInUp}.angular-toastify-bounce-exit--bottom-left[_ngcontent-%COMP%], .angular-toastify-bounce-exit--top-left[_ngcontent-%COMP%]{animation-name:_ngcontent-%COMP%_angular-toastify-bounceOutLeft}.angular-toastify-bounce-exit--bottom-right[_ngcontent-%COMP%], .angular-toastify-bounce-exit--top-right[_ngcontent-%COMP%]{animation-name:_ngcontent-%COMP%_angular-toastify-bounceOutRight}.angular-toastify-bounce-exit--top-center[_ngcontent-%COMP%]{animation-name:_ngcontent-%COMP%_angular-toastify-bounceOutUp}.angular-toastify-bounce-exit--bottom-center[_ngcontent-%COMP%]{animation-name:_ngcontent-%COMP%_angular-toastify-bounceOutDown}@keyframes _ngcontent-%COMP%_angular-toastify-zoomIn{0%{opacity:0;transform:scale3d(.3,.3,.3)}50%{opacity:1}}@keyframes _ngcontent-%COMP%_angular-toastify-zoomOut{0%{opacity:1}50%{opacity:0;transform:scale3d(.3,.3,.3)}to{opacity:0}}.angular-toastify-zoom-enter[_ngcontent-%COMP%]{animation-name:_ngcontent-%COMP%_angular-toastify-zoomIn}.angular-toastify-zoom-exit[_ngcontent-%COMP%]{animation-name:_ngcontent-%COMP%_angular-toastify-zoomOut}@keyframes _ngcontent-%COMP%_angular-toastify-flipIn{0%{transform:perspective(400px) rotateX(90deg);animation-timing-function:ease-in;opacity:0}40%{transform:perspective(400px) rotateX(-20deg);animation-timing-function:ease-in}60%{transform:perspective(400px) rotateX(10deg);opacity:1}80%{transform:perspective(400px) rotateX(-5deg)}to{transform:perspective(400px)}}@keyframes _ngcontent-%COMP%_angular-toastify-flipOut{0%{transform:perspective(400px)}30%{transform:perspective(400px) rotateX(-20deg);opacity:1}to{transform:perspective(400px) rotateX(90deg);opacity:0}}.angular-toastify-flip-enter[_ngcontent-%COMP%]{animation-name:_ngcontent-%COMP%_angular-toastify-flipIn}.angular-toastify-flip-exit[_ngcontent-%COMP%]{animation-name:_ngcontent-%COMP%_angular-toastify-flipOut}@keyframes _ngcontent-%COMP%_angular-toastify-slideInRight{0%{transform:translate3d(110%,0,0);visibility:visible}to{transform:translateZ(0)}}@keyframes _ngcontent-%COMP%_angular-toastify-slideInLeft{0%{transform:translate3d(-110%,0,0);visibility:visible}to{transform:translateZ(0)}}@keyframes _ngcontent-%COMP%_angular-toastify-slideInUp{0%{transform:translate3d(0,110%,0);visibility:visible}to{transform:translateZ(0)}}@keyframes _ngcontent-%COMP%_angular-toastify-slideInDown{0%{transform:translate3d(0,-110%,0);visibility:visible}to{transform:translateZ(0)}}@keyframes _ngcontent-%COMP%_angular-toastify-slideOutRight{0%{transform:translateZ(0)}to{visibility:hidden;transform:translate3d(110%,0,0)}}@keyframes _ngcontent-%COMP%_angular-toastify-slideOutLeft{0%{transform:translateZ(0)}to{visibility:hidden;transform:translate3d(-110%,0,0)}}@keyframes _ngcontent-%COMP%_angular-toastify-slideOutDown{0%{transform:translateZ(0)}to{visibility:hidden;transform:translate3d(0,500px,0)}}@keyframes _ngcontent-%COMP%_angular-toastify-slideOutUp{0%{transform:translateZ(0)}to{visibility:hidden;transform:translate3d(0,-500px,0)}}.angular-toastify-slide-enter--bottom-left[_ngcontent-%COMP%], .angular-toastify-slide-enter--top-left[_ngcontent-%COMP%]{animation-name:_ngcontent-%COMP%_angular-toastify-slideInLeft}.angular-toastify-slide-enter--bottom-right[_ngcontent-%COMP%], .angular-toastify-slide-enter--top-right[_ngcontent-%COMP%]{animation-name:_ngcontent-%COMP%_angular-toastify-slideInRight}.angular-toastify-slide-enter--top-center[_ngcontent-%COMP%]{animation-name:_ngcontent-%COMP%_angular-toastify-slideInDown}.angular-toastify-slide-enter--bottom-center[_ngcontent-%COMP%]{animation-name:_ngcontent-%COMP%_angular-toastify-slideInUp}.angular-toastify-slide-exit--bottom-left[_ngcontent-%COMP%], .angular-toastify-slide-exit--top-left[_ngcontent-%COMP%]{animation-name:_ngcontent-%COMP%_angular-toastify-slideOutLeft}.angular-toastify-slide-exit--bottom-right[_ngcontent-%COMP%], .angular-toastify-slide-exit--top-right[_ngcontent-%COMP%]{animation-name:_ngcontent-%COMP%_angular-toastify-slideOutRight}.angular-toastify-slide-exit--top-center[_ngcontent-%COMP%]{animation-name:_ngcontent-%COMP%_angular-toastify-slideOutUp}.angular-toastify-slide-exit--bottom-center[_ngcontent-%COMP%]{animation-name:_ngcontent-%COMP%_angular-toastify-slideOutDown}"],changeDetection:0}),n})(),na=function(n){return n[n.entering=0]="entering",n[n.noTransition=1]="noTransition",n[n.exiting=2]="exiting",n}(na||{}),uS=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Ke({type:n}),n.\u0275inj=Qe({imports:[[Ae]]}),n})();var ye={email:"qtodo",userGroup:"local",alias:"local"},ot=class n{constructor(e,t){this.toaster=e;this.router=t}loggedInUser=new be(ye);loggedInUser$=this.loggedInUser.asObservable();signinUser(){this.loggedInUser.value!=null&&this.softLogoutUser(),this.router.navigate(["/signup"])}loginUser(){this.loggedInUser.value!=null&&this.softLogoutUser(),this.router.navigate(["/login"])}softLogoutUser(){this.loggedInUser.next(ye)}getPayloadFromAccessToken(){let e=(this.loggedInUser.value.token||"").split(".")[1];if(e){let t=atob(e);return JSON.parse(t)}return null}isThisCurrentUser(e){let t=this.loggedInUser.value;return t.email===e.email&&t.userGroup===e.userGroup}static \u0275fac=function(t){return new(t||n)(N(bt),N(ke))};static \u0275prov=O({token:n,factory:n.\u0275fac,providedIn:"root"})};var kt=[];for(let n=0;n<256;++n)kt.push((n+256).toString(16).slice(1));function dS(n,e=0){return(kt[n[e+0]]+kt[n[e+1]]+kt[n[e+2]]+kt[n[e+3]]+"-"+kt[n[e+4]]+kt[n[e+5]]+"-"+kt[n[e+6]]+kt[n[e+7]]+"-"+kt[n[e+8]]+kt[n[e+9]]+"-"+kt[n[e+10]]+kt[n[e+11]]+kt[n[e+12]]+kt[n[e+13]]+kt[n[e+14]]+kt[n[e+15]]).toLowerCase()}var by,RV=new Uint8Array(16);function wy(){if(!by){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");by=crypto.getRandomValues.bind(crypto)}return by(RV)}var OV=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),Cy={randomUUID:OV};function kV(n,e,t){n=n||{};let r=n.random??n.rng?.()??wy();if(r.length<16)throw new Error("Random bytes length must be >= 16");if(r[6]=r[6]&15|64,r[8]=r[8]&63|128,e){if(t=t||0,t<0||t+16>e.length)throw new RangeError(`UUID byte range ${t}:${t+15} is out of buffer bounds`);for(let i=0;i<16;++i)e[t+i]=r[i];return e}return dS(r)}function NV(n,e,t){return Cy.randomUUID&&!e&&!n?Cy.randomUUID():kV(n,e,t)}var ko=NV;var Bt=class n{getObjectStore(e,t,r){return e.transaction(t,r).objectStore(t)}getObjectStoreRW(e,t){return e.transaction(t,"readwrite").objectStore(t)}getObjectStoreRO(e,t){return e.transaction(t,"readonly").objectStore(t)}createObservable(e){return new Z(t=>{e.onsuccess=r=>{let i=r.target;t.next(i.result),t.complete()},e.onerror=r=>{let i=r.target;t.error(i.error)}})}createPromise(e){return new Promise((t,r)=>{e.onsuccess=i=>{let o=i.target;t(o.result)},e.onerror=i=>{let o=i.target;r(o.error)}})}static \u0275fac=function(t){return new(t||n)};static \u0275prov=O({token:n,factory:n.\u0275fac,providedIn:"root"})};var Ni=class n{constructor(e){this.todoItemUtils=e}updateItem(e,t,r=o=>{},i=o=>{}){let o=this.todoItemUtils.getObjectStoreRW(e,"todo_items").get(t.id);o&&(o.onsuccess=s=>{s.target.result.tags.join(",")!==t.tags.join(",")&&this.updateTags(e,t),t.version+=1,t.updationTimestamp=new Date(Date.now()).toISOString(),this.todoItemUtils.getObjectStoreRW(e,"todo_items").put(t),r(s)},o.onerror=i)}updateTags(e,t,r=o=>{},i=o=>{}){t.tags.forEach(o=>{let s=o.name.trim(),a=this.todoItemUtils.getObjectStoreRO(e,"tags_todo_items").get(s);a&&(a.onsuccess=l=>{let c=l.target;if(c.result){let u=c.result.todo_items;u.push(t.id),this.todoItemUtils.getObjectStoreRW(e,"tags_todo_items").put({name:s,todo_items:u})}else this.todoItemUtils.getObjectStoreRW(e,"tags_todo_items").add({name:s,todo_items:[t.id]});r(l)},a.onerror=i)})}updateCustom(e,t,r,i=s=>{},o=s=>{}){let s=this.todoItemUtils.getObjectStoreRW(e,"custom_items").get(t);s&&(s.onsuccess=a=>{let l=a.target;this.todoItemUtils.getObjectStoreRW(e,"custom_items").put(r),i(a)},s.onerror=o)}static \u0275fac=function(t){return new(t||n)(N(Bt))};static \u0275prov=O({token:n,factory:n.\u0275fac,providedIn:"root"})};var ra=class n{constructor(e,t){this.todoItemUtils=e;this.updateService=t}addItem(e,t,r=o=>{},i=o=>{}){(!t.uuid||t.uuid.trim()==="")&&(t.uuid=ko());let o=this.todoItemUtils.getObjectStoreRW(e,"todo_items").add(t);o&&(o.onsuccess=s=>{let l=s.target.result,c=T({id:l},t);this.updateService.updateTags(e,c),r(s)},o.onerror=s=>{console.error(s),i(s)})}addCustom(e,t,r,i=s=>{},o=s=>{}){let s=this.todoItemUtils.getObjectStoreRW(e,"custom_items").add({tag:t,item:r});s&&(s.onsuccess=i,s.onerror=a=>{console.error(a),o(a)})}static \u0275fac=function(t){return new(t||n)(N(Bt),N(Ni))};static \u0275prov=O({token:n,factory:n.\u0275fac,providedIn:"root"})};var ia=class n{constructor(e){this.todoItemUtils=e}deleteItem(e,t,r){r?this.todoItemUtils.getObjectStoreRW(e,"deleted_todo_items").delete(t.id):(t.deleted=!0,t.updationTimestamp=new Date(Date.now()).toISOString(),t.version+=1,this.todoItemUtils.getObjectStoreRW(e,"deleted_todo_items").add(t),this.todoItemUtils.getObjectStoreRW(e,"todo_items").delete(t.id))}static \u0275fac=function(t){return new(t||n)(N(Bt))};static \u0275prov=O({token:n,factory:n.\u0275fac,providedIn:"root"})};var Fi=class n{constructor(e){this.todoItemUtils=e}getItemById(e,t,r=!1){let i=r?"deleted_todo_items":"todo_items",s=this.todoItemUtils.getObjectStoreRO(e,i).get(t);return this.todoItemUtils.createObservable(s)}getItemByUUID(e,t,r=!1){let i=r?"deleted_todo_items":"todo_items",s=this.todoItemUtils.getObjectStoreRO(e,i).index("uuidIndex").get(t);return this.todoItemUtils.createObservable(s)}getAllItems(e,t=!1){let r=t?"deleted_todo_items":"todo_items",o=this.todoItemUtils.getObjectStoreRO(e,r).getAll();return this.todoItemUtils.createObservable(o)}getCustom(e,t){let i=this.todoItemUtils.getObjectStoreRO(e,"custom_items").get(t);return this.todoItemUtils.createObservable(i)}getAllCustom(e,t){let r=this.todoItemUtils.getObjectStoreRO(e,"custom_items");return He(t).pipe(Je(i=>{let o=r.get(i.name);return this.todoItemUtils.createObservable(o)}),Fp())}getTagWithNameLike(e,t){let i=this.todoItemUtils.getObjectStoreRO(e,"tags_todo_items").index("tagName"),o=IDBKeyRange.bound(t,t+"\uFFFF",!1,!1),s=i.openCursor(o);return new Z(a=>{let l=[];s.onsuccess=c=>{let u=c.target.result;u?(l.push(u.value),u.continue()):(a.next(l),a.complete())},s.onerror=c=>{a.error(c.target.error)}})}static \u0275fac=function(t){return new(t||n)(N(Bt))};static \u0275prov=O({token:n,factory:n.\u0275fac,providedIn:"root"})};var oa=class n{constructor(e,t){this.todoItemUtils=e;this.getService=t}searchTodosByQuery(e,t,r){let i=r?"deleted_todo_items":"todo_items",s=this.todoItemUtils.getObjectStoreRO(e,i).index("subjectIndex"),a=IDBKeyRange.bound(t,t+"\uFFFF",!1,!1),l=s.openCursor(a);return new Z(c=>{let u=new Set;l.onsuccess=d=>{let p=d.target.result;p?(u.add(p.value),p.continue()):(c.next(u),c.complete())},l.onerror=d=>{c.error(d.target.error)}})}searchTodosByTags(e,t,r,i=!0){let o=["tags_todo_items",r?"deleted_todo_items":"todo_items"],l=this.todoItemUtils.getObjectStoreRO(e,"tags_todo_items").index("tagName").openCursor();return new Z(c=>{let u=[],d=[],p=[];l.onsuccess=f=>{let h=f.target.result;if(h){let v=h.value;t.includes("+"+v.name)||t.includes(v.name)?u.push(...v.todo_items):t.includes("-"+v.name)?d.push(...v.todo_items):p.push(...v.todo_items),h.continue()}else{let v=new Set,y=new Set;(u.length?u:p).forEach(U=>{d.includes(U)||v.add(U)});let x=[];for(let U of v){let j=new Promise(S=>this.getService.getItemById(e,U,r).subscribe(H=>S(H)));x.push(j)}Promise.all(x).then(U=>{for(let j of U)if(i){let S=!0;for(let H of t){let q=j.tags.map(Se=>Se.name),Q=q.includes(H)||q.includes(H.substring(1));S=S&&(H.startsWith("+")&&Q||H.startsWith("-")&&!Q||Q)}S&&y.add(j)}else y.add(j);c.next(y),c.complete()})}},l.onerror=f=>{c.error(f.target.error)}})}searchTodos(e,t,r,i,o,s=!0){return(t==="!ALL:"||t==="")&&r.length===0&&i.length===0?this.getService.getAllItems(e,o):new Z(a=>{let l=[];t.length>0&&l.push(new Promise(c=>{this.searchTodosByQuery(e,t,o).subscribe(u=>c(u))})),r.length>0&&l.push(new Promise(c=>{this.searchTodosByTags(e,r,o,s).subscribe(u=>c(u))})),i.length>0&&l.push(new Promise(c=>{this.getService.getAllItems(e,o).subscribe(u=>{let d=i.map(h=>h.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")),p=d.length>1?new RegExp(`\\b(${s?d:d.join("|")})\\b`,"i"):new RegExp(d[0],"i"),f=new Set;for(let h=0;h<u.length;h++)p.test(JSON.stringify(u[h]))&&f.add(u[h]);c(f)})})),Promise.all(l).then(c=>{if(s){let u=[],d=[],p=0;for(let f of c){let h=Array.from(f);h.sort((v,y)=>v.id-y.id),p=p<h.length?h.length:p,d.push(h)}for(let f=0;f<p;f++){let h=!0,v=d[0][f].id;for(let y of d)if(y[f].id!==v){h=!1;break}h&&u.push(d[0][f])}a.next(u),a.complete()}else{let u=c.reduce((d,p)=>new Set([...d,...p]),new Set);a.next(Array.from(u)),a.complete()}})})}static \u0275fac=function(t){return new(t||n)(N(Bt),N(Fi))};static \u0275prov=O({token:n,factory:n.\u0275fac,providedIn:"root"})};var Pi=class n{constructor(e){this.todoItemUtils=e}getComparatorForType(e){if(e)switch(Object.getPrototypeOf(e)){case Number.prototype:return(i,o)=>i-o;case String.prototype:let t=Number.parseFloat(e),r=new RegExp("^[\\d.]+$");return!Number.isNaN(t)&&r.test(e)?(i,o)=>(Number.isNaN(i)&&(i=0),Number.isNaN(o)&&(o=0),i-o):(i,o)=>i===o?0:i<o?-1:1;case Boolean.prototype:return(i,o)=>i==o?0:i?1:-1;case Date.prototype:return(i,o)=>i.getTime()-o.getTime();case Object.prototype:return this.sortByReminderAndCompletionStatus}return(t,r)=>0}sortByReminderAndCompletionStatus(e,t){return!e.completionStatus&&t.completionStatus?-1:e.completionStatus&&!t.completionStatus?1:e.setForReminder&&!t.setForReminder?-1:!e.setForReminder&&t.setForReminder?1:Date.parse(t.updationTimestamp)-Date.parse(e.updationTimestamp)}sortItems(e,t,r=Number.MAX_SAFE_INTEGER){return r=r||Number.MAX_SAFE_INTEGER,new Z(i=>{if(!e||e.length==0){t=t.sort(this.sortByReminderAndCompletionStatus),i.next(t),i.complete();return}let o=new Map([["unsorted",(c,u)=>1]]),s=e[0]!=="desc";e.length==1&&o.set("ReminderAndCompletionStatus",this.sortByReminderAndCompletionStatus);let a=e[1]==="lat";e[1]==="old"?o.set("oldest",(c,u)=>new Date(c.creationTimestamp).getTime()-new Date(u.creationTimestamp).getTime()):a&&o.set("latest",(c,u)=>new Date(u.updationTimestamp).getTime()-new Date(c.updationTimestamp).getTime());for(let c of e)c==="old"||c==="lat"||c==="asc"||c==="desc"||!c||o.set(c,(u,d)=>{let p=u[c],f=d[c];return!(p&&f)&&u.userDefined?.data&&d.userDefined?.data&&(p=(u.userDefined?.data)[c],f=(d.userDefined?.data)[c]),p&&f?this.getComparatorForType(p)(p,f)*(s?1:-1):-1});for(let c of o)t=t.sort(c[1]);i.next(t),i.complete()}).pipe(Je(i=>z(i.slice(0,r))))}static \u0275fac=function(t){return new(t||n)(N(Bt))};static \u0275prov=O({token:n,factory:n.\u0275fac,providedIn:"root"})};function rc(n,e){return function(){return n.apply(e,arguments)}}var{toString:FV}=Object.prototype,{getPrototypeOf:Ty}=Object,{iterator:$f,toStringTag:gS}=Symbol,Hf=(n=>e=>{let t=FV.call(e);return n[t]||(n[t]=t.slice(8,-1).toLowerCase())})(Object.create(null)),Xn=n=>(n=n.toLowerCase(),e=>Hf(e)===n),zf=n=>e=>typeof e===n,{isArray:aa}=Array,sa=zf("undefined");function ic(n){return n!==null&&!sa(n)&&n.constructor!==null&&!sa(n.constructor)&&un(n.constructor.isBuffer)&&n.constructor.isBuffer(n)}var vS=Xn("ArrayBuffer");function PV(n){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(n):e=n&&n.buffer&&vS(n.buffer),e}var LV=zf("string"),un=zf("function"),yS=zf("number"),oc=n=>n!==null&&typeof n=="object",VV=n=>n===!0||n===!1,Uf=n=>{if(Hf(n)!=="object")return!1;let e=Ty(n);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(gS in n)&&!($f in n)},jV=n=>{if(!oc(n)||ic(n))return!1;try{return Object.keys(n).length===0&&Object.getPrototypeOf(n)===Object.prototype}catch{return!1}},BV=Xn("Date"),UV=Xn("File"),$V=Xn("Blob"),HV=Xn("FileList"),zV=n=>oc(n)&&un(n.pipe),GV=n=>{let e;return n&&(typeof FormData=="function"&&n instanceof FormData||un(n.append)&&((e=Hf(n))==="formdata"||e==="object"&&un(n.toString)&&n.toString()==="[object FormData]"))},qV=Xn("URLSearchParams"),[WV,ZV,YV,JV]=["ReadableStream","Request","Response","Headers"].map(Xn),QV=n=>n.trim?n.trim():n.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function sc(n,e,{allOwnKeys:t=!1}={}){if(n===null||typeof n>"u")return;let r,i;if(typeof n!="object"&&(n=[n]),aa(n))for(r=0,i=n.length;r<i;r++)e.call(null,n[r],r,n);else{if(ic(n))return;let o=t?Object.getOwnPropertyNames(n):Object.keys(n),s=o.length,a;for(r=0;r<s;r++)a=o[r],e.call(null,n[a],a,n)}}function _S(n,e){if(ic(n))return null;e=e.toLowerCase();let t=Object.keys(n),r=t.length,i;for(;r-- >0;)if(i=t[r],e===i.toLowerCase())return i;return null}var Fo=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,bS=n=>!sa(n)&&n!==Fo;function Sy(){let{caseless:n,skipUndefined:e}=bS(this)&&this||{},t={},r=(i,o)=>{let s=n&&_S(t,o)||o;Uf(t[s])&&Uf(i)?t[s]=Sy(t[s],i):Uf(i)?t[s]=Sy({},i):aa(i)?t[s]=i.slice():(!e||!sa(i))&&(t[s]=i)};for(let i=0,o=arguments.length;i<o;i++)arguments[i]&&sc(arguments[i],r);return t}var KV=(n,e,t,{allOwnKeys:r}={})=>(sc(e,(i,o)=>{t&&un(i)?n[o]=rc(i,t):n[o]=i},{allOwnKeys:r}),n),XV=n=>(n.charCodeAt(0)===65279&&(n=n.slice(1)),n),ej=(n,e,t,r)=>{n.prototype=Object.create(e.prototype,r),n.prototype.constructor=n,Object.defineProperty(n,"super",{value:e.prototype}),t&&Object.assign(n.prototype,t)},tj=(n,e,t,r)=>{let i,o,s,a={};if(e=e||{},n==null)return e;do{for(i=Object.getOwnPropertyNames(n),o=i.length;o-- >0;)s=i[o],(!r||r(s,n,e))&&!a[s]&&(e[s]=n[s],a[s]=!0);n=t!==!1&&Ty(n)}while(n&&(!t||t(n,e))&&n!==Object.prototype);return e},nj=(n,e,t)=>{n=String(n),(t===void 0||t>n.length)&&(t=n.length),t-=e.length;let r=n.indexOf(e,t);return r!==-1&&r===t},rj=n=>{if(!n)return null;if(aa(n))return n;let e=n.length;if(!yS(e))return null;let t=new Array(e);for(;e-- >0;)t[e]=n[e];return t},ij=(n=>e=>n&&e instanceof n)(typeof Uint8Array<"u"&&Ty(Uint8Array)),oj=(n,e)=>{let r=(n&&n[$f]).call(n),i;for(;(i=r.next())&&!i.done;){let o=i.value;e.call(n,o[0],o[1])}},sj=(n,e)=>{let t,r=[];for(;(t=n.exec(e))!==null;)r.push(t);return r},aj=Xn("HTMLFormElement"),lj=n=>n.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(t,r,i){return r.toUpperCase()+i}),mS=(({hasOwnProperty:n})=>(e,t)=>n.call(e,t))(Object.prototype),cj=Xn("RegExp"),wS=(n,e)=>{let t=Object.getOwnPropertyDescriptors(n),r={};sc(t,(i,o)=>{let s;(s=e(i,o,n))!==!1&&(r[o]=s||i)}),Object.defineProperties(n,r)},uj=n=>{wS(n,(e,t)=>{if(un(n)&&["arguments","caller","callee"].indexOf(t)!==-1)return!1;let r=n[t];if(un(r)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+t+"'")})}})},dj=(n,e)=>{let t={},r=i=>{i.forEach(o=>{t[o]=!0})};return aa(n)?r(n):r(String(n).split(e)),t},fj=()=>{},hj=(n,e)=>n!=null&&Number.isFinite(n=+n)?n:e;function pj(n){return!!(n&&un(n.append)&&n[gS]==="FormData"&&n[$f])}var mj=n=>{let e=new Array(10),t=(r,i)=>{if(oc(r)){if(e.indexOf(r)>=0)return;if(ic(r))return r;if(!("toJSON"in r)){e[i]=r;let o=aa(r)?[]:{};return sc(r,(s,a)=>{let l=t(s,i+1);!sa(l)&&(o[a]=l)}),e[i]=void 0,o}}return r};return t(n,0)},gj=Xn("AsyncFunction"),vj=n=>n&&(oc(n)||un(n))&&un(n.then)&&un(n.catch),CS=((n,e)=>n?setImmediate:e?((t,r)=>(Fo.addEventListener("message",({source:i,data:o})=>{i===Fo&&o===t&&r.length&&r.shift()()},!1),i=>{r.push(i),Fo.postMessage(t,"*")}))(`axios@${Math.random()}`,[]):t=>setTimeout(t))(typeof setImmediate=="function",un(Fo.postMessage)),yj=typeof queueMicrotask<"u"?queueMicrotask.bind(Fo):typeof process<"u"&&process.nextTick||CS,_j=n=>n!=null&&un(n[$f]),w={isArray:aa,isArrayBuffer:vS,isBuffer:ic,isFormData:GV,isArrayBufferView:PV,isString:LV,isNumber:yS,isBoolean:VV,isObject:oc,isPlainObject:Uf,isEmptyObject:jV,isReadableStream:WV,isRequest:ZV,isResponse:YV,isHeaders:JV,isUndefined:sa,isDate:BV,isFile:UV,isBlob:$V,isRegExp:cj,isFunction:un,isStream:zV,isURLSearchParams:qV,isTypedArray:ij,isFileList:HV,forEach:sc,merge:Sy,extend:KV,trim:QV,stripBOM:XV,inherits:ej,toFlatObject:tj,kindOf:Hf,kindOfTest:Xn,endsWith:nj,toArray:rj,forEachEntry:oj,matchAll:sj,isHTMLForm:aj,hasOwnProperty:mS,hasOwnProp:mS,reduceDescriptors:wS,freezeMethods:uj,toObjectSet:dj,toCamelCase:lj,noop:fj,toFiniteNumber:hj,findKey:_S,global:Fo,isContextDefined:bS,isSpecCompliantForm:pj,toJSONObject:mj,isAsyncFn:gj,isThenable:vj,setImmediate:CS,asap:yj,isIterable:_j};function la(n,e,t,r,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=n,this.name="AxiosError",e&&(this.code=e),t&&(this.config=t),r&&(this.request=r),i&&(this.response=i,this.status=i.status?i.status:null)}w.inherits(la,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:w.toJSONObject(this.config),code:this.code,status:this.status}}});var ES=la.prototype,IS={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(n=>{IS[n]={value:n}});Object.defineProperties(la,IS);Object.defineProperty(ES,"isAxiosError",{value:!0});la.from=(n,e,t,r,i,o)=>{let s=Object.create(ES);w.toFlatObject(n,s,function(u){return u!==Error.prototype},c=>c!=="isAxiosError");let a=n&&n.message?n.message:"Error",l=e==null&&n?n.code:e;return la.call(s,a,l,t,r,i),n&&s.cause==null&&Object.defineProperty(s,"cause",{value:n,configurable:!0}),s.name=n&&n.name||"Error",o&&Object.assign(s,o),s};var te=la;var Gf=null;function xy(n){return w.isPlainObject(n)||w.isArray(n)}function SS(n){return w.endsWith(n,"[]")?n.slice(0,-2):n}function DS(n,e,t){return n?n.concat(e).map(function(i,o){return i=SS(i),!t&&o?"["+i+"]":i}).join(t?".":""):e}function bj(n){return w.isArray(n)&&!n.some(xy)}var wj=w.toFlatObject(w,{},null,function(e){return/^is[A-Z]/.test(e)});function Cj(n,e,t){if(!w.isObject(n))throw new TypeError("target must be an object");e=e||new(Gf||FormData),t=w.toFlatObject(t,{metaTokens:!0,dots:!1,indexes:!1},!1,function(v,y){return!w.isUndefined(y[v])});let r=t.metaTokens,i=t.visitor||u,o=t.dots,s=t.indexes,l=(t.Blob||typeof Blob<"u"&&Blob)&&w.isSpecCompliantForm(e);if(!w.isFunction(i))throw new TypeError("visitor must be a function");function c(h){if(h===null)return"";if(w.isDate(h))return h.toISOString();if(w.isBoolean(h))return h.toString();if(!l&&w.isBlob(h))throw new te("Blob is not supported. Use a Buffer instead.");return w.isArrayBuffer(h)||w.isTypedArray(h)?l&&typeof Blob=="function"?new Blob([h]):Buffer.from(h):h}function u(h,v,y){let x=h;if(h&&!y&&typeof h=="object"){if(w.endsWith(v,"{}"))v=r?v:v.slice(0,-2),h=JSON.stringify(h);else if(w.isArray(h)&&bj(h)||(w.isFileList(h)||w.endsWith(v,"[]"))&&(x=w.toArray(h)))return v=SS(v),x.forEach(function(j,S){!(w.isUndefined(j)||j===null)&&e.append(s===!0?DS([v],S,o):s===null?v:v+"[]",c(j))}),!1}return xy(h)?!0:(e.append(DS(y,v,o),c(h)),!1)}let d=[],p=Object.assign(wj,{defaultVisitor:u,convertValue:c,isVisitable:xy});function f(h,v){if(!w.isUndefined(h)){if(d.indexOf(h)!==-1)throw Error("Circular reference detected in "+v.join("."));d.push(h),w.forEach(h,function(x,U){(!(w.isUndefined(x)||x===null)&&i.call(e,x,w.isString(U)?U.trim():U,v,p))===!0&&f(x,v?v.concat(U):[U])}),d.pop()}}if(!w.isObject(n))throw new TypeError("data must be an object");return f(n),e}var Li=Cj;function TS(n){let e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(n).replace(/[!'()~]|%20|%00/g,function(r){return e[r]})}function xS(n,e){this._pairs=[],n&&Li(n,this,e)}var MS=xS.prototype;MS.append=function(e,t){this._pairs.push([e,t])};MS.toString=function(e){let t=e?function(r){return e.call(this,r,TS)}:TS;return this._pairs.map(function(i){return t(i[0])+"="+t(i[1])},"").join("&")};var qf=xS;function Ej(n){return encodeURIComponent(n).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function ac(n,e,t){if(!e)return n;let r=t&&t.encode||Ej;w.isFunction(t)&&(t={serialize:t});let i=t&&t.serialize,o;if(i?o=i(e,t):o=w.isURLSearchParams(e)?e.toString():new qf(e,t).toString(r),o){let s=n.indexOf("#");s!==-1&&(n=n.slice(0,s)),n+=(n.indexOf("?")===-1?"?":"&")+o}return n}var My=class{constructor(){this.handlers=[]}use(e,t,r){return this.handlers.push({fulfilled:e,rejected:t,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){w.forEach(this.handlers,function(r){r!==null&&e(r)})}},Ay=My;var Wf={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1};var AS=typeof URLSearchParams<"u"?URLSearchParams:qf;var RS=typeof FormData<"u"?FormData:null;var OS=typeof Blob<"u"?Blob:null;var kS={isBrowser:!0,classes:{URLSearchParams:AS,FormData:RS,Blob:OS},protocols:["http","https","file","blob","url","data"]};var ky={};OM(ky,{hasBrowserEnv:()=>Oy,hasStandardBrowserEnv:()=>Ij,hasStandardBrowserWebWorkerEnv:()=>Dj,navigator:()=>Ry,origin:()=>Sj});var Oy=typeof window<"u"&&typeof document<"u",Ry=typeof navigator=="object"&&navigator||void 0,Ij=Oy&&(!Ry||["ReactNative","NativeScript","NS"].indexOf(Ry.product)<0),Dj=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",Sj=Oy&&window.location.href||"http://localhost";var nt=T(T({},ky),kS);function Ny(n,e){return Li(n,new nt.classes.URLSearchParams,T({visitor:function(t,r,i,o){return nt.isNode&&w.isBuffer(t)?(this.append(r,t.toString("base64")),!1):o.defaultVisitor.apply(this,arguments)}},e))}function Tj(n){return w.matchAll(/\w+|\[(\w*)]/g,n).map(e=>e[0]==="[]"?"":e[1]||e[0])}function xj(n){let e={},t=Object.keys(n),r,i=t.length,o;for(r=0;r<i;r++)o=t[r],e[o]=n[o];return e}function Mj(n){function e(t,r,i,o){let s=t[o++];if(s==="__proto__")return!0;let a=Number.isFinite(+s),l=o>=t.length;return s=!s&&w.isArray(i)?i.length:s,l?(w.hasOwnProp(i,s)?i[s]=[i[s],r]:i[s]=r,!a):((!i[s]||!w.isObject(i[s]))&&(i[s]=[]),e(t,r,i[s],o)&&w.isArray(i[s])&&(i[s]=xj(i[s])),!a)}if(w.isFormData(n)&&w.isFunction(n.entries)){let t={};return w.forEachEntry(n,(r,i)=>{e(Tj(r),i,t,0)}),t}return null}var Zf=Mj;function Aj(n,e,t){if(w.isString(n))try{return(e||JSON.parse)(n),w.trim(n)}catch(r){if(r.name!=="SyntaxError")throw r}return(t||JSON.stringify)(n)}var Fy={transitional:Wf,adapter:["xhr","http","fetch"],transformRequest:[function(e,t){let r=t.getContentType()||"",i=r.indexOf("application/json")>-1,o=w.isObject(e);if(o&&w.isHTMLForm(e)&&(e=new FormData(e)),w.isFormData(e))return i?JSON.stringify(Zf(e)):e;if(w.isArrayBuffer(e)||w.isBuffer(e)||w.isStream(e)||w.isFile(e)||w.isBlob(e)||w.isReadableStream(e))return e;if(w.isArrayBufferView(e))return e.buffer;if(w.isURLSearchParams(e))return t.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let a;if(o){if(r.indexOf("application/x-www-form-urlencoded")>-1)return Ny(e,this.formSerializer).toString();if((a=w.isFileList(e))||r.indexOf("multipart/form-data")>-1){let l=this.env&&this.env.FormData;return Li(a?{"files[]":e}:e,l&&new l,this.formSerializer)}}return o||i?(t.setContentType("application/json",!1),Aj(e)):e}],transformResponse:[function(e){let t=this.transitional||Fy.transitional,r=t&&t.forcedJSONParsing,i=this.responseType==="json";if(w.isResponse(e)||w.isReadableStream(e))return e;if(e&&w.isString(e)&&(r&&!this.responseType||i)){let s=!(t&&t.silentJSONParsing)&&i;try{return JSON.parse(e,this.parseReviver)}catch(a){if(s)throw a.name==="SyntaxError"?te.from(a,te.ERR_BAD_RESPONSE,this,null,this.response):a}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:nt.classes.FormData,Blob:nt.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};w.forEach(["delete","get","head","post","put","patch"],n=>{Fy.headers[n]={}});var ca=Fy;var Rj=w.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),NS=n=>{let e={},t,r,i;return n&&n.split(`
`).forEach(function(s){i=s.indexOf(":"),t=s.substring(0,i).trim().toLowerCase(),r=s.substring(i+1).trim(),!(!t||e[t]&&Rj[t])&&(t==="set-cookie"?e[t]?e[t].push(r):e[t]=[r]:e[t]=e[t]?e[t]+", "+r:r)}),e};var FS=Symbol("internals");function lc(n){return n&&String(n).trim().toLowerCase()}function Yf(n){return n===!1||n==null?n:w.isArray(n)?n.map(Yf):String(n)}function Oj(n){let e=Object.create(null),t=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g,r;for(;r=t.exec(n);)e[r[1]]=r[2];return e}var kj=n=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(n.trim());function Py(n,e,t,r,i){if(w.isFunction(r))return r.call(this,e,t);if(i&&(e=t),!!w.isString(e)){if(w.isString(r))return e.indexOf(r)!==-1;if(w.isRegExp(r))return r.test(e)}}function Nj(n){return n.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,t,r)=>t.toUpperCase()+r)}function Fj(n,e){let t=w.toCamelCase(" "+e);["get","set","has"].forEach(r=>{Object.defineProperty(n,r+t,{value:function(i,o,s){return this[r].call(this,e,i,o,s)},configurable:!0})})}var ua=class{constructor(e){e&&this.set(e)}set(e,t,r){let i=this;function o(a,l,c){let u=lc(l);if(!u)throw new Error("header name must be a non-empty string");let d=w.findKey(i,u);(!d||i[d]===void 0||c===!0||c===void 0&&i[d]!==!1)&&(i[d||l]=Yf(a))}let s=(a,l)=>w.forEach(a,(c,u)=>o(c,u,l));if(w.isPlainObject(e)||e instanceof this.constructor)s(e,t);else if(w.isString(e)&&(e=e.trim())&&!kj(e))s(NS(e),t);else if(w.isObject(e)&&w.isIterable(e)){let a={},l,c;for(let u of e){if(!w.isArray(u))throw TypeError("Object iterator must return a key-value pair");a[c=u[0]]=(l=a[c])?w.isArray(l)?[...l,u[1]]:[l,u[1]]:u[1]}s(a,t)}else e!=null&&o(t,e,r);return this}get(e,t){if(e=lc(e),e){let r=w.findKey(this,e);if(r){let i=this[r];if(!t)return i;if(t===!0)return Oj(i);if(w.isFunction(t))return t.call(this,i,r);if(w.isRegExp(t))return t.exec(i);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,t){if(e=lc(e),e){let r=w.findKey(this,e);return!!(r&&this[r]!==void 0&&(!t||Py(this,this[r],r,t)))}return!1}delete(e,t){let r=this,i=!1;function o(s){if(s=lc(s),s){let a=w.findKey(r,s);a&&(!t||Py(r,r[a],a,t))&&(delete r[a],i=!0)}}return w.isArray(e)?e.forEach(o):o(e),i}clear(e){let t=Object.keys(this),r=t.length,i=!1;for(;r--;){let o=t[r];(!e||Py(this,this[o],o,e,!0))&&(delete this[o],i=!0)}return i}normalize(e){let t=this,r={};return w.forEach(this,(i,o)=>{let s=w.findKey(r,o);if(s){t[s]=Yf(i),delete t[o];return}let a=e?Nj(o):String(o).trim();a!==o&&delete t[o],t[a]=Yf(i),r[a]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){let t=Object.create(null);return w.forEach(this,(r,i)=>{r!=null&&r!==!1&&(t[i]=e&&w.isArray(r)?r.join(", "):r)}),t}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,t])=>e+": "+t).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...t){let r=new this(e);return t.forEach(i=>r.set(i)),r}static accessor(e){let r=(this[FS]=this[FS]={accessors:{}}).accessors,i=this.prototype;function o(s){let a=lc(s);r[a]||(Fj(i,s),r[a]=!0)}return w.isArray(e)?e.forEach(o):o(e),this}};ua.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);w.reduceDescriptors(ua.prototype,({value:n},e)=>{let t=e[0].toUpperCase()+e.slice(1);return{get:()=>n,set(r){this[t]=r}}});w.freezeMethods(ua);var wt=ua;function cc(n,e){let t=this||ca,r=e||t,i=wt.from(r.headers),o=r.data;return w.forEach(n,function(a){o=a.call(t,o,i.normalize(),e?e.status:void 0)}),i.normalize(),o}function uc(n){return!!(n&&n.__CANCEL__)}function PS(n,e,t){te.call(this,n??"canceled",te.ERR_CANCELED,e,t),this.name="CanceledError"}w.inherits(PS,te,{__CANCEL__:!0});var Ir=PS;function dc(n,e,t){let r=t.config.validateStatus;!t.status||!r||r(t.status)?n(t):e(new te("Request failed with status code "+t.status,[te.ERR_BAD_REQUEST,te.ERR_BAD_RESPONSE][Math.floor(t.status/100)-4],t.config,t.request,t))}function Ly(n){let e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(n);return e&&e[1]||""}function Pj(n,e){n=n||10;let t=new Array(n),r=new Array(n),i=0,o=0,s;return e=e!==void 0?e:1e3,function(l){let c=Date.now(),u=r[o];s||(s=c),t[i]=l,r[i]=c;let d=o,p=0;for(;d!==i;)p+=t[d++],d=d%n;if(i=(i+1)%n,i===o&&(o=(o+1)%n),c-s<e)return;let f=u&&c-u;return f?Math.round(p*1e3/f):void 0}}var LS=Pj;function Lj(n,e){let t=0,r=1e3/e,i,o,s=(c,u=Date.now())=>{t=u,i=null,o&&(clearTimeout(o),o=null),n(...c)};return[(...c)=>{let u=Date.now(),d=u-t;d>=r?s(c,u):(i=c,o||(o=setTimeout(()=>{o=null,s(i)},r-d)))},()=>i&&s(i)]}var VS=Lj;var da=(n,e,t=3)=>{let r=0,i=LS(50,250);return VS(o=>{let s=o.loaded,a=o.lengthComputable?o.total:void 0,l=s-r,c=i(l),u=s<=a;r=s;let d={loaded:s,total:a,progress:a?s/a:void 0,bytes:l,rate:c||void 0,estimated:c&&a&&u?(a-s)/c:void 0,event:o,lengthComputable:a!=null,[e?"download":"upload"]:!0};n(d)},t)},Vy=(n,e)=>{let t=n!=null;return[r=>e[0]({lengthComputable:t,total:n,loaded:r}),e[1]]},jy=n=>(...e)=>w.asap(()=>n(...e));var jS=nt.hasStandardBrowserEnv?((n,e)=>t=>(t=new URL(t,nt.origin),n.protocol===t.protocol&&n.host===t.host&&(e||n.port===t.port)))(new URL(nt.origin),nt.navigator&&/(msie|trident)/i.test(nt.navigator.userAgent)):()=>!0;var BS=nt.hasStandardBrowserEnv?{write(n,e,t,r,i,o){let s=[n+"="+encodeURIComponent(e)];w.isNumber(t)&&s.push("expires="+new Date(t).toGMTString()),w.isString(r)&&s.push("path="+r),w.isString(i)&&s.push("domain="+i),o===!0&&s.push("secure"),document.cookie=s.join("; ")},read(n){let e=document.cookie.match(new RegExp("(^|;\\s*)("+n+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove(n){this.write(n,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function By(n){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(n)}function Uy(n,e){return e?n.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):n}function fc(n,e,t){let r=!By(e);return n&&(r||t==!1)?Uy(n,e):e}var US=n=>n instanceof wt?T({},n):n;function er(n,e){e=e||{};let t={};function r(c,u,d,p){return w.isPlainObject(c)&&w.isPlainObject(u)?w.merge.call({caseless:p},c,u):w.isPlainObject(u)?w.merge({},u):w.isArray(u)?u.slice():u}function i(c,u,d,p){if(w.isUndefined(u)){if(!w.isUndefined(c))return r(void 0,c,d,p)}else return r(c,u,d,p)}function o(c,u){if(!w.isUndefined(u))return r(void 0,u)}function s(c,u){if(w.isUndefined(u)){if(!w.isUndefined(c))return r(void 0,c)}else return r(void 0,u)}function a(c,u,d){if(d in e)return r(c,u);if(d in n)return r(void 0,c)}let l={url:o,method:o,data:o,baseURL:s,transformRequest:s,transformResponse:s,paramsSerializer:s,timeout:s,timeoutMessage:s,withCredentials:s,withXSRFToken:s,adapter:s,responseType:s,xsrfCookieName:s,xsrfHeaderName:s,onUploadProgress:s,onDownloadProgress:s,decompress:s,maxContentLength:s,maxBodyLength:s,beforeRedirect:s,transport:s,httpAgent:s,httpsAgent:s,cancelToken:s,socketPath:s,responseEncoding:s,validateStatus:a,headers:(c,u,d)=>i(US(c),US(u),d,!0)};return w.forEach(Object.keys(T(T({},n),e)),function(u){let d=l[u]||i,p=d(n[u],e[u],u);w.isUndefined(p)&&d!==a||(t[u]=p)}),t}var Jf=n=>{let e=er({},n),{data:t,withXSRFToken:r,xsrfHeaderName:i,xsrfCookieName:o,headers:s,auth:a}=e;if(e.headers=s=wt.from(s),e.url=ac(fc(e.baseURL,e.url,e.allowAbsoluteUrls),n.params,n.paramsSerializer),a&&s.set("Authorization","Basic "+btoa((a.username||"")+":"+(a.password?unescape(encodeURIComponent(a.password)):""))),w.isFormData(t)){if(nt.hasStandardBrowserEnv||nt.hasStandardBrowserWebWorkerEnv)s.setContentType(void 0);else if(w.isFunction(t.getHeaders)){let l=t.getHeaders(),c=["content-type","content-length"];Object.entries(l).forEach(([u,d])=>{c.includes(u.toLowerCase())&&s.set(u,d)})}}if(nt.hasStandardBrowserEnv&&(r&&w.isFunction(r)&&(r=r(e)),r||r!==!1&&jS(e.url))){let l=i&&o&&BS.read(o);l&&s.set(i,l)}return e};var Vj=typeof XMLHttpRequest<"u",$S=Vj&&function(n){return new Promise(function(t,r){let i=Jf(n),o=i.data,s=wt.from(i.headers).normalize(),{responseType:a,onUploadProgress:l,onDownloadProgress:c}=i,u,d,p,f,h;function v(){f&&f(),h&&h(),i.cancelToken&&i.cancelToken.unsubscribe(u),i.signal&&i.signal.removeEventListener("abort",u)}let y=new XMLHttpRequest;y.open(i.method.toUpperCase(),i.url,!0),y.timeout=i.timeout;function x(){if(!y)return;let j=wt.from("getAllResponseHeaders"in y&&y.getAllResponseHeaders()),H={data:!a||a==="text"||a==="json"?y.responseText:y.response,status:y.status,statusText:y.statusText,headers:j,config:n,request:y};dc(function(Q){t(Q),v()},function(Q){r(Q),v()},H),y=null}"onloadend"in y?y.onloadend=x:y.onreadystatechange=function(){!y||y.readyState!==4||y.status===0&&!(y.responseURL&&y.responseURL.indexOf("file:")===0)||setTimeout(x)},y.onabort=function(){y&&(r(new te("Request aborted",te.ECONNABORTED,n,y)),y=null)},y.onerror=function(S){let H=S&&S.message?S.message:"Network Error",q=new te(H,te.ERR_NETWORK,n,y);q.event=S||null,r(q),y=null},y.ontimeout=function(){let S=i.timeout?"timeout of "+i.timeout+"ms exceeded":"timeout exceeded",H=i.transitional||Wf;i.timeoutErrorMessage&&(S=i.timeoutErrorMessage),r(new te(S,H.clarifyTimeoutError?te.ETIMEDOUT:te.ECONNABORTED,n,y)),y=null},o===void 0&&s.setContentType(null),"setRequestHeader"in y&&w.forEach(s.toJSON(),function(S,H){y.setRequestHeader(H,S)}),w.isUndefined(i.withCredentials)||(y.withCredentials=!!i.withCredentials),a&&a!=="json"&&(y.responseType=i.responseType),c&&([p,h]=da(c,!0),y.addEventListener("progress",p)),l&&y.upload&&([d,f]=da(l),y.upload.addEventListener("progress",d),y.upload.addEventListener("loadend",f)),(i.cancelToken||i.signal)&&(u=j=>{y&&(r(!j||j.type?new Ir(null,n,y):j),y.abort(),y=null)},i.cancelToken&&i.cancelToken.subscribe(u),i.signal&&(i.signal.aborted?u():i.signal.addEventListener("abort",u)));let U=Ly(i.url);if(U&&nt.protocols.indexOf(U)===-1){r(new te("Unsupported protocol "+U+":",te.ERR_BAD_REQUEST,n));return}y.send(o||null)})};var jj=(n,e)=>{let{length:t}=n=n?n.filter(Boolean):[];if(e||t){let r=new AbortController,i,o=function(c){if(!i){i=!0,a();let u=c instanceof Error?c:this.reason;r.abort(u instanceof te?u:new Ir(u instanceof Error?u.message:u))}},s=e&&setTimeout(()=>{s=null,o(new te(`timeout ${e} of ms exceeded`,te.ETIMEDOUT))},e),a=()=>{n&&(s&&clearTimeout(s),s=null,n.forEach(c=>{c.unsubscribe?c.unsubscribe(o):c.removeEventListener("abort",o)}),n=null)};n.forEach(c=>c.addEventListener("abort",o));let{signal:l}=r;return l.unsubscribe=()=>w.asap(a),l}},HS=jj;var Bj=function*(n,e){let t=n.byteLength;if(!e||t<e){yield n;return}let r=0,i;for(;r<t;)i=r+e,yield n.slice(r,i),r=i},Uj=function(n,e){return np(this,null,function*(){try{for(var t=X_($j(n)),r,i,o;r=!(i=yield new qi(t.next())).done;r=!1){let s=i.value;yield*rp(Bj(s,e))}}catch{o=[i]}finally{try{r&&(i=t.return)&&(yield new qi(i.call(t)))}finally{if(o)throw o[0]}}})},$j=function(n){return np(this,null,function*(){if(n[Symbol.asyncIterator]){yield*rp(n);return}let e=n.getReader();try{for(;;){let{done:t,value:r}=yield new qi(e.read());if(t)break;yield r}}finally{yield new qi(e.cancel())}})},$y=(n,e,t,r)=>{let i=Uj(n,e),o=0,s,a=c=>{s||(s=!0,r&&r(c))};return new ReadableStream({pull(c){return _e(this,null,function*(){try{let{done:u,value:d}=yield i.next();if(u){a(),c.close();return}let p=d.byteLength;if(t){let f=o+=p;t(f)}c.enqueue(new Uint8Array(d))}catch(u){throw a(u),u}})},cancel(c){return a(c),i.return()}},{highWaterMark:2})};var zS=64*1024,{isFunction:Qf}=w,ZS=(({fetch:n,Request:e,Response:t})=>({fetch:n,Request:e,Response:t}))(w.global),{ReadableStream:GS,TextEncoder:qS}=w.global,WS=(n,...e)=>{try{return!!n(...e)}catch{return!1}},Hj=n=>{let{fetch:e,Request:t,Response:r}=Object.assign({},ZS,n),i=Qf(e),o=Qf(t),s=Qf(r);if(!i)return!1;let a=i&&Qf(GS),l=i&&(typeof qS=="function"?(h=>v=>h.encode(v))(new qS):h=>_e(null,null,function*(){return new Uint8Array(yield new t(h).arrayBuffer())})),c=o&&a&&WS(()=>{let h=!1,v=new t(nt.origin,{body:new GS,method:"POST",get duplex(){return h=!0,"half"}}).headers.has("Content-Type");return h&&!v}),u=s&&a&&WS(()=>w.isReadableStream(new r("").body)),d={stream:u&&(h=>h.body)};i&&["text","arrayBuffer","blob","formData","stream"].forEach(h=>{!d[h]&&(d[h]=(v,y)=>{let x=v&&v[h];if(x)return x.call(v);throw new te(`Response type '${h}' is not supported`,te.ERR_NOT_SUPPORT,y)})});let p=h=>_e(null,null,function*(){if(h==null)return 0;if(w.isBlob(h))return h.size;if(w.isSpecCompliantForm(h))return(yield new t(nt.origin,{method:"POST",body:h}).arrayBuffer()).byteLength;if(w.isArrayBufferView(h)||w.isArrayBuffer(h))return h.byteLength;if(w.isURLSearchParams(h)&&(h=h+""),w.isString(h))return(yield l(h)).byteLength}),f=(h,v)=>_e(null,null,function*(){let y=w.toFiniteNumber(h.getContentLength());return y??p(v)});return h=>_e(null,null,function*(){let{url:v,method:y,data:x,signal:U,cancelToken:j,timeout:S,onDownloadProgress:H,onUploadProgress:q,responseType:Q,headers:Se,withCredentials:me="same-origin",fetchOptions:Ue}=Jf(h);Q=Q?(Q+"").toLowerCase():"text";let Ze=HS([U,j&&j.toAbortSignal()],S),$e=null,Pn=Ze&&Ze.unsubscribe&&(()=>{Ze.unsubscribe()}),qo;try{if(q&&c&&y!=="get"&&y!=="head"&&(qo=yield f(Se,x))!==0){let ar=new t(v,{method:"POST",body:x,duplex:"half"}),Or;if(w.isFormData(x)&&(Or=ar.headers.get("content-type"))&&Se.setContentType(Or),ar.body){let[Ca,Ft]=Vy(qo,da(jy(q)));x=$y(ar.body,zS,Ca,Ft)}}w.isString(me)||(me=me?"include":"omit");let rt=o&&"credentials"in t.prototype,wa=X(T({},Ue),{signal:Ze,method:y.toUpperCase(),headers:Se.normalize().toJSON(),body:x,duplex:"half",credentials:rt?me:void 0});$e=o&&new t(v,wa);let st=yield o?e($e,Ue):e(v,wa),Pc=u&&(Q==="stream"||Q==="response");if(u&&(H||Pc&&Pn)){let ar={};["status","statusText","headers"].forEach(Ea=>{ar[Ea]=st[Ea]});let Or=w.toFiniteNumber(st.headers.get("content-length")),[Ca,Ft]=H&&Vy(Or,da(jy(H),!0))||[];st=new r($y(st.body,zS,Ca,()=>{Ft&&Ft(),Pn&&Pn()}),ar)}Q=Q||"text";let Qh=yield d[w.findKey(d,Q)||"text"](st,h);return!Pc&&Pn&&Pn(),yield new Promise((ar,Or)=>{dc(ar,Or,{data:Qh,headers:wt.from(st.headers),status:st.status,statusText:st.statusText,config:h,request:$e})})}catch(rt){throw Pn&&Pn(),rt&&rt.name==="TypeError"&&/Load failed|fetch/i.test(rt.message)?Object.assign(new te("Network Error",te.ERR_NETWORK,h,$e),{cause:rt.cause||rt}):te.from(rt,rt&&rt.code,h,$e)}})},zj=new Map,Hy=n=>{let e=w.merge.call({skipUndefined:!0},ZS,n?n.env:null),{fetch:t,Request:r,Response:i}=e,o=[r,i,t],s=o.length,a=s,l,c,u=zj;for(;a--;)l=o[a],c=u.get(l),c===void 0&&u.set(l,c=a?new Map:Hj(e)),u=c;return c},bX=Hy();var zy={http:Gf,xhr:$S,fetch:{get:Hy}};w.forEach(zy,(n,e)=>{if(n){try{Object.defineProperty(n,"name",{value:e})}catch{}Object.defineProperty(n,"adapterName",{value:e})}});var YS=n=>`- ${n}`,qj=n=>w.isFunction(n)||n===null||n===!1,Kf={getAdapter:(n,e)=>{n=w.isArray(n)?n:[n];let{length:t}=n,r,i,o={};for(let s=0;s<t;s++){r=n[s];let a;if(i=r,!qj(r)&&(i=zy[(a=String(r)).toLowerCase()],i===void 0))throw new te(`Unknown adapter '${a}'`);if(i&&(w.isFunction(i)||(i=i.get(e))))break;o[a||"#"+s]=i}if(!i){let s=Object.entries(o).map(([l,c])=>`adapter ${l} `+(c===!1?"is not supported by the environment":"is not available in the build")),a=t?s.length>1?`since :
`+s.map(YS).join(`
`):" "+YS(s[0]):"as no adapter specified";throw new te("There is no suitable adapter to dispatch the request "+a,"ERR_NOT_SUPPORT")}return i},adapters:zy};function Gy(n){if(n.cancelToken&&n.cancelToken.throwIfRequested(),n.signal&&n.signal.aborted)throw new Ir(null,n)}function Xf(n){return Gy(n),n.headers=wt.from(n.headers),n.data=cc.call(n,n.transformRequest),["post","put","patch"].indexOf(n.method)!==-1&&n.headers.setContentType("application/x-www-form-urlencoded",!1),Kf.getAdapter(n.adapter||ca.adapter,n)(n).then(function(r){return Gy(n),r.data=cc.call(n,n.transformResponse,r),r.headers=wt.from(r.headers),r},function(r){return uc(r)||(Gy(n),r&&r.response&&(r.response.data=cc.call(n,n.transformResponse,r.response),r.response.headers=wt.from(r.response.headers))),Promise.reject(r)})}var eh="1.12.1";var th={};["object","boolean","number","function","string","symbol"].forEach((n,e)=>{th[n]=function(r){return typeof r===n||"a"+(e<1?"n ":" ")+n}});var JS={};th.transitional=function(e,t,r){function i(o,s){return"[Axios v"+eh+"] Transitional option '"+o+"'"+s+(r?". "+r:"")}return(o,s,a)=>{if(e===!1)throw new te(i(s," has been removed"+(t?" in "+t:"")),te.ERR_DEPRECATED);return t&&!JS[s]&&(JS[s]=!0,console.warn(i(s," has been deprecated since v"+t+" and will be removed in the near future"))),e?e(o,s,a):!0}};th.spelling=function(e){return(t,r)=>(console.warn(`${r} is likely a misspelling of ${e}`),!0)};function Wj(n,e,t){if(typeof n!="object")throw new te("options must be an object",te.ERR_BAD_OPTION_VALUE);let r=Object.keys(n),i=r.length;for(;i-- >0;){let o=r[i],s=e[o];if(s){let a=n[o],l=a===void 0||s(a,o,n);if(l!==!0)throw new te("option "+o+" must be "+l,te.ERR_BAD_OPTION_VALUE);continue}if(t!==!0)throw new te("Unknown option "+o,te.ERR_BAD_OPTION)}}var hc={assertOptions:Wj,validators:th};var Dr=hc.validators,fa=class{constructor(e){this.defaults=e||{},this.interceptors={request:new Ay,response:new Ay}}request(e,t){return _e(this,null,function*(){try{return yield this._request(e,t)}catch(r){if(r instanceof Error){let i={};Error.captureStackTrace?Error.captureStackTrace(i):i=new Error;let o=i.stack?i.stack.replace(/^.+\n/,""):"";try{r.stack?o&&!String(r.stack).endsWith(o.replace(/^.+\n.+\n/,""))&&(r.stack+=`
`+o):r.stack=o}catch{}}throw r}})}_request(e,t){typeof e=="string"?(t=t||{},t.url=e):t=e||{},t=er(this.defaults,t);let{transitional:r,paramsSerializer:i,headers:o}=t;r!==void 0&&hc.assertOptions(r,{silentJSONParsing:Dr.transitional(Dr.boolean),forcedJSONParsing:Dr.transitional(Dr.boolean),clarifyTimeoutError:Dr.transitional(Dr.boolean)},!1),i!=null&&(w.isFunction(i)?t.paramsSerializer={serialize:i}:hc.assertOptions(i,{encode:Dr.function,serialize:Dr.function},!0)),t.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?t.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:t.allowAbsoluteUrls=!0),hc.assertOptions(t,{baseUrl:Dr.spelling("baseURL"),withXsrfToken:Dr.spelling("withXSRFToken")},!0),t.method=(t.method||this.defaults.method||"get").toLowerCase();let s=o&&w.merge(o.common,o[t.method]);o&&w.forEach(["delete","get","head","post","put","patch","common"],h=>{delete o[h]}),t.headers=wt.concat(s,o);let a=[],l=!0;this.interceptors.request.forEach(function(v){typeof v.runWhen=="function"&&v.runWhen(t)===!1||(l=l&&v.synchronous,a.unshift(v.fulfilled,v.rejected))});let c=[];this.interceptors.response.forEach(function(v){c.push(v.fulfilled,v.rejected)});let u,d=0,p;if(!l){let h=[Xf.bind(this),void 0];for(h.unshift(...a),h.push(...c),p=h.length,u=Promise.resolve(t);d<p;)u=u.then(h[d++],h[d++]);return u}p=a.length;let f=t;for(d=0;d<p;){let h=a[d++],v=a[d++];try{f=h(f)}catch(y){v.call(this,y);break}}try{u=Xf.call(this,f)}catch(h){return Promise.reject(h)}for(d=0,p=c.length;d<p;)u=u.then(c[d++],c[d++]);return u}getUri(e){e=er(this.defaults,e);let t=fc(e.baseURL,e.url,e.allowAbsoluteUrls);return ac(t,e.params,e.paramsSerializer)}};w.forEach(["delete","get","head","options"],function(e){fa.prototype[e]=function(t,r){return this.request(er(r||{},{method:e,url:t,data:(r||{}).data}))}});w.forEach(["post","put","patch"],function(e){function t(r){return function(o,s,a){return this.request(er(a||{},{method:e,headers:r?{"Content-Type":"multipart/form-data"}:{},url:o,data:s}))}}fa.prototype[e]=t(),fa.prototype[e+"Form"]=t(!0)});var pc=fa;var qy=class n{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let t;this.promise=new Promise(function(o){t=o});let r=this;this.promise.then(i=>{if(!r._listeners)return;let o=r._listeners.length;for(;o-- >0;)r._listeners[o](i);r._listeners=null}),this.promise.then=i=>{let o,s=new Promise(a=>{r.subscribe(a),o=a}).then(i);return s.cancel=function(){r.unsubscribe(o)},s},e(function(o,s,a){r.reason||(r.reason=new Ir(o,s,a),t(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;let t=this._listeners.indexOf(e);t!==-1&&this._listeners.splice(t,1)}toAbortSignal(){let e=new AbortController,t=r=>{e.abort(r)};return this.subscribe(t),e.signal.unsubscribe=()=>this.unsubscribe(t),e.signal}static source(){let e;return{token:new n(function(i){e=i}),cancel:e}}},QS=qy;function Wy(n){return function(t){return n.apply(null,t)}}function Zy(n){return w.isObject(n)&&n.isAxiosError===!0}var Yy={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(Yy).forEach(([n,e])=>{Yy[e]=n});var KS=Yy;function XS(n){let e=new pc(n),t=rc(pc.prototype.request,e);return w.extend(t,pc.prototype,e,{allOwnKeys:!0}),w.extend(t,e,null,{allOwnKeys:!0}),t.create=function(i){return XS(er(n,i))},t}var pt=XS(ca);pt.Axios=pc;pt.CanceledError=Ir;pt.CancelToken=QS;pt.isCancel=uc;pt.VERSION=eh;pt.toFormData=Li;pt.AxiosError=te;pt.Cancel=pt.CanceledError;pt.all=function(e){return Promise.all(e)};pt.spread=Wy;pt.isAxiosError=Zy;pt.mergeConfig=er;pt.AxiosHeaders=wt;pt.formToJSON=n=>Zf(w.isHTMLForm(n)?new FormData(n):n);pt.getAdapter=Kf.getAdapter;pt.HttpStatusCode=KS;pt.default=pt;var eT=pt;var{Axios:nh,AxiosError:_ee,CanceledError:bee,isCancel:wee,CancelToken:Cee,VERSION:Eee,all:Iee,Cancel:Dee,isAxiosError:See,spread:Tee,toFormData:xee,AxiosHeaders:Mee,HttpStatusCode:Aee,formToJSON:Ree,getAdapter:Oee,mergeConfig:kee}=eT;var Po=new nh,rh=null,Ut=null,nT=null;Po.interceptors.request.use(n=>_e(null,null,function*(){if(!Ut)return n;if(Ut.token!=""&&Qj(Ut?.token)&&!(n.url?.includes("/user/refresh")||n.url?.includes("/user/logout"))){let e=yield Po.get("/user/refresh");e.status==200&&(Ut.token=e.data.accessToken)}return(n.url==="/item/save"||n.url==="/item/update")&&n.data.itemList.forEach(e=>{e.userDefined&&e.userDefined.formControlSchema.fields?.forEach(t=>{if(e.userDefined?.data&&(t.type=="image"||t.type=="file"||t.type=="iframe")){let r=e.uuid+"_"+e.userDefined?.tag.name+"_"+t.name.replaceAll("/","_").replaceAll("\\","_"),i=e.userDefined.data[t.name]||"";e.userDefined.data[t.name]="/item/doc/"+Ut?.userGroup+"_"+Ut?.email.replace(".","_").replace("@","_")+"_"+r;let a=i.split(";")[0].split(":")[1];Xj(i,r,a,r).then(l=>{}).catch(()=>{(e.userDefined?.data)[t.name]=i})}})}),n.headers.Authorization="Bearer "+Ut.token,n.data instanceof FormData||(n.data=JSON.stringify(n.data)),n.headers["Content-Type"]||(n.headers["Content-Type"]="application/json"),n.url=(nT||"")+n.url,n.withCredentials=!0,n}),function(n){return console.error(n),Promise.reject(n)});Po.interceptors.response.use(n=>(n.data&&(n.data=JSON.parse(n.data)),n));self.onmessage=n=>{let{op:e}=n.data;switch(e){case 1:Zj(n.data);break;case 2:Jj(n.data);break}};function Zj(n){Ut=n.user,nT=n.backendUrl,Yj().then(e=>{console.log("SYNC start",Date.now()),iT().then(t=>{!Ut||Ut?.email==ye.email&&Ut?.userGroup==ye.userGroup||Po.post("/item/getdiff",t).then(r=>{r.status==200&&rT(r.data)}).catch(r=>{throw console.error(r),r})})})}function rT(n){if(!n)return;let e=n.itemsForAdd,t=n.itemsForUpdate,r=n.itemsForDelete,i=n.itemsForSync,o=new be(!1),s=[];i.forEach(a=>{Kj(a.uuid).then(l=>{s.push(l),o.next(!0)})}),i.length==0&&(e.length>0||t.length>0||r.length>0)&&o.next(!0),o.pipe(lr(100)).subscribe(a=>{if(a){s.length>0&&(Po.patch("/item/update",{itemList:s}),s=[]);let l=Jy(e),c=Jy(t),u=Jy(r);console.log("SYNC merge",Date.now()),self.postMessage({op:2,itemsForAdd:l,itemsForUpdate:c,itemsForDelete:u},{transfer:[l,c,u]})}})}function Jy(n){let e=JSON.stringify(n);return new TextEncoder().encode(e).buffer}function Yj(){return new Promise((n,e)=>{Ut=Ut||ye;let t=indexedDB.open("todo_items_db/"+Ut.userGroup+"/"+Ut.email,1);t.onsuccess=r=>{rh=r.target.result,rh.onerror=i=>{throw i.srcElement.error},n(rh)},t.onerror=e})}function Jj(n){console.log("merging sync"),iT(1).then(e=>{Po.post("/item/getdiff",e).then(t=>{rT(t.data)})})}function tT(n,e){return new Promise((t,r)=>{let i=oT(n).openCursor(null,"prev"),o=[];i.onsuccess=s=>{let a=s.target.result;a?(o.push({uuid:a.value.uuid,updationTimestamp:a.value.updationTimestamp,version:a.value.version}),e===-1||o.length<e?a.continue():t(o)):t(o)},i.onerror=r})}function iT(n=-1){return new Promise((e,t)=>{let r=[],i=[];tT("todo_items",n).then(o=>{r=o;let s=n!=-1;tT("deleted_todo_items",n).then(a=>{i=a,e({partial:s,mergeItems:r,deleteItems:i})})})})}function Qj(n){if(!n)return null;try{let e=n.split(".")[1],t=0;if(e){let r=atob(e);t=JSON.parse(r).exp*1e3}return t<Date.now()}catch(e){return console.error("Failed to decode token:",e),null}}function Kj(n,e=!1){return new Promise((t,r)=>{let s=oT(e?"deleted_todo_items":"todo_items").index("uuidIndex").get(n);s.onsuccess=a=>{let l=a.target.result;t(l)},s.onerror=r})}function oT(n){return rh.transaction(n,"readonly").objectStore(n)}function Xj(n,e,t,r){return new Promise((i,o)=>{let s=new FormData;s.append("file",eB(n)),s.append("fileType",t),s.append("fileInfo",r),s.append("fileName",e),Po.post("/item/save/document",s,{headers:{"Content-Type":"multipart/form-data"}}).then(a=>{i(a.data.body)})})}function eB(n){let e=n.split(","),t=(e[0].match(/:(.*?);/)||[void 0,void 0])[1],r=atob(e[1]),i=r.length,o=new Uint8Array(i);for(;i--;)o[i]=r.charCodeAt(i);return new Blob([o],{type:t})}var tM=NM(Xx());var z_=null;var xc=null;var Th="",eM=null,G_=null;self.onmessage=n=>{let e=n.data.target;n.data.op==0&&v3(e.backendUrl,e.user),n.data.op==5&&(G_?.send(e),console.log(e))};function v3(n,e){Th=n,eM=e,G_=new q_(Th+"/ws?sessionToken="+eM.token),G_.handleMessage=t=>{self.postMessage({op:4,message:t})}}var q_=class{socket=null;maxAttempts=10;backoff=5e3;currentAttemptCount=0;reconnect=!0;reconnectTimer=-1;messageQueue=[];url="";handleClose=e=>{};handleMessage=e=>{};handleOnOpen=e=>{};handleError=e=>{};constructor(e){this.url=e,this.connect()}connect(){this.socket=new WebSocket(this.url),this.socket.onerror=e=>{console.error(e),this.handleError(e)},this.socket.onopen=e=>{this.onopen(e)},this.socket.onmessage=e=>{this.onmessage(e)},this.socket.onclose=e=>{this.onclose(e)}}disconnect(){this.socket=null}onmessage(e){return _e(this,null,function*(){let r=yield e.data.arrayBuffer(),i=new Uint8Array(r),o=yield y3(i);console.log("Sock got",o),this.handleMessage(o)})}onopen(e){this.reconnect=!1,clearTimeout(this.reconnectTimer),this.currentAttemptCount=0,this.reconnectTimer=-1,this.handleOnOpen(e),console.log("open ",1)}onclose(e){console.log("Disconnected ",e.wasClean,e.reason),e.wasClean||(this.reconnect=!0,clearTimeout(this.reconnectTimer),this.currentAttemptCount<this.maxAttempts&&setTimeout(()=>{this.connect(),this.currentAttemptCount++},Math.pow(2,this.currentAttemptCount)*this.backoff)),this.handleClose(e)}send(e){let t=xc.create(e),r=xc.encode(t).finish();this.socket?.readyState==WebSocket.OPEN?(this.socket?.send(r),console.log("Socket send ",e),this.messageQueue.length!=0&&(this.messageQueue.forEach(i=>{this.send(i)}),this.messageQueue=[])):this.messageQueue.push(r)}};function y3(n){return new Promise((e,t)=>_e(null,null,function*(){if(!z_){let o=self.location.href.split("/").slice(0,3).join("/"),s="";Th===o?s="/proto/sock_message.proto":s=Th+"/proto/sock_message.proto",z_=yield tM.load(s),xc=z_.lookupType("MessageProto")}let r=xc.verify(n);if(r){t(r);return}let i=xc.decode(n);e(i)}))}var Ht=class n{constructor(e,t,r){this.toaster=e;this.userService=t;this.router=r;this.backendUrl=localStorage.qtodo_backend_url,!this.backendUrl&&window.location.href.includes("/ang/")&&(this.backendUrl=window.location.href.split("/ang/")[0]),this.backendUrl&&this.backendUrl!=="null"&&this.connectToBackend().then(i=>{if(!i)return;let o=localStorage.recentLogins;if(!o||o=="null"){this.router.navigate(["/login"]);return}o=JSON.parse(o);let s=localStorage.lastLoggedInAs,a=o[s];!a||a.email==ye.email&&a.userGroup==ye.userGroup||(this.userService.loggedInUser.next(a),this.getToken().then(l=>{l&&l!=""&&(a.token=l,localStorage.recentLogins=JSON.stringify(o))}))}),this.connected$.subscribe(i=>{i?this.toaster.info("connected to backend successfully!"):this.toaster.error("disconnected from backend! switched to offline mode")}),this.userService.loggedInUser.subscribe(i=>_e(this,null,function*(){if(i.email==ye.email)this.accessToken="";else{this.accessToken=i.token||"",yield this.refreshTokenIfExpired();let o=this.userService.getPayloadFromAccessToken();if(o.user_group_colaboration&&!this.socketWorkers.get(o.user_group)){let s=new Worker(new URL("worker-5SMGX7LB.js",import.meta.url),{type:"module"});s.postMessage({op:0,target:{user:i,backendUrl:this.backendUrl}}),this.socketWorkers.set(o.user_group,s)}localStorage.lastLoggedInAs=i.userGroup+"/"+i.email}})),this.axios.interceptors.request.use(i=>_e(this,null,function*(){if(this.accessToken!=""&&!(i.url?.includes("/user/refresh")||i.url?.includes("/user/logout"))&&(yield this.refreshTokenIfExpired()),(i.url==="/item/save"||i.url==="/item/update")&&i.data.itemList.forEach(o=>{o.userDefined&&o.userDefined.formControlSchema.fields?.forEach(s=>{if(o.userDefined?.data&&(s.type=="image"||s.type=="file"||s.type=="iframe")){let a=this.userService.loggedInUser.value,l=o.uuid+"_"+o.userDefined?.tag.name+"_"+s.name.replaceAll("/","_").replaceAll("\\","_"),c=o.userDefined.data[s.name]||"";o.userDefined.data[s.name]="/item/doc/"+a.userGroup+"_"+a.email.replace(".","_").replace("@","_")+"_"+l;let p=c.split(";")[0].split(":")[1];this.postFileToBackend(c,l,p,l).then(f=>{}).catch(()=>{(o.userDefined?.data)[s.name]=c})}})}),i.url?.includes("/user/signup")&&i.data.profilePicture){let o=i.data,s=i.data.profilePicture;if(s){let l=i.data.profilePicture.split(";")[0].split(":")[1],c="profile_pic_"+o.userGroup;i.data.profilePicture=o.userGroup+"_"+o.email.replace(".","_").replace("@","_")+"_"+c,setTimeout(()=>{this.postFileToBackend(s,c,l,c)},1e3)}}return i.headers.Authorization="Bearer "+this.accessToken,i.data instanceof FormData||(i.data=JSON.stringify(i.data)),i.headers["Content-Type"]||(i.headers["Content-Type"]="application/json"),i.url=this.backendUrl+i.url,i.withCredentials=!0,i}),function(i){return console.error(i),Promise.reject(i)}),this.axios.interceptors.response.use(i=>{if(i.data)try{i.data=JSON.parse(i.data)}catch{}return i.data.responseMessage&&(i.status==200?this.toaster.success(i.data.responseMessage):i.status>=400&&i.status<=500?(i.data.responseMessage.includes("Invalid JWT")&&!i.config.url?.includes("/user/logout")&&(this.logoutUser(),this.userService.loginUser()),this.toaster.error(i.data.responseMessage)):this.toaster.warn(i.data.responseMessage)),i})}backendUrl="";socketWorkers=new Map;connected=new be(!1);connected$=this.connected.asObservable();accessToken="";axios=new nh;isTokenExpired(e){try{let t=e.split(".")[1],r=0;if(t){let i=atob(t);r=JSON.parse(i).exp*1e3}return r<Date.now()}catch(t){return console.error("Failed to decode token:",t),null}}connectToBackend(){return new Promise((e,t)=>{(!this.backendUrl||this.backendUrl=="null"||this.backendUrl.trim()=="")&&(this.backendUrl=prompt("Enter backend server url to use cross device!")||"",this.backendUrl=this.backendUrl.replace(/\/+$/,"")),this.backendUrl&&this.backendUrl!="null"&&this.backendUrl.trim()!=""?fetch(this.backendUrl+"/up").then(r=>{if(r.ok&&r.body){let o=r.body?.getReader(),s=new TextDecoder;o?.read().then(a=>{let l=s.decode(a.value,{stream:!a.done});this.toaster.info(l)}),this.connected.next(!0),localStorage.qtodo_backend_url=this.backendUrl,e(!0)}}).catch(r=>{console.error("unable to connect to "+this.backendUrl,r),localStorage.qtodo_backend_url=null,this.backendUrl="",this.connected.next(!1),t(r)}):t("Blank backend Url")})}disconnectFromBackend(){return new Promise(e=>{this.connected.next(!1),this.backendUrl="",localStorage.qtodo_backend_url=null,e(!0)})}logoutUser(){this.axios.post("/user/logout"),this.accessToken="",this.userService.loggedInUser.next(ye)}dataURLtoBlob(e){let t=e.split(","),r=t[0].match(/:(.*?);/),i=atob(t[1]),o=i.length,s=new Uint8Array(o);for(;o--;)s[o]=i.charCodeAt(o);return new Blob([s],{type:r?r[1]:""})}postFileToBackend(e,t,r,i){return new Promise((o,s)=>{let a=new FormData;a.append("file",this.dataURLtoBlob(e)),a.append("fileType",r),a.append("fileInfo",i),a.append("fileName",t),this.axios.post("/item/save/document",a,{headers:{"Content-Type":"multipart/form-data"}}).then(l=>{o(l.data.body)})})}refreshTokenIfExpired(){return _e(this,null,function*(){if(this.isTokenExpired(this.accessToken)){let e=yield this.axios.get("/user/refresh");e.status==200?(this.accessToken=e.data.accessToken,this.userService.loggedInUser.value.token=this.accessToken):this.logoutUser()}})}getToken(){return new Promise((e,t)=>{this.refreshTokenIfExpired().then(()=>e(this.accessToken))})}getUrlWithToken(e){return _e(this,null,function*(){return this.backendUrl+e+"?sessionToken="+(yield this.getToken())})}static \u0275fac=function(t){return new(t||n)(N(bt),N(ot),N(ke))};static \u0275prov=O({token:n,factory:n.\u0275fac,providedIn:"root"})};var xh=class n{constructor(e,t,r,i,o,s,a,l,c){this.toaster=e;this.connectionService=t;this.localUpdateService=r;this.localAddService=i;this.localDeleteService=o;this.dbUtils=s;this.localSearchService=a;this.localGetService=l;this.router=c;this.syncWorker=new Worker(new URL("worker-EVM774HQ.js",import.meta.url),{type:"module"}),this.syncWorker.onerror=u=>{this.toaster.error("Unable to sync with backend!"),console.error(u)},this.syncWorker.onmessageerror=u=>{this.toaster.error("sync operation failed!"),console.error(u)},this.syncWorker.onmessage=u=>{this.handleSyncMessage(u)},t.connected$.subscribe(u=>{this.connected=u})}connected=!1;syncWorker;socketWorker=null;db=null;user=null;refresh$=new be(!1);init(e,t){this.db=e,this.user=t,this.connected&&(this.syncWorker.postMessage({op:1,backendUrl:this.connectionService.backendUrl,user:t}),setTimeout(()=>{let r=this.connectionService.socketWorkers.get(t.userGroup);r&&(r.onmessage=i=>{let o=i.data;o.op==4&&o.message.type=="REFRESH_MERGE"&&this.syncWorker.postMessage({op:2})},this.socketWorker=r)},2e3))}deserializeFromBuffToItems(e){let r=new TextDecoder("utf-8").decode(e);return JSON.parse(r)}handleSyncMessage(e){if(e.data.op===2){console.log("Starting sync merge",Date.now());let t=this.deserializeFromBuffToItems(e.data.itemsForAdd),r=this.deserializeFromBuffToItems(e.data.itemsForUpdate),i=this.deserializeFromBuffToItems(e.data.itemsForDelete),o=new be(!1);t.forEach(s=>{this.db&&this.localAddService.addItem(this.db,s,()=>{o.next(!0)})}),r.forEach(s=>{this.db&&this.localGetService.getItemByUUID(this.db,s.uuid).subscribe(a=>{s.id=a.id,this.db&&new Date(a.updationTimestamp).getTime()<new Date(s.updationTimestamp).getTime()&&this.localUpdateService.updateItem(this.db,s,()=>{o.next(!0)})})}),i.forEach(s=>{this.db&&this.localGetService.getItemByUUID(this.db,s.uuid).subscribe(a=>{this.db&&(this.localDeleteService.deleteItem(this.db,a),o.next(!0))})}),o.pipe(lr(100)).subscribe(s=>{s&&(this.toaster.success("Synced items with backend!"),this.signalRefresh())})}}handleColabNotif(){this.socketWorker&&this.socketWorker.postMessage({op:5,target:{type:"REFRESH_MERGE"}})}getAll(){return this.connected?new Promise((e,t)=>{this.connectionService.axios.get("/item/all").then(r=>{e(r.data.items)}).catch(r=>t(r))}):Promise.resolve([])}addItem(e){this.connected&&(console.log("sending add",Date.now()),console.log("todo item",e.updationTimestamp),this.connectionService.axios.post("/item/save",{itemList:[e]}).then(t=>{console.log(t),console.log("recieved response",Date.now()),this.handleColabNotif()}).catch(t=>{console.log(t)}))}updateManyItems(e){return this.connected?new Promise((t,r)=>{this.connectionService.axios.patch("/item/update",{itemList:e}).then(i=>{console.log(i),t(i),this.handleColabNotif()}).catch(i=>{console.log(i),r(i)})}):new Promise(t=>t())}updateItem(e,t){this.connected&&this.localGetService.getItemById(e,t.id).subscribe(r=>{this.updateManyItems([t]),console.log(r)})}deleteItem(e){this.connected&&this.connectionService.axios.post("/item/delete",{itemList:[e]}).then(t=>{console.log(t),this.handleColabNotif()}).catch(t=>{console.log(t)})}signalRefresh(){this.refresh$.next(!0),this.refresh$.next(!1)}ngOnDestroy(){this.syncWorker.terminate()}static \u0275fac=function(t){return new(t||n)(N(bt),N(Ht),N(Ni),N(ra),N(ia),N(Bt),N(oa),N(Fi),N(ke))};static \u0275prov=O({token:n,factory:n.\u0275fac,providedIn:"root"})};var Tt=class n{constructor(e,t,r,i,o,s,a,l,c){this.addService=e;this.updateService=t;this.deleteService=r;this.getService=i;this.searchService=o;this.sortService=s;this.toaster=a;this.userService=l;this.backendService=c;l.loggedInUser$.subscribe(u=>{this.initializeIndexDB(u)}),this.changedItem$.subscribe(u=>{if(!u)return;let d=!1,p=this.todoItems.value.map(f=>f.id==u.id?u.deleted?(d=!0,null):(d=!0,T({},u)):f).filter(f=>f!=null);d||p.push(u),this.todoItems.next(p)}),this.backendService.refresh$.subscribe(u=>{u&&this.initializeItems()})}fromBin=!1;db;todoItems=new be([]);todoItems$=this.todoItems.asObservable();changedItem=new be(null);changedItem$=this.changedItem.asObservable();initializeIndexDB(e){let t="todo_items_db/"+e.userGroup+"/"+e.email;console.log(t);let r=indexedDB.open(t,1);r.onerror=i=>{this.toaster.error("error connecting to local idexedDB!"),console.error("Error opening IndexedDB:",i)},r.onupgradeneeded=i=>{let o=i.target.result,s=o.createObjectStore("todo_items",{keyPath:"id",autoIncrement:!0}),a=o.createObjectStore("deleted_todo_items",{keyPath:"id",autoIncrement:!0}),l=o.createObjectStore("tags_todo_items",{keyPath:"name"}),c=o.createObjectStore("custom_items",{keyPath:"tag"});s.createIndex("subjectIndex","subject",{unique:!0}),s.createIndex("uuidIndex","uuid",{unique:!0}),s.createIndex("tagsIndex","tags",{multiEntry:!0}),s.createIndex("creationTimestampIndex","creationTimestamp"),s.createIndex("updationTimestampIndex","updationTimestamp"),a.createIndex("subjectIndex","subject",{unique:!0}),a.createIndex("uuidIndex","uuid",{unique:!0}),a.createIndex("tagsIndex","tags",{multiEntry:!0}),a.createIndex("creationTimestampIndex","creationTimestamp"),a.createIndex("updationTimestampIndex","updationTimestamp"),l.createIndex("tagName","name",{unique:!0}),c.createIndex("tagIndex","tag",{unique:!0}),this.toaster.success("setup "+t)},r.onsuccess=i=>{let o=i.target.result;this.db=o,o.onerror=s=>{throw s.srcElement.error},this.backendService.init(o,e),this.initializeItems()}}initializeItems(){this.getAll().subscribe(e=>{console.log("DB fetch",Date.now()),this.todoItems.next(e)})}getAll(){return console.log("Get all",Date.now()),this.getService.getAllItems(this.db,this.fromBin).pipe(We(()=>console.log("Get all done",Date.now())))}deleteAll(){prompt(`Are you sure you want to delete all items from ${this.fromBin?"bin":"item list"}?
 [ Y | N ]`)==="Y"&&(this.todoItems.next([]),this.getService.getAllItems(this.db,this.fromBin).subscribe(t=>{t.forEach(r=>{this.deleteItem(r)}),this.toaster.success("cleared all items from "+(this.fromBin?"bin":"todo list"))},t=>{this.toaster.error("error deleting all items"),console.error(t)}))}searchTodos(e,t=[],r=[],i=!1){return this.searchService.searchTodos(this.db,e,t,r,this.fromBin,i).pipe(We(()=>{console.log("search",Date.now())}))}sortTodoItems(e,t,r=null){return this.sortService.sortItems(e,t,r).pipe(We(()=>{console.log("sort",Date.now())}))}addItem(e){return new Promise((t,r)=>{e.subject.trim()===""&&(e.subject=new Date().toISOString()),this.addService.addItem(this.db,e,i=>{let o=i.target.result;t(o),this.backendService.addItem(e);let s=e;s.id=o,this.changedItem.next(s),this.toaster.success("item saved localy")},i=>{this.toaster.error("error adding todo item!"),this.toaster.error(i.srcElement.error),console.error("error adding todo item: ",i),r(i)})})}addCustom(e,t){this.addService.addCustom(this.db,e,t,r=>{this.toaster.success("saved "+e+" localy")},r=>{this.toaster.error("error saving "+e),console.error("error adding custom item",r)})}getItemById(e){return this.getService.getItemById(this.db,e)}getItemByUUID(e){return this.getService.getItemByUUID(this.db,e)}getCustom(e){return this.getService.getCustom(this.db,e)}getAllCustom(e){return this.getService.getAllCustom(this.db,e)}getTagWithNameLike(e){return this.getService.getTagWithNameLike(this.db,e)}updateItem(e){this.backendService.updateItem(this.db,e),this.updateService.updateItem(this.db,e,t=>{this.changedItem.next(e),this.toaster.success("todo item updated localy")},t=>{this.toaster.error("error updating todo item"),console.error("error updating todo item: ",t)})}updateCustom(e,t){this.updateService.updateCustom(this.db,e,t,r=>{this.toaster.success("updated "+e+" localy")},r=>{this.toaster.error("error updating "+e),console.error("error updating "+e,r)})}deleteItem(e){try{this.deleteService.deleteItem(this.db,e,this.fromBin),e.deleted=!0,this.changedItem.next(e),this.backendService.deleteItem(e),this.toaster.success("todo item deleted localy")}catch(t){this.toaster.error("error deleting todo item"),console.error("error deleting todo item: ",t)}}deleteItemById(e){this.getService.getItemById(this.db,e).subscribe(t=>{this.deleteItem(t)})}serializeOneToJson(e){let t=JSON.stringify(e.userDefined,null,4);return t=t||'{"tag":{"name":""}, "formControlSchema":{"fields":[]}}',`
    {
      "id": ${e.id?e.id:null},
      "subject": ${JSON.stringify(e.subject)},
      "description": ${JSON.stringify(e.description)},
      "tags": [${e.tags.map(r=>`{"id": ${r.id?r.id:null}, "name": "${r.name.replace(/\"/g,"&quot;")}"}`)}],
      "completionStatus": ${e.completionStatus},
      "setForReminder": ${e.setForReminder},
      "creationTimestamp": "${e.creationTimestamp}",
      "updationTimestamp": "${e.updationTimestamp}",
      "eventStart": ${e.eventStart?'"'+e.eventStart+'"':null},
      "eventEnd": ${e.eventEnd?'"'+e.eventEnd+'"':null},
      "eventFullDay": ${e.eventFullDay?e.eventFullDay:!1},
      "deleted": ${e.deleted?e.deleted:!1},
      "userDefined": ${t}
    }`}serializeManyToJson(e){return new Z(t=>{t.next(`{ "items": [
        ${e.map(r=>this.serializeOneToJson(r)+`
`)}]}`)})}deserializeOneFromJson(e){let t={id:Number.MIN_VALUE,version:0,uuid:"",subject:"",description:"",tags:[],completionStatus:!1,setForReminder:!1,creationTimestamp:"",updationTimestamp:"",eventStart:"",eventEnd:"",eventFullDay:!1,deleted:!1,userDefined:{tag:{name:""},formControlSchema:{},data:null},owningUser:ye};try{t=JSON.parse(e)}catch(r){console.error("error deserializing json string to todo item",r),this.toaster.error("error deserializing json string to todo item ")}return t}deserializeManyFromJson(e){return new Z(t=>{let r=[];try{r=JSON.parse(e).items}catch(i){console.error("error deserializing json string to todo item",i),this.toaster.error("error deserializing json string to todo item ")}t.next(r)})}addMany(e){return _e(this,null,function*(){let t=[],r=[],i=[],o=[],s=new be(!1),a=this.db.onerror;this.db.onerror=l=>{o.push(l)};for(let l=0;l<=e?.length;l++){let c=e[l];c&&(c.subject.trim()===""&&(c.subject=new Date().toISOString()),this.addService.addItem(this.db,c,u=>{let d=u.target.result,p=c;p.id=d,t.push(p),s.next(!0)},u=>{this.getItemById(c.id).subscribe(d=>{d?new Date(d.updationTimestamp)<new Date(c.updationTimestamp)&&this.updateService.updateItem(this.db,c,p=>{i.push(c),s.next(!0)}):this.searchTodos(c.subject).subscribe(p=>{new Date(p[0].updationTimestamp)<new Date(c.updationTimestamp)&&(this.updateItem(c),this.updateService.updateItem(this.db,c,f=>{i.push(c),s.next(!0)}))})})}))}s.pipe(lr(100)).subscribe(l=>{l&&(this.db.onerror=a,t.length>0&&this.toaster.success(`added ${t.length} items`),i.length>0&&this.toaster.success(`updated ${i.length} items`),o.length>0&&this.toaster.error(`encountered ${o.length} errors`),r.length>0&&this.downloadTodoItemsAsJson(r,"stale"),this.initializeItems())})})}downloadTodoItemsAsJson(e,t="todo"){this.serializeManyToJson(e).subscribe(r=>{let i=new Blob([r],{type:"application/json"}),o=URL.createObjectURL(i),s=document.createElement("a");s.href=o,s.download=`${t}-${new Date().toLocaleString().replaceAll(/[ ,:/]/g,"_")}.json`,s.click(),this.toaster.success("downloaded "+e.length+" "+t+" items"),URL.revokeObjectURL(o)})}ngOnDestroy(){this.todoItems.unsubscribe(),this.changedItem.unsubscribe()}static \u0275fac=function(t){return new(t||n)(N(ra),N(Ni),N(ia),N(Fi),N(oa),N(Pi),N(bt),N(ot),N(xh))};static \u0275prov=O({token:n,factory:n.\u0275fac,providedIn:"root"})};function w3(n,e){if(n&1){let t=ne();m(0,"div",7),M("click",function(){F(t);let i=D().index,o=D();return P(o.editable&&(o.editing=i))}),C(1),g()}if(n&2){let t=D().$implicit;_(),Pe(" ",t.name," ")}}function C3(n,e){if(n&1){let t=ne();m(0,"a",14),M("focus",function(){let i=F(t).$implicit;D();let o=Ss(3);return P(o.innerText=i.name)}),C(1),g()}if(n&2){let t=e.$implicit;_(),Fe(t.name)}}function E3(n,e){if(n&1){let t=ne();m(0,"div",8)(1,"div",9)(2,"div",10,0),M("input",function(i){F(t);let o=D(2);return P(o.handleTagNameInput(i))}),g(),m(4,"mat-icon",11),M("click",function(){F(t);let i=Ss(3),o=D().$implicit,s=D();return P(s.updateState(o,i))}),C(5,"done"),g()(),m(6,"div",12),$(7,C3,2,1,"a",13),g()()}if(n&2){let t=D().$implicit,r=D();_(2),b("innerText",t.name),_(5),b("ngForOf",r.suggestedTag)}}function I3(n,e){if(n&1&&(m(0,"div",4),$(1,w3,2,1,"div",5)(2,E3,8,2,"div",6),g()),n&2){let t=e.index,r=D();_(),b("ngIf",r.editing!=t),_(),b("ngIf",t==r.editing)}}function D3(n,e){if(n&1){let t=ne();m(0,"mat-icon",15),M("click",function(){F(t);let i=D();return P(i.addItem())}),C(1,"add_circle_outline"),g()}}var Gi=class n{constructor(e){this.todoItemService=e}tagsList=[];names=[];editable=!1;onChange=new Re;editing=-1;suggestedTag=[];ngOnInit(){}ngOnChanges(e){this.names.length>0&&this.names.forEach(t=>this.tagsList.push({name:t}))}updateState(e,t){let r=t?.innerHTML;e.name=this.stripOutHtml(r),this.tagsList=this.tagsList.filter(i=>i.name.trim()!=""),this.tagsList.forEach(i=>i.name=i.name.trim()),this.onChange.emit(this.tagsList),this.editing=-1}addItem(){this.tagsList.push({name:"....."}),this.editing=this.tagsList.length-1}handleTagNameInput(e){let r=e.target.innerHTML;this.todoItemService.getTagWithNameLike(this.stripOutHtml(r)).subscribe(i=>{this.suggestedTag=i})}stripOutHtml(e){return e.replaceAll(/<div>|<\/div>|<br>/g,"")||""}static \u0275fac=function(t){return new(t||n)(I(Tt))};static \u0275cmp=ae({type:n,selectors:[["app-tag-list"]],inputs:{tagsList:[0,"tags","tagsList"],names:"names",editable:"editable"},outputs:{onChange:"onChange"},features:[it],decls:3,vars:2,consts:[["tagInput",""],[1,"flex","flex-row","items-center","flex-wrap","option",2,"color","var(--todo-item-text-color)"],["style","background: var(--todo-item-body-color);","class","hover:outline-1 m-0.5 pl-1 pr-1 rounded-md flex items-center option",4,"ngFor","ngForOf"],["class","hover:scale-110 cursor-pointer transition-all option",3,"click",4,"ngIf"],[1,"hover:outline-1","m-0.5","pl-1","pr-1","rounded-md","flex","items-center","option",2,"background","var(--todo-item-body-color)"],["class","w-fit option field-sizing-content",3,"click",4,"ngIf"],["class","flex flex-col",4,"ngIf"],[1,"w-fit","option","field-sizing-content",3,"click"],[1,"flex","flex-col"],[1,"flex","flex-row"],["contenteditable","true",1,"w-fit","option","field-sizing-content","outline-0","border-b-2","wrap-break-word",3,"input","innerText"],["title","save changes",1,"hover:scale-110","cursor-pointer","option",3,"click"],["tabindex","-1",1,"max-h-30","overflow-scroll"],["tabindex","0","class","block opacity-50 focus:opacity-100 hover:opacity-100 option wrap-break-word",3,"focus",4,"ngFor","ngForOf"],["tabindex","0",1,"block","opacity-50","focus:opacity-100","hover:opacity-100","option","wrap-break-word",3,"focus"],[1,"hover:scale-110","cursor-pointer","transition-all","option",3,"click"]],template:function(t,r){t&1&&(m(0,"div",1),$(1,I3,3,2,"div",2)(2,D3,2,0,"mat-icon",3),g()),t&2&&(_(),b("ngForOf",r.tagsList),_(),b("ngIf",r.editable))},dependencies:[ht,Ae,ft,Ge,Cr],encapsulation:2})};function S3(n,e){if(n&1){let t=ne();m(0,"mat-icon",13),M("click",function(){F(t);let i=D();return P(i.minimized=!0)}),C(1," unfold_less "),g()}}function T3(n,e){if(n&1){let t=ne();m(0,"mat-icon",14),M("click",function(){F(t);let i=D();return P(i.minimized=!1)}),C(1," unfold_more "),g()}}function x3(n,e){if(n&1){let t=ne();m(0,"app-tag-list",24),M("onChange",function(i){F(t);let o=D(3);return P(o.onUpdateTags(i))}),g()}if(n&2){let t=D(3);b("tags",t.item.tags)("editable",!0)}}function M3(n,e){if(n&1){let t=ne();m(0,"div"),$(1,x3,1,2,"app-tag-list",19),m(2,"button",20),M("click",function(){F(t);let i=D(2);return P(i.showTags=!i.showTags)}),m(3,"mat-icon",18),C(4,"local_offer"),g()(),m(5,"button",21),M("click",function(){F(t);let i=D(2);return P(i.onClickSetReminder())}),m(6,"mat-icon",18),C(7),g()(),m(8,"button",22),M("click",function(){F(t);let i=D(2);return P(i.onClickCompletionStatus())}),m(9,"mat-icon",18),C(10),g()(),m(11,"button",23),M("click",function(){F(t);let i=D(2);return P(i.onClickDuplicate())}),m(12,"mat-icon",18),C(13,"file_copy"),g()()()}if(n&2){let t=D(2);_(),b("ngIf",t.showTags),_(4),b("title",t.item.setForReminder?"clear reminder":"set reminder"),_(2),Fe(t.item.setForReminder?"alarm_off":"alarm_add"),_(),b("title",t.item.completionStatus?"mark pending":"mark done"),_(2),Fe(t.item.completionStatus?"timelapse":"done_all")}}function A3(n,e){if(n&1){let t=ne();m(0,"div",15),$(1,M3,14,5,"div",16),m(2,"button",17),M("click",function(){F(t);let i=D();return P(i.onClickDelete())}),m(3,"mat-icon",18),C(4,"delete"),g()()()}if(n&2){let t=D();_(),b("ngIf",!t.fromBin)}}function R3(n,e){if(n&1&&(m(0,"i",25),C(1),g()),n&2){let t=D();b("title",t.owningUserEmail),_(),Pe(" By ",t.owningUserAlias," ")}}var va=class n{constructor(e,t,r,i,o){this.todoService=e;this.userService=t;this.route=r;this.router=i;this.sanitizer=o}item={id:Number.MIN_VALUE,version:0,uuid:"",subject:"",description:"",tags:[],completionStatus:!1,setForReminder:!1,creationTimestamp:Date.now().toString(),updationTimestamp:Date.now().toString(),owningUser:ye};toolTipString="";parsedMD="";borderColour="";fromBin=!1;optionsDisplayed=!1;showTags=!1;minimized=!0;markdownHighlighted=!1;owningUserAlias="";owningUserEmail="";ownedByCurrentUser=!0;ngOnChanges(){this.borderColour="",this.borderColour+="type-normal ",this.item.setForReminder&&(this.borderColour+="type-reminder "),this.item.completionStatus&&(this.borderColour+="type-done ");let e=this.item.creationTimestamp===this.item.updationTimestamp;this.toolTipString=e?"created on - "+new Date(this.item.creationTimestamp).toLocaleString():"last updated on - "+new Date(this.item.updationTimestamp).toLocaleString(),this.todoService.fromBin=this.fromBin,this.updateOwningUser()}updateOwningUser(){this.item.owningUser&&(this.owningUserAlias=this.item.owningUser.alias||this.item.owningUser.email,this.owningUserEmail=this.item.owningUser.email,this.ownedByCurrentUser=this.userService.isThisCurrentUser(this.item.owningUser))}ngAfterContentChecked(){if(!this.minimized&&!this.markdownHighlighted){this.markdownHighlighted=!0;let e=Gs(this.item.description).toString();e=e.replace(/\n\n/g,"<br>");let t=e.match(/<code class="language-(\w+)">([\s\S]*?)<\/code>/g)||e.match(/<code>([\s\S]*?)<\/code>/);if(t)for(let r=0;r<t.length;r++){let i=t[r];e=e.replace(i,i.replace(/<br>/g,`
`).replace(/&lt;br&gt;/g,"<br>"))}this.parsedMD=this.sanitizer.bypassSecurityTrustHtml(e),requestAnimationFrame(()=>{Prism.highlightAll()})}}onClickDelete(){this.todoService.deleteItem(this.item)}onClickCompletionStatus(){this.item.completionStatus=!this.item.completionStatus,this.updateSave()}onClickSetReminder(){this.item.setForReminder=!this.item.setForReminder,this.updateSave()}updateSave(){this.todoService.updateItem(this.item)}onUpdateTags(e){this.updateSave()}onClickDuplicate(){let e=structuredClone(this.item);e.subject+="-"+Intl.DateTimeFormat([],{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"}).format(new Date),delete e.id,e.uuid="",delete e.userDefined.data,e.creationTimestamp=new Date(Date.now()).toISOString(),e.updationTimestamp=new Date(Date.now()).toISOString(),this.todoService.addItem(e)}static \u0275fac=function(t){return new(t||n)(I(Tt),I(ot),I(ct),I(ke),I(Jn))};static \u0275cmp=ae({type:n,selectors:[["app-todo-item"]],inputs:{item:"item",fromBin:"fromBin",optionsDisplayed:"optionsDisplayed",showTags:"showTags",minimized:"minimized"},features:[it],decls:16,vars:11,consts:[[1,"max-w-full","overflow-clip","overflow-ellipsis","item-container","rounded-2xl","animate-flip",3,"title"],["title","edit",1,"flex-grow-1","overflow-hidden","cursor-pointer","animate-flip"],[1,"border-0","border-b-1","w-fit"],[1,"flex","flex-col"],[1,"ml-auto"],[1,"flex","flex-shrink-0"],["title","options",1,"cursor-pointer","hover:scale-120","option",3,"click"],["class","cursor-pointer hover:scale-120 option","title","minimize",3,"click",4,"ngIf"],["class","cursor-pointer hover:scale-120 option","title","maximize",3,"click",4,"ngIf"],["class","flex flex-row",4,"ngIf"],[3,"title",4,"ngIf"],[1,"transition-all","duration-500","ease-in-out","match-braces","rainbow-braces","overflow-ellipsis","todo-item-description","rounded-md",3,"ngClass"],[3,"ngClass","innerHtml"],["title","minimize",1,"cursor-pointer","hover:scale-120","option",3,"click"],["title","maximize",1,"cursor-pointer","hover:scale-120","option",3,"click"],[1,"flex","flex-row"],[4,"ngIf"],["type","button","title","move to recycle bin",1,"cursor-pointer","m-0.5","hover:scale-120",3,"click"],[1,"option"],["class","option",3,"tags","editable","onChange",4,"ngIf"],["type","button","title","tags",1,"cursor-pointer","m-0.5","hover:scale-120",3,"click"],["type","button",1,"cursor-pointer","m-0.5","hover:scale-120",3,"click","title"],[1,"cursor-pointer","m-0.5","hover:scale-120",3,"click","title"],["title","duplicate this item",1,"cursor-pointer","m-0.5","hover:scale-120",3,"click"],[1,"option",3,"onChange","tags","editable"],[3,"title"]],template:function(t,r){t&1&&(m(0,"div",0)(1,"div")(2,"div",1)(3,"h2",2),C(4),g()(),m(5,"div",3)(6,"div",4)(7,"div",5)(8,"mat-icon",6),M("click",function(){return r.optionsDisplayed=!r.optionsDisplayed}),C(9," more_horiz "),g(),$(10,S3,2,0,"mat-icon",7)(11,T3,2,0,"mat-icon",8),g(),$(12,A3,5,1,"div",9),g(),$(13,R3,2,2,"i",10),g()(),m(14,"div",11),L(15,"div",12),g()()),t&2&&(b("title",r.toolTipString),_(),Ds(`${r.borderColour} flex flex-row rounded-2xl justify-between p-2 border-1 border-e-2 border-s-2`),_(3),Fe(r.item.subject),_(6),b("ngIf",!r.minimized&&r.item.description),_(),b("ngIf",r.minimized&&r.item.description),_(),b("ngIf",r.optionsDisplayed),_(),b("ngIf",!r.ownedByCurrentUser),_(),b("ngClass",r.minimized?"max-h-0 opacity-0":"max-h-[500px] max-w-29/30 opacity-100 overflow-auto m-auto pt-2 visible"),_(),b("ngClass",r.minimized?"hidden":"visible")("innerHtml",r.parsedMD,Is))},dependencies:[cn,ht,Ae,Jt,Ge,Gi],styles:[".item-container[_ngcontent-%COMP%]{color:var(--todo-item-text-color);background:var(--todo-item-body-color)}.todo-item-description[_ngcontent-%COMP%]{color:var(--todo-item-description-text-color);background:var(--todo-item-description-body-color)}.type-normal[_ngcontent-%COMP%]{border-color:var(--todo-item-normal-status-color)}.type-reminder[_ngcontent-%COMP%]{border-color:var(--todo-item-reminder-status-color)}.type-done[_ngcontent-%COMP%]{border-color:var(--todo-item-done-status-color)}"],changeDetection:0})};var W_=class{};function nM(n){return n&&typeof n.connect=="function"&&!(n instanceof li)}var Mh=class extends W_{_data;constructor(e){super(),this._data=e}connect(){return Ki(this._data)?this._data:z(this._data)}disconnect(){}},Mc=function(n){return n[n.REPLACED=0]="REPLACED",n[n.INSERTED=1]="INSERTED",n[n.MOVED=2]="MOVED",n[n.REMOVED=3]="REMOVED",n}(Mc||{}),Z_=new B("_ViewRepeater");var Ah=class{viewCacheSize=20;_viewCache=[];applyChanges(e,t,r,i,o){e.forEachOperation((s,a,l)=>{let c,u;if(s.previousIndex==null){let d=()=>r(s,a,l);c=this._insertView(d,l,t,i(s)),u=c?Mc.INSERTED:Mc.REPLACED}else l==null?(this._detachAndCacheView(a,t),u=Mc.REMOVED):(c=this._moveView(a,l,t,i(s)),u=Mc.MOVED);o&&o({context:c?.context,operation:u,record:s})})}detach(){for(let e of this._viewCache)e.destroy();this._viewCache=[]}_insertView(e,t,r,i){let o=this._insertViewFromCache(t,r);if(o){o.context.$implicit=i;return}let s=e();return r.createEmbeddedView(s.templateRef,s.context,s.index)}_detachAndCacheView(e,t){let r=t.detach(e);this._maybeCacheView(r,t)}_moveView(e,t,r,i){let o=r.get(e);return r.move(o,t),o.context.$implicit=i,o}_maybeCacheView(e,t){if(this._viewCache.length<this.viewCacheSize)this._viewCache.push(e);else{let r=t.indexOf(e);r===-1?e.destroy():t.remove(r)}}_insertViewFromCache(e,t){let r=this._viewCache.pop();return r&&t.insert(r,e),r||null}};var O3=["contentWrapper"],k3=["*"],sM=new B("VIRTUAL_SCROLL_STRATEGY"),Y_=class{_scrolledIndexChange=new ie;scrolledIndexChange=this._scrolledIndexChange.pipe(Pp());_viewport=null;_itemSize;_minBufferPx;_maxBufferPx;constructor(e,t,r){this._itemSize=e,this._minBufferPx=t,this._maxBufferPx=r}attach(e){this._viewport=e,this._updateTotalContentSize(),this._updateRenderedRange()}detach(){this._scrolledIndexChange.complete(),this._viewport=null}updateItemAndBufferSize(e,t,r){r<t,this._itemSize=e,this._minBufferPx=t,this._maxBufferPx=r,this._updateTotalContentSize(),this._updateRenderedRange()}onContentScrolled(){this._updateRenderedRange()}onDataLengthChanged(){this._updateTotalContentSize(),this._updateRenderedRange()}onContentRendered(){}onRenderedOffsetChanged(){}scrollToIndex(e,t){this._viewport&&this._viewport.scrollToOffset(e*this._itemSize,t)}_updateTotalContentSize(){this._viewport&&this._viewport.setTotalContentSize(this._viewport.getDataLength()*this._itemSize)}_updateRenderedRange(){if(!this._viewport)return;let e=this._viewport.getRenderedRange(),t={start:e.start,end:e.end},r=this._viewport.getViewportSize(),i=this._viewport.getDataLength(),o=this._viewport.measureScrollOffset(),s=this._itemSize>0?o/this._itemSize:0;if(t.end>i){let l=Math.ceil(r/this._itemSize),c=Math.max(0,Math.min(s,i-l));s!=c&&(s=c,o=c*this._itemSize,t.start=Math.floor(s)),t.end=Math.max(0,Math.min(i,t.start+l))}let a=o-t.start*this._itemSize;if(a<this._minBufferPx&&t.start!=0){let l=Math.ceil((this._maxBufferPx-a)/this._itemSize);t.start=Math.max(0,t.start-l),t.end=Math.min(i,Math.ceil(s+(r+this._minBufferPx)/this._itemSize))}else{let l=t.end*this._itemSize-(o+r);if(l<this._minBufferPx&&t.end!=i){let c=Math.ceil((this._maxBufferPx-l)/this._itemSize);c>0&&(t.end=Math.min(i,t.end+c),t.start=Math.max(0,Math.floor(s-this._minBufferPx/this._itemSize)))}}this._viewport.setRenderedRange(t),this._viewport.setRenderedContentOffset(this._itemSize*t.start),this._scrolledIndexChange.next(Math.floor(s))}};function N3(n){return n._scrollStrategy}var Rh=(()=>{class n{get itemSize(){return this._itemSize}set itemSize(t){this._itemSize=Bl(t)}_itemSize=20;get minBufferPx(){return this._minBufferPx}set minBufferPx(t){this._minBufferPx=Bl(t)}_minBufferPx=100;get maxBufferPx(){return this._maxBufferPx}set maxBufferPx(t){this._maxBufferPx=Bl(t)}_maxBufferPx=200;_scrollStrategy=new Y_(this.itemSize,this.minBufferPx,this.maxBufferPx);ngOnChanges(){this._scrollStrategy.updateItemAndBufferSize(this.itemSize,this.minBufferPx,this.maxBufferPx)}static \u0275fac=function(r){return new(r||n)};static \u0275dir=he({type:n,selectors:[["cdk-virtual-scroll-viewport","itemSize",""]],inputs:{itemSize:"itemSize",minBufferPx:"minBufferPx",maxBufferPx:"maxBufferPx"},features:[_t([{provide:sM,useFactory:N3,deps:[Mt(()=>n)]}]),it]})}return n})(),F3=20,P3=(()=>{class n{_ngZone=E(we);_platform=E(xi);_renderer=E($n).createRenderer(null,null);_cleanupGlobalListener;constructor(){}_scrolled=new ie;_scrolledCount=0;scrollContainers=new Map;register(t){this.scrollContainers.has(t)||this.scrollContainers.set(t,t.elementScrolled().subscribe(()=>this._scrolled.next(t)))}deregister(t){let r=this.scrollContainers.get(t);r&&(r.unsubscribe(),this.scrollContainers.delete(t))}scrolled(t=F3){return this._platform.isBrowser?new Z(r=>{this._cleanupGlobalListener||(this._cleanupGlobalListener=this._ngZone.runOutsideAngular(()=>this._renderer.listen("document","scroll",()=>this._scrolled.next())));let i=t>0?this._scrolled.pipe(Na(t)).subscribe(r):this._scrolled.subscribe(r);return this._scrolledCount++,()=>{i.unsubscribe(),this._scrolledCount--,this._scrolledCount||(this._cleanupGlobalListener?.(),this._cleanupGlobalListener=void 0)}}):z()}ngOnDestroy(){this._cleanupGlobalListener?.(),this._cleanupGlobalListener=void 0,this.scrollContainers.forEach((t,r)=>this.deregister(r)),this._scrolled.complete()}ancestorScrolled(t,r){let i=this.getAncestorScrollContainers(t);return this.scrolled(r).pipe(et(o=>!o||i.indexOf(o)>-1))}getAncestorScrollContainers(t){let r=[];return this.scrollContainers.forEach((i,o)=>{this._scrollableContainsElement(o,t)&&r.push(o)}),r}_scrollableContainsElement(t,r){let i=tD(r),o=t.getElementRef().nativeElement;do if(i==o)return!0;while(i=i.parentElement);return!1}static \u0275fac=function(r){return new(r||n)};static \u0275prov=O({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),aM=(()=>{class n{elementRef=E(tt);scrollDispatcher=E(P3);ngZone=E(we);dir=E(lD,{optional:!0});_scrollElement=this.elementRef.nativeElement;_destroyed=new ie;_renderer=E(pn);_cleanupScroll;_elementScrolled=new ie;constructor(){}ngOnInit(){this._cleanupScroll=this.ngZone.runOutsideAngular(()=>this._renderer.listen(this._scrollElement,"scroll",t=>this._elementScrolled.next(t))),this.scrollDispatcher.register(this)}ngOnDestroy(){this._cleanupScroll?.(),this._elementScrolled.complete(),this.scrollDispatcher.deregister(this),this._destroyed.next(),this._destroyed.complete()}elementScrolled(){return this._elementScrolled}getElementRef(){return this.elementRef}scrollTo(t){let r=this.elementRef.nativeElement,i=this.dir&&this.dir.value=="rtl";t.left==null&&(t.left=i?t.end:t.start),t.right==null&&(t.right=i?t.start:t.end),t.bottom!=null&&(t.top=r.scrollHeight-r.clientHeight-t.bottom),i&&Hs()!=Kn.NORMAL?(t.left!=null&&(t.right=r.scrollWidth-r.clientWidth-t.left),Hs()==Kn.INVERTED?t.left=t.right:Hs()==Kn.NEGATED&&(t.left=t.right?-t.right:t.right)):t.right!=null&&(t.left=r.scrollWidth-r.clientWidth-t.right),this._applyScrollToOptions(t)}_applyScrollToOptions(t){let r=this.elementRef.nativeElement;eD()?r.scrollTo(t):(t.top!=null&&(r.scrollTop=t.top),t.left!=null&&(r.scrollLeft=t.left))}measureScrollOffset(t){let r="left",i="right",o=this.elementRef.nativeElement;if(t=="top")return o.scrollTop;if(t=="bottom")return o.scrollHeight-o.clientHeight-o.scrollTop;let s=this.dir&&this.dir.value=="rtl";return t=="start"?t=s?i:r:t=="end"&&(t=s?r:i),s&&Hs()==Kn.INVERTED?t==r?o.scrollWidth-o.clientWidth-o.scrollLeft:o.scrollLeft:s&&Hs()==Kn.NEGATED?t==r?o.scrollLeft+o.scrollWidth-o.clientWidth:-o.scrollLeft:t==r?o.scrollLeft:o.scrollWidth-o.clientWidth-o.scrollLeft}static \u0275fac=function(r){return new(r||n)};static \u0275dir=he({type:n,selectors:[["","cdk-scrollable",""],["","cdkScrollable",""]]})}return n})(),L3=20,V3=(()=>{class n{_platform=E(xi);_listeners;_viewportSize;_change=new ie;_document=E(Be,{optional:!0});constructor(){let t=E(we),r=E($n).createRenderer(null,null);t.runOutsideAngular(()=>{if(this._platform.isBrowser){let i=o=>this._change.next(o);this._listeners=[r.listen("window","resize",i),r.listen("window","orientationchange",i)]}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){this._listeners?.forEach(t=>t()),this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();let t={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),t}getViewportRect(){let t=this.getViewportScrollPosition(),{width:r,height:i}=this.getViewportSize();return{top:t.top,left:t.left,bottom:t.top+i,right:t.left+r,height:i,width:r}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};let t=this._document,r=this._getWindow(),i=t.documentElement,o=i.getBoundingClientRect(),s=-o.top||t.body.scrollTop||r.scrollY||i.scrollTop||0,a=-o.left||t.body.scrollLeft||r.scrollX||i.scrollLeft||0;return{top:s,left:a}}change(t=L3){return t>0?this._change.pipe(Na(t)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){let t=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:t.innerWidth,height:t.innerHeight}:{width:0,height:0}}static \u0275fac=function(r){return new(r||n)};static \u0275prov=O({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),rM=new B("VIRTUAL_SCROLLABLE"),j3=(()=>{class n extends aM{constructor(){super()}measureViewportSize(t){let r=this.elementRef.nativeElement;return t==="horizontal"?r.clientWidth:r.clientHeight}static \u0275fac=function(r){return new(r||n)};static \u0275dir=he({type:n,features:[lt]})}return n})();function B3(n,e){return n.start==e.start&&n.end==e.end}var U3=typeof requestAnimationFrame<"u"?Np:kp,Ac=(()=>{class n extends j3{elementRef=E(tt);_changeDetectorRef=E(Vt);_scrollStrategy=E(sM,{optional:!0});scrollable=E(rM,{optional:!0});_platform=E(xi);_detachedSubject=new ie;_renderedRangeSubject=new ie;get orientation(){return this._orientation}set orientation(t){this._orientation!==t&&(this._orientation=t,this._calculateSpacerSize())}_orientation="vertical";appendOnly=!1;scrolledIndexChange=new Z(t=>this._scrollStrategy.scrolledIndexChange.subscribe(r=>Promise.resolve().then(()=>this.ngZone.run(()=>t.next(r)))));_contentWrapper;renderedRangeStream=this._renderedRangeSubject;_totalContentSize=0;_totalContentWidth="";_totalContentHeight="";_renderedContentTransform;_renderedRange={start:0,end:0};_dataLength=0;_viewportSize=0;_forOf;_renderedContentOffset=0;_renderedContentOffsetNeedsRewrite=!1;_isChangeDetectionPending=!1;_runAfterChangeDetection=[];_viewportChanges=Ve.EMPTY;_injector=E(Ct);_isDestroyed=!1;constructor(){super();let t=E(V3);this._scrollStrategy,this._viewportChanges=t.change().subscribe(()=>{this.checkViewportSize()}),this.scrollable||(this.elementRef.nativeElement.classList.add("cdk-virtual-scrollable"),this.scrollable=this)}ngOnInit(){this._platform.isBrowser&&(this.scrollable===this&&super.ngOnInit(),this.ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>{this._measureViewportSize(),this._scrollStrategy.attach(this),this.scrollable.elementScrolled().pipe(mi(null),Na(0,U3),jr(this._destroyed)).subscribe(()=>this._scrollStrategy.onContentScrolled()),this._markChangeDetectionNeeded()})))}ngOnDestroy(){this.detach(),this._scrollStrategy.detach(),this._renderedRangeSubject.complete(),this._detachedSubject.complete(),this._viewportChanges.unsubscribe(),this._isDestroyed=!0,super.ngOnDestroy()}attach(t){this._forOf,this.ngZone.runOutsideAngular(()=>{this._forOf=t,this._forOf.dataStream.pipe(jr(this._detachedSubject)).subscribe(r=>{let i=r.length;i!==this._dataLength&&(this._dataLength=i,this._scrollStrategy.onDataLengthChanged()),this._doChangeDetection()})})}detach(){this._forOf=null,this._detachedSubject.next()}getDataLength(){return this._dataLength}getViewportSize(){return this._viewportSize}getRenderedRange(){return this._renderedRange}measureBoundingClientRectWithScrollOffset(t){return this.getElementRef().nativeElement.getBoundingClientRect()[t]}setTotalContentSize(t){this._totalContentSize!==t&&(this._totalContentSize=t,this._calculateSpacerSize(),this._markChangeDetectionNeeded())}setRenderedRange(t){B3(this._renderedRange,t)||(this.appendOnly&&(t={start:0,end:Math.max(this._renderedRange.end,t.end)}),this._renderedRangeSubject.next(this._renderedRange=t),this._markChangeDetectionNeeded(()=>this._scrollStrategy.onContentRendered()))}getOffsetToRenderedContentStart(){return this._renderedContentOffsetNeedsRewrite?null:this._renderedContentOffset}setRenderedContentOffset(t,r="to-start"){t=this.appendOnly&&r==="to-start"?0:t;let i=this.dir&&this.dir.value=="rtl",o=this.orientation=="horizontal",s=o?"X":"Y",l=`translate${s}(${Number((o&&i?-1:1)*t)}px)`;this._renderedContentOffset=t,r==="to-end"&&(l+=` translate${s}(-100%)`,this._renderedContentOffsetNeedsRewrite=!0),this._renderedContentTransform!=l&&(this._renderedContentTransform=l,this._markChangeDetectionNeeded(()=>{this._renderedContentOffsetNeedsRewrite?(this._renderedContentOffset-=this.measureRenderedContentSize(),this._renderedContentOffsetNeedsRewrite=!1,this.setRenderedContentOffset(this._renderedContentOffset)):this._scrollStrategy.onRenderedOffsetChanged()}))}scrollToOffset(t,r="auto"){let i={behavior:r};this.orientation==="horizontal"?i.start=t:i.top=t,this.scrollable.scrollTo(i)}scrollToIndex(t,r="auto"){this._scrollStrategy.scrollToIndex(t,r)}measureScrollOffset(t){let r;return this.scrollable==this?r=i=>super.measureScrollOffset(i):r=i=>this.scrollable.measureScrollOffset(i),Math.max(0,r(t??(this.orientation==="horizontal"?"start":"top"))-this.measureViewportOffset())}measureViewportOffset(t){let r,i="left",o="right",s=this.dir?.value=="rtl";t=="start"?r=s?o:i:t=="end"?r=s?i:o:t?r=t:r=this.orientation==="horizontal"?"left":"top";let a=this.scrollable.measureBoundingClientRectWithScrollOffset(r);return this.elementRef.nativeElement.getBoundingClientRect()[r]-a}measureRenderedContentSize(){let t=this._contentWrapper.nativeElement;return this.orientation==="horizontal"?t.offsetWidth:t.offsetHeight}measureRangeSize(t){return this._forOf?this._forOf.measureRangeSize(t,this.orientation):0}checkViewportSize(){this._measureViewportSize(),this._scrollStrategy.onDataLengthChanged()}_measureViewportSize(){this._viewportSize=this.scrollable.measureViewportSize(this.orientation)}_markChangeDetectionNeeded(t){t&&this._runAfterChangeDetection.push(t),this._isChangeDetectionPending||(this._isChangeDetectionPending=!0,this.ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>{this._doChangeDetection()})))}_doChangeDetection(){this._isDestroyed||this.ngZone.run(()=>{this._changeDetectorRef.markForCheck(),this._contentWrapper.nativeElement.style.transform=this._renderedContentTransform,el(()=>{this._isChangeDetectionPending=!1;let t=this._runAfterChangeDetection;this._runAfterChangeDetection=[];for(let r of t)r()},{injector:this._injector})})}_calculateSpacerSize(){this._totalContentHeight=this.orientation==="horizontal"?"":`${this._totalContentSize}px`,this._totalContentWidth=this.orientation==="horizontal"?`${this._totalContentSize}px`:""}static \u0275fac=function(r){return new(r||n)};static \u0275cmp=ae({type:n,selectors:[["cdk-virtual-scroll-viewport"]],viewQuery:function(r,i){if(r&1&&Me(O3,7),r&2){let o;Ce(o=Ee())&&(i._contentWrapper=o.first)}},hostAttrs:[1,"cdk-virtual-scroll-viewport"],hostVars:4,hostBindings:function(r,i){r&2&&Qr("cdk-virtual-scroll-orientation-horizontal",i.orientation==="horizontal")("cdk-virtual-scroll-orientation-vertical",i.orientation!=="horizontal")},inputs:{orientation:"orientation",appendOnly:[2,"appendOnly","appendOnly",mn]},outputs:{scrolledIndexChange:"scrolledIndexChange"},features:[_t([{provide:aM,useFactory:(t,r)=>t||r,deps:[[new Za,new Fb(rM)],n]}]),lt],ngContentSelectors:k3,decls:4,vars:4,consts:[["contentWrapper",""],[1,"cdk-virtual-scroll-content-wrapper"],[1,"cdk-virtual-scroll-spacer"]],template:function(r,i){r&1&&(mo(),m(0,"div",1,0),go(2),g(),L(3,"div",2)),r&2&&(_(3),nl("width",i._totalContentWidth)("height",i._totalContentHeight))},styles:["cdk-virtual-scroll-viewport{display:block;position:relative;transform:translateZ(0)}.cdk-virtual-scrollable{overflow:auto;will-change:scroll-position;contain:strict}.cdk-virtual-scroll-content-wrapper{position:absolute;top:0;left:0;contain:content}[dir=rtl] .cdk-virtual-scroll-content-wrapper{right:0;left:auto}.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper{min-height:100%}.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>dl:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>ol:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>table:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>ul:not([cdkVirtualFor]){padding-left:0;padding-right:0;margin-left:0;margin-right:0;border-left-width:0;border-right-width:0;outline:none}.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper{min-width:100%}.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>dl:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>ol:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>table:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>ul:not([cdkVirtualFor]){padding-top:0;padding-bottom:0;margin-top:0;margin-bottom:0;border-top-width:0;border-bottom-width:0;outline:none}.cdk-virtual-scroll-spacer{height:1px;transform-origin:0 0;flex:0 0 auto}[dir=rtl] .cdk-virtual-scroll-spacer{transform-origin:100% 0}"],encapsulation:2,changeDetection:0})}return n})();function iM(n,e,t){let r=t;if(!r.getBoundingClientRect)return 0;let i=r.getBoundingClientRect();return n==="horizontal"?e==="start"?i.left:i.right:e==="start"?i.top:i.bottom}var Oh=(()=>{class n{_viewContainerRef=E(Wn);_template=E(pr);_differs=E(ol);_viewRepeater=E(Z_);_viewport=E(Ac,{skipSelf:!0});viewChange=new ie;_dataSourceChanges=new ie;get cdkVirtualForOf(){return this._cdkVirtualForOf}set cdkVirtualForOf(t){this._cdkVirtualForOf=t,nM(t)?this._dataSourceChanges.next(t):this._dataSourceChanges.next(new Mh(Ki(t)?t:Array.from(t||[])))}_cdkVirtualForOf;get cdkVirtualForTrackBy(){return this._cdkVirtualForTrackBy}set cdkVirtualForTrackBy(t){this._needsUpdate=!0,this._cdkVirtualForTrackBy=t?(r,i)=>t(r+(this._renderedRange?this._renderedRange.start:0),i):void 0}_cdkVirtualForTrackBy;set cdkVirtualForTemplate(t){t&&(this._needsUpdate=!0,this._template=t)}get cdkVirtualForTemplateCacheSize(){return this._viewRepeater.viewCacheSize}set cdkVirtualForTemplateCacheSize(t){this._viewRepeater.viewCacheSize=Bl(t)}dataStream=this._dataSourceChanges.pipe(mi(null),Vp(),xe(([t,r])=>this._changeDataSource(t,r)),Up(1));_differ=null;_data;_renderedItems;_renderedRange;_needsUpdate=!1;_destroyed=new ie;constructor(){let t=E(we);this.dataStream.subscribe(r=>{this._data=r,this._onRenderedDataChange()}),this._viewport.renderedRangeStream.pipe(jr(this._destroyed)).subscribe(r=>{this._renderedRange=r,this.viewChange.observers.length&&t.run(()=>this.viewChange.next(this._renderedRange)),this._onRenderedDataChange()}),this._viewport.attach(this)}measureRangeSize(t,r){if(t.start>=t.end)return 0;t.start<this._renderedRange.start||t.end>this._renderedRange.end;let i=t.start-this._renderedRange.start,o=t.end-t.start,s,a;for(let l=0;l<o;l++){let c=this._viewContainerRef.get(l+i);if(c&&c.rootNodes.length){s=a=c.rootNodes[0];break}}for(let l=o-1;l>-1;l--){let c=this._viewContainerRef.get(l+i);if(c&&c.rootNodes.length){a=c.rootNodes[c.rootNodes.length-1];break}}return s&&a?iM(r,"end",a)-iM(r,"start",s):0}ngDoCheck(){if(this._differ&&this._needsUpdate){let t=this._differ.diff(this._renderedItems);t?this._applyChanges(t):this._updateContext(),this._needsUpdate=!1}}ngOnDestroy(){this._viewport.detach(),this._dataSourceChanges.next(void 0),this._dataSourceChanges.complete(),this.viewChange.complete(),this._destroyed.next(),this._destroyed.complete(),this._viewRepeater.detach()}_onRenderedDataChange(){this._renderedRange&&(this._renderedItems=this._data.slice(this._renderedRange.start,this._renderedRange.end),this._differ||(this._differ=this._differs.find(this._renderedItems).create((t,r)=>this.cdkVirtualForTrackBy?this.cdkVirtualForTrackBy(t,r):r)),this._needsUpdate=!0)}_changeDataSource(t,r){return t&&t.disconnect(this),this._needsUpdate=!0,r?r.connect(this):z()}_updateContext(){let t=this._data.length,r=this._viewContainerRef.length;for(;r--;){let i=this._viewContainerRef.get(r);i.context.index=this._renderedRange.start+r,i.context.count=t,this._updateComputedContextProperties(i.context),i.detectChanges()}}_applyChanges(t){this._viewRepeater.applyChanges(t,this._viewContainerRef,(o,s,a)=>this._getEmbeddedViewArgs(o,a),o=>o.item),t.forEachIdentityChange(o=>{let s=this._viewContainerRef.get(o.currentIndex);s.context.$implicit=o.item});let r=this._data.length,i=this._viewContainerRef.length;for(;i--;){let o=this._viewContainerRef.get(i);o.context.index=this._renderedRange.start+i,o.context.count=r,this._updateComputedContextProperties(o.context)}}_updateComputedContextProperties(t){t.first=t.index===0,t.last=t.index===t.count-1,t.even=t.index%2===0,t.odd=!t.even}_getEmbeddedViewArgs(t,r){return{templateRef:this._template,context:{$implicit:t.item,cdkVirtualForOf:this._cdkVirtualForOf,index:-1,count:-1,first:!1,last:!1,odd:!1,even:!1},index:r}}static ngTemplateContextGuard(t,r){return!0}static \u0275fac=function(r){return new(r||n)};static \u0275dir=he({type:n,selectors:[["","cdkVirtualFor","","cdkVirtualForOf",""]],inputs:{cdkVirtualForOf:"cdkVirtualForOf",cdkVirtualForTrackBy:"cdkVirtualForTrackBy",cdkVirtualForTemplate:"cdkVirtualForTemplate",cdkVirtualForTemplateCacheSize:"cdkVirtualForTemplateCacheSize"},features:[_t([{provide:Z_,useClass:Ah}])]})}return n})();var oM=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275mod=Ke({type:n});static \u0275inj=Qe({})}return n})(),ya=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275mod=Ke({type:n});static \u0275inj=Qe({imports:[zs,oM,zs,oM]})}return n})();function $3(n,e){if(n&1){let t=ne();m(0,"div",6),M("keydown",function(i){let o=F(t).$implicit,s=D();return P(s.onKeyDownTodoItem(i,o))})("click",function(i){let o=F(t).$implicit,s=D();return P(s.onClickTodoItem(i,o))}),L(1,"app-todo-item",7),g()}if(n&2){let t=e.$implicit,r=e.index,i=D();b("id",r),_(),b("item",t)("fromBin",!1)("minimized",!i.fromSearch||r>1)}}var _a=class n{constructor(e,t,r){this.todoService=e;this.router=t;this.route=r;let i=this.router.url;i==="/bin/clear"?(e.fromBin=!0,e.deleteAll(),this.router.navigate(["/bin"])):i==="/home/clear"?(e.fromBin=!1,e.deleteAll(),this.router.navigate(["/home"])):i==="/demo"&&prompt("Download sample todo items? [Y|N]")==="Y"&&fetch("/todo-demo-items.json").then(s=>(s.ok||console.error("failed to load the demo items",s),s.json())).then(s=>{this.todoService.addMany(s.items),this.router.navigate(["/home"])}),this.todoService.fromBin=!1,console.log("ctor - home",Date.now())}itemList$=z([]);fromSearch=!1;queryParamSubscription;ngOnInit(){this.queryParamSubscription=this.route.queryParams.subscribe(e=>{let t=e.ord?e.ord:[],r=e.abs?e.abs==="true":!1,i=e.q?e.q:"",o=e.tag?e.tag:[],s=e.has?e.has:[],a=e.lim?e.lim:null;a||t.length!=0||i!==""||o.length>0||s.length>0?(this.itemList$=this.todoService.searchTodos(i,o,s,r).pipe(xe(l=>this.todoService.sortTodoItems(t,l,a))),this.fromSearch=!0):(this.router.navigate([]),this.itemList$=this.todoService.todoItems$.pipe(xe(l=>this.todoService.sortTodoItems(t,l))),this.fromSearch=!1)}),console.log("init",Date.now())}onClickTodoItem(e,t){let r=e.target,i=window.getSelection();r.classList.contains("option")||i&&i.toString().length>0||this.route.queryParams.subscribe((o,s=this)=>{t&&this.router.navigate(["/edit"],{state:{item:t,query:o}})})}verticalFocusTravel(e,t=!1){let r=e.parentElement?.getBoundingClientRect().width||0,i=e.parentElement?.getBoundingClientRect().left||0,o=e.getBoundingClientRect().left,s=e.getBoundingClientRect().right,a=0,l=t?o:s,c=e,u=e;for(;a<1e4;){let d=c?.getBoundingClientRect().width;if(l+=t?d:-1*d,c=t?c?.nextElementSibling:c?.previousElementSibling,a++,c===null)if(t){let v=e.parentElement?.firstElementChild;v?.focus(),v?.scrollIntoView({behavior:"smooth",block:"center"})}else{let v=e.parentElement?.lastElementChild;v?.focus(),v?.scrollIntoView({behavior:"smooth",block:"center"})}u=t?u?.nextElementSibling:u?.previousElementSibling;let p=u?.getBoundingClientRect().width,f=u?.getBoundingClientRect().left,h=u?.getBoundingClientRect().right;if(t&&l>=r&&(f>=o*.9||h>=s*.9)||!t&&l<=i+100&&(f<=o*1.1||h<=s*1.1))break}u?.focus(),u?.scrollIntoView({behavior:"smooth",block:"center"})}onKeyDownTodoItem(e,t){let r=["ArrowLeft","a","h"],i=["ArrowRight","d","l"],o=["ArrowUp","w","j"],s=["ArrowDown","s","k"],a=e.target;r.includes(e.key)?a.previousElementSibling?a.previousElementSibling.focus():a.parentElement?.lastElementChild?.focus():i.includes(e.key)?a.nextElementSibling?a.nextElementSibling.focus():a.parentElement?.firstElementChild?.focus():o.includes(e.key)?this.verticalFocusTravel(a,!1):s.includes(e.key)?this.verticalFocusTravel(a,!0):e.key==="Enter"&&this.onClickTodoItem(e,t)}ngAfterViewInit(){console.log("view init",Date.now())}ngOnDestroy(){this.queryParamSubscription&&this.queryParamSubscription.unsubscribe(),console.log("Destroy",Date.now())}trackById(e,t){return t.id}static \u0275fac=function(t){return new(t||n)(I(Tt),I(ke),I(ct))};static \u0275cmp=ae({type:n,selectors:[["app-home"]],decls:7,vars:4,consts:[["tabindex","1",1,"h-full","overflow-y-auto","justify-center"],["itemSize","autosize",1,"h-full"],[1,"m-2"],[1,"flex","flex-row","flex-wrap"],["tabindex","0","focus","this.style.float='top'","class",`flex-auto relative max-w-full w-fit h-fit mx-2 my-1 rounded-2xl focus:outline-2 hover:outline-2 hover:shadow-lg
         outline-offset-2 shadow-colored transition-all animate-focus`,3,"id","keydown","click",4,"cdkVirtualFor","cdkVirtualForOf","cdkVirtualForTrackBy"],[1,"w-full","h-10"],["tabindex","0","focus","this.style.float='top'",1,"flex-auto","relative","max-w-full","w-fit","h-fit","mx-2","my-1","rounded-2xl","focus:outline-2","hover:outline-2","hover:shadow-lg","outline-offset-2","shadow-colored","transition-all","animate-focus",3,"keydown","click","id"],[3,"item","fromBin","minimized"]],template:function(t,r){t&1&&(m(0,"div",0)(1,"cdk-virtual-scroll-viewport",1),L(2,"header",2),m(3,"div",3),$(4,$3,2,4,"div",4),Td(5,"async"),g(),L(6,"footer",5),g()()),t&2&&(_(4),b("cdkVirtualForOf",xd(5,2,r.itemList$))("cdkVirtualForTrackBy",r.trackById))},dependencies:[Ae,ll,va,ya,Rh,Oh,Ac],styles:[".animate-focus[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{display:block;transition:.2s}.animate-focus[_ngcontent-%COMP%]:hover > *[_ngcontent-%COMP%], .animate-focus[_ngcontent-%COMP%]:focus > *[_ngcontent-%COMP%]{translate:0 -.2lh}.shadow-colored[_ngcontent-%COMP%]:hover, .shadow-colored[_ngcontent-%COMP%]:focus{filter:drop-shadow(2px 2px 2px var(--button-icon-color))}.shadow-colored[_ngcontent-%COMP%]{filter:drop-shadow(1px 1px 1px var(--button-icon-color))}"]})};var cM=["text","email","password","number","date","url","color","range","month","date","time","datetime-local"];var H3=["canvasEle"],z3=["canvasContainer"];function G3(n,e){if(n&1){let t=ne();m(0,"div",6)(1,"div",7)(2,"label"),C(3,"Stroke "),g(),m(4,"div",8)(5,"input",9),Ci("ngModelChange",function(i){F(t);let o=D();return vo(o.strokeColor,i)||(o.strokeColor=i),P(i)}),M("change",function(i){F(t);let o=D();return P(o.onStrokeColorChange(i))}),g(),C(6," \xA0\xA0 "),m(7,"input",10),Ci("ngModelChange",function(i){F(t);let o=D();return vo(o.strokeSize,i)||(o.strokeSize=i),P(i)}),M("change",function(i){F(t);let o=D();return P(o.onStrokeSizeChange(i))}),g()(),m(8,"label"),C(9,"Canvas size "),g(),m(10,"div",8),C(11," \xA0\xA0 "),m(12,"input",11),Ci("ngModelChange",function(i){F(t);let o=D();return vo(o.canvasSize,i)||(o.canvasSize=i),P(i)}),M("change",function(i){F(t);let o=D();return P(o.onCanvasSizeChange(i))}),g()()(),m(13,"div",12)(14,"div",13)(15,"button",14),M("click",function(){F(t);let i=D();return P(i.addText())}),C(16,"textbox"),g(),m(17,"button",14),M("click",function(){F(t);let i=D();return P(i.addRect())}),C(18,"rectangle"),g(),m(19,"button",14),M("click",function(){F(t);let i=D();return P(i.addTriangle())}),C(20,"triangle"),g(),m(21,"button",14),M("click",function(){F(t);let i=D();return P(i.addCircle())}),C(22,"circle"),g(),m(23,"button",14),M("click",function(){F(t);let i=D();return P(i.addLine())}),C(24,"line"),g(),m(25,"button",14),M("click",function(){F(t);let i=D();return P(i.addImage())}),C(26,"image"),g()(),m(27,"div",15)(28,"button",16),M("click",function(){F(t);let i=D();return P(i.copyToClipboardCanvas())}),m(29,"mat-icon"),C(30,"file_copy"),g()(),m(31,"button",17),M("click",function(){F(t);let i=D();return P(i.undoCanvas())}),m(32,"mat-icon"),C(33,"undo"),g()(),m(34,"button",18),M("click",function(){F(t);let i=D();return P(i.redoCanvas())}),m(35,"mat-icon"),C(36,"redo"),g()(),m(37,"button",19),M("click",function(){F(t);let i=D();return P(i.clearCanvas())}),m(38,"mat-icon"),C(39,"clear"),g()()()()()}if(n&2){let t=D();_(5),wi("ngModel",t.strokeColor),_(2),wi("ngModel",t.strokeSize),_(5),wi("ngModel",t.canvasSize)}}var Rc=class n{constructor(e){this.baseHref=e}id;data;editMode=!1;fullScreen=!1;canvasEle;canvasContainer;strokeSize=1;strokeColor="#0000";canvasSize=50;fabricJsCanvas;history=[];ngAfterViewInit(){if(document.getElementById("fabricjs-script"))this.initFabricJs();else{let e=document.createElement("script");e.src=Yn+"fabric.min.js",e.id="fabricjs-script",e.async=!0,e.onload=()=>{this.onLoadFabricJs()},document.body.appendChild(e)}}onLoadFabricJs(){this.initFabricJs()}getState(){return JSON.stringify(X(T({},this.fabricJsCanvas.toJSON()),{strokeSize:this.strokeSize,strokeColor:this.strokeColor,canvasSize:this.canvasSize}))}onStrokeColorChange(e){this.fabricJsCanvas.freeDrawingBrush.color=this.strokeColor}onStrokeSizeChange(e){this.fabricJsCanvas.freeDrawingBrush.width=this.strokeSize}onCanvasSizeChange(e){this.canvasContainer.nativeElement.style.width=this.canvasSize+"vw",this.canvasContainer.nativeElement.style.height=this.canvasSize+"vh"}initFabricJs(){this.fabricJsCanvas=new fabric.Canvas(this.id,{isDrawingMode:!0,width:this.canvasEle?.nativeElement.getBoundingClientRect().width,height:this.canvasEle?.nativeElement.getBoundingClientRect().height}),this.data&&(this.strokeColor=this.data,this.fabricJsCanvas.loadFromJSON(this.data)),this.fabricJsCanvas.freeDrawingBrush=new fabric.PencilBrush(this.fabricJsCanvas),fabric.Object.prototype.transparentCorners=!1,this.fabricJsCanvas.freeDrawingBrush.width=1,this.fabricJsCanvas.backgroundColor="white";let e=new ResizeObserver(t=>{let r=window.devicePixelRatio||1,i=t[0].contentRect.height,o=t[0].contentRect.width;this.fabricJsCanvas.setHeight(i),this.fabricJsCanvas.setWidth(o),this.fabricJsCanvas.lowerCanvasEl.style.width=o+"px",this.fabricJsCanvas.lowerCanvasEl.style.height=i+"px"});setTimeout(()=>e.observe(this.canvasContainer.nativeElement),1e3)}addShapeToCanvas(e){this.fabricJsCanvas.add(e),this.fabricJsCanvas.setActiveObject(e),this.fabricJsCanvas.isDrawingMode=!this.fabricJsCanvas.isDrawingMode}addRect(){let e=new fabric.Rect({left:100,top:50,fill:this.strokeColor,width:200,height:100,strokeWidth:4});this.addShapeToCanvas(e)}addCircle(){let e=new fabric.Circle({radius:50,left:275,top:75,fill:this.strokeColor});this.addShapeToCanvas(e)}addTriangle(){let e=new fabric.Triangle({width:100,height:100,left:50,top:300,fill:this.strokeColor});this.addShapeToCanvas(e)}addLine(){let e=new fabric.Polyline([{x:10,y:10},{x:100,y:100}],{stroke:this.strokeColor,left:100,top:100});this.addShapeToCanvas(e)}addText(){let e=new fabric.Textbox("text",{left:50,top:10,width:200,fontSize:60,fontFamily:'Roboto, "Helvetica Neue", sans-serif'});this.addShapeToCanvas(e)}addImage(){let e=prompt("Please enter the image url (link or data url)");fabric.Image.fromURL(e,t=>{var r=t.set({left:0,top:0});this.fabricJsCanvas.add(r),this.fabricJsCanvas.setActiveObject(r),this.fabricJsCanvas.renderAll(),this.fabricJsCanvas.isDrawingMode=!this.fabricJsCanvas.isDrawingMode})}handleKeyboardEvents(e){e.key==="z"&&e.ctrlKey&&this.undoCanvas(),e.key==="y"&&e.ctrlKey&&this.redoCanvas()}undoCanvas(){this.fabricJsCanvas.undo()}redoCanvas(){this.fabricJsCanvas.redo()}clearCanvas(){this.fabricJsCanvas.clear()}copyToClipboardCanvas(){return _e(this,null,function*(){let e=this.fabricJsCanvas.toDataURL({format:"png",quality:1}),t=yield(yield fetch(e)).blob();try{yield navigator.clipboard.write([new ClipboardItem({"image/png":t})])}catch(r){console.error("Failed to copy image: ",r),alert("Failed to copy image to clipboard.")}})}toggleEditMode(){this.fabricJsCanvas.isDrawingMode=!this.fabricJsCanvas.isDrawingMode,this.editMode=!this.editMode}toggleFullScreen(){if(this.fullScreen=!this.fullScreen,this.fullScreen)this.canvasContainer.nativeElement.style.width="100vw",this.canvasContainer.nativeElement.style.height="100vh",this.canvasContainer.nativeElement.style.position="absolute",this.canvasContainer.nativeElement.style.top="0",this.canvasContainer.nativeElement.style.left="0",this.canvasContainer.nativeElement.requestFullscreen?this.canvasContainer.nativeElement.requestFullscreen():this.canvasContainer.nativeElement.webkitRequestFullscreen?this.canvasContainer.nativeElement.webkitRequestFullscreen():this.canvasContainer.nativeElement.msRequestFullscreen&&this.canvasContainer.nativeElement.msRequestFullscreen();else{this.canvasContainer.nativeElement.style.width="20vw",this.canvasContainer.nativeElement.style.height="20vh",this.canvasContainer.nativeElement.style.position="relative";let e=document;e.exitFullscreen?e.exitFullscreen():e.webkitExitFullscreen?e.webkitExitFullscreen():e.msExitFullscreen&&e.msExitFullscreen()}}static \u0275fac=function(t){return new(t||n)(I(Yn))};static \u0275cmp=ae({type:n,selectors:[["app-canvas"]],viewQuery:function(t,r){if(t&1&&(Me(H3,5),Me(z3,5)),t&2){let i;Ce(i=Ee())&&(r.canvasEle=i.first),Ce(i=Ee())&&(r.canvasContainer=i.first)}},hostBindings:function(t,r){t&1&&M("keydown",function(o){return r.handleKeyboardEvents(o)})},inputs:{id:"id",data:"data"},decls:11,vars:5,consts:[["canvasContainer",""],[1,"overflow-hidden","resize","bg-white","relative","text-black","z-3"],[3,"id"],[1,"absolute","top-0","right-0",3,"ngClass"],[3,"click"],["class","fixed bottom-0 left-0 p-3 flex flex-row justify-between z-3 w-full",4,"ngIf"],[1,"fixed","bottom-0","left-0","p-3","flex","flex-row","justify-between","z-3","w-full"],[1,"w-4/12","flex","flex-col"],[1,"flex","flex-row","w-full"],["type","color",3,"ngModelChange","change","ngModel"],["type","range","min","1","max","150",1,"w-full",3,"ngModelChange","change","ngModel"],["type","range","min","100","max","400",1,"w-full",3,"ngModelChange","change","ngModel"],[1,"flex","flex-col"],[1,"flex-row"],["type","button",3,"click"],[1,"flex","flex-row","justify-end"],["type","button","title","copy as image",3,"click"],["type","button","title","undo",3,"click"],["type","button","title","redo",3,"click"],["type","button","title","clear",3,"click"]],template:function(t,r){if(t&1){let i=ne();m(0,"div",1,0),L(2,"canvas",2),m(3,"div",3)(4,"button",4),M("click",function(){return F(i),P(r.toggleEditMode())}),m(5,"mat-icon"),C(6),g()(),m(7,"button",4),M("click",function(){return F(i),P(r.toggleFullScreen())}),m(8,"mat-icon"),C(9),g()()(),$(10,G3,40,3,"div",5),g()}t&2&&(_(2),b("id",r.id),_(),b("ngClass",r.fullScreen?"fixed":"absolute"),_(3),Fe(r.editMode?"edit":"pan_tool"),_(3),Fe(r.fullScreen?"fullscreen_exit":"fullscreen"),_(),b("ngIf",r.fullScreen))},dependencies:[Ae,Jt,Ge,Cr,Rn,yy,wr,tc,cn,ht],styles:["button[_ngcontent-%COMP%]{margin:8px;padding:8px;border-radius:8px;background-color:gray;mix-blend-mode:difference;cursor:pointer;transition:all}button[_ngcontent-%COMP%]:hover{transform:scale(1.05)}"]})};function q3(n,e){if(n&1&&L(0,"input",18),n&2){let t=D().$implicit;b("type",t.type)("id",t.name)("formControlName",t.name)("placeholder",t.placeholder||"")("min",t.validation==null?null:t.validation.min)("max",t.validation==null?null:t.validation.max)("step",t.validation==null?null:t.validation.step)("readonly",t.validation==null?null:t.validation.readonly)}}function W3(n,e){if(n&1&&(m(0,"a",19),C(1),g()),n&2){let t,r=D().$implicit,i=D();b("href",r.validation!=null&&r.validation.pattern?r.validation==null||r.validation.pattern==null?null:r.validation.pattern.replace("{key}",(t=i.dynamicForm.get(r.name))==null||t.value==null?null:t.value.trim()):(t=i.dynamicForm.get(r.name))==null?null:t.value,Rt)("formControlName",r.name)("title",r.name),_(),Pe(" ",r.label," ")}}function Z3(n,e){if(n&1&&L(0,"textarea",20),n&2){let t=D().$implicit;b("id",t.name)("formControlName",t.name)("placeholder",t.placeholder||"")("readonly",t.validation==null?null:t.validation.readonly)}}function Y3(n,e){if(n&1&&(m(0,"option",23),C(1),g()),n&2){let t=e.$implicit;b("value",t),_(),Fe(t)}}function J3(n,e){if(n&1&&(m(0,"select",21),$(1,Y3,2,2,"option",22),g()),n&2){let t=D().$implicit;b("id",t.name)("formControlName",t.name),_(),b("ngForOf",t.options==null?null:t.options.split(","))}}function Q3(n,e){if(n&1&&(m(0,"div",26)(1,"label",27),C(2),g(),L(3,"input",28),g()),n&2){let t=e.$implicit,r=D(2).$implicit;b("title",r.name+"-"+t),_(),b("for",r.name+"-"+t),_(),Pe("",t,":"),_(),b("id",r.name+"-"+t)("value",t)("name",r.name)("formControlName",r.name)}}function K3(n,e){if(n&1&&(m(0,"div",24),$(1,Q3,4,7,"div",25),g()),n&2){let t=D().$implicit;b("id",t.name),_(),b("ngForOf",t.options==null?null:t.options.split(","))}}function X3(n,e){if(n&1&&(m(0,"div",30)(1,"label",27),C(2),g(),L(3,"input",31),g()),n&2){let t=e.$implicit,r=e.index,i=D(2).$implicit;b("title",i.name+"-"+t)("formArrayName",i.name),_(),b("for",i.name+"-"+t),_(),Pe("",t,":"),_(),b("id",i.name+"-"+t)("value",t)("name",i.name)("formControlName",r)}}function eU(n,e){if(n&1&&(m(0,"div",24),$(1,X3,4,8,"div",29),g()),n&2){let t=D().$implicit;b("id",t.name),_(),b("ngForOf",t.options==null?null:t.options.split(","))}}function tU(n,e){if(n&1&&(m(0,"div",32),C(1," YES:"),L(2,"input",33),C(3," \xA0 NO:"),L(4,"input",34),g()),n&2){let t=D().$implicit;b("id",t.name),_(2),b("formControlName",t.name)("name",t.name),_(2),b("formControlName",t.name)("name",t.name)}}function nU(n,e){if(n&1&&(m(0,"div",35),L(1,"input",36)(2,"img",37),g()),n&2){let t,r,i=D().$implicit,o=D();b("title",i.label),_(),b("value",(t=o.dynamicForm.get(i.name))==null?null:t.value)("formControlName",i.name)("placeholder",i.placeholder)("readonly",i.validation==null?null:i.validation.readonly),_(),b("src",(r=o.dynamicForm.get(i.name))==null?null:r.value,Rt)}}function rU(n,e){if(n&1){let t=ne();m(0,"div",38),L(1,"input",39),m(2,"a",40),C(3),g(),C(4,"\xA0\xA0 "),m(5,"button",41),M("click",function(){F(t);let i=D().$implicit,o=D();return P(o.openFileBrowserFor(i.name))}),C(6,"\u{1F4C1}"),g()()}if(n&2){let t,r=D().$implicit,i=D();b("title",r.label),_(),b("id",r.name),_(),b("download",r.name)("href",(t=i.dynamicForm.get(r.name))==null?null:t.value,Rt)("download",r.name),_(),Fe(r.name)}}function iU(n,e){if(n&1&&L(0,"app-canvas",42),n&2){let t=D().$implicit,r=D();b("id",t.name)("data",r.data?r.data[t.name]:null)}}function oU(n,e){if(n&1&&(m(0,"div",43)(1,"div",44),L(2,"input",45),m(3,"a",46),C(4,"\u2197\uFE0F"),g()(),L(5,"iframe",47),g()),n&2){let t,r,i,o=D().$implicit,s=D();_(2),b("value",(t=s.dynamicForm.get(o.name))==null?null:t.value)("formControlName",o.name)("placeholder",o.placeholder)("readonly",o.validation==null?null:o.validation.readonly),_(),b("href",(r=s.dynamicForm.get(o.name))==null?null:r.value,Rt),_(2),b("src",(i=s.dynamicForm.get(o.name))==null?null:i.value,Ag)}}function sU(n,e){if(n&1&&(m(0,"tr",4)(1,"td",5)(2,"label",6),C(3),g()(),m(4,"td",7),$(5,q3,1,8,"input",8)(6,W3,2,4,"a",9)(7,Z3,1,4,"textarea",10)(8,J3,2,3,"select",11)(9,K3,2,2,"div",12)(10,eU,2,2,"div",12)(11,tU,5,5,"div",13)(12,nU,3,6,"div",14)(13,rU,7,6,"div",15)(14,iU,1,2,"app-canvas",16)(15,oU,6,6,"div",17),g()()),n&2){let t=e.$implicit,r=D();b("title",t.name),_(2),b("for",t.name),_(),Fe(t.label),_(2),b("ngIf",r.inputTagTypes.includes(t.type)),_(),b("ngIf",t.type==="url"),_(),b("ngIf",t.type==="textarea"||t.type==="timestamp"),_(),b("ngIf",t.type==="select"),_(),b("ngIf",t.type==="radio"),_(),b("ngIf",t.type==="checkbox"),_(),b("ngIf",t.type==="boolean"),_(),b("ngIf",t.type==="image"),_(),b("ngIf",t.type==="file"),_(),b("ngIf",t.type==="canvas"),_(),b("ngIf",t.type==="iframe")}}var kh=class n{constructor(e,t,r){this.formBuilder=e;this.connectionService=t;this.sanitizer=r;this.inputTagTypes=cM}inputTagTypes;schema;schemaInternal;data;isValid=!1;fabricjsLoaded=!1;canvasComponents;fileControlsId=[];iframeControlId=[];state(){return _e(this,null,function*(){if(!this.schemaInternal?.fields)return new Map;if(this.dynamicForm?.valid){let e=this.dynamicForm.value,t=this.canvasComponents.toArray();for(let r of t)e[r.id]=r.getState();return this.fileControlsId.length>0&&(yield new Promise(r=>{for(let i of this.fileControlsId){let s=document.getElementById(i).files[0];if(s){let a=new FileReader;a.onload=function(l){let c=l.target?.result;e[i]=c,r(e)},a.readAsDataURL(s)}}})),this.iframeControlId.length>0&&this.iframeControlId.forEach(r=>{e[r]=e[r].changingThisBreaksApplicationSecurity}),new Promise(r=>r(e))}else{let e=new Map;for(let t=0;t<this.schemaInternal.fields.length;t++){let r=this.dynamicForm?.get(this.schemaInternal.fields[t].name);r&&e.set(this.schemaInternal.fields[t].name,r.errors)}return e}})}dynamicForm;ngOnChanges(){if(this.schemaInternal=structuredClone(this.schema),this.data){let e=new Map(Object.entries(this.data));this.schemaInternal&&this.schemaInternal?.fields?.forEach(t=>{t.default=e.get(t.name),(t.type=="image"||t.type=="file"||t.type=="iframe")&&typeof t.default=="string"&&t.default?.startsWith("/item/doc/")&&this.connectionService.getUrlWithToken(t.default).then(i=>{t.default=i,this.createForm()}),t.type=="iframe"&&(this.iframeControlId.push(t.name),t.default=this.getSafeLinkHtmlForIframe(t.default))})}this.createForm()}onControlFocusIn(e){e.target?.scrollIntoView({behavior:"smooth",block:"center"})}createForm(){let e={};if(this.schemaInternal&&this.schemaInternal.fields)for(let t=0;t<this.schemaInternal.fields.length;t++){let r=[],i=this.schemaInternal.fields[t],o=i.type,{require:s,readonly:a,maxLength:l,minLength:c,min:u,max:d,pattern:p}=T({},i.validation),f=i.name;if(s&&r.push(Ot.required),l&&r.push(Ot.maxLength(l)),c&&r.push(Ot.minLength(c)),p&&o!=="url"&&r.push(Ot.pattern(p)),d&&r.push(Ot.max(Number.parseInt(d))),u&&r.push(Ot.min(Number.parseInt(u))),o==="email"&&r.push(Ot.email),o==="timestamp"&&(i.default||(i.default=""),i.default+=` ,
 `+Intl.DateTimeFormat([],{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"}).format(new Date)),o==="history"&&(i.default||(i.default=""),i.default+=JSON.stringify({timestamp:Date(),subject:JSON.stringify(document.getElementById("editor-subject-input")?.value),description:JSON.stringify(document.getElementById("editor-description-input")?.value),formData:JSON.stringify(this.data)})),o!=="canvas")if(o==="file"&&this.fileControlsId.push(i.name),o==="checkbox"&&i.options){let h=i.options.split(",").map((v,y)=>{let x=(i.default||[!1]).at(y);return this.formBuilder.control(x)});e[f]=this.formBuilder.array(h)}else e[f]=this.formBuilder.control(i.default,r)}this.dynamicForm=this.formBuilder.group(e)}filterDuplicateFields(){if(!this.schemaInternal||!this.schemaInternal.fields)return;this.schemaInternal.fields;let e=new Map;for(let t of this.schemaInternal.fields)e.set(t.name,t);this.schemaInternal.fields=Array.from(e.values())}openFileBrowserFor(e){document.getElementById(e)?.click()}getSafeLinkHtmlForIframe(e){return this.sanitizer.bypassSecurityTrustResourceUrl(e)}static \u0275fac=function(t){return new(t||n)(I(ea),I(Ht),I(Jn))};static \u0275cmp=ae({type:n,selectors:[["app-user-form"]],viewQuery:function(t,r){if(t&1&&Me(Rc,5),t&2){let i;Ce(i=Ee())&&(r.canvasComponents=i)}},hostBindings:function(t,r){t&1&&M("focusin",function(o){return r.onControlFocusIn(o)})},inputs:{schema:"schema",data:"data"},features:[it],decls:4,vars:3,consts:[["autocomplete","on",3,"formGroup"],[1,"border-1",3,"ngClass"],[1,"h-full","w-full","transition-all"],["class","flex flex-row justify-between rounded",3,"title",4,"ngFor","ngForOf"],[1,"flex","flex-row","justify-between","rounded",3,"title"],[1,"max-w-1/3","m-2"],[1,"break-all",3,"for"],[1,"flex","min-w-2/3","content-center","justify-center"],["class","w-full outline-1 p-2 m-1",3,"type","id","formControlName","placeholder","min","max","step","readonly",4,"ngIf"],[3,"href","formControlName","title",4,"ngIf"],["class","w-full outline-1 p-1",3,"id","formControlName","placeholder","readonly",4,"ngIf"],["class","w-full",3,"id","formControlName",4,"ngIf"],["class","flex flex-wrap",3,"id",4,"ngIf"],[3,"id",4,"ngIf"],["class","w-2/3",3,"title",4,"ngIf"],["class","w-2/3 flex flex-row items-center",3,"title",4,"ngIf"],[3,"id","data",4,"ngIf"],["class","w-full h-full",4,"ngIf"],[1,"w-full","outline-1","p-2","m-1",3,"type","id","formControlName","placeholder","min","max","step","readonly"],[3,"href","formControlName","title"],[1,"w-full","outline-1","p-1",3,"id","formControlName","placeholder","readonly"],[1,"w-full",3,"id","formControlName"],[3,"value",4,"ngFor","ngForOf"],[3,"value"],[1,"flex","flex-wrap",3,"id"],["class","flex-shrink-0 m-1",3,"title",4,"ngFor","ngForOf"],[1,"flex-shrink-0","m-1",3,"title"],[3,"for"],["type","radio",3,"id","value","name","formControlName"],["class","flex-shrink-0 m-1",3,"title","formArrayName",4,"ngFor","ngForOf"],[1,"flex-shrink-0","m-1",3,"title","formArrayName"],["type","checkbox",3,"id","value","name","formControlName"],[3,"id"],["type","radio","value","true",3,"formControlName","name"],["type","radio","value","false",3,"formControlName","name"],[1,"w-2/3",3,"title"],["type","text",1,"w-full","outline-1","overflow-auto",2,"mix-blend-mode","difference",3,"value","formControlName","placeholder","readonly"],[1,"border","border-1","w-full",3,"src"],[1,"w-2/3","flex","flex-row","items-center",3,"title"],["type","file",1,"user-form-file-control","hidden",3,"id"],["href","",3,"download","href"],[3,"click"],[3,"id","data"],[1,"w-full","h-full"],[1,"flex","flex-row"],["type","text",1,"outline-1","overflow-auto","w-full",2,"mix-blend-mode","difference",3,"value","formControlName","placeholder","readonly"],[1,"outline-1",3,"href"],["sandbox","allow-scripts allow-popups allow-modals allow-downloads",1,"outline-1","w-full","h-full","bg-white",3,"src"]],template:function(t,r){t&1&&(m(0,"form",0)(1,"div",1)(2,"table",2),$(3,sU,16,14,"tr",3),g()()()),t&2&&(b("formGroup",r.dynamicForm),_(),b("ngClass",(r.schema==null?null:r.schema.fields.length)>5?"h-100 overflow-auto resize":""),_(2),b("ngForOf",r.schema==null?null:r.schema.fields))},dependencies:[Ae,Jt,ft,Ge,Cr,jf,Ks,Xs,Rn,Ql,ki,vy,wr,Qs,ta,Oi,Ro,Bf,Rc],styles:["tr[_ngcontent-%COMP%]{border:1px solid var(--editor-input-container-bg-color);color:var(--editor-input-container-text-color)}select[_ngcontent-%COMP%]{color:var(--editor-input-container-text-color);background:var(--editor-subject-input-bg-color)}td[_ngcontent-%COMP%]{border:none!important}"]})};var aU=["editorContainer"],lU=["subjectTxt"],cU=["descriptionArea"],uU=["lineNumbers"],dU=["userForm"],fU=["tagInputArea"];function hU(n,e){if(n&1&&L(0,"app-user-form",27,2),n&2){let t=D();b("data",t.customFormData)("schema",t.customFormSchema)}}function pU(n,e){if(n&1){let t=ne();m(0,"button",28),M("click",function(){F(t);let i=D();return P(i.onAddClick())}),m(1,"mat-icon"),C(2,"save"),g()()}}function mU(n,e){if(n&1){let t=ne();m(0,"app-tag-list",29),M("onChange",function(i){F(t);let o=D();return P(o.onUpdateTags(i))}),g()}if(n&2){let t=D();b("editable",!0)("tags",t.todoItem.tags)}}function gU(n,e){if(n&1&&(m(0,"i",30),C(1," By "),L(2,"br"),C(3),g()),n&2){let t=D();b("title",t.owningUsersEmail),_(3),Pe(" ",t.owningUsersAlias," ")}}function vU(n,e){if(n&1){let t=ne();m(0,"div")(1,"div",31)(2,"div",32,3),M("click",function(i){F(t);let o=D();return P(o.onOptionClickOnDelay(i))}),g(),m(4,"textarea",33,4),Ci("ngModelChange",function(i){F(t);let o=D();return vo(o.todoItem.description,i)||(o.todoItem.description=i),P(i)}),M("keydown",function(i){F(t);let o=D();return P(o.handleKeydownForDescription(i))}),g()()()}if(n&2){let t=D();_(4),wi("ngModel",t.todoItem.description)}}function yU(n,e){if(n&1){let t=ne();m(0,"div",34),M("click",function(i){F(t);let o=D();return P(o.onOptionClickOnDelay(i))}),g()}if(n&2){let t=D();b("innerHTML",t.convertedMarkdown,Is)}}var Go=class n{constructor(e,t,r,i,o,s){this.todoServie=e;this.router=t;this.domSanitizer=r;this.toaster=i;this.route=o;this.userService=s;if(this.router.url.startsWith("/edit")){let a=this.router.getCurrentNavigation();this.route.queryParams.subscribe(l=>{setTimeout(()=>{let c=l.id,u=l.subject;c=Number.parseInt(c);let d=!1;if(c?this.todoServie.getItemById(c).subscribe(p=>{this.forEdit=c,this.todoItem=p}):u?this.todoServie.searchTodos(u).subscribe(p=>{this.forEdit=p[0].id,this.todoItem=p[0]}):d=!0,a?.extras?.state){let p=a.extras.state.item;this.queryParams=a.extras.state.query,this.forEdit=p.id,this.todoItem=p,this.todoItem.description=this.todoItem.description.replace(/<br>/g,`
`),this.customFormSchema=this.todoItem.userDefined?.formControlSchema,this.customFormData=this.todoItem.userDefined?.data,d=!1}d&&this.router.navigate(["/"])},100)}),this.userSubscription=this.userService.loggedInUser$.subscribe(l=>{this.todoItem.owningUser==ye&&(this.todoItem.owningUser=l)})}}editorContainer;subjectTxt;descriptionArea;lineNumbers;userForm;tagInputArea;queryParams={};convertedMarkdown="";option="Preview";forEdit=-1;showTags=!1;schemaEditingInProgress=!1;customFormSchema;customFormData;editiorLinesLoaded=!1;leftIndentSpcaeCount=0;ownedByCurrentUser=!1;owningUsersEmail="";owningUsersAlias="";userSubscription;todoItem={subject:"",uuid:ko(),description:"",version:0,tags:[{name:"*"}],completionStatus:!1,setForReminder:!1,creationTimestamp:new Date(Date.now()).toISOString(),updationTimestamp:new Date(Date.now()).toISOString(),owningUser:ye};ngAfterViewInit(){setTimeout(()=>{this.subjectTxt.nativeElement.scrollIntoView(),this.subjectTxt.nativeElement.focus(),this.onEventForResize(),this.updateOwningUser()},100),this.convertedMarkdown=""}updateOwningUser(){this.todoItem.owningUser&&(this.owningUsersAlias=this.todoItem.owningUser.alias||this.todoItem.owningUser.email,this.owningUsersEmail=this.todoItem.owningUser.email,this.ownedByCurrentUser=this.userService.isThisCurrentUser(this.todoItem.owningUser))}ngAfterViewChecked(){if(this.editiorLinesLoaded)return;let e=this.descriptionArea?.nativeElement,t=this.lineNumbers?.nativeElement;if(!(e||t))return;let r=window.getComputedStyle(e);["fontFamily","fontSize","fontWeight","letterSpacing","lineHeight","padding"].forEach(h=>{t.style[h]=r[h]});let i=h=>h.endsWith("px")?parseInt(h.slice(0,-2),10):0,o=`${r.fontSize} ${r.fontFamily}`,s=i(r.paddingLeft),a=i(r.paddingRight),c=document.createElement("canvas").getContext("2d");c&&(c.font=o);let u=h=>{let v=e.getBoundingClientRect().width-s-a,y=h.split(" "),x=0,U="";for(let j=0;j<y.length;j++){let S=c?.measureText(y[j]+" ").width||0;(c?.measureText(U).width||0)+S>v?(x++,U=y[j]+" "):U+=y[j]+" "}return U.trim()!==""&&x++,x},d=()=>{let v=e.value.split(`
`).map(U=>u(U)),y=[],x=1;for(;v.length>0;){let U=v.shift()||0;y.push(x),U>1&&Array(U-1).fill("").forEach(j=>y.push("")),x++}return y},p=()=>{let h=d();t.innerHTML=Array.from({length:h.length},(v,y)=>`<div style="cursor:pointer"
             onmouseover="this.style.color = 'white'"
             onmouseout="this.style.color = '#39ff13'">
              ${h[y]||"&nbsp;"}
            </div>`).join("")};e.addEventListener("input",()=>{p()}),p(),new ResizeObserver(()=>{let h=e.getBoundingClientRect();t.style.height=`${h.height}px`,p()}).observe(e),e.addEventListener("scroll",()=>{t.scrollTop=e.scrollTop}),this.editiorLinesLoaded=!0}handleKeydownForDescription(e){let t=e.target,r=t.selectionStart,i=t.selectionEnd,o=t.value.substring(0,r),s=t.value.substring(i);if(e.key==="Tab")e.preventDefault(),t.value=o+"	"+s,t.selectionStart=t.selectionEnd=r+1,(o.length==0||o.match(/\n\t*$/))&&(this.leftIndentSpcaeCount+=1),this.todoItem.description=t.value;else if(e.key==="Enter"){if(this.leftIndentSpcaeCount>0&&o.match(/\n*\t*$/)){e.preventDefault(),t.value=o+`
`;for(let a=0;a<this.leftIndentSpcaeCount;a++)t.value+="	";t.value+=s,t.selectionStart=t.selectionEnd=r+1+this.leftIndentSpcaeCount,this.todoItem.description=t.value}else this.leftIndentSpcaeCount=0;this.onEventForResize()}else if(e.key==="Backspace"){let a=e.target,l=a.selectionStart;a.value.substring(0,l).match(/\n\t+$/)&&(this.leftIndentSpcaeCount-=1,this.leftIndentSpcaeCount<0&&(this.leftIndentSpcaeCount=0)),this.onEventForResize()}else e.key==="s"&&e.ctrlKey?(e.preventDefault(),this.onAddClick()):e.key==="["&&e.ctrlKey?this.addChildItem():e.key==="]"&&e.ctrlKey&&this.navigateToParent()}handleKeydownForSubject(e){e.key==="Enter"&&(e.preventDefault(),this.onAddClick())}addChildItem(){let i=structuredClone(this.todoItem),{id:e}=i,t=tp(i,["id"]),r=`child of ${this.todoItem.subject}`;t.subject="",t.description="### ["+r+"]",t.userDefined=void 0,t.tags.push({name:r}),t.uuid="",this.onAddClick(),this.todoServie.addItem(t).then(o=>{this.router.navigate(["/edit/child"],{state:{item:T({id:o},t),params:this.queryParams},queryParams:{id:o}})})}navigateToParent(){this.todoServie.updateItem(T({id:this.forEdit},this.todoItem));let e=this.todoItem.description.match(/^### \[child of (.+?)\]/);e?(this.updateParentDescForTree(),this.router.navigate(["/edit/parent"],{queryParams:{subject:e[1]}})):this.router.navigate(["/home"],{queryParams:this.queryParams}),requestAnimationFrame(()=>{this.descriptionArea?.nativeElement.focus(),this.onEventForResize()})}createChildTreeview(e,t){let r="\n```treeview\n";r+=e+`/
`;let i=[];for(let o of t.entries()){let s=1;for(let a of o[1].children){let l="\u251C\u2500\u2500";s==o[1].children.size&&(l="\u2514\u2500\u2500"),i.includes(a.subject)||(r+=l+" ["+a.subject+"](/edit?id="+a.id+`)
`),i.push(a.subject),s++}}return r+="\n```\n",r}updateParentDescForTree(){let e=this.todoItem.description.match(/^### \[child of (.+?)\]/);if(e){let t=(r,i)=>{r.description.match(new RegExp("\n```treeview\n"+r.subject+".*\n```\n","s"))?r.description=r.description.replace(new RegExp("\n```treeview\n"+r.subject+".*\n```\n","s"),i):r.description+=i};this.todoServie.searchTodos(e[1]).subscribe(r=>{let i=r[0],o=new Map;this.todoServie.searchTodos("",["child of "+e[1]],[],!0).subscribe(s=>{o?.set(this.todoItem.subject,{item:T({id:this.forEdit},this.todoItem),children:new Set(s)});let a=this.createChildTreeview(e[1],o);t(i,a),this.todoServie.updateItem(i)})})}}onEventForResize(){if(this.descriptionArea){let e=this.descriptionArea.nativeElement;e.style.height="auto",requestAnimationFrame(()=>{e.style.height=e.scrollHeight+"px"})}}onPasteEvent(e){if(!(e.target instanceof HTMLTextAreaElement))return;let t=e.target,r=e.clipboardData,i=r?.getData("text");if(i?.toLocaleLowerCase().startsWith("http://")||i?.toLocaleLowerCase().startsWith("https://")){let s=t.selectionStart;this.todoItem.description=this.todoItem.description.substring(0,s)+`[link_${new Date().getSeconds()}](${i})`+this.todoItem.description.substring(s),e.preventDefault()}new Promise(s=>{for(let a of r?.items||[])if(a.kind.startsWith("file")){let l=a.getAsFile(),c=a.getAsFile();if(l&&c){let u=new FileReader;u.readAsDataURL(l),s({file:c,reader:u})}}}).then(s=>{s.reader.onload=a=>{let l=a.target;if(l.result){let c=s.file.type.replaceAll("/","_")+"_"+s.file.name.replaceAll(/[.]/g,"_")+"_"+new Date(s.file.lastModified).toLocaleString().replaceAll(/[-,\/.: ]/g,"_"),u={type:"iframe",name:c,label:c,default:"file data",validation:{readonly:!0}};s.file.type.startsWith("image")&&(u.type="image"),this.appendCustomSchemaFields([u]);let d={};d[u.name]=l.result,this.customFormData=T(T({},this.customFormData),d);let p=!1;for(let h of this.todoItem.tags)h.name=="has-attachments"&&(p=!0);p||this.todoItem.tags.push({name:"has-attachments"});let f=t.selectionStart;this.todoItem.description=this.todoItem.description.substring(0,f)+" #Ref:"+u.label+" "+this.todoItem.description.substring(f)}}}),requestAnimationFrame(()=>this.onEventForResize())}onOptionClickOnDelay(e){let t=window.getSelection();if(t&&t.toString().length>0)return;let r=this.editorContainer.nativeElement,i=r.scrollTop/r.scrollHeight;requestAnimationFrame(()=>{this.onOptionClick(),setTimeout(()=>{let o=r.scrollHeight*i;r.scrollTop=o},100)})}onOptionClick(){this.todoItem.subject===""&&this.todoItem.description===""||(this.option=="Preview"?requestAnimationFrame(()=>{this.editiorLinesLoaded=!1;let e=Gs(this.todoItem.description).toString(),t=e.match(/<code class="language-(\w+)">([\s\S]*?)<\/code>/g)||e.match(/<code>([\s\S]*?)<\/code>/);if(t){for(let r=0;r<t.length;r++){let i=t[r];e=e.replace(i,i.replace(/<br>/g,`
`))}requestAnimationFrame(()=>{Prism.highlightAll()})}this.convertedMarkdown=this.domSanitizer.bypassSecurityTrustHtml(e),this.todoItem.subject.trim().length!=0&&(this.convertedMarkdown=this.domSanitizer.bypassSecurityTrustHtml(e))}):requestAnimationFrame(()=>{this.onEventForResize()}),this.option=this.option==="Preview"?"Editor":"Preview")}onAddClick(){return _e(this,null,function*(){if(this.todoItem.deleted)return;if(this.userForm?.dynamicForm.invalid){console.log("user defined field validation failed - "),console.error(this.userForm.state()),(yield this.userForm.state()).forEach((t,r)=>{if(t){let i=JSON.stringify(t);this.toaster.error(r+"->"+i)}});return}this.customFormSchema?.fields&&(this.todoItem.userDefined={tag:{name:this.todoItem.tags.filter(t=>t.name.startsWith("form-")).map(t=>t.name).join(",")},formControlSchema:this.customFormSchema,data:yield this.userForm.state()},this.todoItem.userDefined.tag.name==""&&(this.todoItem.userDefined.tag.name="has-attachments")),this.updateParentDescForTree(),this.forEdit!==-1?this.todoServie.updateItem(T({id:this.forEdit},this.todoItem)):this.todoServie.addItem(this.todoItem),this.router.lastSuccessfulNavigation?.finalUrl?.toString()?.includes("/home")?this.router.navigate(["/home"],{queryParams:this.queryParams}):history.back()})}onUpdateTags(e){this.todoItem.tags=e,this.loadCustomSchemaFromDb(e),this.loadPrimitiveFields(e)}loadPrimitiveFields(e){if(e=e.filter(r=>r.name.startsWith("form-")),e.length===0)return;this.customFormSchema=this.todoItem.userDefined?.formControlSchema;let t=[];for(let r=0;r<e.length;r++){let i=e[r].name.substring(5);t.push({name:i+"_"+r,label:i+"_"+r,type:i,placeholder:"",default:""})}this.appendCustomSchemaFields(t)}loadCustomSchemaFromDb(e){e=e.filter(t=>t.name.startsWith("form-")),e.length!==0&&(this.customFormSchema=this.todoItem.userDefined?.formControlSchema,this.todoServie.getAllCustom(e).subscribe(t=>t.forEach(r=>{let i=r?.item;if(i)try{i.fields?.forEach(o=>{let s=this.customFormData;if(s){s=new Map(Object.entries(s));let a=s.get(o.name);a&&(o.default=a)}}),this.appendCustomSchemaFields(i.fields)}catch(o){console.error("failed to load schema "+e,i,o)}})))}appendCustomSchemaFields(e){!e||e.length==0||(this.customFormSchema&&this.customFormSchema.fields?this.customFormSchema={fields:[...this.customFormSchema.fields,...e]}:this.customFormSchema={fields:e})}onClickUserFormAdd(e){if(this.schemaEditingInProgress)try{this.todoItem.description=this.todoItem.description.replaceAll(/\/\*[\s\S]*?\*\//g,"").replaceAll(/\//g,"\\/").replaceAll("<","&lt;").replaceAll(">","&gt;");let t=JSON.parse(this.todoItem.description);if(!t.tag||!t.formControlSchema){this.toaster.error("please provide a unique tag and schema for this shcema!");return}let r="form-"+t.tag.trim();this.todoItem.tags.push({name:r}),this.todoServie.addCustom(r,t.formControlSchema),this.customFormSchema&&this.customFormSchema.fields?this.customFormSchema={fields:[...this.customFormSchema.fields,...t.formControlSchema.fields]}:this.customFormSchema=t.formControlSchema,this.todoItem.description=localStorage.tempTodoDescription,this.schemaEditingInProgress=!1;return}catch(t){console.error("Error parsing schema - "),console.error(t),console.error("input schema - ",this.todoItem.description),this.toaster.error("error parsing the schema please try aggain");return}localStorage.tempTodoDescription=this.todoItem.description,this.todoItem.description=`/* Please add your json schema for desired custom form here - 
      * Remove this commented part before save; Dont worry your description will be back once you save the schema by clicking the same 'add custom form' button
      * the format is - 
      * {
      *   "tag" : string, 
      *   "formControlSchema" : {
      *     "fields": [
      *        {
      *         "name" : string,
      *         "label" : string,
      *         "type" : 'text' | 'textarea' | 'email' | 'password' 
      *                  | 'number' | 'date' | 'select' | 'checkbox' | 'radio' | 'boolean' | 'image' | 'file' | 'iframe' | 'canvas' 
      *                  | 'color' | 'range' | 'month' | 'date' | 'time' | 'datetime-local' | 'timestamp' | 'history',
      *         "placeholder"?: string,
      *         "validation"?: {
      *             "require"? : boolean,
      *             "readonly"?: any, // set any value for readonly control
      *             "minLength"?: number,
      *             maxLength"?: number,
      *             pattern"? : string,
      *             "min"? : string,
      *             "max"? : string,
      *             "step"? : string
      *         },
      *         "default"?: string,
      *         "options"?: string // , seperated options
      *       }
      *     ]
      *   },
      *   "data" : Map<string, string> | null
      * }
      * 
      * sample - 
      *   {"tag":"sample", "formControlSchema": {"fields": [{"name":"sample", "label":"sample text", "type":"text"}]}, "data":[["sample", "current value"]]}
*/


`,this.todoItem.userDefined&&this.todoItem.userDefined.formControlSchema.fields&&(this.todoItem.description+=JSON.stringify(this.todoItem.userDefined,null,4)),requestAnimationFrame(this.onEventForResize.bind(this)),this.schemaEditingInProgress=!0}onReminderClick(){this.todoItem.setForReminder=!this.todoItem.setForReminder}onCompletionClick(){this.todoItem.completionStatus=!this.todoItem.completionStatus}ngOnDestroy(){this.userSubscription&&this.userSubscription.unsubscribe()}static \u0275fac=function(t){return new(t||n)(I(Tt),I(ke),I(Jn),I(bt),I(ct),I(ot))};static \u0275cmp=ae({type:n,selectors:[["app-markdown-editor"]],viewQuery:function(t,r){if(t&1&&(Me(aU,5),Me(lU,5),Me(cU,5),Me(uU,5),Me(dU,5),Me(fU,5)),t&2){let i;Ce(i=Ee())&&(r.editorContainer=i.first),Ce(i=Ee())&&(r.subjectTxt=i.first),Ce(i=Ee())&&(r.descriptionArea=i.first),Ce(i=Ee())&&(r.lineNumbers=i.first),Ce(i=Ee())&&(r.userForm=i.first),Ce(i=Ee())&&(r.tagInputArea=i.first)}},hostBindings:function(t,r){t&1&&M("paste",function(o){return r.onPasteEvent(o)})},decls:37,vars:12,consts:[["editorContainer",""],["subjectTxt",""],["userForm",""],["lineNumbers",""],["descriptionArea",""],[1,"h-full","md:m-4","md:p-4","overflow-auto"],[1,"flex","flex-row","flex-wrap","md:flex-nowrap","justify-center","md:justify-between","pb-1"],[1,"m-2","user-form-container"],[3,"data","schema",4,"ngIf"],[1,"flex","justify-evenly","space-x-2","mt-2"],[1,"bg-blue-500",3,"click"],["title","Save the note","class","bg-[#70e000]",3,"click",4,"ngIf"],[1,"bg-yellow-500",3,"click","title"],[1,"bg-purple-500",3,"click","title"],[1,"flex","justify-center","content-center"],["title","Tags",2,"background-color","#f72585",3,"click"],[3,"editable","tags","onChange",4,"ngIf"],["title","go to parent",2,"background-color","#38a3a5",3,"click"],["title","add child item",2,"background-color","#57cc99",3,"click"],["title","add custom form widget",2,"background-color","#d74c11",3,"click"],[1,"editor-input-container","rounded-lg","shadow-md","p-4"],[1,"flex","flex-row"],["type","text","id","editor-subject-input","placeholder","Title",1,"w-full","editor-subject-input","p-3","rounded-lg","outline-0","ring-2","ring-inset","focus:ring-blue-600",3,"ngModelChange","keydown","ngModel"],["class","pl-1",3,"title",4,"ngIf"],[4,"ngIf"],["id","editor-markdown-div","class","match-braces rainbow-braces overflow-ellipsis m-2 p-3 rounded-lg ring-2 ring-inset markdown-container ring-[#8900ff]",3,"innerHTML","click",4,"ngIf"],[1,"w-full","h-20"],[3,"data","schema"],["title","Save the note",1,"bg-[#70e000]",3,"click"],[3,"onChange","editable","tags"],[1,"pl-1",3,"title"],["id","container",1,"input-area-container","w-full"],["id","line-numbers",1,"container__lines","mt-2",3,"click"],["id","editor-description-input","placeholder","Description","tabindex","0",1,"w-full","transition-all","duration-1000","rounded-lg","p-3","m-2","input-textarea","resize-vertical","overflow-hidden","ring-2","ring-inset","focus:ring-blue-600",3,"ngModelChange","keydown","ngModel"],["id","editor-markdown-div",1,"match-braces","rainbow-braces","overflow-ellipsis","m-2","p-3","rounded-lg","ring-2","ring-inset","markdown-container","ring-[#8900ff]",3,"click","innerHTML"]],template:function(t,r){if(t&1){let i=ne();m(0,"div",5,0)(2,"div",6)(3,"div",7),$(4,hU,2,2,"app-user-form",8),g(),m(5,"div",9)(6,"button",10),M("click",function(){return F(i),P(r.onOptionClick())}),C(7),g(),$(8,pU,3,0,"button",11),m(9,"button",12),M("click",function(){return F(i),P(r.onReminderClick())}),m(10,"mat-icon"),C(11),g()(),m(12,"button",13),M("click",function(){return F(i),P(r.onCompletionClick())}),m(13,"mat-icon"),C(14),g()(),m(15,"div",14)(16,"button",15),M("click",function(){return F(i),P(r.showTags=!r.showTags)}),m(17,"mat-icon"),C(18,"local_offer"),g()(),$(19,mU,1,2,"app-tag-list",16),g(),m(20,"button",17),M("click",function(){return F(i),P(r.navigateToParent())}),m(21,"mat-icon"),C(22,"subdirectory_arrow_left"),g()(),m(23,"button",18),M("click",function(){return F(i),P(r.addChildItem())}),m(24,"mat-icon"),C(25,"subdirectory_arrow_right"),g()(),m(26,"button",19),M("click",function(s){return F(i),P(r.onClickUserFormAdd(s))}),m(27,"mat-icon"),C(28,"widgets"),g()()()(),m(29,"div",20)(30,"div",21)(31,"input",22,1),Ci("ngModelChange",function(s){return F(i),vo(r.todoItem.subject,s)||(r.todoItem.subject=s),P(s)}),M("keydown",function(s){return F(i),P(r.handleKeydownForSubject(s))}),g(),$(33,gU,4,2,"i",23),g(),$(34,vU,6,1,"div",24)(35,yU,1,1,"div",25),g(),L(36,"footer",26),g()}t&2&&(_(4),b("ngIf",r.customFormSchema==null?null:r.customFormSchema.fields),_(3),Pe(" ",r.option," "),_(),b("ngIf",!r.todoItem.deleted),_(),b("title",r.todoItem.setForReminder?"Clear reminder":"Set reminder"),_(2),Fe(r.todoItem.setForReminder?"alarm_off":"alarm_add"),_(),b("title",r.todoItem.completionStatus?"set status: Pending":"set status: Done"),_(2),Fe(r.todoItem.completionStatus?"done_all":"timelapse"),_(5),b("ngIf",r.showTags),_(12),wi("ngModel",r.todoItem.subject),_(2),b("ngIf",!r.ownedByCurrentUser),_(),b("ngIf",r.option!=="Editor"),_(),b("ngIf",r.option!=="Preview"))},dependencies:[Cr,Rn,wr,tc,Ae,Ge,cn,ht,kh,Gi],styles:[".input-area-container[_ngcontent-%COMP%]{display:flex;border:1px solid rgb(203 213 225);border-radius:.5rem}.input-textarea[_ngcontent-%COMP%]{border:none;outline:none;filter:contrast(120%);background:repeating-linear-gradient(180deg,var(--editor-desc-input-bg-color),var(--editor-desc-input-bg-color) calc(var(--global-line-height) * var(--global-font-size) - 1px),var(--editor-desc-input-line-color) calc(var(--global-line-height) * var(--global-font-size) - 1px),var(--editor-desc-input-line-color) calc(var(--global-line-height) * var(--global-font-size)));background-position:0px 10px;line-height:calc(var(--global-line-height) * var(--global-font-size));white-space:pre-wrap;word-wrap:break-word}.container__lines[_ngcontent-%COMP%]{border-right:1px solid var(--editor-desc-input-line-color);border-radius:10px;color:var(--editor-desc-input-line-color);padding:.5rem;text-align:right;overflow:hidden}button[_ngcontent-%COMP%]{padding:.125rem .5rem;font-weight:100;border-radius:.25rem;color:var(--button-icon-color);width:100%;height:100%}button[_ngcontent-%COMP%]:hover{filter:saturate(150%) brightness(150%);cursor:pointer}@media (min-width: 768px){button[_ngcontent-%COMP%]{padding:.25rem 1rem}}.editor-input-container[_ngcontent-%COMP%]{background:var(--editor-input-container-bg-color);color:var(--editor-input-container-text-color)}.editor-subject-input[_ngcontent-%COMP%]{background:var(--editor-subject-input-bg-color);font-size:calc(var(--global-font-size) * 1.875)!important}.markdown-container[_ngcontent-%COMP%]{background:var(--editor-desc-input-bg-color)}.user-form-container[_ngcontent-%COMP%]{color:var(--editor-input-container-text-color)}"]})};var _U=["calendarContainer"],bU=["panelContainer"];function wU(n,e){if(n&1&&(m(0,"div",6),L(1,"div",7,0)(3,"footer",8),g()),n&2){let t=D();b("ngClass",t.calendarVisible()?"grow p-2 md:p-8":"")}}function CU(n,e){if(n&1){let t=ne();m(0,"div",16),M("click",function(){let i=F(t).$implicit,o=D(2);return P(o.openItemInEditor(i.id))}),m(1,"b",17),C(2),g(),m(3,"i",18),C(4),g()()}if(n&2){let t=e.$implicit;_(2),Fe(t.startStr.split(".")[0]),_(2),Fe(t.title)}}function EU(n,e){if(n&1){let t=ne();m(0,"div",9,1)(2,"div",10)(3,"h2"),C(4,"Instructions"),g(),m(5,"ul")(6,"li"),C(7,"Select dates and you will be prompted to create a new event"),g(),m(8,"li"),C(9,"Drag, drop, and resize events"),g(),m(10,"li"),C(11,"Click an event to delete it"),g()()(),m(12,"div",10)(13,"label")(14,"input",11),M("change",function(){F(t);let i=D();return P(i.handleCalendarToggle())}),g(),C(15," toggle calendar "),g()(),m(16,"div",10)(17,"label")(18,"input",12),M("change",function(){F(t);let i=D();return P(i.handleWeekendsToggle())}),g(),C(19," toggle weekends "),g()(),m(20,"div",10)(21,"label")(22,"input",11),M("change",function(){F(t);let i=D();return P(i.handleViewByUpdationTimestampToggle())}),g(),C(23," show based on event updation "),g()(),m(24,"div",13)(25,"h2"),C(26),g(),$(27,CU,5,2,"div",14),L(28,"footer",15),g()()}if(n&2){let t=D();b("ngClass",t.calendarVisible()?"shrink":"grow"),_(14),b("checked",t.calendarVisible()),_(8),b("checked",t.viewByUpdationTimestamp()),_(4),Pe("All Events (",t.currentEvents().length,")"),_(),b("ngForOf",t.currentEvents())}}var Nh=class n{constructor(e,t,r,i,o){this.changeDetector=e;this.todoService=t;this.router=r;this.userService=i;this.baseHref=o;if(this.todoService.fromBin=!1,document.getElementById("fullcalander-script"))requestAnimationFrame(this.afterScriptLoadInit.bind(this));else{let s=document.createElement("script");s.src=o+"fullcalendar.global.min.js",s.id="fullcalander-script",s.async=!0,s.onload=this.afterScriptLoadInit.bind(this),document.body.appendChild(s)}}calendarVisible=Tn(!0);initialEvents=[];viewByUpdationTimestamp=Tn(!1);eventListVisible=Tn(!0);startResize=!1;itemList=[];calendarContainer;panelContainer;calendarOptions=null;currentEvents=Tn([]);calanderObj;init(){this.calendarOptions||(this.calendarOptions=Tn({headerToolbar:{left:"prev,next today",center:"title",right:"dayGridMonth,timeGridWeek,timeGridDay,listWeek,multiMonthYear"},initialView:"dayGridMonth",businessHours:{daysOfWeek:[1,2,3,4,5],startTime:"8:00",endTime:"18:00"},weekends:!0,editable:!0,selectable:!0,droppable:!0,dayMaxEvents:!0,eventStartEditable:!0,nowIndicator:!0,navLinks:!0,longPressDelay:100,eventContent:this.customEventContent.bind(this),eventClick:this.handleEventClick.bind(this),eventsSet:this.handleEvents.bind(this),eventChange:this.handleEventChange.bind(this),eventRemove:this.handleEventRemove.bind(this),select:this.handleDateSelect.bind(this)})),this.todoService.todoItems$.subscribe(e=>{this.calendarOptions.update(t=>{let r=(i,o,s)=>{this.itemList=e,this.itemList=this.itemList.sort((l,c)=>this.viewByUpdationTimestamp()?new Date(l.updationTimestamp)<new Date(c.updationTimestamp)?-1:1:new Date(l.creationTimestamp)<new Date(c.creationTimestamp)?1:-1);let a=e.map(l=>({id:l.id.toString(),title:l.subject,start:l.eventStart?l.eventStart:l.creationTimestamp,end:l.eventEnd?l.eventEnd:l.creationTimestamp,allDay:l.eventFullDay,color:l.setForReminder?"orange":l.completionStatus?"green":""}));o(a)};return t.events=r,this.calanderObj&&this.calanderObj.setOption("events",r),t})})}afterScriptLoadInit(){this.init();let e=new FullCalendar.Calendar(this.calendarContainer.nativeElement,this.calendarOptions());e.render(),this.calanderObj=e}ngAfterViewInit(){}customEventContent(e){let t=document.createElement("div");t.classList.add("text-center");let r=document.createElement("b");r.innerHTML=e.timeText+"&nbsp;";let i=document.createElement("i");return i.innerText=e.event.title,t.appendChild(r),t.appendChild(i),{domNodes:[t]}}forceFullCalendarResize(){requestAnimationFrame(()=>{this.calanderObj.updateSize()})}handleCalendarToggle(){this.calendarVisible.update(e=>!e),this.calendarVisible()&&this.calanderObj.render()}handleWeekendsToggle(){this.calendarOptions.update(e=>(e.weekends=!e.weekends,this.calanderObj.setOption("weekends",e.weekends),e))}handleDateSelect(e){let t=prompt("Please enter a new title for your event");if(e.view.calendar.unselect(),t){let i=e.startStr?e.startStr:e.dateStr,o=e.endStr?e.endStr:e.dateStr,s={uuid:ko(),version:0,subject:t,description:"",creationTimestamp:i,updationTimestamp:new Date().toISOString(),completionStatus:!1,setForReminder:!0,eventStart:i,eventEnd:o,tags:[{name:"calendar event"}],eventFullDay:e.allDay,owningUser:this.userService.loggedInUser.value};this.todoService.addItem(s)}}handleEventClick(e){this.todoService.getItemById(Number.parseInt(e.event.id)).subscribe(t=>{t&&this.router.navigate(["/edit"],{state:{item:t}})})}handleEventChange(e){let t=e.event;this.todoService.getItemById(Number(t.id)).subscribe(r=>{r.creationTimestamp=t.start?t.start.toISOString():new Date().toISOString(),r.eventStart=t.start?t.start.toISOString():new Date().toISOString(),r.eventEnd=t.end?t.end.toISOString():new Date().toISOString(),r.subject=t.title,this.todoService.updateItem(r)})}handleEventRemove(e){this.todoService.deleteItemById(Number(e.event.id))}handleEvents(e){this.currentEvents.set(e),this.changeDetector.detectChanges()}handleViewByUpdationTimestampToggle(){this.viewByUpdationTimestamp.update(e=>!e),this.calendarOptions.update(e=>(e.events=(t,r,i)=>{let o=this.itemList.map(s=>({id:s.id.toString(),title:s.subject,start:s.eventStart?s.eventStart:this.viewByUpdationTimestamp()?s.updationTimestamp:s.creationTimestamp,end:s.eventEnd?s.eventEnd:s.creationTimestamp,allDay:s.eventFullDay,color:s.setForReminder?"orange":s.completionStatus?"green":""}));this.itemList=this.itemList.sort((s,a)=>this.viewByUpdationTimestamp()?new Date(s.updationTimestamp)<new Date(a.updationTimestamp)?-1:1:new Date(s.creationTimestamp)<new Date(a.creationTimestamp)?1:-1),r(o)},this.calanderObj.setOption("events",e.events),e))}openItemInEditor(e){this.router.navigate(["/edit"],{queryParams:{id:e}})}handleResize(e){}toggleEventListVisible(){this.eventListVisible.update(e=>!e),this.eventListVisible()||this.calanderObj.render(),this.forceFullCalendarResize()}static \u0275fac=function(t){return new(t||n)(I(Vt),I(Tt),I(ke),I(ot),I(Yn))};static \u0275cmp=ae({type:n,selectors:[["app-calendar"]],viewQuery:function(t,r){if(t&1&&(Me(_U,5),Me(bU,5)),t&2){let i;Ce(i=Ee())&&(r.calendarContainer=i.first),Ce(i=Ee())&&(r.panelContainer=i.first)}},decls:4,vars:2,consts:[["calendarContainer",""],["panelContainer",""],[1,"w-full","flex","flex-col","md:flex-row","h-full","side-pannel","overflow-auto","md:overflow-hidden"],[3,"ngClass",4,"ngIf"],[1,"h-2","w-full","md:w-auto","md:h-full","resizebar",3,"click"],["class","order-1 md:overflow-auto",3,"ngClass",4,"ngIf"],[3,"ngClass"],[1,"h-full","w-full"],[1,"w-full","h-20"],[1,"order-1","md:overflow-auto",3,"ngClass"],[1,"px-5","pt-1"],["type","checkbox",3,"change","checked"],["type","checkbox",3,"change"],[1,"p-5"],["style","background: var(--todo-item-body-color); color: var(--todo-item-text-color)","class","mt-1 flex flex-row flex-wrap items-center rounded-md hover:scale-105 transition-all cursor-pointer",3,"click",4,"ngFor","ngForOf"],[1,"w-full","h-10"],[1,"mt-1","flex","flex-row","flex-wrap","items-center","rounded-md","hover:scale-105","transition-all","cursor-pointer",2,"background","var(--todo-item-body-color)","color","var(--todo-item-text-color)",3,"click"],[1,"pr-4"],[1,"whitespace-pre-wrap","overflow-hidden"]],template:function(t,r){t&1&&(m(0,"div",2),$(1,wU,4,1,"div",3),m(2,"div",4),M("click",function(){return r.toggleEventListVisible()}),g(),$(3,EU,29,5,"div",5),g()),t&2&&(_(),b("ngIf",r.calendarVisible()),_(2),b("ngIf",r.eventListVisible()))},dependencies:[Ae,Jt,ft,Ge],styles:['.side-pannel[_ngcontent-%COMP%]{color:var(--todo-item-text-color)}.resizebar[_ngcontent-%COMP%]{cursor:pointer;display:flex;align-items:center;justify-content:center;border-right:1px solid;border-bottom:1px solid;border-radius:20px;padding:.5rem;font-size:xx-large}.resizebar[_ngcontent-%COMP%]:before{content:"+"}']})};function IU(n,e){if(n&1&&(m(0,"div",2),C(1," DEV CONSOLE - "),m(2,"a",3),C(3,"SWAGGER UI"),g(),m(4,"a",3),C(5,"H2 CONSOLE"),g()()),n&2){let t=D();_(2),b("href",t.swaggerConsoleUrl,Rt),_(2),b("href",t.h2ConsoleUrl,Rt)}}var Fh=class n{constructor(e,t,r){this.domSanitizer=e;this.userService=t;this.connectionService=r;this.userSubscription=t.loggedInUser$.subscribe(i=>{this.swaggerConsoleUrl=r.backendUrl+"/swagger-ui/index.html?sessionToken="+i?.token,this.h2ConsoleUrl=r.backendUrl+"/qtodo-h2-console?sessionToken="+i?.token;let o=this.userService.getPayloadFromAccessToken();o?.permissions.includes("SERVER_TOOLS")||o?.roles.includes("ADMIN")?this.allowDevConsole=!0:this.allowDevConsole=!1})}parsedMD="";swaggerConsoleUrl="";h2ConsoleUrl="";allowDevConsole=!1;userSubscription;ngOnInit(){fetch("./about.md").then(e=>{let r=e.body?.getReader(),i=new TextDecoder;r?.read().then(o=>{let s=i.decode(o.value,{stream:!o.done}),a=Gs(s).toString();this.parsedMD=this.domSanitizer.bypassSecurityTrustHtml(a)})})}ngOnDestroy(){this.userSubscription.unsubscribe()}static \u0275fac=function(t){return new(t||n)(I(Jn),I(ot),I(Ht))};static \u0275cmp=ae({type:n,selectors:[["app-about"]],decls:2,vars:2,consts:[["class","flex flex-row justify-evenly items-center","style","color: var(--todo-item-text-color);",4,"ngIf"],[1,"h-full","overflow-auto","m-3","p-5","pb-10","border","border-2","rounded","border-white",2,"color","var(--todo-item-text-color)",3,"innerHTML"],[1,"flex","flex-row","justify-evenly","items-center",2,"color","var(--todo-item-text-color)"],["target","_blank",3,"href"]],template:function(t,r){t&1&&($(0,IU,6,2,"div",0),L(1,"div",1)),t&2&&(b("ngIf",r.allowDevConsole),_(),b("innerHTML",r.parsedMD,Is))},dependencies:[Ae,Ge],encapsulation:2})};function uM(n,e,t){switch(n){case"SUM":return e+t;case"DIFF":return e-t;case"MUL":return e*t;case"DIV":return e/t;default:return uM("SUM",e,t)}}function DU(n){if(n.length===0)return NaN;let e=[...n].sort((r,i)=>r-i),t=Math.floor(e.length/2);return e.length%2===0?(e[t-1]+e[t])/2:e[t]}function SU(n){if(n.length===0)return[NaN];let e=new Map,t=0;for(let i of n){let o=(e.get(i)||0)+1;e.set(i,o),o>t&&(t=o)}let r=[];for(let[i,o]of e.entries())o===t&&r.push(i);return r}function Ph(n,e,t="SUM"){let r=new Map,i=new Map;for(let s of e)n.forEach((a,l)=>{let c=r.get(a),u=Number.parseFloat(s[1][l+1]);Number.isNaN(u)&&(u=0),c?r.set(a,uM(t,c,u)):r.set(a,u);let d=i.get(a);d?d.push(u):i.set(a,[u])});let o=r;switch(t){case"MEAN":r.forEach((s,a)=>{o.set(a,s/i.get(a).length)});break;case"MEDIAN":i.forEach((s,a)=>{o.set(a,DU(s))});break;case"MODE":i.forEach((s,a)=>{o.set(a,SU(s)[0])});break;case"MIN":i.forEach((s,a)=>{o.set(a,s.sort((l,c)=>l-c)[0])});break;case"MAX":i.forEach((s,a)=>{o.set(a,s.sort((l,c)=>c-l)[0])});break;case"RANGE":i.forEach((s,a)=>{o.set(a,s.sort((l,c)=>c-l)[0]-s.sort((l,c)=>l-c)[0])})}return o}var dM=!1;function fM(n){if(dM)return;let e=document.createElement("script");e.src=n,e.async=!0,e.onerror=t=>{console.error("unable to load canvasjs!",t)},document.body.appendChild(e),dM=!0}function hM(n,e){let t=[],r=0;e.forEach((o,s)=>{r+=o,t.push({y:o,name:s,exploded:!0})}),t.map(o=>{o.y=Math.round(100*(o.y/r))});var i=new CanvasJS.Chart(n,{theme:"dark2",exportEnabled:!0,animationEnabled:!0,title:{text:"Cumulative"},legend:{cursor:"pointer",itemclick:o=>{typeof o.dataSeries.dataPoints[o.dataPointIndex].exploded>"u"||!o.dataSeries.dataPoints[o.dataPointIndex].exploded?o.dataSeries.dataPoints[o.dataPointIndex].exploded=!0:o.dataSeries.dataPoints[o.dataPointIndex].exploded=!1,o.chart.render()}},data:[{type:"pie",showInLegend:!0,toolTipContent:"{name}: <strong>{y}%</strong>",indexLabel:"{name} - {y}%",dataPoints:t}]});i.render()}function pM(n,e){let t=[];e.forEach((i,o)=>{t.push({y:i,name:o,exploded:!0})});var r=new CanvasJS.Chart(n,{animationEnabled:!0,exportEnabled:!0,theme:"dark2",title:{text:"Cumulative"},legend:{cursor:"pointer"},data:[{type:"column",showInLegend:!0,toolTipContent:"{name}: <strong>{y}</strong>",indexLabel:"{name} - {y}",dataPoints:t}]});r.render()}function mM(n,e,t,r){let i=[],o=0;for(let l=0;l<e.length;l++){let c=[];r.forEach((u,d)=>{c.push({label:new Date(t[d].creationTimestamp).toLocaleString(),y:Number.parseFloat(u[1][l+1])}),o+=Number.parseFloat(u[1][l+1])}),i.push({type:"spline",showInLegend:!0,name:e[l],toolTipContent:"{name}: <strong>{y}</strong>",dataPoints:c})}let s=o/(e.length*r.length);var a=new CanvasJS.Chart(n,{animationEnabled:!0,theme:"dark2",exportEnabled:!0,title:{text:"distribution"},toolTip:{shared:"true"},legend:{cursor:"pointer",itemclick:l=>{typeof l.dataSeries.visible>"u"||l.dataSeries.visible?l.dataSeries.visible=!1:l.dataSeries.visible=!0,a.render()}},axisY:{title:"",stripLines:[{value:s,label:"Average"}]},data:i});a.render()}var TU=["*"],Fn=class n{routerLink="";static \u0275fac=function(t){return new(t||n)};static \u0275cmp=ae({type:n,selectors:[["app-bean-item"]],inputs:{routerLink:"routerLink"},ngContentSelectors:TU,decls:4,vars:1,consts:[["tabindex","1","routerLinkActive","link-active","queryParamsHandling","merge","ariaCurrentWhenActive","page",1,"border-2","border-amber-100","bean","flex","items-center","justify-center","rounded-full","cursor-pointer",3,"routerLink"]],template:function(t,r){t&1&&(mo(),m(0,"a",0),L(1,"span"),go(2),L(3,"span"),g()),t&2&&b("routerLink",r.routerLink!=""?r.routerLink:null)},dependencies:[_r,jl],styles:['.bean[_ngcontent-%COMP%]{color:var(--button-icon-color);background:var(--button-icon-background);padding:.5rem;transition:all;transition-duration:.3s;position:relative;overflow:clip}.link-active[_ngcontent-%COMP%]{filter:invert()}.bean[_ngcontent-%COMP%]:hover, .bean[_ngcontent-%COMP%]:focus-visible{transform:scale(1.1)}.bean[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]{background:transparent;width:40%;height:100%;position:absolute;z-index:1}.bean[_ngcontent-%COMP%] > [_ngcontent-%COMP%]:first-child{top:0;left:0}.bean[_ngcontent-%COMP%] > [_ngcontent-%COMP%]:last-child{top:0;right:0}.bean[_ngcontent-%COMP%]:before{content:"";position:absolute;background:var(--button-icon-color);mix-blend-mode:difference;width:10%;aspect-ratio:1;border-radius:50%;z-index:-1;opacity:0;transition:transform .5s}.bean[_ngcontent-%COMP%]:active:before{transform:scale(50);opacity:1}.bean[_ngcontent-%COMP%]:has(:first-child:active):before{left:0}.bean[_ngcontent-%COMP%]:has(:last-child:active):before{right:0}']})};var Lh=class n{constructor(){}getReducedItems(e,t){let r=[];for(let i=0;i<t.length;i++){let o={};for(let a of e)o[a]=t[i][a],o[a]===void 0&&t[i].userDefined?.data&&(o[a]=(t[i].userDefined?.data)[a]);let s=[];e.forEach(a=>s.push(o[a])),r.push([t[i].id,s])}return r}static \u0275fac=function(t){return new(t||n)};static \u0275prov=O({token:n,factory:n.\u0275fac,providedIn:"root"})};var MU=["pieChart"];function AU(n,e){if(n&1){let t=ne();m(0,"div",10),M("click",function(){let i=F(t).$implicit,o=D(2);return P(o.selectedDataOperation$.next(i))}),C(1),g()}if(n&2){let t=e.$implicit;_(),Fe(t)}}function RU(n,e){if(n&1&&(m(0,"div",8),$(1,AU,2,1,"div",9),g()),n&2){let t=D();_(),b("ngForOf",t.dataOperations)}}function OU(n,e){if(n&1){let t=ne();m(0,"div",11),M("click",function(){let i=F(t).$implicit,o=D();return P(o.selectedChart$.next(i))}),m(1,"app-bean-item")(2,"mat-icon"),C(3),g()()()}if(n&2){let t=e.$implicit;b("title",t),_(3),Fe(t)}}function kU(n,e){if(n&1){let t=ne();m(0,"th",16)(1,"button",17),M("click",function(i){let o=F(t).$implicit,s=D(2);return P(s.toggleSortIndividual(i,o))}),m(2,"app-bean-item"),C(3),g()()()}if(n&2){let t=e.$implicit;_(3),Pe(" ",t," ")}}function NU(n,e){if(n&1&&(m(0,"td",21),C(1),g()),n&2){let t=e.$implicit;_(),Pe(" ",t," ")}}function FU(n,e){if(n&1){let t=ne();m(0,"tr",18)(1,"td",19),M("click",function(i){let o=F(t).index,s=D(2);return P(s.onItemGoToClicked(i,o))}),m(2,"app-bean-item")(3,"mat-icon"),C(4,"navigate_next"),g()()(),$(5,NU,2,1,"td",20),g()}if(n&2){let t=e.$implicit;_(5),b("ngForOf",t[1])}}function PU(n,e){if(n&1&&(m(0,"table",12)(1,"thead"),L(2,"th",13),$(3,kU,4,1,"th",14),g(),m(4,"tbody"),$(5,FU,6,1,"tr",15),g()()),n&2){let t=D();_(3),b("ngForOf",t.fields),_(2),b("ngForOf",t.reducedItemsFlat)}}function LU(n,e){n&1&&L(0,"div",22)}var Vh=class n{constructor(e,t,r,i,o,s){this.filterOrReduceService=e;this.sortService=t;this.todoService=r;this.router=i;this.activatedRoute=o;this.baseHref=s;this.sortedFields$.subscribe(a=>{this.sortService.sortItems(a,this.itemList).subscribe(l=>{this.itemList=l,this.populateItems(l)}),a.includes("id")&&this.sortedFields$.next([])}),fM(s+"canvasjs.min.js"),this.subscribeCharts(),this.selectedDataOperation$.subscribe(a=>{if(this.populateItems(this.itemList),a==="RAW")return;let l=Ph(this.fields.slice(1),this.reducedItemsFlat,a);this.reducedItemsFlat=[[NaN,[NaN]]],l.forEach((c,u)=>{this.reducedItemsFlat[0][1].push(c)})})}itemList=[];reducedItemsFlat=[];fields=["id","subject","completionStatus","setForReminder","creationTimestamp","updationTimestamp"];selectedChart$=new be("table_chart");chartTypes=["table_chart","show_chart","pie_chart","bar_chart"];pieChartContainer;sortedFields$=new be([]);dataOperations=["RAW","SUM","DIFF","MUL","DIV","MIN","MAX","RANGE","MEAN","MEDIAN","MODE"];selectedDataOperation$=new be("");showFunctions=!1;sortOrderAsc=!0;ngOnInit(){this.activatedRoute.queryParams.subscribe(e=>{let t=e.ord?e.ord:[],r=e.abs?e.abs==="true":!1,i=e.q?e.q:"",o=e.tag?e.tag:[],s=e.has?e.has:[],a=e.lim?e.lim:null;t[1]==="lat"||t[1]==="old"?(this.fields=["id"],this.fields.push(...t.slice(2))):t.length>1&&(this.fields=["id"],this.fields.push(...t.slice(1))),t.length!=0||i!==""||o.length>0||s.length>0?this.todoService.todoItems$.pipe(xe(l=>this.todoService.searchTodos(i,o,s,r))).pipe(xe(l=>this.todoService.sortTodoItems(t,l,a))).subscribe(l=>{this.itemList=l,this.populateItems(l),this.selectedChart$.next(this.selectedChart$.value)}):(this.router.navigate([]),this.todoService.todoItems$.pipe(xe(l=>this.todoService.sortTodoItems(t,l))).subscribe(l=>{this.itemList=l,this.populateItems(l),this.selectedChart$.next(this.selectedChart$.value)}))})}populateItems(e){this.itemList=e,this.reducedItemsFlat=this.filterOrReduceService.getReducedItems(this.fields,e)}subscribeCharts(){let e=new Map,t="chartContainer";this.selectedChart$.subscribe(r=>{let i=this.fields.slice(1);switch(r){case"table_chart":break;case"pie_chart":this.selectedDataOperation$.subscribe(o=>{e=Ph(i,this.reducedItemsFlat,o),setTimeout(()=>{hM(t,e)},100)});break;case"bar_chart":this.selectedDataOperation$.subscribe(o=>{e=Ph(i,this.reducedItemsFlat,o),setTimeout(()=>{pM(t,e)})});break;case"show_chart":setTimeout(()=>{mM(t,i,this.itemList,this.reducedItemsFlat)},100);break}})}toggleSortIndividual(e,t){let r=this.sortedFields$.value,i=new Set(r);i.add(t);let o=Array.from(i);o.length>1&&o.shift(),this.sortOrderAsc?o.unshift("asc"):o.unshift("desc"),i.has(t)&&(this.sortOrderAsc=!this.sortOrderAsc),this.sortedFields$.next(o)}onItemGoToClicked(e,t){this.activatedRoute.queryParams.subscribe(r=>{this.router.navigate(["/edit"],{state:{item:this.itemList[t],query:r}})})}static \u0275fac=function(t){return new(t||n)(I(Lh),I(Pi),I(Tt),I(ke),I(ct),I(Yn))};static \u0275cmp=ae({type:n,selectors:[["app-visualize"]],viewQuery:function(t,r){if(t&1&&Me(MU,5),t&2){let i;Ce(i=Ee())&&(r.pieChartContainer=i.first)}},decls:12,vars:5,consts:[[1,"w-full","h-full","p-3","overflow-auto"],[1,"w-full","flex","md:justify-end","sm:justify-evenly","my-2"],[1,"relative",3,"click"],["class","flex flex-col absolute top-10  right-0 rounded-xl z-3","style","background-color: var(--button-icon-background)",4,"ngIf"],["class","mx-3 rounded-[30vw]","style","color:var(--button-icon-color); background: var(--button-icon-background);",3,"title","click",4,"ngFor","ngForOf"],["class","mb-3",4,"ngIf"],["id","chartContainer","class","w-full h-10/12",4,"ngIf"],[1,"w-full","h-10"],[1,"flex","flex-col","absolute","top-10","right-0","rounded-xl","z-3",2,"background-color","var(--button-icon-background)"],["class","w-fit p-1 cursor-pointer hover:scale-110 hover:underline",3,"click",4,"ngFor","ngForOf"],[1,"w-fit","p-1","cursor-pointer","hover:scale-110","hover:underline",3,"click"],[1,"mx-3","rounded-[30vw]",2,"color","var(--button-icon-color)","background","var(--button-icon-background)",3,"click","title"],[1,"mb-3"],[1,"border-none"],["class"," hover:text-white",4,"ngFor","ngForOf"],["style","color: var(--todo-item-text-color); background: var(--todo-item-description-body-color);",4,"ngFor","ngForOf"],[1,"hover:text-white"],["title","click to sort",1,"cursor-pointer","text-nowrap",3,"click"],[2,"color","var(--todo-item-text-color)","background","var(--todo-item-description-body-color)"],["title","go to",3,"click"],["class","cell",4,"ngFor","ngForOf"],[1,"cell"],["id","chartContainer",1,"w-full","h-10/12"]],template:function(t,r){t&1&&(m(0,"div",0)(1,"div",1)(2,"div",2),M("click",function(){return r.showFunctions=!r.showFunctions}),m(3,"app-bean-item")(4,"mat-icon"),C(5,"functions"),g(),C(6),g(),$(7,RU,2,1,"div",3),g(),$(8,OU,4,2,"div",4),g(),$(9,PU,6,2,"table",5)(10,LU,1,0,"div",6),L(11,"footer",7),g()),t&2&&(_(6),Pe(" ",r.selectedDataOperation$.value," "),_(),b("ngIf",r.showFunctions),_(),b("ngForOf",r.chartTypes),_(),b("ngIf",r.selectedChart$.value==="table_chart"),_(),b("ngIf",r.selectedChart$.value!=="table_chart"))},dependencies:[Ae,ft,Ge,ht,Fn],styles:[".cell[_ngcontent-%COMP%]{cursor:cell}"]})};var VU=["emailInp"],jU=["profilePicEle"];function BU(n,e){n&1&&(m(0,"div")(1,"span",28),C(2,"Sign in"),g(),C(3," to your account "),g())}function UU(n,e){n&1&&(m(0,"div")(1,"span",28),C(2,"Sign Up"),g(),C(3," to use online features! "),g())}function $U(n,e){n&1&&(m(0,"div")(1,"mat-icon",32),C(2,"person_pin"),g(),m(3,"mat-icon",33),C(4,"edit"),g()())}function HU(n,e){if(n&1){let t=ne();m(0,"div",29),M("click",function(){F(t);let i=D();return P(i.selectImageFile())}),$(1,$U,5,0,"div",6),m(2,"input",30,1),M("change",function(i){F(t);let o=D();return P(o.saveProfilePic(i))}),g(),L(4,"img",31),g()}if(n&2){let t=D();b("ngClass",t.profilePicDataUrl==null?"text-white":"text-emerald-500"),_(),b("ngIf",t.profilePicDataUrl==null),_(3),b("src",t.profilePicDataUrl,Rt)}}function zU(n,e){n&1&&(m(0,"div",9)(1,"label",34),C(2,"Alias"),g(),L(3,"input",35),g())}function GU(n,e){if(n&1&&(m(0,"option",36),C(1),g()),n&2){let t=e.$implicit;b("value",t),_(),Pe(" ",t,"")}}function qU(n,e){n&1&&(m(0,"div",37)(1,"a",38),C(2,"Forgot password"),g()())}function WU(n,e){n&1&&(m(0,"div")(1,"a",39),C(2,"Sign up"),g()())}function ZU(n,e){n&1&&(m(0,"div")(1,"a",40),C(2,"Login"),g()())}var Oc=class n{constructor(e,t,r,i,o,s){this.userService=e;this.activatedRoute=t;this.router=r;this.connectionService=i;this.formBuilder=o;this.toaster=s;t.url.subscribe(l=>{l[0].path==="login"?this.asLogin=!0:this.asLogin=!1}),setTimeout(()=>{this.emailInpEle.nativeElement.focus()},200),i.axios.get("/user/usergroups").then(l=>{l.data?.body.forEach(c=>{this.userGroupList.add(c)})});let a={email:this.formBuilder.control("",Ot.email),password:this.formBuilder.control("",Ot.pattern("^(?=.*[A-Za-z])(?=.*\\d)(?=.*[@$!%*#?&])[A-Za-z\\d@$!%*#?&]{5,}$")),userGroup:this.formBuilder.control("qtodo")};this.asLogin||(a.alias=o.control("",Ot.required)),this.formGroup=this.formBuilder.group(a),this.connectionService.connectToBackend().catch(l=>{this.router.navigate(["/home"])})}asLogin=!0;emailInpEle;profilePicEle;userGroupList=new Set(["qtodo"]);profilePicDataUrl=null;formGroup;firstName="";lastName="";rememberMe=!0;onSubmitClick(){return _e(this,null,function*(){if(!this.formGroup.valid){let i=new Map,o=this.formGroup?.get("email");i.set("email",o?.errors),o=this.formGroup.get("password"),i.set("password",o?.errors),o=this.formGroup.get("rememberMe"),i.set("rememberMe",o?.errors),this.asLogin||(o=this.formGroup.get("alias"),i.set("alias",o?.errors)),i.forEach((s,a)=>{s&&this.toaster.error(a+"->"+JSON.stringify(s))});return}let e=this.formGroup.value,t={alias:e.alias,email:e.email,password:e.password,userGroup:e.userGroup,profilePicture:""};this.profilePicDataUrl&&(t.profilePicture=this.profilePicDataUrl),t.email=t.email.toLowerCase();let r=this.asLogin?"/login":"/signup";this.connectionService.axios.post("/user"+r,t).then(i=>{if(i.status!=200)return;if(t.token=i.data?.accessToken,t.profilePicture=this.profilePicDataUrl||"",this.asLogin&&(t.token=i.data?.userDetails.accessToken,t.alias=i.data?.userDetails.alias,i.data?.userDetails.profilePicture)){let s=i.data?.userDetails.profilePicture;t.profilePicture=s}t.password="";let o=localStorage.recentLogins;(!o||o=="null")&&(o=`{"${ye.userGroup}/${ye.email}":${JSON.stringify(ye)}}`),o=JSON.parse(o),this.rememberMe?t.email&&t.userGroup&&(o[t.userGroup+"/"+t.email]=t):o["anon/anon"]={email:"anon",userGroup:"anon"},localStorage.recentLogins=JSON.stringify(o),this.userService.loggedInUser.next(t),this.router.navigate(["/home"])}).catch(i=>{console.error(i)})})}addUserGroup(){let e=prompt("Enter your group title")||"";if(e!=""){if(e.includes(" ")){this.toaster.error("group name cannot contain spaces!"),this.toaster.info("please replace spaces with _ in the group name");return}this.userGroupList.add(e);let t=this.formGroup.value;t.userGroup=e,this.formGroup.setValue(t)}}handleEnter(e){e.key=="Enter"&&(e.preventDefault(),this.onSubmitClick())}selectImageFile(){this.profilePicEle.nativeElement.click()}saveProfilePic(e){let r=e.target.files[0];if(r){let i=new FileReader;i.readAsDataURL(r),i.onload=o=>{let s=o.target?.result;this.profilePicDataUrl=s?.toString()||null}}}static \u0275fac=function(t){return new(t||n)(I(ot),I(ct),I(ke),I(Ht),I(ea),I(bt))};static \u0275cmp=ae({type:n,selectors:[["app-login"]],viewQuery:function(t,r){if(t&1&&(Me(VU,5),Me(jU,5)),t&2){let i;Ce(i=Ee())&&(r.emailInpEle=i.first),Ce(i=Ee())&&(r.profilePicEle=i.first)}},decls:39,vars:11,consts:[["emailInp",""],["profilePicEle",""],[1,"flex","flex-col","items-center","justify-center","px-6","py-8","mx-auto","mt-5","lg:py-0",3,"formGroup"],[1,"w-full","bg-white","rounded-lg","shadow","dark:border","md:mt-0","sm:max-w-md","xl:p-0","dark:bg-gray-800","dark:border-gray-700"],[1,"p-6","space-y-4","md:space-y-6","sm:p-8"],[1,"text-xl","font-bold","leading-tight","tracking-tight","text-gray-900","md:text-2xl","dark:text-white"],[4,"ngIf"],["action","#",1,"space-y-2","md:space-y-4"],[1,"flex","flex-row","items-end","justify-between"],[1,"w-full"],["for","email",1,"block","mb-2","text-sm","font-medium","text-gray-900","dark:text-white"],["type","email","autocomplete","email","formControlName","email","placeholder","name@example.com","required","",1,"bg-gray-50","border","border-gray-300","text-gray-900","rounded-lg","focus:ring-primary-600","focus:border-primary-600","block","w-full","p-2.5","dark:bg-gray-700","dark:border-gray-600","dark:placeholder-gray-400","dark:text-white","dark:focus:ring-blue-500","dark:focus:border-blue-500"],["class","relative hover:scale-105 cursor-pointer p-2 ml-2","title","add profile pic",3,"ngClass","click",4,"ngIf"],["for","password",1,"block","mb-2","text-sm","font-medium","text-gray-900","dark:text-white"],["type","password","autocomplete","current-password","placeholder","\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022","required","","formControlName","password",1,"bg-gray-50","border","border-gray-300","text-gray-900","rounded-lg","focus:ring-primary-600","focus:border-primary-600","block","w-full","p-2.5","dark:bg-gray-700","dark:border-gray-600","dark:placeholder-gray-400","dark:text-white","dark:focus:ring-blue-500","dark:focus:border-blue-500",3,"keydown"],["class","w-full",4,"ngIf"],[1,"flex","items-end","justify-evenly","center","w-full"],[1,"flex","flex-col","w-full","ml-2","mr-2"],[1,"text-white"],[1,"text-blue-600","cursor-pointer","hover:scale-110",3,"click"],["title","userGroup","formControlName","userGroup",1,"w-full","p-3","text-wrap","rounded"],[3,"value",4,"ngFor","ngForOf"],[1,"flex","flex-row"],["type","submit",1,"grow","text-white","bg-primary-600","outline-2","outline-amber-100","hover:bg-primary-700","hover:scale-101","cursor-pointer","focus:ring-4","focus:outline-none","focus:ring-primary-300","font-medium","rounded-lg","text-sm","px-5","py-2.5","text-center","dark:bg-primary-600","dark:hover:bg-primary-700","dark:focus:ring-primary-800",3,"click"],[1,"w-3/12","ml-2"],["type","checkbox",3,"change","checked"],[1,"text-sm","flex","justify-evenly","font-light","text-gray-500","dark:text-gray-400"],["class","flex flex-col",4,"ngIf"],[1,"text-green-400"],["title","add profile pic",1,"relative","hover:scale-105","cursor-pointer","p-2","ml-2",3,"click","ngClass"],["type","file","accept","image/png, image/jpeg",1,"hidden",3,"change"],[1,"w-10","rounded-[40%]",3,"src"],[1,"scale-200"],[1,"absolute","scale-70",2,"top","-15px","right","-15px"],["for","alias",1,"block","mb-2","text-sm","font-medium","text-gray-900","dark:text-white"],["type","text","autocomplete","alias","placeholder","refer me as","required","","formControlName","alias",1,"bg-gray-50","border","border-gray-300","text-gray-900","rounded-lg","focus:ring-primary-600","focus:border-primary-600","block","w-full","p-2.5","dark:bg-gray-700","dark:border-gray-600","dark:placeholder-gray-400","dark:text-white","dark:focus:ring-blue-500","dark:focus:border-blue-500"],[3,"value"],[1,"flex","flex-col"],["href","#",1,"text-sm","font-medium","text-primary-600","hover:underline","dark:text-primary-500"],["routerLink","/signup",1,"font-medium","text-primary-600","hover:underline","dark:text-primary-500"],["routerLink","/login",1,"font-medium","text-primary-600","hover:underline","dark:text-primary-500"]],template:function(t,r){if(t&1){let i=ne();m(0,"form",2)(1,"div",3)(2,"div",4)(3,"h1",5),$(4,BU,4,0,"div",6)(5,UU,4,0,"div",6),g(),m(6,"div",7)(7,"div",8)(8,"div",9)(9,"label",10),C(10,"Your email"),g(),L(11,"input",11,0),g(),$(13,HU,5,3,"div",12),g(),m(14,"div",9)(15,"label",13),C(16,"Password"),g(),m(17,"input",14),M("keydown",function(s){return F(i),P(r.handleEnter(s))}),g()(),$(18,zU,4,0,"div",15),m(19,"div",16)(20,"div",17)(21,"div",8)(22,"label",18),C(23,"open userGroups"),g(),m(24,"button",19),M("click",function(){return F(i),P(r.addUserGroup())}),C(25,"[ + ]"),g()(),m(26,"select",20),$(27,GU,2,2,"option",21),g()()(),m(28,"div",22)(29,"button",23),M("click",function(){return F(i),P(r.onSubmitClick())}),C(30),g(),m(31,"div",24)(32,"label",18),C(33,"Remember me"),g(),m(34,"input",25),M("change",function(){return F(i),P(r.rememberMe=!r.rememberMe)}),g()()(),m(35,"div",26),$(36,qU,3,0,"div",27)(37,WU,3,0,"div",6)(38,ZU,3,0,"div",6),g()()()()()}t&2&&(b("formGroup",r.formGroup),_(4),b("ngIf",r.asLogin),_(),b("ngIf",!r.asLogin),_(8),b("ngIf",!r.asLogin),_(5),b("ngIf",!r.asLogin),_(9),b("ngForOf",r.userGroupList),_(3),Pe("Sign ",r.asLogin?"in":"up",""),_(4),b("checked",r.rememberMe),_(2),b("ngIf",r.asLogin),_(),b("ngIf",r.asLogin),_(),b("ngIf",!r.asLogin))},dependencies:[Ae,Jt,ft,Ge,_r,cn,ht,Cr,jf,Ks,Xs,Rn,ki,wr,Qs,_y,ta,Oi,Ro],encapsulation:2})};var YU=()=>[];function JU(n,e){if(n&1&&(m(0,"div",9)(1,"div",10),C(2),g()()),n&2){let t=D().$implicit;_(),b("title",t.onlineInUg?"online":"offline")("ngClass",t.onlineInUg?"bg-green-600":"bg-gray-900"),_(),Pe(" ",t.onlineInUg?"\u2714":"X"," ")}}function QU(n,e){if(n&1){let t=ne();m(0,"app-tag-list",11),M("onChange",function(i){F(t);let o=D().$implicit,s=D(2);return P(s.updatePermissionsForUser(i,o))}),g()}if(n&2){let t=D().$implicit;b("editable",!0)("names",t.permissions||EE(2,YU))}}function KU(n,e){if(n&1&&(m(0,"div",5)(1,"app-bean-item"),L(2,"img",6),m(3,"mat-icon"),C(4,"person_pin"),g(),$(5,JU,3,3,"div",7),g(),m(6,"h3"),C(7),g(),$(8,QU,1,3,"app-tag-list",8),g()),n&2){let t=e.$implicit,r=D(2);_(2),b("src",t.profilePicture,Rt),_(3),b("ngIf",r.isUgColab),_(2),il("",t.email,"(",t.alias,")"),_(),b("ngIf",r.CAN_MANAGE_PARTICIPANT_PERMISSONS)}}function XU(n,e){if(n&1&&(m(0,"div"),$(1,KU,9,5,"div",4),g()),n&2){let t=D();_(),b("ngForOf",t.userList)}}var kc=class n{constructor(e,t){this.connectionService=e;this.userService=t;this.userService.loggedInUser$.subscribe(r=>{let i=this.userService.getPayloadFromAccessToken();i&&(this.isUgColab=i.user_group_colaboration),this.getUsersInThisUG().then(o=>{this.userList=o.data.body,this.userList?.forEach(s=>{this.getProfileUrlForUser(s.profilePicture).then(a=>{s.profilePicture=a})})})})}CAN_MANAGE_PARTICIPANT_PERMISSONS=!1;CAN_ADD_PARTICIPANT=!1;CAN_DELETE_PARTICIAPANT=!1;minimized=!1;userList=[];permissionChangeReq=[];isUgColab=!1;getUsersInThisUG(){return this.connectionService.axios.get("/user/participant/users/all")}getProfileUrlForUser(e){return _e(this,null,function*(){return e?e.startsWith("/item/doc/")?yield this.connectionService.getUrlWithToken(e):e:""})}updatePermissionsForUser(e,t){let r=t.permissions,i=e.map(c=>c.name),o=new Set(i),s=new Set(r),a=r?.filter(c=>!o.has(c))||[],l=i.filter(c=>!s.has(c));this.permissionChangeReq.push(...this.getPermissionUpdateReq(t.email,a,l))}postChangeRequest(){this.permissionChangeReq.length>0&&this.connectionService.axios.post("/user/update/participant/permissions",this.permissionChangeReq)}getPermissionUpdateReq(e,t,r){let i=[];return t.forEach(o=>{i.push({userEmail:e,userPermission:o,enabled:!1})}),r.forEach(o=>{i.push({userEmail:e,userPermission:o,enabled:!0})}),i}static \u0275fac=function(t){return new(t||n)(I(Ht),I(ot))};static \u0275cmp=ae({type:n,selectors:[["app-manage-user-permissions"]],inputs:{CAN_MANAGE_PARTICIPANT_PERMISSONS:[0,"managePermissions","CAN_MANAGE_PARTICIPANT_PERMISSONS"],CAN_ADD_PARTICIPANT:[0,"addParticipants","CAN_ADD_PARTICIPANT"],CAN_DELETE_PARTICIAPANT:[0,"deleteParticipants","CAN_DELETE_PARTICIAPANT"],minimized:"minimized"},decls:6,vars:2,consts:[[1,"border-1","rounded-xl","m-2","relative"],[1,"text-center","m-2"],[4,"ngIf"],["title","minimize pannel",1,"absolute","top-2","right-2","cursor-pointer",3,"click"],["class","flex flex-row gap-2 items-center m-2",4,"ngFor","ngForOf"],[1,"flex","flex-row","gap-2","items-center","m-2"],[1,"w-10","absolute","top-0","right-0",3,"src"],["class","absolute top-0 right-0","style","z-index:100;",4,"ngIf"],[3,"editable","names","onChange",4,"ngIf"],[1,"absolute","top-0","right-0",2,"z-index","100"],[1,"p-0.5","rounded-xl",3,"title","ngClass"],[3,"onChange","editable","names"]],template:function(t,r){t&1&&(m(0,"div",0)(1,"h3",1),C(2,"Group Participants"),g(),$(3,XU,2,1,"div",2),m(4,"a",3),M("click",function(){return r.minimized=!r.minimized}),C(5),g()()),t&2&&(_(3),b("ngIf",!r.minimized),_(2),Pe("[ ",r.minimized?"v":"^"," ]"))},dependencies:[Ae,Jt,ft,Ge,Fn,cn,ht,Gi],encapsulation:2})};function e4(n,e){if(n&1&&L(0,"img",32),n&2){let t=D();b("src",t.profilePicDataUrl,Rt)}}function t4(n,e){n&1&&(m(0,"mat-icon",33),C(1,"person_pin"),g())}function n4(n,e){if(n&1&&(m(0,"option",34),C(1),g()),n&2){let t=e.$implicit;b("value",t),_(),Pe(" ",t," ")}}function r4(n,e){n&1&&(m(0,"div",35)(1,"h2",36),C(2,"User Group Configuration"),g(),m(3,"div",23)(4,"label",24),C(5,"Description"),g(),L(6,"textarea",37),g(),m(7,"table")(8,"tr")(9,"td")(10,"label",38),C(11,"Open for joining"),g()(),m(12,"td"),L(13,"input",39),g()(),m(14,"tr")(15,"td")(16,"label",38),C(17,"Is Collaboration Group"),g()(),m(18,"td"),L(19,"input",40),g()()()())}function i4(n,e){if(n&1&&L(0,"app-manage-user-permissions",41),n&2){let t=D();b("managePermissions",t.CAN_MANAGE_PARTICIPANT_PERMISSIONS)("addParticipants",t.CAN_ADD_PARTICIPANT)("deleteParticipants",t.CAN_REMOVE_PARTICIPANT)}}var jh=class n{constructor(e,t,r){this.userService=e;this.connectionService=t;this.toaster=r;let i=new ea,o={};o.alias=i.control("",Ot.required);let s="^(?=.*[A-Za-z])(?=.*\\d)(?=.*[@$!%*#?&])[A-Za-z\\d@$!%*#?&]{5,}$";o.newPassword=i.control("",Ot.pattern(s)),o.ugDescription=i.control(""),o.ugOpen=i.control(!1),o.ugColab=i.control(!1),o.userGroup=i.control(ye.userGroup),this.form=i.group(o),e.loggedInUser$.subscribe(a=>{this.user=a,a.profilePicture?a.profilePicture.startsWith("/item/doc/")?this.connectionService.getUrlWithToken(a.profilePicture).then(u=>this.profilePicDataUrl=u):this.profilePicDataUrl=a.profilePicture:this.profilePicDataUrl="";let l=localStorage.recentLogins;(!l||l=="null")&&(l=`{"${ye.userGroup}/${ye.email}":${JSON.stringify(ye)}}`),this.userGroupList=[],l=JSON.parse(l),this.recentLogins=l;for(let u of Object.keys(l)){let d=u.split("/");d[1]==a.email&&this.userGroupList.push(d[0])}this.CAN_MANAGE_PARTICIPANT_PERMISSIONS=!1,this.CAN_ADD_PARTICIPANT=!1,this.CAN_CHANGE_UG_CONFIG=!1,this.CAN_REMOVE_PARTICIPANT=!1,this.CAN_ENABLE_DISABLE_UG=!1,this.isOffLine=a.email==ye.email;let c=this.userService.getPayloadFromAccessToken();c&&(this.userPermissions=c.permissions.sort(),this.isUgOpen=c.user_group_open,this.isUgColab=c.user_group_colaboration,this.form.setValue({alias:a.alias,newPassword:"",ugDescription:"",ugOpen:this.isUgOpen,ugColab:this.isUgColab,userGroup:a.userGroup}),this.userPermissions.includes("MANAGE_PARTICIPANT_PERMISSIONS")&&(this.CAN_MANAGE_PARTICIPANT_PERMISSIONS=!0),this.userPermissions.includes("ENABLE_DISABLE_UG")&&(this.CAN_ENABLE_DISABLE_UG=!0),this.userPermissions.includes("ADD_PARTICIPANT")&&(this.CAN_ADD_PARTICIPANT=!0),this.userPermissions.includes("REMOVE_PARTICIPANT")&&(this.CAN_REMOVE_PARTICIPANT=!0),this.userPermissions.includes("CHANGE_UG_CONFIG")&&(this.CAN_CHANGE_UG_CONFIG=!0))})}user;userPermissions=[];profilePicDataUrl="";form;isUgColab=!1;isUgOpen=!1;isOffLine=!1;userGroupList=[];recentLogins={};userPermissionComp;CAN_MANAGE_PARTICIPANT_PERMISSIONS=!1;CAN_ENABLE_DISABLE_UG=!1;CAN_ADD_PARTICIPANT=!1;CAN_REMOVE_PARTICIPANT=!1;CAN_CHANGE_UG_CONFIG=!1;ngOnInit(){this.form.patchValue({userGroup:this.user.userGroup})}savePic(e,t){let i=e.target.files[0];if(i){let o=new FileReader;o.readAsDataURL(i),o.onload=s=>{let l=s.target?.result?.toString()||"";t=="profile"&&(this.profilePicDataUrl=l)}}}updateUserDetails(){this.connectionService.axios.post("/user/update/usergroup/details",{open:this.form.value.ugOpen,colaboration:this.form.value.ugColab}),this.userPermissionComp.first.postChangeRequest()}addUserGroupOnPrompt(e){let t=prompt("Enter your group title")||"";if(t!=""){if(t.includes(" ")){this.toaster.error("group name cannot contain spaces!"),this.toaster.info("please replace spaces with _ in the group name");return}this.addUserGroup(t);let r=e.target;r.value=t,this.onUgSelChange(e)}}addUserGroup(e){this.userGroupList=[...this.userGroupList,e];let t=this.form.value;t.userGroup=e,this.form.setValue(t)}onUgSelChange(e){let t=e.target,r=t.value+"/"+this.user.email,i=this.recentLogins[r];i||(i=structuredClone(this.user),i.token=null,i.userGroup=t.value,this.recentLogins[i.userGroup+"/"+i.email]=i,localStorage.recentLogins=JSON.stringify(this.recentLogins)),this.userService.loggedInUser.next(i)}clearCache(){prompt("clearing cache can cause data loss if you forget your logins details! Enter Y to procede")=="Y"&&(localStorage.clear(),this.toaster.info("cache cleared!"))}static \u0275fac=function(t){return new(t||n)(I(ot),I(Ht),I(bt))};static \u0275cmp=ae({type:n,selectors:[["app-profile"]],viewQuery:function(t,r){if(t&1&&Me(kc,5),t&2){let i;Ce(i=Ee())&&(r.userPermissionComp=i)}},decls:44,vars:10,consts:[["profilePicEle",""],["permissionsContainer",""],[1,"overflow-auto","h-full","p-4","sm:p-6","md:p-8"],[1,"mx-auto","flex","flex-col","items-center","gap-y-8",3,"formGroup"],[1,"w-full","text-center","space-y-4"],[1,"flex","px-20","flex-row","justify-evenly","items-center"],[1,"text-3xl","font-bold"],[1,"flex","flex-col","items-center","gap-y-2"],["title","Change profile picture",3,"click"],[1,"h-20","w-20","flex","items-center","justify-center","overflow-hidden","bg-gray-700","rounded-full","shadow-lg"],["class","h-full w-full object-cover rounded-full",3,"src",4,"ngIf"],["class","scale-200",4,"ngIf"],[1,"absolute","top-2","right-2"],["type","file","accept","image/png, image/jpeg",1,"hidden",3,"change"],[1,"flex","flex-col","items-center","justify-center","w-full"],[1,"flex","flex-col","w-full","max-w-xs","mx-auto"],[1,"flex","flex-row","items-end","justify-between","mb-1"],[1,"text-sm"],["title","Add User Group",1,"text-blue-400","text-lg","font-bold","cursor-pointer","hover:scale-110",3,"click"],["title","userGroup","formControlName","userGroup",1,"w-full","p-3","text-wrap","rounded-lg","shadow-inner","bg-white/10",3,"change"],[3,"value",4,"ngFor","ngForOf"],[1,"text-blue-400","underline","cursor-pointer","hover:text-blue-300","transition",3,"click","title"],[1,"w-100","p-4","sm:p-6","rounded-lg","shadow-xl","space-y-5"],[1,"flex","flex-col"],[1,"text-gray-300","mb-1"],["type","text","formControlName","alias",1,"p-2","rounded-md","bg-gray-700","border","border-gray-600","focus:ring-blue-500"],["type","password","placeholder","*****","formControlName","newPassword",1,"p-2","rounded-md","bg-gray-700","border","border-gray-600","focus:ring-blue-500"],["class","w-full p-4 sm:p-6  rounded-lg shadow-xl space-y-5",4,"ngIf"],["class","w-full mt-4",3,"managePermissions","addParticipants","deleteParticipants",4,"ngIf"],[3,"click"],[1,"p-3","font-semibold"],[1,"h-20","mt-8"],[1,"h-full","w-full","object-cover","rounded-full",3,"src"],[1,"scale-200"],[3,"value"],[1,"w-full","p-4","sm:p-6","rounded-lg","shadow-xl","space-y-5"],[1,"text-xl","font-semibold","text-center","border-b","border-gray-600","pb-2"],["formControlName","ugDescription",1,"p-2","rounded-xl","bg-gray-700","border","border-gray-600","focus:ring-blue-500"],[1,"text-gray-300"],["formControlName","ugOpen","type","checkbox",1,"form-checkbox","h-5","w-5","text-blue-600","rounded"],["formControlName","ugColab","type","checkbox",1,"form-checkbox","h-5","w-5","text-blue-600","rounded"],[1,"w-full","mt-4",3,"managePermissions","addParticipants","deleteParticipants"]],template:function(t,r){if(t&1){let i=ne();m(0,"div",2)(1,"div",3)(2,"div",4)(3,"div",5)(4,"h1",6),C(5),g(),m(6,"div",7)(7,"app-bean-item",8),M("click",function(){F(i);let s=Ss(14);return P(s.click())}),m(8,"div",9),$(9,e4,1,1,"img",10)(10,t4,2,0,"mat-icon",11),g(),m(11,"mat-icon",12),C(12,"edit"),g()(),m(13,"input",13,0),M("change",function(s){return F(i),P(r.savePic(s,"profile"))}),g()()(),m(15,"div",14)(16,"div",15)(17,"div",16)(18,"label",17),C(19),g(),m(20,"button",18),M("click",function(s){return F(i),P(r.addUserGroupOnPrompt(s))}),C(21,"[ + ]"),g()(),m(22,"select",19),M("change",function(s){return F(i),P(r.onUgSelChange(s))}),$(23,n4,2,2,"option",20),g()()(),m(24,"div",21,1),M("click",function(){F(i);let s=Ss(25);return P(s.innerHTML=r.userPermissions.join(" , "))}),C(26," View Permissions "),g()(),m(27,"div",22)(28,"div",23)(29,"label",24),C(30,"Alias"),g(),L(31,"input",25),g(),m(32,"div",23)(33,"label",24),C(34,"Update Password"),g(),L(35,"input",26),g()(),$(36,r4,20,0,"div",27)(37,i4,1,3,"app-manage-user-permissions",28),m(38,"app-bean-item",29),M("click",function(){return F(i),P(r.updateUserDetails())}),m(39,"button",30),C(40,"Update Details"),g()(),m(41,"app-bean-item",29),M("click",function(){return F(i),P(r.clearCache())}),C(42,"clear cache"),g()(),L(43,"footer",31),g()}t&2&&(_(),b("formGroup",r.form),_(4),Pe("Hello ",r.user.alias,"!"),_(4),b("ngIf",r.profilePicDataUrl),_(),b("ngIf",!r.profilePicDataUrl),_(9),il("",r.isOffLine?"Folder":"User Group"," for ",r.user.email,""),_(4),b("ngForOf",r.userGroupList),_(),b("title",r.userPermissions.join(" , ")),_(12),b("ngIf",r.CAN_CHANGE_UG_CONFIG),_(),b("ngIf",r.isUgColab||r.CAN_MANAGE_PARTICIPANT_PERMISSIONS||r.CAN_REMOVE_PARTICIPANT||r.CAN_ADD_PARTICIPANT))},dependencies:[kc,ht,Ae,ft,Ge,ta,Ks,Xs,Rn,Ql,ki,wr,Qs,Oi,Ro,Fn],styles:["input[_ngcontent-%COMP%]{background:var(--navbar-searchbox-bg-color);color:var(--navbar-searchbox-text-color)}"]})};function o4(n,e){if(n&1){let t=ne();m(0,"div",10),M("keydown",function(i){let o=F(t).$implicit,s=D();return P(s.onKeyDownTodoItem(i,o))})("click",function(i){let o=F(t).$implicit,s=D();return P(s.onClickTodoItem(i,o))}),L(1,"app-todo-item",11),g()}if(n&2){let t=e.$implicit,r=e.index,i=D();b("id",r),_(),b("item",t)("fromBin",!0)("minimized",!i.fromSearch||r>1)}}var Nc=class n{constructor(e,t,r){this.todoService=e;this.router=t;this.route=r;this.router.url==="/bin/clear"&&(e.fromBin=!0,e.deleteAll(),this.router.navigate(["/bin"])),this.todoService.fromBin=!0,this.todoService.initializeItems(),console.log("ctor - bin",Date.now())}itemList$=z([]);fromSearch=!1;queryParamSubscription;ngOnInit(){this.queryParamSubscription=this.route.queryParams.subscribe(e=>{let t=e.ord?e.ord:[],r=e.abs?e.abs==="true":!1,i=e.q?e.q:"",o=e.tag?e.tag:[],s=e.has?e.has:[],a=e.lim?e.lim:null;a||t.length!=0||i!==""||o.length>0||s.length>0?(this.itemList$=this.todoService.searchTodos(i,o,s,r).pipe(xe(l=>this.todoService.sortTodoItems(t,l,a))),this.fromSearch=!0):(this.router.navigate([]),this.itemList$=this.todoService.todoItems$.pipe(xe(l=>this.todoService.sortTodoItems(t,l))),this.fromSearch=!1)}),console.log("init - bin",Date.now())}onClickTodoItem(e,t){let r=e.target,i=window.getSelection();r.classList.contains("option")||i&&i.toString().length>0||this.route.queryParams.subscribe((o,s=this)=>{t&&this.router.navigate(["/edit"],{state:{item:t,query:o}})})}verticalFocusTravel(e,t=!1){let r=e.parentElement?.getBoundingClientRect().width||0,i=e.parentElement?.getBoundingClientRect().left||0,o=e.getBoundingClientRect().left,s=e.getBoundingClientRect().right,a=0,l=t?o:s,c=e,u=e;for(;a<1e4;){let d=c?.getBoundingClientRect().width;if(l+=t?d:-1*d,c=t?c?.nextElementSibling:c?.previousElementSibling,a++,c===null)if(t){let v=e.parentElement?.firstElementChild;v?.focus(),v?.scrollIntoView({behavior:"smooth",block:"center"})}else{let v=e.parentElement?.lastElementChild;v?.focus(),v?.scrollIntoView({behavior:"smooth",block:"center"})}u=t?u?.nextElementSibling:u?.previousElementSibling;let p=u?.getBoundingClientRect().width,f=u?.getBoundingClientRect().left,h=u?.getBoundingClientRect().right;if(t&&l>=r&&(f>=o*.9||h>=s*.9)||!t&&l<=i+100&&(f<=o*1.1||h<=s*1.1))break}u?.focus(),u?.scrollIntoView({behavior:"smooth",block:"center"})}onKeyDownTodoItem(e,t){let r=["ArrowLeft","a","h"],i=["ArrowRight","d","l"],o=["ArrowUp","w","j"],s=["ArrowDown","s","k"],a=e.target;r.includes(e.key)?a.previousElementSibling?a.previousElementSibling.focus():a.parentElement?.lastElementChild?.focus():i.includes(e.key)?a.nextElementSibling?a.nextElementSibling.focus():a.parentElement?.firstElementChild?.focus():o.includes(e.key)?this.verticalFocusTravel(a,!1):s.includes(e.key)?this.verticalFocusTravel(a,!0):e.key==="Enter"&&this.onClickTodoItem(e,t)}ngOnDestroy(){this.queryParamSubscription&&this.queryParamSubscription.unsubscribe(),this.todoService.fromBin=!1,this.todoService.initializeItems()}trackById(e,t){return t.id}static \u0275fac=function(t){return new(t||n)(I(Tt),I(ke),I(ct))};static \u0275cmp=ae({type:n,selectors:[["app-home"]],decls:13,vars:4,consts:[["tabindex","1",1,"h-full","overflow-y-auto","justify-center"],[1,"w-full","flex","flex-col","justify-center"],[1,"mb-8"],[1,"block","text-center","text-3xl","font-semibold","text-amber-600","m-4"],["routerLink","/bin/clear","routerLinkActive","active","ariaCurrentWhenActive","page","title","Clear the recycle bin",1,"ml-4","text-2xl","text-gray-500","hover:text-amber-800","transition-colors","duration-200"],["itemSize","autosize",1,"h-full"],[1,"m-2"],[1,"flex","flex-row","flex-wrap"],["tabindex","0","focus","this.style.float='top'","class",`flex-auto relative max-w-full w-fit h-fit mx-2 my-1 rounded-2xl focus:outline-2 hover:outline-2 hover:shadow-lg
         outline-offset-2 shadow-colored transition-all animate-focus`,3,"id","keydown","click",4,"cdkVirtualFor","cdkVirtualForOf","cdkVirtualForTrackBy"],[1,"w-full","h-10"],["tabindex","0","focus","this.style.float='top'",1,"flex-auto","relative","max-w-full","w-fit","h-fit","mx-2","my-1","rounded-2xl","focus:outline-2","hover:outline-2","hover:shadow-lg","outline-offset-2","shadow-colored","transition-all","animate-focus",3,"keydown","click","id"],[3,"item","fromBin","minimized"]],template:function(t,r){t&1&&(m(0,"div",0)(1,"div",1)(2,"div",2)(3,"span",3),C(4," Local Recycle Bin "),m(5,"a",4),C(6,"Clear"),g()()()(),m(7,"cdk-virtual-scroll-viewport",5),L(8,"header",6),m(9,"div",7),$(10,o4,2,4,"div",8),Td(11,"async"),g(),L(12,"footer",9),g()()),t&2&&(_(10),b("cdkVirtualForOf",xd(11,2,r.itemList$))("cdkVirtualForTrackBy",r.trackById))},dependencies:[Ae,ll,va,_r,jl,ya,Rh,Oh,Ac],styles:[".animate-focus[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{display:block;transition:.2s}.animate-focus[_ngcontent-%COMP%]:hover > *[_ngcontent-%COMP%], .animate-focus[_ngcontent-%COMP%]:focus > *[_ngcontent-%COMP%]{translate:0 -.2lh}.shadow-colored[_ngcontent-%COMP%]:hover, .shadow-colored[_ngcontent-%COMP%]:focus{filter:drop-shadow(2px 2px 2px var(--button-icon-color))}.shadow-colored[_ngcontent-%COMP%]{filter:drop-shadow(1px 1px 1px var(--button-icon-color))}"]})};var gM=[{path:"",redirectTo:"home",pathMatch:"full"},{path:"create",component:Go},{path:"home",component:_a,children:[{path:"clear",component:_a}]},{path:"bin",component:Nc,children:[{path:"clear",component:Nc}]},{path:"demo",component:_a},{path:"edit",component:Go,children:[{path:"parent",component:Go},{path:"child",component:Go}]},{path:"visualize",component:Vh},{path:"calendar",component:Nh},{path:"about",component:Fh},{path:"login",component:Oc},{path:"signup",component:Oc},{path:"user/profile",component:jh}];var J_="Service workers are disabled or not supported by this browser",ba=class{serviceWorker;worker;registration;events;constructor(e,t){if(this.serviceWorker=e,!e)this.worker=this.events=this.registration=new Z(r=>r.error(new V(5601,!1)));else{let r=null,i=new ie;this.worker=new Z(c=>(r!==null&&c.next(r),i.subscribe(u=>c.next(u))));let o=()=>{let{controller:c}=e;c!==null&&(r=c,i.next(r))};e.addEventListener("controllerchange",o),o(),this.registration=this.worker.pipe(xe(()=>e.getRegistration()));let s=new ie;this.events=s.asObservable();let a=c=>{let{data:u}=c;u?.type&&s.next(u)};e.addEventListener("message",a),t?.get(Hn,null,{optional:!0})?.onDestroy(()=>{e.removeEventListener("controllerchange",o),e.removeEventListener("message",a)})}}postMessage(e,t){return new Promise(r=>{this.worker.pipe(vt(1)).subscribe(i=>{i.postMessage(T({action:e},t)),r()})})}postMessageWithOperation(e,t,r){let i=this.waitForOperationCompleted(r),o=this.postMessage(e,t);return Promise.all([o,i]).then(([,s])=>s)}generateNonce(){return Math.round(Math.random()*1e7)}eventsOfType(e){let t;return typeof e=="string"?t=r=>r.type===e:t=r=>e.includes(r.type),this.events.pipe(et(t))}nextEventOfType(e){return this.eventsOfType(e).pipe(vt(1))}waitForOperationCompleted(e){return new Promise((t,r)=>{this.eventsOfType("OPERATION_COMPLETED").pipe(et(i=>i.nonce===e),vt(1),J(i=>{if(i.result!==void 0)return i.result;throw new Error(i.error)})).subscribe({next:t,error:r})})}get isEnabled(){return!!this.serviceWorker}},s4=(()=>{class n{sw;messages;notificationClicks;subscription;get isEnabled(){return this.sw.isEnabled}pushManager=null;subscriptionChanges=new ie;constructor(t){if(this.sw=t,!t.isEnabled){this.messages=eo,this.notificationClicks=eo,this.subscription=eo;return}this.messages=this.sw.eventsOfType("PUSH").pipe(J(i=>i.data)),this.notificationClicks=this.sw.eventsOfType("NOTIFICATION_CLICK").pipe(J(i=>i.data)),this.pushManager=this.sw.registration.pipe(J(i=>i.pushManager));let r=this.pushManager.pipe(xe(i=>i.getSubscription()));this.subscription=new Z(i=>{let o=r.subscribe(i),s=this.subscriptionChanges.subscribe(i);return()=>{o.unsubscribe(),s.unsubscribe()}})}requestSubscription(t){if(!this.sw.isEnabled||this.pushManager===null)return Promise.reject(new Error(J_));let r={userVisibleOnly:!0},i=this.decodeBase64(t.serverPublicKey.replace(/_/g,"/").replace(/-/g,"+")),o=new Uint8Array(new ArrayBuffer(i.length));for(let s=0;s<i.length;s++)o[s]=i.charCodeAt(s);return r.applicationServerKey=o,new Promise((s,a)=>{this.pushManager.pipe(xe(l=>l.subscribe(r)),vt(1)).subscribe({next:l=>{this.subscriptionChanges.next(l),s(l)},error:a})})}unsubscribe(){if(!this.sw.isEnabled)return Promise.reject(new Error(J_));let t=r=>{if(r===null)throw new V(5602,!1);return r.unsubscribe().then(i=>{if(!i)throw new V(5603,!1);this.subscriptionChanges.next(null)})};return new Promise((r,i)=>{this.subscription.pipe(vt(1),xe(t)).subscribe({next:r,error:i})})}decodeBase64(t){return atob(t)}static \u0275fac=function(r){return new(r||n)(N(ba))};static \u0275prov=O({token:n,factory:n.\u0275fac})}return n})(),a4=(()=>{class n{sw;versionUpdates;unrecoverable;get isEnabled(){return this.sw.isEnabled}constructor(t){if(this.sw=t,!t.isEnabled){this.versionUpdates=eo,this.unrecoverable=eo;return}this.versionUpdates=this.sw.eventsOfType(["VERSION_DETECTED","VERSION_INSTALLATION_FAILED","VERSION_READY","NO_NEW_VERSION_DETECTED"]),this.unrecoverable=this.sw.eventsOfType("UNRECOVERABLE_STATE")}checkForUpdate(){if(!this.sw.isEnabled)return Promise.reject(new Error(J_));let t=this.sw.generateNonce();return this.sw.postMessageWithOperation("CHECK_FOR_UPDATES",{nonce:t},t)}activateUpdate(){if(!this.sw.isEnabled)return Promise.reject(new V(5601,!1));let t=this.sw.generateNonce();return this.sw.postMessageWithOperation("ACTIVATE_UPDATE",{nonce:t},t)}static \u0275fac=function(r){return new(r||n)(N(ba))};static \u0275prov=O({token:n,factory:n.\u0275fac})}return n})();var yM=new B("");function l4(){let n=E(Fc);if(!("serviceWorker"in navigator&&n.enabled!==!1))return;let e=E(yM),t=E(we),r=E(Hn);t.runOutsideAngular(()=>{let i=navigator.serviceWorker,o=()=>i.controller?.postMessage({action:"INITIALIZE"});i.addEventListener("controllerchange",o),r.onDestroy(()=>{i.removeEventListener("controllerchange",o)})}),t.runOutsideAngular(()=>{let i,{registrationStrategy:o}=n;if(typeof o=="function")i=new Promise(s=>o().subscribe(()=>s()));else{let[s,...a]=(o||"registerWhenStable:30000").split(":");switch(s){case"registerImmediately":i=Promise.resolve();break;case"registerWithDelay":i=vM(+a[0]||0);break;case"registerWhenStable":i=Promise.race([r.whenStable(),vM(+a[0])]);break;default:throw new V(5600,!1)}}i.then(()=>{r.destroyed||navigator.serviceWorker.register(e,{scope:n.scope}).catch(s=>console.error(ld(5604,!1)))})})}function vM(n){return new Promise(e=>setTimeout(e,n))}function c4(n,e){return new ba(n.enabled!==!1?navigator.serviceWorker:void 0,e)}var Fc=class{enabled;scope;registrationStrategy};function _M(n,e={}){return Gr([s4,a4,{provide:yM,useValue:n},{provide:Fc,useValue:e},{provide:ba,useFactory:c4,deps:[Fc,Ct]},Jg(l4)])}var bM={providers:[SE({eventCoalescing:!0}),Uv(gM,$v()),gv(),bt,_M("ngsw-worker.js",{enabled:!xE(),registrationStrategy:"registerWhenStable:30000"}),{provide:Yn,useValue:document.getElementsByTagName("base")[0].href}]};var u4=["searchBox"];function d4(n,e){if(n&1&&(m(0,"option",21),C(1),g()),n&2){let t=e.$implicit,r=e.index,i=D(2);b("value",r)("selected",r==i.selectedUserIndex),_(),Fe(t[0])}}function f4(n,e){if(n&1&&L(0,"img",22),n&2){let t=D(2);b("src",t.userProfilePicture,Rt)("title",(t.user==null?null:t.user.email)+"/"+(t.user==null?null:t.user.userGroup))}}function h4(n,e){if(n&1){let t=ne();m(0,"div",16)(1,"select",17),M("change",function(i){F(t);let o=D();return P(o.changeCurrentUser(i))}),$(2,d4,2,3,"option",18),g(),m(3,"app-bean-item",19)(4,"mat-icon"),C(5,"person_pin"),g(),$(6,f4,1,2,"img",20),g()()}if(n&2){let t=D();_(2),b("ngForOf",t.recentLogins),_(4),b("ngIf",t.userProfilePicture)}}function p4(n,e){if(n&1&&(m(0,"option",25),C(1),g()),n&2){let t=e.$implicit;b("value",t),_(),Fe(t)}}function m4(n,e){if(n&1&&(m(0,"optgroup",23),$(1,p4,2,2,"option",24),g()),n&2){let t=e.$implicit,r=D();b("label",t),_(),b("ngForOf",r.availableThemes[t])}}var Bh=class n{constructor(e,t,r,i,o,s){this.router=e;this.toaster=t;this.todoService=r;this.sortService=i;this.userService=o;this.connectionService=s;let a=localStorage.lastQueryParams;a&&(this.lastQueryParams=JSON.parse(a),this.lastQueryParams&&setTimeout(()=>{this.searchBox.nativeElement.value=this.reconstructParams(this.lastQueryParams),this.lastQueryParams=null},200)),window.innerWidth>400&&this.router.events.pipe(et(l=>l instanceof yn)).subscribe(l=>{setTimeout(()=>{this.searchBox.nativeElement.focus()},100)}),s.connected$.subscribe(l=>{l?this.online=!0:this.online=!1}),o.loggedInUser$.subscribe(l=>{this.user=l,this.user.profilePicture?this.user.profilePicture.startsWith("/item/doc/")?this.connectionService.getUrlWithToken(this.user.profilePicture).then(d=>this.userProfilePicture=d):this.userProfilePicture=this.user.profilePicture:this.userProfilePicture=null;let c=localStorage.recentLogins;(!c||c=="null")&&(c=`{"${ye.userGroup}/${ye.email}":${JSON.stringify(ye)}}`),c=JSON.parse(c),this.recentLogins=Object.entries(c),this.lastUserLoginArrSize!=this.recentLogins.length&&(this.selectedUserIndex=this.recentLogins.length-1);let u=0;for(let d of this.recentLogins){if(d[0]==l?.userGroup+"/"+l?.email){this.selectedUserIndex=u,d[1].preferences?this.changeTheme(d[1].preferences.theme):this.changeTheme("random");break}u++}this.lastUserLoginArrSize=this.recentLogins.length})}accessToken=null;searchBox;lastQueryParams=null;online=!1;menuHidden=!0;user=null;recentLogins={};selectedUserIndex=0;lastUserLoginArrSize=0;userProfilePicture=null;currentTheme="";availableThemes={"classic-professional":["white","minimal","academic","normal","newspaper"],"vibrant-nature":["zen","sunny","lime","tropical"],"cool-tones":["nord"],"minimal-dark":["dark","compact"],"developer-palettes":["tokyo-night","dracula","one-dark-pro","monokai-pro"],"retro-futuristic":["synthwave-84","hacker","neon"],background:["GameOfLife","JuliaSet","JuliaSet0_7885","Arkanoid","MandelBrotSet","LineGrid","Checkered","plain"],random:["random"]};reconstructParams(e){if(!e||!e.queryParams)return"";let t=e.queryParams,r=[],i=t.q||"";t.lim!=null&&r.push(`!LIM:${t.lim};`);let o="";if(t.ord&&Array.isArray(t.ord)&&t.ord.length>0){let s=["asc","desc","lat","old"],a="",l=[];if(!(t.ord.length===1&&t.ord[0]==="asc")){for(let u=0;u<t.ord.length;u++){let d=t.ord[u];s.includes(d)?(a&&(o+=`!${a.toUpperCase()}:${l.join(",")};`),a=d,l=[]):l.push(d)}a&&(o+=`!${a.toUpperCase()}:${l.join(",")};`),o&&r.push(o)}}return t.abs===!1&&r.push("!ALL:"),t.has&&Array.isArray(t.has)&&t.has.length>0&&r.push(`!F:${t.has.join(" ")}`),t.tag&&Array.isArray(t.tag)&&t.tag.length>0&&r.push(`!T:${t.tag.join(",")}`),r.push(i),r.join("")}ngAfterViewInit(){this.searchBox.nativeElement.focus()}onKeyDown(e){e.target instanceof HTMLInputElement&&e.key==="Enter"&&this.searchItems(e)}searchItems(e){let t=e.target.value;if(t.trim()===""){this.router.navigate([]);return}let r=[],i=[""],o=!1,s=null,a=[],l=d=>{if(d.startsWith("!"))return;let p=d?.substring(0,d?.indexOf(";"))?.split(",").map(f=>f.trim());p?.map(f=>f.trim()).filter(f=>f!=""),a.push(...p),t=i[1].substring(i[1]?.indexOf(";")+1)};if(i=t.split("!LIM:"),i.length==2){let d=i[1].substring(0,i[1].indexOf(";"));s=Number.parseInt(d),t=i[1].substring(i[1].indexOf(";")+1)}i=t.split("!ASC:"),i.length==2?(a.push("asc"),l(i[1])):(i=t.split("!DESC:"),i.length==2?(a.push("desc"),l(i[1])):a.push("asc")),i=t.split("!LAT:"),i.length==2&&(a.push("lat"),l(i[1])),i=t.split("!OLD:"),i.length==2&&(a.push("old"),l(i[1])),o=!t.startsWith("!ALL:"),o||(t=t.split("!ALL:")[1]),i=t.split("!F:");let c=[];i.length==2&&(t=i[0],c=i[1].split(" ")),i=t.split("!T:"),i.length==2&&(t=i[0],r=i[1].split(","),r=r.map(d=>d.trim())),a=a.filter(d=>d!="");let u={queryParams:{lim:s,ord:a,abs:o,q:t.trim(),tag:r,has:c}};this.lastQueryParams=u,localStorage.lastQueryParams=JSON.stringify(this.lastQueryParams),this.router.navigate([],u)}syncNotes(){if(this.toaster.info("Downloading notes..."),this.todoService.fromBin=!1,this.lastQueryParams){let{lim:e,ord:t,abs:r,q:i,tags:o,has:s}=this.lastQueryParams?.queryParams;this.todoService.searchTodos(i,o,s,r).subscribe(a=>{this.sortService.sortItems(t,a,e).subscribe(l=>{this.save(l)})})}else this.todoService.getAll().subscribe(e=>{this.save(e)})}save(e){this.toaster.info("Merging "+e.length+" items"),this.todoService.downloadTodoItemsAsJson(e)}uploadNotes(){this.todoService.fromBin=!1;let e=document.createElement("input");e.type="file",e.accept=".json",e.onchange=t=>{let r=t.target.files[0],i=new FileReader;i.readAsText(r),i.onload=o=>{let s=o.target.result;s&&this.todoService.deserializeManyFromJson(s.toString()).subscribe(a=>{this.todoService.addMany(a)})}},e.click()}toggleBackendConnection(){this.online?(this.online=!1,this.userService.softLogoutUser()):(this.online=!0,this.userService.loginUser())}changeCurrentUser(e){let r=e.target?.value||this.recentLogins.length-1,i=this.recentLogins[r][1];this.selectedUserIndex=r,this.userService.loggedInUser.next(i)}changeTheme(e){if(e==="random"){let t=Object.values(this.availableThemes).flat().filter(i=>i!=="random"&&!this.availableThemes.background.includes(i)),r=Math.floor(Math.random()*t.length);e=t[r]}document.documentElement.setAttribute("data-theme",e)}updateTheme(e){let t=e.target,r=t.value;if(this.availableThemes.background.includes(r)){localStorage.background=r,t.selectedIndex=0;return}document.startViewTransition?document.startViewTransition(()=>{this.changeTheme(r)}):this.changeTheme(r);let i=this.userService.loggedInUser.value;i.preferences?i.preferences.theme=r:i.preferences={theme:r};let o=localStorage.recentLogins,s={};if(o&&o!="null"&&(s=JSON.parse(o)),o&&s)s[i.userGroup+"/"+i.email]=i;else{let a=`${ye.userGroup}/${ye.email}`;s={key:{email:ye.email,userGroup:ye.userGroup,preferences:{theme:r}}}}localStorage.recentLogins=JSON.stringify(s),this.currentTheme=r,t.selectedIndex=0}getCategories(){return Object.keys(this.availableThemes)}static \u0275fac=function(t){return new(t||n)(I(ke),I(bt),I(Tt),I(Pi),I(ot),I(Ht))};static \u0275cmp=ae({type:n,selectors:[["app-navbar"]],viewQuery:function(t,r){if(t&1&&Me(u4,5),t&2){let i;Ce(i=Ee())&&(r.searchBox=i.first)}},hostBindings:function(t,r){t&1&&M("keydown",function(o){return r.onKeyDown(o)})},inputs:{user:"user"},decls:28,vars:7,consts:[["searchBox",""],[1,"h-full","flex","flex-row","flex-wrap-reverse","items-center","justify-end"],["href","./","tabindex","1",1,"flex","z-1","justify-end","shrink","rounded-md","order-0","icon-link","fixed","top-0","left-0","md:relative"],[1,"ml-3","mr-3"],["type","search","tabindex","0","placeholder","\u208D^. .^\u208E\u27C6",1,"grow","p-2","search-bar","rounded-2xl","outline-0","focus:ring-2","ring-inset","sm:float-end","order-0","md:order-1","text-center","w-full","md:w-auto",3,"input"],[1,"flex","flex-row","order-2","options"],[1,"m-1","transition-all","z-3","duration-1000","flex","flex-row","flex-wrap","order-2","items-center","justify-evenly","w-full","md:w-fit","md:gap-x-2",3,"ngClass"],[1,"flex",3,"ngClass"],["class","flex flex-row",4,"ngIf"],["title","toggle connection",3,"click"],["title","click to upload local backup",3,"click"],["title","click to download as a local backup",3,"click"],[1,"max-w-10","absolute","top-0","right-0","w-10","h-10","cursor-pointer","z-3",3,"change","title"],[3,"label",4,"ngFor","ngForOf"],[1,"p-3"],[1,"order-3","transition-all","shrink","mr-2",3,"click","ngClass"],[1,"flex","flex-row"],["tabindex","1",1,"rounded","p-1","m-1","max-w-30","overflow-ellipsis",3,"change"],[3,"value","selected",4,"ngFor","ngForOf"],["routerLink","/user/profile"],["class","w-10 absolute top-0 right-0",3,"src","title",4,"ngIf"],[3,"value","selected"],[1,"w-10","absolute","top-0","right-0",3,"src","title"],[3,"label"],[3,"value",4,"ngFor","ngForOf"],[3,"value"]],template:function(t,r){if(t&1){let i=ne();m(0,"nav",1)(1,"a",2)(2,"h1",3),C(3,"qtodo"),g()(),m(4,"input",4,0),M("input",function(s){return F(i),P(r.searchItems(s))}),g(),m(6,"div",5)(7,"div",6)(8,"div",7),$(9,h4,7,2,"div",8),m(10,"app-bean-item",9),M("click",function(){return F(i),P(r.toggleBackendConnection())}),m(11,"mat-icon"),C(12),g()(),m(13,"app-bean-item",10),M("click",function(){return F(i),P(r.uploadNotes())}),m(14,"mat-icon"),C(15,"cloud_upload"),g()(),m(16,"app-bean-item",11),M("click",function(){return F(i),P(r.syncNotes())}),m(17,"mat-icon"),C(18,"cloud_download"),g()(),m(19,"app-bean-item")(20,"select",12),M("change",function(s){return F(i),P(r.updateTheme(s))}),m(21,"option"),C(22,"\u{1F3A8}"),g(),$(23,m4,2,2,"optgroup",13),g(),L(24,"div",14),g()()(),m(25,"app-bean-item",15),M("click",function(){return F(i),P(r.menuHidden=!r.menuHidden)}),m(26,"mat-icon"),C(27,"menu"),g()()()()}t&2&&(_(7),b("ngClass",r.menuHidden?"opacity-0":"opacity-100"),_(),b("ngClass",r.menuHidden?"hidden":"visible"),_(),b("ngIf",r.user!=null||r.online),_(3),Fe(r.online?"cloud_done":"cloud_off"),_(8),b("title",r.currentTheme),_(3),b("ngForOf",r.getCategories()),_(2),b("ngClass",r.menuHidden?"rotate-0":"rotate-90"))},dependencies:[cn,ht,Ae,Jt,ft,Ge,Fn],styles:["nav[_ngcontent-%COMP%]{background:var(--navbar-bg-color)}.search-bar[_ngcontent-%COMP%]{background:var(--navbar-searchbox-bg-color);color:var(--navbar-searchbox-text-color);font-size:calc(var(--global-font-size) * 1.3)!important}.icon-link[_ngcontent-%COMP%]{background:var(--navbar-icon-bg-color);color:var(--navbar-icon-text-color);margin:0 5px}"]})};var Uh=class n{static \u0275fac=function(t){return new(t||n)};static \u0275cmp=ae({type:n,selectors:[["app-sidebar"]],decls:19,vars:0,consts:[[1,"h-full","sidebar","flex","md:flex-col","flex-row","items-center","justify-center","gap-x-4","gap-y-4"],["routerLink","/home"],["routerLink","/create"],["routerLink","/calendar"],["routerLink","/visualize"],["routerLink","/bin"],["routerLink","/about"]],template:function(t,r){t&1&&(m(0,"div",0)(1,"app-bean-item",1)(2,"mat-icon"),C(3,"home"),g()(),m(4,"app-bean-item",2)(5,"mat-icon"),C(6,"create"),g()(),m(7,"app-bean-item",3)(8,"mat-icon"),C(9,"date_range"),g()(),m(10,"app-bean-item",4)(11,"mat-icon"),C(12,"donut_small"),g()(),m(13,"app-bean-item",5)(14,"mat-icon"),C(15,"delete"),g()(),m(16,"app-bean-item",6)(17,"mat-icon"),C(18,"help_outline"),g()()())},dependencies:[Fn,cn,ht],styles:[".sidebar[_ngcontent-%COMP%]{background:var(--sidebar-bg-color)}"]})};var $h=class{state="NOT_RUNNING";paused=!1;config;CELL_STATE={ALIVE:5,DEAD:-1};pause(){this.paused=!0,this.state="PAUSED"}stop(){this.pause(),this.state="NOT_RUNNING"}play(){this.state="PLAYING",this.paused=!1}init(e){let t=new Array(e.BOARD_HEIGHT);this.config=e;for(let r=0;r<e.BOARD_HEIGHT;r++){let i=new Array(e.BOARD_WIDTH);for(let o=0;o<e.BOARD_WIDTH;o++)i[o]=Math.random()>e.CELL_SEED_CUTOFF?this.CELL_STATE.ALIVE:this.CELL_STATE.DEAD;t[r]=i}return t}update(e){let t=[],r=!1,i=e.length,o=e[0].length;for(let s=0;s<i;s++){let a=new Array(o);t.push(a);for(let l=0;l<o;l++){let c=e[s][l],u=this.countNeighborsToroidal(e,s,l,o,i,this.CELL_STATE.ALIVE),d=c;c==this.CELL_STATE.ALIVE?(u<2||u>3)&&(d=this.CELL_STATE.DEAD):u===3&&(d=this.CELL_STATE.ALIVE),d!==c&&(r=!0),t[s][l]=d}}return r||this.pause(),t}countNeighbors(e,t,r){let i=0;for(let o=-1;o<=1;o++)for(let s=-1;s<=1;s++){let a=t+o,l=r+s;a>=0&&a<e.length&&l>=0&&l<e[0].length&&!(o===0&&s===0)&&(i+=e[a][l]==this.CELL_STATE.ALIVE?1:0)}return i}countNeighborsToroidal(e,t,r,i,o,s){let a=0,l=(t-1+o)%o;a+=e[l][(r-1+i)%i]===s?1:0,a+=e[l][r]===s?1:0,a+=e[l][(r+1)%i]===s?1:0;let c=t;a+=e[c][(r-1+i)%i]===s?1:0,a+=e[c][(r+1)%i]===s?1:0;let u=(t+1)%o;return a+=e[u][(r-1+i)%i]===s?1:0,a+=e[u][r]===s?1:0,a+=e[u][(r+1)%i]===s?1:0,a}};var Hh=class{gameGrid=[[-1]];canvas;GAME_CONFIG={CELL_SIZE:5,BOARD_WIDTH:5,BOARD_HEIGHT:5,STROKE_COLOR:"BLACK",GAME_BACKGROUND:"#FFFF",CELL_SEED_CUTOFF:.85,FRAME_DELTA:50,GRID_LINES:!0,HOLD_FRAME:!1,CLEAR_BG_EACH_FRAME:!1,ALPHA:.5,CELL_COLOR:"RED",CELL_COLOR_A:"GREEN",CELL_COLOR_B:"BLUE",CELL_COLOR_C:"YELLOW",CELL_COLOR_D:"MAGENTA",CELL_COLOR_E:"CYAN",ALLOW_CURSOR_INTERACTION:!1,TOGGLE_ON_MOUSE_MOVE:!0,TOGGLE_PAUSE_ON_MOUSE_CLICK:!0,TOGGLE_CELL_ON_MOUSE_CLICK:!0};paused=!1;previousFrameData=null;gameInstance=null;cameraOffsetX=0;cameraOffsetY=0;tick=-1;timeLapsedSinceLastFrame=performance.now();pauseTimer=-1;constructor(e){this.canvas=e,window.addEventListener("resize",this.resizeCanvas.bind(this)),this.resizeCanvas(),e.onclick=this.toggleCell.bind(this),e.onwheel=this.handleMouseZoom.bind(this)}startGame(e){this.gameInstance&&this.gameInstance.stop(),this.gameInstance=e;let t=this.gameInstance.init(this.GAME_CONFIG);t.length==0&&(t=this.newGrid(this.GAME_CONFIG.BOARD_WIDTH,this.GAME_CONFIG.BOARD_HEIGHT)),this.gameGrid=t;let r=this.canvas.getContext("2d");r&&this.gameLoop(r)}gameLoop(e){if(requestAnimationFrame(()=>{this.gameLoop(e)}),!!this.gameInstance&&(this.GAME_CONFIG.ALLOW_CURSOR_INTERACTION?(this.canvas.classList.add("z-2"),this.canvas.classList.remove("z-0")):(this.canvas.classList.add("z-0"),this.canvas.classList.remove("z-2")),(!this.gameInstance.paused||this.GAME_CONFIG.HOLD_FRAME)&&(this.tick=performance.now()-this.timeLapsedSinceLastFrame,this.tick>=this.GAME_CONFIG.FRAME_DELTA))){let t=performance.now();if(e.globalAlpha=this.GAME_CONFIG.ALPHA,this.gameGrid&&this.gameGrid.length==this.GAME_CONFIG.BOARD_HEIGHT&&this.gameGrid[0].length==this.GAME_CONFIG.BOARD_WIDTH){let a;this.GAME_CONFIG.HOLD_FRAME?a=this.gameGrid:a=this.gameInstance.update(this.gameGrid),this.drawGrid(e,a,this.GAME_CONFIG.BOARD_WIDTH,this.GAME_CONFIG.BOARD_HEIGHT),this.gameGrid=a}else this.gameGrid=this.newGrid(this.GAME_CONFIG.BOARD_WIDTH,this.GAME_CONFIG.BOARD_HEIGHT);let o=1e3/(performance.now()-t),s=`FPSL: ${Math.round(o)} tick: ${Math.round(this.tick)}`;this.tick=0,this.timeLapsedSinceLastFrame=performance.now()}}drawGrid(e,t,r,i){let o=this.generateFrame(e,t,r,i);e.putImageData(o,0,0)}generateFrame(e,t,r,i){let o=this.getInPx(r),s=this.getInPx(i),a,l,c=1-this.GAME_CONFIG.ALPHA,[u,d,p]=this.hexToRgb(this.GAME_CONFIG.GAME_BACKGROUND),[f,h,v]=this.hexToRgb(this.GAME_CONFIG.STROKE_COLOR);if(this.previousFrameData&&this.previousFrameData.length===o*s*4&&!this.GAME_CONFIG.CLEAR_BG_EACH_FRAME){a=new ImageData(this.previousFrameData.slice(),o,s),l=a.data;for(let y=0;y<l.length;y+=4)l[y+3]*=c}else{a=e.createImageData(o,s),l=a.data;for(let y=0;y<l.length;y+=4)l[y]=u,l[y+1]=d,l[y+2]=p,l[y+3]=255}if(this.GAME_CONFIG.GRID_LINES){for(let y=0;y<o;y++)for(let x=0;x<s;x++)if(x%this.GAME_CONFIG.CELL_SIZE===0||y%this.GAME_CONFIG.CELL_SIZE===0){let U=(x*o+y)*4;l[U]=f,l[U+1]=h,l[U+2]=v,l[U+3]=255}}for(let y=0;y<this.GAME_CONFIG.BOARD_HEIGHT;y++)for(let x=0;x<this.GAME_CONFIG.BOARD_WIDTH;x++){let U=t[y][x],[j,S,H]=this.getColorForCell(U);if(j!==-1||S!==-1||H!==-1){let q=this.getInPx(y),Q=q+this.getInPx(1),Se=this.getInPx(x),me=Se+this.getInPx(1);for(let Ue=q;Ue<Q&&Ue<s;Ue++)for(let Ze=Se;Ze<me&&Ze<o;Ze++){if(this.GAME_CONFIG.GRID_LINES&&(Ue%this.GAME_CONFIG.CELL_SIZE===0||Ze%this.GAME_CONFIG.CELL_SIZE===0))continue;let $e=(Ue*o+Ze)*4;l[$e]=j,l[$e+1]=S,l[$e+2]=H,l[$e+3]=255}}}return this.previousFrameData=l.slice(),a}getColorForCell(e){switch(e){case-1:return this.hexToRgb(this.GAME_CONFIG.GAME_BACKGROUND);case 0:return this.hexToRgb(this.GAME_CONFIG.CELL_COLOR);case 1:return this.hexToRgb(this.GAME_CONFIG.CELL_COLOR_A);case 2:return this.hexToRgb(this.GAME_CONFIG.CELL_COLOR_B);case 3:return this.hexToRgb(this.GAME_CONFIG.CELL_COLOR_C);case 4:return this.hexToRgb(this.GAME_CONFIG.CELL_COLOR_D);case 5:return this.hexToRgb(this.GAME_CONFIG.CELL_COLOR_E);default:return[-1,-1,-1]}}hexToRgb(e){let t=e.replace(/^#/,"");t.length===3&&(t=t.split("").map(s=>s+s).join(""));let r=parseInt(t.substring(0,2),16),i=parseInt(t.substring(2,4),16),o=parseInt(t.substring(4,6),16);return[r,i,o]}newGrid(e,t){let r=[];for(let i=0;i<t;i++){let o=new Array(e);for(let s=0;s<e;s++)o[s]=0;r.push(o)}return r}toggleCell(e){if(!this.GAME_CONFIG.ALLOW_CURSOR_INTERACTION||(this.GAME_CONFIG.TOGGLE_PAUSE_ON_MOUSE_CLICK&&(this.gameInstance?.paused?this.gameInstance.play():this.gameInstance?.pause()),!this.GAME_CONFIG.TOGGLE_CELL_ON_MOUSE_CLICK))return;let t=this.canvas.getBoundingClientRect(),r=e.clientX-t.left,i=e.clientY-t.top,o=this.getInCell(r),s=this.getInCell(i);if(s<0||o<0||s>=this.GAME_CONFIG.BOARD_HEIGHT||o>=this.GAME_CONFIG.BOARD_WIDTH)return;let a=this.gameGrid,l=a[s][o];a[s][o]=5-l,l<-1&&(a[s][o]=5);let c=5,u=0,d=-1;l==c?a[s][o]=d:l>d&&l<c?a[s][o]=l+1:l==d?a[s][o]=c:a[s][o]=d,this.gameGrid=a,this.pauseForDuration(2500)}getInPx(e){return e*this.GAME_CONFIG.CELL_SIZE}getInCell(e){return Math.floor(e/this.GAME_CONFIG.CELL_SIZE)}resizeCanvas(){let e=this.canvas.getBoundingClientRect(),t=e.width,r=e.height;this.canvas.width=t,this.canvas.height=r,this.canvas.style.width=t+"px",this.canvas.style.height=r+"px",this.GAME_CONFIG.BOARD_WIDTH=this.getInCell(t),this.GAME_CONFIG.BOARD_HEIGHT=this.getInCell(r),this.GAME_CONFIG.HOLD_FRAME&&this.gameInstance&&this.startGame(this.gameInstance)}handleMouseZoom(e){if(!this.GAME_CONFIG.ALLOW_CURSOR_INTERACTION)return;e.preventDefault();let t=this.GAME_CONFIG.CELL_SIZE,r=t;if(e.deltaY<0?r=Math.min(t+1,50):e.deltaY>0&&(r=Math.max(t-1,1)),r===t)return;let i=this.canvas.getBoundingClientRect(),o=e.clientX-i.left,s=e.clientY-i.top,a=o-this.cameraOffsetX,l=s-this.cameraOffsetY,c=r/t;this.GAME_CONFIG.CELL_SIZE=r,this.cameraOffsetX=o-a*c,this.cameraOffsetY=s-l*c}pauseForDuration(e=1e4){this.gameInstance&&(this.gameInstance.pause(),this.GAME_CONFIG.HOLD_FRAME=!0,clearTimeout(this.pauseTimer),this.pauseTimer=setTimeout(()=>{this.gameInstance?.play(),this.GAME_CONFIG.HOLD_FRAME=!1},e))}};var zh=class{state="NOT_PLAYING";paused=!1;init(e){let t=[];for(let r=0;r<e.BOARD_HEIGHT;r++){t[r]=[];for(let i=0;i<e.BOARD_WIDTH;i++)t[r][i]=(i+r)%2==0?0:-1}return e.HOLD_FRAME=!0,t}pause(){this.paused=!0,this.state="PAUSED"}play(){this.paused=!1,this.state="PLAYING"}stop(){this.state="NOT_PLAYING"}update(e){return e}};var Gh=class{state="NOT_PLAYING";paused=!1;config;init(e){this.config=e;let t=[];for(let r=0;r<e.BOARD_HEIGHT;r++){t[r]=[];for(let i=0;i<e.BOARD_WIDTH;i++)t[r][i]=-5}return e.HOLD_FRAME=!0,e.GRID_LINES=!0,t}pause(){this.paused=!0,this.state="PAUSED"}play(){this.paused=!1,this.state="PLAYING"}stop(){this.state="NOT_PLAYING"}update(e){return e}};var qh=class{state="NOT_PLAYING";paused=!1;config;maxIterations=100;init1(e){let t=new Array(e.BOARD_HEIGHT);for(let r=0;r<e.BOARD_HEIGHT;r++){let i=new Array(e.BOARD_WIDTH);for(let o=0;o<e.BOARD_WIDTH;o++){let s=r,a=o,l=s,c=a,u=0;for(u=0;u<this.maxIterations;u++){let p=s*s-a*a,f=2*s*a;if(s=p+l,a=f+c,s*s+a*a>16)break}let d=-5;d=Math.floor(u/this.maxIterations*5),u==this.maxIterations&&(d=-1),i[o]=d}t[r]=i}return this.config=e,e.HOLD_FRAME=!0,t}init(e){this.config=e,e.HOLD_FRAME=!0;let{BOARD_WIDTH:t,BOARD_HEIGHT:r}=e,i=r/t,o=-2.5,a=1-o,l=a*i,u=-(l/2),d=a/t,p=l/r,f=new Array(r);for(let h=0;h<t;h++){let v=new Array(t),y=u+h*p;for(let x=0;x<t;x++){let U=o+x*d,j=0,S=0,H=0;for(H=0;H<this.maxIterations;H++){let Q=j*j,Se=S*S,me=2*j*S;if(Q+Se>4)break;j=Q-Se+U,S=me+y}let q;H===this.maxIterations?q=-1:q=H%5,v[x]=q}f[h]=v}return console.log(f),f}pause(){this.paused=!0,this.state="PAUSED"}play(){this.paused=!1,this.state="PLAYING"}stop(){this.state="NOT_PLAYING"}update(e){return e}};var Wh=class{state="NOT_PLAYING";paused=!1;config;maxIterations=100;JULIA_CA_BASE=-.75;JULIA_CB_BASE=0;ANIMATION_RADIUS=.3;ANIMATION_SPEED=0;CYCLE_TIME_MS=1e4;frame=0;init(e){this.config=e,this.ANIMATION_SPEED=2*Math.PI/this.CYCLE_TIME_MS*e.FRAME_DELTA,e.HOLD_FRAME=!1,e.TOGGLE_PAUSE_ON_MOUSE_CLICK=!0,e.TOGGLE_CELL_ON_MOUSE_CLICK=!1,e.FRAME_DELTA=10;let t=this.JULIA_CA_BASE+this.ANIMATION_RADIUS*Math.cos(0),r=this.JULIA_CB_BASE+this.ANIMATION_RADIUS*Math.sin(0);return this.generateSetFor(t,r,e.BOARD_WIDTH,e.BOARD_HEIGHT)}generateSetFor(e,t,r,i){let c=3.6*(i/r),u=c/2,d=-u,p=3.6/r,f=c/i,h=new Array(i);for(let v=0;v<i;v++){let y=new Array(r),x=u-v*f;for(let U=0;U<r;U++){let S=-1.8+U*p,H=x,q=e,Q=t,Se=0;for(Se=0;Se<this.maxIterations;Se++){let Ue=S*S,Ze=H*H,$e=2*S*H;if(Ue+Ze>4)break;S=Ue-Ze+q,H=$e+Q}let me;Se===this.maxIterations?me=-1:me=Se%5,y[U]=me}h[v]=y}return h}pause(){this.paused=!0,this.state="PAUSED"}play(){this.paused=!1,this.state="PLAYING"}stop(){this.pause(),this.state="NOT_PLAYING"}update(e){this.frame+=this.ANIMATION_SPEED,this.frame>=2*Math.PI&&(this.frame-=2*Math.PI);let t=this.JULIA_CA_BASE+this.ANIMATION_RADIUS*Math.cos(this.frame),r=this.JULIA_CB_BASE+this.ANIMATION_RADIUS*Math.sin(this.frame);return this.generateSetFor(t,r,this.config.BOARD_WIDTH,this.config.BOARD_HEIGHT)}};var Zh=class{state="NOT_PLAYING";paused=!1;config;maxIterations=100;frame=0;JULIA_R=.7885;CYCLE_TIME_MS=1e4;ANIMATION_SPEED=0;generateSetFor(e,t,r){let{BOARD_WIDTH:i,BOARD_HEIGHT:o}=r,s=-1.8,l=1.8-s,c=o/i,u=l*c,d=u/2,p=-d,f=l/i,h=u/o,v=new Array(o);for(let y=0;y<o;y++){let x=new Array(i),U=d-y*h;for(let j=0;j<i;j++){let H=s+j*f,q=U,Q=e,Se=t,me=0;for(me=0;me<this.maxIterations;me++){let Ze=H*H,$e=q*q,Pn=2*H*q;if(Ze+$e>4)break;H=Ze-$e+Q,q=Pn+Se}let Ue;me===this.maxIterations?Ue=-1:Ue=me%5,x[j]=Ue}v[y]=x}return v}init(e){this.config=e,e.HOLD_FRAME=!1,e.TOGGLE_PAUSE_ON_MOUSE_CLICK=!0,e.TOGGLE_CELL_ON_MOUSE_CLICK=!1,e.FRAME_DELTA=10,this.ANIMATION_SPEED=2*Math.PI/this.CYCLE_TIME_MS*e.FRAME_DELTA,this.frame=0;let t=this.JULIA_R*Math.cos(this.frame),r=this.JULIA_R*Math.sin(this.frame);return this.generateSetFor(t,r,e)}update(e){if(this.paused)return e;this.frame+=this.ANIMATION_SPEED,this.frame>=2*Math.PI&&(this.frame-=2*Math.PI);let t=this.JULIA_R*Math.cos(this.frame),r=this.JULIA_R*Math.sin(this.frame);return this.generateSetFor(t,r,this.config)}pause(){this.paused=!0,this.state="PAUSED"}play(){this.paused=!1,this.state="PLAYING"}stop(){this.state="NOT_PLAYING"}};var Yh=class{state="NOT_RUNNING";paused=!1;config;CELL={EMPTY:-1,BRICK_1:2,BRICK_2:3,BRICK_3:4,BALL:0,PADDLE:7};ballX=0;ballY=0;ballDX=1;ballDY=-1;ballSize=2;paddleX=0;paddleY=0;paddleWidth=8;paddleHeight=2;paddleDX=1;brickWidth=6;brickHeight=2;brickGap=1;bricks=[];pause(){this.paused=!0,this.state="PAUSED"}stop(){this.pause(),this.state="NOT_RUNNING"}play(){this.state="PLAYING",this.paused=!1}init(e){this.config=e,this.state="PLAYING";let t=e.BOARD_WIDTH,r=e.BOARD_HEIGHT,i=5,o=Math.floor(t/(this.brickWidth+this.brickGap)),s=Math.min(i,Math.floor(r/6));this.bricks=[];for(let a=0;a<s;a++){let l=[];for(let c=0;c<o;c++){let u=Math.floor(Math.random()*3)+this.CELL.BRICK_1;l.push(u)}this.bricks.push(l)}return this.paddleY=e.BOARD_HEIGHT-this.paddleHeight-1,this.paddleX=Math.floor(e.BOARD_WIDTH/2-this.paddleWidth/2),this.paddleDX=1,this.ballX=this.paddleX+Math.floor(this.paddleWidth/2)-2,this.ballY=this.paddleY-this.ballSize,this.ballDX=1,this.ballDY=-1,this.makeGrid()}makeGrid(){let e=this.config.BOARD_WIDTH,t=this.config.BOARD_HEIGHT,r=Array.from({length:t},()=>Array(e).fill(this.CELL.EMPTY));for(let i=0;i<this.bricks.length;i++)for(let o=0;o<this.bricks[i].length;o++){let s=this.bricks[i][o];if(s<=0)continue;let a=i*(this.brickHeight+this.brickGap)+2,l=o*(this.brickWidth+this.brickGap);for(let c=0;c<this.brickHeight;c++)for(let u=0;u<this.brickWidth;u++){let d=l+u,p=a+c;d<e&&p<t&&(r[p][d]=s)}}for(let i=0;i<this.paddleHeight;i++)for(let o=0;o<this.paddleWidth;o++){let s=this.paddleX+o,a=this.paddleY+i;s>=0&&s<e&&a>=0&&a<t&&(r[a][s]=this.CELL.PADDLE)}for(let i=0;i<this.ballSize;i++)for(let o=0;o<this.ballSize;o++){let s=this.ballX+o,a=this.ballY+i;s>=0&&s<e&&a>=0&&a<t&&(r[a][s]=this.CELL.BALL)}return r}update(e){if(this.paused||this.state!=="PLAYING")return this.makeGrid();let t=this.config.BOARD_WIDTH,r=this.config.BOARD_HEIGHT,i=this.ballX+this.ballDX,o=this.ballY+this.ballDY;(i<0||i+this.ballSize>t)&&(this.ballDX*=-1,i=this.ballX+this.ballDX),o<0&&(this.ballDY*=-1,o=this.ballY+this.ballDY);let s=this.paddleY,a=this.paddleY+this.paddleHeight,l=this.paddleX,c=this.paddleX+this.paddleWidth,u=o+this.ballSize,d=i+this.ballSize;if(u>=s&&o<=a&&d>=l&&i<=c){this.ballDY=-Math.abs(this.ballDY);let v=i+this.ballSize/2-(l+this.paddleWidth/2);this.ballDX=v<0?-1:1,o=this.paddleY-this.ballSize-1}let f=this.bricks.length;for(let v=0;v<f;v++)for(let y=0;y<this.bricks[v].length;y++){if(this.bricks[v][y]<=0)continue;let x=y*(this.brickWidth+this.brickGap),U=v*(this.brickHeight+this.brickGap)+2,j=i<x+this.brickWidth&&i+this.ballSize>x,S=o<U+this.brickHeight&&o+this.ballSize>U;j&&S&&(this.bricks[v][y]=0,this.ballDY*=-1,o=this.ballY+this.ballDY)}o+this.ballSize>=r&&(this.ballDY=-1,o=r-this.ballSize-1),this.ballX=Math.max(0,Math.min(t-this.ballSize,i)),this.ballY=Math.max(0,Math.min(r-this.ballSize,o));let h=this.paddleX+this.paddleDX;return(h+this.paddleWidth>t||h<0)&&(this.paddleDX*=-1,h=this.paddleX+this.paddleDX),this.paddleX=Math.max(0,Math.min(t-this.paddleWidth,h)),this.makeGrid()}};var g4=["backgroundCanvas"],Jh=class n{constructor(e){this.router=e}title="angular-todo";backgroundCanvasEle;gameBoard=null;currentGameInstanceName="";onKeyDown(e){let t=e.target;t.id!=="editor-subject-input"&&t.id!=="editor-description-input"&&(e.key==="["&&e.ctrlKey?(e.preventDefault(),this.router.navigate(["/create"])):e.key==="]"&&e.ctrlKey?(e.preventDefault(),this.router.navigate(["/home"])):e.key==="l"&&e.altKey&&this.gameBoard&&(this.gameBoard.GAME_CONFIG.ALLOW_CURSOR_INTERACTION=!this.gameBoard.GAME_CONFIG.ALLOW_CURSOR_INTERACTION))}ngAfterViewInit(){let e=localStorage.background;this.currentGameInstanceName=e;let t=this.backgroundCanvasEle.nativeElement;this.gameBoard=new Hh(t);let r=this.getGameInstance(e);r&&(this.themeGames(this.gameBoard),this.gameBoard.startGame(r),setInterval(()=>{this.gameBoard?.GAME_CONFIG.ALLOW_CURSOR_INTERACTION||this.themeGames(this.gameBoard)},500))}getGameInstance(e){switch(e){case"GameOfLife":return new $h;case"JuliaSet":return new Wh;case"JuliaSet0_7885":return new Zh;case"MandelBrotSet":return new qh;case"Arkanoid":return new Yh;case"LineGrid":return new Gh;case"Checkered":return new zh;default:return null}}themeGames(e){if(!e)return;let t=getComputedStyle(document.documentElement),r=t.getPropertyValue("--game-background"),i=t.getPropertyValue("--game-stroke-color"),o=t.getPropertyValue("--game-cell-seed-cutoff"),s=t.getPropertyValue("--game-cell-size"),a=t.getPropertyValue("--game-cell-color"),l=t.getPropertyValue("--game-frame-delta"),c=t.getPropertyPriority("--game-frame-clear-every"),u=t.getPropertyPriority("--game-draw-grid-lines"),d=t.getPropertyValue("--game-cell-color-a"),p=t.getPropertyValue("--game-cell-color-b"),f=t.getPropertyValue("--game-cell-color-c"),h=t.getPropertyValue("--game-cell-color-d"),v=t.getPropertyValue("--game-cell-color-e");e.GAME_CONFIG.CELL_COLOR=a,e.GAME_CONFIG.CELL_SEED_CUTOFF=Number.parseFloat(o);let y=e.GAME_CONFIG.CELL_SIZE;e.GAME_CONFIG.CELL_SIZE=Number.parseFloat(s),y!=e.GAME_CONFIG.CELL_SIZE&&e.resizeCanvas(),e.GAME_CONFIG.FRAME_DELTA=Number.parseFloat(l),e.GAME_CONFIG.GAME_BACKGROUND=r,e.GAME_CONFIG.STROKE_COLOR=i,e.GAME_CONFIG.GRID_LINES=u==="Y",e.GAME_CONFIG.CELL_COLOR_A=d,e.GAME_CONFIG.CELL_COLOR_B=p,e.GAME_CONFIG.CELL_COLOR_C=f,e.GAME_CONFIG.CELL_COLOR_D=h,e.GAME_CONFIG.CELL_COLOR_E=v;let x=Number.parseInt(c)*Number.parseFloat(l),U=localStorage.background;if(U!=this.currentGameInstanceName){let j=this.getGameInstance(U);j&&(this.gameBoard?.startGame(j),this.currentGameInstanceName=U)}}static \u0275fac=function(t){return new(t||n)(I(ke))};static \u0275cmp=ae({type:n,selectors:[["app-root"]],viewQuery:function(t,r){if(t&1&&Me(g4,5),t&2){let i;Ce(i=Ee())&&(r.backgroundCanvasEle=i.first)}},hostBindings:function(t,r){t&1&&M("keydown",function(o){return r.onKeyDown(o)})},decls:11,vars:7,consts:[["backgroundCanvas",""],[1,"flex","flex-col","h-full","overflow-clip"],[1,"flex","flex-col","sm:flex-row","h-full","min-h-full"],[1,"flex-1/12","md:max-w-20"],[1,"flex-11/12","relative","h-full","page","overflow-hidden","pb-10"],[1,"relative","h-full","w-full","z-1"],[1,"absolute","top-0","left-0","w-full","h-full"],[3,"position","transition","autoClose","newestOnTop","autoCloseError","iconLibrary","preventDuplicates"]],template:function(t,r){t&1&&(m(0,"div",1),L(1,"app-navbar"),m(2,"div",2)(3,"div",3),L(4,"app-sidebar"),g(),m(5,"div",4)(6,"div",5),L(7,"router-outlet"),g(),L(8,"canvas",6,0),g()()(),L(10,"lib-toastify-toast-container",7)),t&2&&(_(10),b("position","bottom-right")("transition","flip")("autoClose",3e3)("newestOnTop",!0)("autoCloseError",5e3)("iconLibrary","material")("preventDuplicates",!0))},dependencies:[Nl,Bh,Uh,uS,cS,ya],styles:[".page[_ngcontent-%COMP%]{background:var(--page-bg-color)}"]})};hv(Jh,bM).catch(n=>console.error(n));
